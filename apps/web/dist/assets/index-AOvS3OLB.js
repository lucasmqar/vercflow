var Gg=e=>{throw TypeError(e)};var dd=(e,t,n)=>t.has(e)||Gg("Cannot "+n);var ne=(e,t,n)=>(dd(e,t,"read from private field"),n?n.call(e):t.get(e)),Te=(e,t,n)=>t.has(e)?Gg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(dd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(dd(e,t,"access private method"),n);var dl=(e,t,n,r)=>({set _(i){we(e,t,i,n)},get _(){return ne(e,t,r)}});function Z2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const u=Object.getOwnPropertyDescriptor(r,i);u&&Object.defineProperty(e,i,u.get?u:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ej(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Q0={exports:{}},fu={},J0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),tj=Symbol.for("react.portal"),nj=Symbol.for("react.fragment"),rj=Symbol.for("react.strict_mode"),ij=Symbol.for("react.profiler"),sj=Symbol.for("react.provider"),oj=Symbol.for("react.context"),aj=Symbol.for("react.forward_ref"),lj=Symbol.for("react.suspense"),cj=Symbol.for("react.memo"),uj=Symbol.for("react.lazy"),Kg=Symbol.iterator;function dj(e){return e===null||typeof e!="object"?null:(e=Kg&&e[Kg]||e["@@iterator"],typeof e=="function"?e:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ew=Object.assign,tw={};function lo(e,t,n){this.props=e,this.context=t,this.refs=tw,this.updater=n||Z0}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nw(){}nw.prototype=lo.prototype;function mp(e,t,n){this.props=e,this.context=t,this.refs=tw,this.updater=n||Z0}var gp=mp.prototype=new nw;gp.constructor=mp;ew(gp,lo.prototype);gp.isPureReactComponent=!0;var qg=Array.isArray,rw=Object.prototype.hasOwnProperty,vp={current:null},iw={key:!0,ref:!0,__self:!0,__source:!0};function sw(e,t,n){var r,i={},u=null,m=null;if(t!=null)for(r in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(u=""+t.key),t)rw.call(t,r)&&!iw.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Va,type:e,key:u,ref:m,props:i,_owner:vp.current}}function fj(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function hj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qg=/\/+/g;function fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hj(""+e.key):t.toString(36)}function Hl(e,t,n,r,i){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(u){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case Va:case tj:m=!0}}if(m)return m=e,i=i(m),e=r===""?"."+fd(m,0):r,qg(i)?(n="",e!=null&&(n=e.replace(Qg,"$&/")+"/"),Hl(i,t,n,"",function(l){return l})):i!=null&&(yp(i)&&(i=fj(i,n+(!i.key||m&&m.key===i.key?"":(""+i.key).replace(Qg,"$&/")+"/")+e)),t.push(i)),1;if(m=0,r=r===""?".":r+":",qg(e))for(var o=0;o<e.length;o++){u=e[o];var s=r+fd(u,o);m+=Hl(u,t,n,s,i)}else if(s=dj(e),typeof s=="function")for(e=s.call(e),o=0;!(u=e.next()).done;)u=u.value,s=r+fd(u,o++),m+=Hl(u,t,n,s,i);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function fl(e,t,n){if(e==null)return e;var r=[],i=0;return Hl(e,r,"","",function(u){return t.call(n,u,i++)}),r}function pj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},Yl={transition:null},mj={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:vp};function ow(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:fl,forEach:function(e,t,n){fl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fl(e,function(){t++}),t},toArray:function(e){return fl(e,function(t){return t})||[]},only:function(e){if(!yp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=lo;Se.Fragment=nj;Se.Profiler=ij;Se.PureComponent=mp;Se.StrictMode=rj;Se.Suspense=lj;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mj;Se.act=ow;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ew({},e.props),i=e.key,u=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,m=vp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(s in t)rw.call(t,s)&&!iw.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&o!==void 0?o[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){o=Array(s);for(var l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:Va,type:e.type,key:i,ref:u,props:r,_owner:m}};Se.createContext=function(e){return e={$$typeof:oj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sj,_context:e},e.Consumer=e};Se.createElement=sw;Se.createFactory=function(e){var t=sw.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:aj,render:e}};Se.isValidElement=yp;Se.lazy=function(e){return{$$typeof:uj,_payload:{_status:-1,_result:e},_init:pj}};Se.memo=function(e,t){return{$$typeof:cj,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}};Se.unstable_act=ow;Se.useCallback=function(e,t){return Pt.current.useCallback(e,t)};Se.useContext=function(e){return Pt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Pt.current.useEffect(e,t)};Se.useId=function(){return Pt.current.useId()};Se.useImperativeHandle=function(e,t,n){return Pt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Pt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Pt.current.useReducer(e,t,n)};Se.useRef=function(e){return Pt.current.useRef(e)};Se.useState=function(e){return Pt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Pt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Pt.current.useTransition()};Se.version="18.3.1";J0.exports=Se;var C=J0.exports;const le=q0(C),Hi=Z2({__proto__:null,default:le},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj=C,vj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),xj=Object.prototype.hasOwnProperty,wj=gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bj={key:!0,ref:!0,__self:!0,__source:!0};function aw(e,t,n){var r,i={},u=null,m=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(m=t.ref);for(r in t)xj.call(t,r)&&!bj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vj,type:e,key:u,ref:m,props:i,_owner:wj.current}}fu.Fragment=yj;fu.jsx=aw;fu.jsxs=aw;Q0.exports=fu;var y=Q0.exports,lw={exports:{}},Xt={},cw={exports:{}},uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,E){var j=D.length;D.push(E);e:for(;0<j;){var k=j-1>>>1,O=D[k];if(0<i(O,E))D[k]=E,D[j]=O,j=k;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var E=D[0],j=D.pop();if(j!==E){D[0]=j;e:for(var k=0,O=D.length,U=O>>>1;k<U;){var R=2*(k+1)-1,N=D[R],F=R+1,I=D[F];if(0>i(N,j))F<O&&0>i(I,N)?(D[k]=I,D[F]=j,k=F):(D[k]=N,D[R]=j,k=R);else if(F<O&&0>i(I,j))D[k]=I,D[F]=j,k=F;else break e}}return E}function i(D,E){var j=D.sortIndex-E.sortIndex;return j!==0?j:D.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var m=Date,o=m.now();e.unstable_now=function(){return m.now()-o}}var s=[],l=[],f=1,a=null,c=3,d=!1,p=!1,g=!1,h=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var E=n(l);E!==null;){if(E.callback===null)r(l);else if(E.startTime<=D)r(l),E.sortIndex=E.expirationTime,t(s,E);else break;E=n(l)}}function b(D){if(g=!1,w(D),!p)if(n(s)!==null)p=!0,Q(S);else{var E=n(l);E!==null&&G(b,E.startTime-D)}}function S(D,E){p=!1,g&&(g=!1,v(P),P=-1),d=!0;var j=c;try{for(w(E),a=n(s);a!==null&&(!(a.expirationTime>E)||D&&!B());){var k=a.callback;if(typeof k=="function"){a.callback=null,c=a.priorityLevel;var O=k(a.expirationTime<=E);E=e.unstable_now(),typeof O=="function"?a.callback=O:a===n(s)&&r(s),w(E)}else r(s);a=n(s)}if(a!==null)var U=!0;else{var R=n(l);R!==null&&G(b,R.startTime-E),U=!1}return U}finally{a=null,c=j,d=!1}}var T=!1,_=null,P=-1,A=5,M=-1;function B(){return!(e.unstable_now()-M<A)}function z(){if(_!==null){var D=e.unstable_now();M=D;var E=!0;try{E=_(!0,D)}finally{E?Z():(T=!1,_=null)}}else T=!1}var Z;if(typeof x=="function")Z=function(){x(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=z,Z=function(){$.postMessage(null)}}else Z=function(){h(z,0)};function Q(D){_=D,T||(T=!0,Z())}function G(D,E){P=h(function(){D(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,Q(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(D){switch(c){case 1:case 2:case 3:var E=3;break;default:E=c}var j=c;c=E;try{return D()}finally{c=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,E){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=c;c=D;try{return E()}finally{c=j}},e.unstable_scheduleCallback=function(D,E,j){var k=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?k+j:k):j=k,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=j+O,D={id:f++,callback:E,priorityLevel:D,startTime:j,expirationTime:O,sortIndex:-1},j>k?(D.sortIndex=j,t(l,D),n(s)===null&&D===n(l)&&(g?(v(P),P=-1):g=!0,G(b,j-k))):(D.sortIndex=O,t(s,D),p||d||(p=!0,Q(S))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var E=c;return function(){var j=c;c=E;try{return D.apply(this,arguments)}finally{c=j}}}})(uw);cw.exports=uw;var Cj=cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj=C,Ht=Cj;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dw=new Set,sa={};function Yi(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(sa[e]=t,e=0;e<t.length;e++)dw.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,Tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},Zg={};function _j(e){return Cf.call(Zg,e)?!0:Cf.call(Jg,e)?!1:Tj.test(e)?Zg[e]=!0:(Jg[e]=!0,!1)}function Ej(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pj(e,t,n,r){if(t===null||typeof t>"u"||Ej(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,i,u,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=m}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function wp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xp,wp);ht[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xp,wp);ht[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xp,wp);ht[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bp(e,t,n,r){var i=ht.hasOwnProperty(t)?ht[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pj(t,n,i,r)&&(n=null),r||i===null?_j(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hr=Sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),as=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),pw=Symbol.for("react.offscreen"),ev=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=ev&&e[ev]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,hd;function Io(e){if(hd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hd=t&&t[1]||""}return`
`+hd+e}var pd=!1;function md(e,t){if(!e||pd)return"";pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),u=r.stack.split(`
`),m=i.length-1,o=u.length-1;1<=m&&0<=o&&i[m]!==u[o];)o--;for(;1<=m&&0<=o;m--,o--)if(i[m]!==u[o]){if(m!==1||o!==1)do if(m--,o--,0>o||i[m]!==u[o]){var s=`
`+i[m].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=m&&0<=o);break}}}finally{pd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Io(e):""}function jj(e){switch(e.tag){case 5:return Io(e.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return e=md(e.type,!1),e;case 11:return e=md(e.type.render,!1),e;case 1:return e=md(e.type,!0),e;default:return""}}function Ef(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ls:return"Fragment";case as:return"Portal";case Sf:return"Profiler";case Cp:return"StrictMode";case Tf:return"Suspense";case _f:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hw:return(e.displayName||"Context")+".Consumer";case fw:return(e._context.displayName||"Context")+".Provider";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tp:return t=e.displayName||null,t!==null?t:Ef(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return Ef(e(t))}catch{}}return null}function Nj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ef(t);case 8:return t===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kj(e){var t=mw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){r=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(m){r=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pl(e){e._valueTracker||(e._valueTracker=kj(e))}function gw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pf(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vw(e,t){t=t.checked,t!=null&&bp(e,"checked",t,!1)}function jf(e,t){vw(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nf(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nf(e,t,n){(t!=="number"||mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lo=Array.isArray;function _s(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(Lo(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function yw(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,ww=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oj=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){Oj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function bw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function Cw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Aj=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Af(e,t){if(t){if(Aj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function _p(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,Es=null,Ps=null;function sv(e){if(e=Ua(e)){if(typeof Df!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=vu(t),Df(e.stateNode,e.type,t))}}function Sw(e){Es?Ps?Ps.push(e):Ps=[e]:Es=e}function Tw(){if(Es){var e=Es,t=Ps;if(Ps=Es=null,sv(e),t)for(e=0;e<t.length;e++)sv(t[e])}}function _w(e,t){return e(t)}function Ew(){}var gd=!1;function Pw(e,t,n){if(gd)return e(t,n);gd=!0;try{return _w(e,t,n)}finally{gd=!1,(Es!==null||Ps!==null)&&(Ew(),Tw())}}function aa(e,t){var n=e.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var If=!1;if(rr)try{var To={};Object.defineProperty(To,"passive",{get:function(){If=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{If=!1}function Mj(e,t,n,r,i,u,m,o,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(f){this.onError(f)}}var Yo=!1,gc=null,vc=!1,Lf=null,Rj={onError:function(e){Yo=!0,gc=e}};function Dj(e,t,n,r,i,u,m,o,s){Yo=!1,gc=null,Mj.apply(Rj,arguments)}function Ij(e,t,n,r,i,u,m,o,s){if(Dj.apply(this,arguments),Yo){if(Yo){var l=gc;Yo=!1,gc=null}else throw Error(oe(198));vc||(vc=!0,Lf=l)}}function Xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Xi(e)!==e)throw Error(oe(188))}function Lj(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return ov(i),e;if(u===r)return ov(i),t;u=u.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=u;else{for(var m=!1,o=i.child;o;){if(o===n){m=!0,n=i,r=u;break}if(o===r){m=!0,r=i,n=u;break}o=o.sibling}if(!m){for(o=u.child;o;){if(o===n){m=!0,n=u,r=i;break}if(o===r){m=!0,r=u,n=i;break}o=o.sibling}if(!m)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function Nw(e){return e=Lj(e),e!==null?kw(e):null}function kw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kw(e);if(t!==null)return t;e=e.sibling}return null}var Ow=Ht.unstable_scheduleCallback,av=Ht.unstable_cancelCallback,Fj=Ht.unstable_shouldYield,Bj=Ht.unstable_requestPaint,qe=Ht.unstable_now,Vj=Ht.unstable_getCurrentPriorityLevel,Ep=Ht.unstable_ImmediatePriority,Aw=Ht.unstable_UserBlockingPriority,yc=Ht.unstable_NormalPriority,zj=Ht.unstable_LowPriority,Mw=Ht.unstable_IdlePriority,hu=null,In=null;function Wj(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(hu,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Hj,Uj=Math.log,$j=Math.LN2;function Hj(e){return e>>>=0,e===0?32:31-(Uj(e)/$j|0)|0}var gl=64,vl=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,m=n&268435455;if(m!==0){var o=m&~i;o!==0?r=Fo(o):(u&=m,u!==0&&(r=Fo(u)))}else m=n&~i,m!==0?r=Fo(m):u!==0&&(r=Fo(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),i=1<<n,r|=e[n],t&=~i;return r}function Yj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var m=31-yn(u),o=1<<m,s=i[m];s===-1?(!(o&n)||o&r)&&(i[m]=Yj(o,t)):s<=t&&(e.expiredLanes|=o),u&=~o}}function Ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rw(){var e=gl;return gl<<=1,!(gl&4194240)&&(gl=64),e}function vd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function za(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function Gj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yn(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}function Pp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Me=0;function Dw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iw,jp,Lw,Fw,Bw,Bf=!1,yl=[],Fr=null,Br=null,Vr=null,la=new Map,ca=new Map,_r=[],Kj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":la.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function _o(e,t,n,r,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},t!==null&&(t=Ua(t),t!==null&&jp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qj(e,t,n,r,i){switch(t){case"focusin":return Fr=_o(Fr,e,t,n,r,i),!0;case"dragenter":return Br=_o(Br,e,t,n,r,i),!0;case"mouseover":return Vr=_o(Vr,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return la.set(u,_o(la.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,ca.set(u,_o(ca.get(u)||null,e,t,n,r,i)),!0}return!1}function Vw(e){var t=yi(e.target);if(t!==null){var n=Xi(t);if(n!==null){if(t=n.tag,t===13){if(t=jw(n),t!==null){e.blockedOn=t,Bw(e.priority,function(){Lw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rf=r,n.target.dispatchEvent(r),Rf=null}else return t=Ua(n),t!==null&&jp(t),e.blockedOn=n,!1;t.shift()}return!0}function cv(e,t,n){Xl(e)&&n.delete(t)}function Qj(){Bf=!1,Fr!==null&&Xl(Fr)&&(Fr=null),Br!==null&&Xl(Br)&&(Br=null),Vr!==null&&Xl(Vr)&&(Vr=null),la.forEach(cv),ca.forEach(cv)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,Qj)))}function ua(e){function t(i){return Eo(i,e)}if(0<yl.length){Eo(yl[0],e);for(var n=1;n<yl.length;n++){var r=yl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fr!==null&&Eo(Fr,e),Br!==null&&Eo(Br,e),Vr!==null&&Eo(Vr,e),la.forEach(t),ca.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&_r.shift()}var js=hr.ReactCurrentBatchConfig,wc=!0;function Jj(e,t,n,r){var i=Me,u=js.transition;js.transition=null;try{Me=1,Np(e,t,n,r)}finally{Me=i,js.transition=u}}function Zj(e,t,n,r){var i=Me,u=js.transition;js.transition=null;try{Me=4,Np(e,t,n,r)}finally{Me=i,js.transition=u}}function Np(e,t,n,r){if(wc){var i=Vf(e,t,n,r);if(i===null)Pd(e,t,r,bc,n),lv(e,r);else if(qj(i,e,t,n,r))r.stopPropagation();else if(lv(e,r),t&4&&-1<Kj.indexOf(e)){for(;i!==null;){var u=Ua(i);if(u!==null&&Iw(u),u=Vf(e,t,n,r),u===null&&Pd(e,t,r,bc,n),u===i)break;i=u}i!==null&&r.stopPropagation()}else Pd(e,t,r,null,n)}}var bc=null;function Vf(e,t,n,r){if(bc=null,e=_p(r),e=yi(e),e!==null)if(t=Xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bc=e,null}function zw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vj()){case Ep:return 1;case Aw:return 4;case yc:case zj:return 16;case Mw:return 536870912;default:return 16}default:return 16}}var Dr=null,kp=null,Gl=null;function Ww(){if(Gl)return Gl;var e,t=kp,n=t.length,r,i="value"in Dr?Dr.value:Dr.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var m=n-e;for(r=1;r<=m&&t[n-r]===i[u-r];r++);return Gl=i.slice(e,1<r?1-r:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function uv(){return!1}function Gt(e){function t(n,r,i,u,m){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(u):u[o]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xl:uv,this.isPropagationStopped=uv,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Gt(co),Wa=He({},co,{view:0,detail:0}),eN=Gt(Wa),yd,xd,Po,pu=He({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Po&&(Po&&e.type==="mousemove"?(yd=e.screenX-Po.screenX,xd=e.screenY-Po.screenY):xd=yd=0,Po=e),yd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),dv=Gt(pu),tN=He({},pu,{dataTransfer:0}),nN=Gt(tN),rN=He({},Wa,{relatedTarget:0}),wd=Gt(rN),iN=He({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),sN=Gt(iN),oN=He({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aN=Gt(oN),lN=He({},co,{data:0}),fv=Gt(lN),cN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dN[e])?!!t[e]:!1}function Ap(){return fN}var hN=He({},Wa,{key:function(e){if(e.key){var t=cN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pN=Gt(hN),mN=He({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=Gt(mN),gN=He({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),vN=Gt(gN),yN=He({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),xN=Gt(yN),wN=He({},pu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bN=Gt(wN),CN=[9,13,27,32],Mp=rr&&"CompositionEvent"in window,Xo=null;rr&&"documentMode"in document&&(Xo=document.documentMode);var SN=rr&&"TextEvent"in window&&!Xo,Uw=rr&&(!Mp||Xo&&8<Xo&&11>=Xo),pv=" ",mv=!1;function $w(e,t){switch(e){case"keyup":return CN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function TN(e,t){switch(e){case"compositionend":return Hw(t);case"keypress":return t.which!==32?null:(mv=!0,pv);case"textInput":return e=t.data,e===pv&&mv?null:e;default:return null}}function _N(e,t){if(cs)return e==="compositionend"||!Mp&&$w(e,t)?(e=Ww(),Gl=kp=Dr=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uw&&t.locale!=="ko"?null:t.data;default:return null}}var EN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EN[e.type]:t==="textarea"}function Yw(e,t,n,r){Sw(r),t=Cc(t,"onChange"),0<t.length&&(n=new Op("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Go=null,da=null;function PN(e){rb(e,0)}function mu(e){var t=fs(e);if(gw(t))return e}function jN(e,t){if(e==="change")return t}var Xw=!1;if(rr){var bd;if(rr){var Cd="oninput"in document;if(!Cd){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Cd=typeof vv.oninput=="function"}bd=Cd}else bd=!1;Xw=bd&&(!document.documentMode||9<document.documentMode)}function yv(){Go&&(Go.detachEvent("onpropertychange",Gw),da=Go=null)}function Gw(e){if(e.propertyName==="value"&&mu(da)){var t=[];Yw(t,da,e,_p(e)),Pw(PN,t)}}function NN(e,t,n){e==="focusin"?(yv(),Go=t,da=n,Go.attachEvent("onpropertychange",Gw)):e==="focusout"&&yv()}function kN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(da)}function ON(e,t){if(e==="click")return mu(t)}function AN(e,t){if(e==="input"||e==="change")return mu(t)}function MN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:MN;function fa(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cf.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function xv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wv(e,t){var n=xv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xv(n)}}function Kw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qw(){for(var e=window,t=mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mc(e.document)}return t}function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RN(e){var t=qw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kw(n.ownerDocument.documentElement,n)){if(r!==null&&Rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=r.end===void 0?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=wv(n,u);var m=wv(n,r);i&&m&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DN=rr&&"documentMode"in document&&11>=document.documentMode,us=null,zf=null,Ko=null,Wf=!1;function bv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wf||us==null||us!==mc(r)||(r=us,"selectionStart"in r&&Rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&fa(Ko,r)||(Ko=r,r=Cc(zf,"onSelect"),0<r.length&&(t=new Op("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=us)))}function wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ds={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Sd={},Qw={};rr&&(Qw=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function gu(e){if(Sd[e])return Sd[e];if(!ds[e])return e;var t=ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qw)return Sd[e]=t[n];return e}var Jw=gu("animationend"),Zw=gu("animationiteration"),eb=gu("animationstart"),tb=gu("transitionend"),nb=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(e,t){nb.set(e,t),Yi(t,[e])}for(var Td=0;Td<Cv.length;Td++){var _d=Cv[Td],IN=_d.toLowerCase(),LN=_d[0].toUpperCase()+_d.slice(1);ni(IN,"on"+LN)}ni(Jw,"onAnimationEnd");ni(Zw,"onAnimationIteration");ni(eb,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(tb,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Sv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ij(r,t,void 0,e),e.currentTarget=null}function rb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var m=r.length-1;0<=m;m--){var o=r[m],s=o.instance,l=o.currentTarget;if(o=o.listener,s!==u&&i.isPropagationStopped())break e;Sv(i,o,l),u=s}else for(m=0;m<r.length;m++){if(o=r[m],s=o.instance,l=o.currentTarget,o=o.listener,s!==u&&i.isPropagationStopped())break e;Sv(i,o,l),u=s}}}if(vc)throw e=Lf,vc=!1,Lf=null,e}function Le(e,t){var n=t[Xf];n===void 0&&(n=t[Xf]=new Set);var r=e+"__bubble";n.has(r)||(ib(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),ib(n,e,r,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function ha(e){if(!e[bl]){e[bl]=!0,dw.forEach(function(n){n!=="selectionchange"&&(FN.has(n)||Ed(n,!1,e),Ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Ed("selectionchange",!1,t))}}function ib(e,t,n,r){switch(zw(t)){case 1:var i=Jj;break;case 4:i=Zj;break;default:i=Np}n=i.bind(null,t,n,e),i=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pd(e,t,n,r,i){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(m===4)for(m=r.return;m!==null;){var s=m.tag;if((s===3||s===4)&&(s=m.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;m=m.return}for(;o!==null;){if(m=yi(o),m===null)return;if(s=m.tag,s===5||s===6){r=u=m;continue e}o=o.parentNode}}r=r.return}Pw(function(){var l=u,f=_p(n),a=[];e:{var c=nb.get(e);if(c!==void 0){var d=Op,p=e;switch(e){case"keypress":if(Kl(n)===0)break e;case"keydown":case"keyup":d=pN;break;case"focusin":p="focus",d=wd;break;case"focusout":p="blur",d=wd;break;case"beforeblur":case"afterblur":d=wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=nN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=vN;break;case Jw:case Zw:case eb:d=sN;break;case tb:d=xN;break;case"scroll":d=eN;break;case"wheel":d=bN;break;case"copy":case"cut":case"paste":d=aN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=hv}var g=(t&4)!==0,h=!g&&e==="scroll",v=g?c!==null?c+"Capture":null:c;g=[];for(var x=l,w;x!==null;){w=x;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=aa(x,v),b!=null&&g.push(pa(x,b,w)))),h)break;x=x.return}0<g.length&&(c=new d(c,p,null,n,f),a.push({event:c,listeners:g}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",c&&n!==Rf&&(p=n.relatedTarget||n.fromElement)&&(yi(p)||p[ir]))break e;if((d||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=l,p=p?yi(p):null,p!==null&&(h=Xi(p),p!==h||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(g=dv,b="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=hv,b="onPointerLeave",v="onPointerEnter",x="pointer"),h=d==null?c:fs(d),w=p==null?c:fs(p),c=new g(b,x+"leave",d,n,f),c.target=h,c.relatedTarget=w,b=null,yi(f)===l&&(g=new g(v,x+"enter",p,n,f),g.target=w,g.relatedTarget=h,b=g),h=b,d&&p)t:{for(g=d,v=p,x=0,w=g;w;w=es(w))x++;for(w=0,b=v;b;b=es(b))w++;for(;0<x-w;)g=es(g),x--;for(;0<w-x;)v=es(v),w--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=es(g),v=es(v)}g=null}else g=null;d!==null&&Tv(a,c,d,g,!1),p!==null&&h!==null&&Tv(a,h,p,g,!0)}}e:{if(c=l?fs(l):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var S=jN;else if(gv(c))if(Xw)S=AN;else{S=kN;var T=NN}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=ON);if(S&&(S=S(e,l))){Yw(a,S,n,f);break e}T&&T(e,c,l),e==="focusout"&&(T=c._wrapperState)&&T.controlled&&c.type==="number"&&Nf(c,"number",c.value)}switch(T=l?fs(l):window,e){case"focusin":(gv(T)||T.contentEditable==="true")&&(us=T,zf=l,Ko=null);break;case"focusout":Ko=zf=us=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,bv(a,n,f);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":bv(a,n,f)}var _;if(Mp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else cs?$w(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Uw&&n.locale!=="ko"&&(cs||P!=="onCompositionStart"?P==="onCompositionEnd"&&cs&&(_=Ww()):(Dr=f,kp="value"in Dr?Dr.value:Dr.textContent,cs=!0)),T=Cc(l,P),0<T.length&&(P=new fv(P,e,null,n,f),a.push({event:P,listeners:T}),_?P.data=_:(_=Hw(n),_!==null&&(P.data=_)))),(_=SN?TN(e,n):_N(e,n))&&(l=Cc(l,"onBeforeInput"),0<l.length&&(f=new fv("onBeforeInput","beforeinput",null,n,f),a.push({event:f,listeners:l}),f.data=_))}rb(a,t)})}function pa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=aa(e,n),u!=null&&r.unshift(pa(e,u,i)),u=aa(e,t),u!=null&&r.push(pa(e,u,i))),e=e.return}return r}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tv(e,t,n,r,i){for(var u=t._reactName,m=[];n!==null&&n!==r;){var o=n,s=o.alternate,l=o.stateNode;if(s!==null&&s===r)break;o.tag===5&&l!==null&&(o=l,i?(s=aa(n,u),s!=null&&m.unshift(pa(n,s,o))):i||(s=aa(n,u),s!=null&&m.push(pa(n,s,o)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var BN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function _v(e){return(typeof e=="string"?e:""+e).replace(BN,`
`).replace(VN,"")}function Cl(e,t,n){if(t=_v(t),_v(e)!==t&&n)throw Error(oe(425))}function Sc(){}var Uf=null,$f=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,zN=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(UN)}:Yf;function UN(e){setTimeout(function(){throw e})}function jd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ua(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ua(t)}function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),On="__reactFiber$"+uo,ma="__reactProps$"+uo,ir="__reactContainer$"+uo,Xf="__reactEvents$"+uo,$N="__reactListeners$"+uo,HN="__reactHandles$"+uo;function yi(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pv(e);e!==null;){if(n=e[On])return n;e=Pv(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){return e=e[On]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function vu(e){return e[ma]||null}var Gf=[],hs=-1;function ri(e){return{current:e}}function Fe(e){0>hs||(e.current=Gf[hs],Gf[hs]=null,hs--)}function De(e,t){hs++,Gf[hs]=e.current,e.current=t}var Kr={},wt=ri(Kr),Mt=ri(!1),Mi=Kr;function Hs(e,t){var n=e.type.contextTypes;if(!n)return Kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function Tc(){Fe(Mt),Fe(wt)}function jv(e,t,n){if(wt.current!==Kr)throw Error(oe(168));De(wt,t),De(Mt,n)}function sb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(oe(108,Nj(e)||"Unknown",i));return He({},n,r)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,Mi=wt.current,De(wt,e),De(Mt,Mt.current),!0}function Nv(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=sb(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Fe(Mt),Fe(wt),De(wt,e)):Fe(Mt),De(Mt,n)}var qn=null,yu=!1,Nd=!1;function ob(e){qn===null?qn=[e]:qn.push(e)}function YN(e){yu=!0,ob(e)}function ii(){if(!Nd&&qn!==null){Nd=!0;var e=0,t=Me;try{var n=qn;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qn=null,yu=!1}catch(i){throw qn!==null&&(qn=qn.slice(e+1)),Ow(Ep,ii),i}finally{Me=t,Nd=!1}}return null}var ps=[],ms=0,Ec=null,Pc=0,Jt=[],Zt=0,Ri=null,Jn=1,Zn="";function hi(e,t){ps[ms++]=Pc,ps[ms++]=Ec,Ec=e,Pc=t}function ab(e,t,n){Jt[Zt++]=Jn,Jt[Zt++]=Zn,Jt[Zt++]=Ri,Ri=e;var r=Jn;e=Zn;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var u=32-yn(t)+i;if(30<u){var m=i-i%5;u=(r&(1<<m)-1).toString(32),r>>=m,i-=m,Jn=1<<32-yn(t)+i|n<<i|r,Zn=u+e}else Jn=1<<u|n<<i|r,Zn=e}function Dp(e){e.return!==null&&(hi(e,1),ab(e,1,0))}function Ip(e){for(;e===Ec;)Ec=ps[--ms],ps[ms]=null,Pc=ps[--ms],ps[ms]=null;for(;e===Ri;)Ri=Jt[--Zt],Jt[Zt]=null,Zn=Jt[--Zt],Jt[Zt]=null,Jn=Jt[--Zt],Jt[Zt]=null}var Wt=null,Vt=null,ze=!1,gn=null;function lb(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Vt=zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ri!==null?{id:Jn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,Vt=null,!0):!1;default:return!1}}function Kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qf(e){if(ze){var t=Vt;if(t){var n=t;if(!kv(e,t)){if(Kf(e))throw Error(oe(418));t=zr(n.nextSibling);var r=Wt;t&&kv(e,t)?lb(r,n):(e.flags=e.flags&-4097|2,ze=!1,Wt=e)}}else{if(Kf(e))throw Error(oe(418));e.flags=e.flags&-4097|2,ze=!1,Wt=e}}}function Ov(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function Sl(e){if(e!==Wt)return!1;if(!ze)return Ov(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=Vt)){if(Kf(e))throw cb(),Error(oe(418));for(;t;)lb(e,t),t=zr(t.nextSibling)}if(Ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=zr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Wt?zr(e.stateNode.nextSibling):null;return!0}function cb(){for(var e=Vt;e;)e=zr(e.nextSibling)}function Ys(){Vt=Wt=null,ze=!1}function Lp(e){gn===null?gn=[e]:gn.push(e)}var XN=hr.ReactCurrentBatchConfig;function jo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(m){var o=i.refs;m===null?delete o[u]:o[u]=m},t._stringRef=u,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function Tl(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Av(e){var t=e._init;return t(e._payload)}function ub(e){function t(v,x){if(e){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Hr(v,x),v.index=0,v.sibling=null,v}function u(v,x,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function m(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,w,b){return x===null||x.tag!==6?(x=Id(w,v.mode,b),x.return=v,x):(x=i(x,w),x.return=v,x)}function s(v,x,w,b){var S=w.type;return S===ls?f(v,x,w.props.children,b,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&Av(S)===x.type)?(b=i(x,w.props),b.ref=jo(v,x,w),b.return=v,b):(b=nc(w.type,w.key,w.props,null,v.mode,b),b.ref=jo(v,x,w),b.return=v,b)}function l(v,x,w,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Ld(w,v.mode,b),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function f(v,x,w,b,S){return x===null||x.tag!==7?(x=Ni(w,v.mode,b,S),x.return=v,x):(x=i(x,w),x.return=v,x)}function a(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Id(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:return w=nc(x.type,x.key,x.props,null,v.mode,w),w.ref=jo(v,null,x),w.return=v,w;case as:return x=Ld(x,v.mode,w),x.return=v,x;case Sr:var b=x._init;return a(v,b(x._payload),w)}if(Lo(x)||So(x))return x=Ni(x,v.mode,w,null),x.return=v,x;Tl(v,x)}return null}function c(v,x,w,b){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(v,x,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:return w.key===S?s(v,x,w,b):null;case as:return w.key===S?l(v,x,w,b):null;case Sr:return S=w._init,c(v,x,S(w._payload),b)}if(Lo(w)||So(w))return S!==null?null:f(v,x,w,b,null);Tl(v,w)}return null}function d(v,x,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,o(x,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hl:return v=v.get(b.key===null?w:b.key)||null,s(x,v,b,S);case as:return v=v.get(b.key===null?w:b.key)||null,l(x,v,b,S);case Sr:var T=b._init;return d(v,x,w,T(b._payload),S)}if(Lo(b)||So(b))return v=v.get(w)||null,f(x,v,b,S,null);Tl(x,b)}return null}function p(v,x,w,b){for(var S=null,T=null,_=x,P=x=0,A=null;_!==null&&P<w.length;P++){_.index>P?(A=_,_=null):A=_.sibling;var M=c(v,_,w[P],b);if(M===null){_===null&&(_=A);break}e&&_&&M.alternate===null&&t(v,_),x=u(M,x,P),T===null?S=M:T.sibling=M,T=M,_=A}if(P===w.length)return n(v,_),ze&&hi(v,P),S;if(_===null){for(;P<w.length;P++)_=a(v,w[P],b),_!==null&&(x=u(_,x,P),T===null?S=_:T.sibling=_,T=_);return ze&&hi(v,P),S}for(_=r(v,_);P<w.length;P++)A=d(_,v,P,w[P],b),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?P:A.key),x=u(A,x,P),T===null?S=A:T.sibling=A,T=A);return e&&_.forEach(function(B){return t(v,B)}),ze&&hi(v,P),S}function g(v,x,w,b){var S=So(w);if(typeof S!="function")throw Error(oe(150));if(w=S.call(w),w==null)throw Error(oe(151));for(var T=S=null,_=x,P=x=0,A=null,M=w.next();_!==null&&!M.done;P++,M=w.next()){_.index>P?(A=_,_=null):A=_.sibling;var B=c(v,_,M.value,b);if(B===null){_===null&&(_=A);break}e&&_&&B.alternate===null&&t(v,_),x=u(B,x,P),T===null?S=B:T.sibling=B,T=B,_=A}if(M.done)return n(v,_),ze&&hi(v,P),S;if(_===null){for(;!M.done;P++,M=w.next())M=a(v,M.value,b),M!==null&&(x=u(M,x,P),T===null?S=M:T.sibling=M,T=M);return ze&&hi(v,P),S}for(_=r(v,_);!M.done;P++,M=w.next())M=d(_,v,P,M.value,b),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?P:M.key),x=u(M,x,P),T===null?S=M:T.sibling=M,T=M);return e&&_.forEach(function(z){return t(v,z)}),ze&&hi(v,P),S}function h(v,x,w,b){if(typeof w=="object"&&w!==null&&w.type===ls&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:e:{for(var S=w.key,T=x;T!==null;){if(T.key===S){if(S=w.type,S===ls){if(T.tag===7){n(v,T.sibling),x=i(T,w.props.children),x.return=v,v=x;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&Av(S)===T.type){n(v,T.sibling),x=i(T,w.props),x.ref=jo(v,T,w),x.return=v,v=x;break e}n(v,T);break}else t(v,T);T=T.sibling}w.type===ls?(x=Ni(w.props.children,v.mode,b,w.key),x.return=v,v=x):(b=nc(w.type,w.key,w.props,null,v.mode,b),b.ref=jo(v,x,w),b.return=v,v=b)}return m(v);case as:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Ld(w,v.mode,b),x.return=v,v=x}return m(v);case Sr:return T=w._init,h(v,x,T(w._payload),b)}if(Lo(w))return p(v,x,w,b);if(So(w))return g(v,x,w,b);Tl(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,w),x.return=v,v=x):(n(v,x),x=Id(w,v.mode,b),x.return=v,v=x),m(v)):n(v,x)}return h}var Xs=ub(!0),db=ub(!1),jc=ri(null),Nc=null,gs=null,Fp=null;function Bp(){Fp=gs=Nc=null}function Vp(e){var t=jc.current;Fe(jc),e._currentValue=t}function Qf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Nc=e,Fp=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(Fp!==e)if(e={context:e,memoizedValue:t,next:null},gs===null){if(Nc===null)throw Error(oe(308));gs=e,Nc.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var xi=null;function zp(e){xi===null?xi=[e]:xi.push(e)}function fb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zp(t)):(n.next=i.next,i.next=n),t.interleaved=n,sr(e,r)}function sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function Wp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,sr(e,n)}return i=r.interleaved,i===null?(t.next=t,zp(r)):(t.next=i.next,i.next=t),r.interleaved=t,sr(e,n)}function ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pp(e,n)}}function Mv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=m:u=u.next=m,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kc(e,t,n,r){var i=e.updateQueue;Tr=!1;var u=i.firstBaseUpdate,m=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var s=o,l=s.next;s.next=null,m===null?u=l:m.next=l,m=s;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==m&&(o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=s))}if(u!==null){var a=i.baseState;m=0,f=l=s=null,o=u;do{var c=o.lane,d=o.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(c=t,d=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){a=p.call(d,a,c);break e}a=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,c=typeof p=="function"?p.call(d,a,c):p,c==null)break e;a=He({},a,c);break e;case 2:Tr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[o]:c.push(o))}else d={eventTime:d,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(l=f=d,s=a):f=f.next=d,m|=c;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;c=o,o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(s=a),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do m|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);Ii|=m,e.lanes=m,e.memoizedState=a}}function Rv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var $a={},Ln=ri($a),ga=ri($a),va=ri($a);function wi(e){if(e===$a)throw Error(oe(174));return e}function Up(e,t){switch(De(va,t),De(ga,e),De(Ln,$a),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Of(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Of(t,e)}Fe(Ln),De(Ln,t)}function Gs(){Fe(Ln),Fe(ga),Fe(va)}function pb(e){wi(va.current);var t=wi(Ln.current),n=Of(t,e.type);t!==n&&(De(ga,e),De(Ln,n))}function $p(e){ga.current===e&&(Fe(Ln),Fe(ga))}var We=ri(0);function Oc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function Hp(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var Ql=hr.ReactCurrentDispatcher,Od=hr.ReactCurrentBatchConfig,Di=0,$e=null,rt=null,at=null,Ac=!1,qo=!1,ya=0,GN=0;function mt(){throw Error(oe(321))}function Yp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function Xp(e,t,n,r,i,u){if(Di=u,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ql.current=e===null||e.memoizedState===null?JN:ZN,e=n(r,i),qo){u=0;do{if(qo=!1,ya=0,25<=u)throw Error(oe(301));u+=1,at=rt=null,t.updateQueue=null,Ql.current=ek,e=n(r,i)}while(qo)}if(Ql.current=Mc,t=rt!==null&&rt.next!==null,Di=0,at=rt=$e=null,Ac=!1,t)throw Error(oe(300));return e}function Gp(){var e=ya!==0;return ya=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?$e.memoizedState=at=e:at=at.next=e,at}function on(){if(rt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=at===null?$e.memoizedState:at.next;if(t!==null)at=t,rt=e;else{if(e===null)throw Error(oe(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?$e.memoizedState=at=e:at=at.next=e}return at}function xa(e,t){return typeof t=="function"?t(e):t}function Ad(e){var t=on(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=rt,i=r.baseQueue,u=n.pending;if(u!==null){if(i!==null){var m=i.next;i.next=u.next,u.next=m}r.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,r=r.baseState;var o=m=null,s=null,l=u;do{var f=l.lane;if((Di&f)===f)s!==null&&(s=s.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var a={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};s===null?(o=s=a,m=r):s=s.next=a,$e.lanes|=f,Ii|=f}l=l.next}while(l!==null&&l!==u);s===null?m=r:s.next=o,bn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=m,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do u=i.lane,$e.lanes|=u,Ii|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Md(e){var t=on(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var m=i=i.next;do u=e(u,m.action),m=m.next;while(m!==i);bn(u,t.memoizedState)||(At=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function mb(){}function gb(e,t){var n=$e,r=on(),i=t(),u=!bn(r.memoizedState,i);if(u&&(r.memoizedState=i,At=!0),r=r.queue,Kp(xb.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,wa(9,yb.bind(null,n,r,i,t),void 0,null),ct===null)throw Error(oe(349));Di&30||vb(n,t,i)}return i}function vb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yb(e,t,n,r){t.value=n,t.getSnapshot=r,wb(t)&&bb(e)}function xb(e,t,n){return n(function(){wb(t)&&bb(e)})}function wb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function bb(e){var t=sr(e,1);t!==null&&xn(t,e,1,-1)}function Dv(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=QN.bind(null,$e,e),[t.memoizedState,e]}function wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cb(){return on().memoizedState}function Jl(e,t,n,r){var i=Pn();$e.flags|=e,i.memoizedState=wa(1|t,n,void 0,r===void 0?null:r)}function xu(e,t,n,r){var i=on();r=r===void 0?null:r;var u=void 0;if(rt!==null){var m=rt.memoizedState;if(u=m.destroy,r!==null&&Yp(r,m.deps)){i.memoizedState=wa(t,n,u,r);return}}$e.flags|=e,i.memoizedState=wa(1|t,n,u,r)}function Iv(e,t){return Jl(8390656,8,e,t)}function Kp(e,t){return xu(2048,8,e,t)}function Sb(e,t){return xu(4,2,e,t)}function Tb(e,t){return xu(4,4,e,t)}function _b(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eb(e,t,n){return n=n!=null?n.concat([e]):null,xu(4,4,_b.bind(null,t,e),n)}function qp(){}function Pb(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jb(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nb(e,t,n){return Di&21?(bn(n,t)||(n=Rw(),$e.lanes|=n,Ii|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function KN(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=Od.transition;Od.transition={};try{e(!1),t()}finally{Me=n,Od.transition=r}}function kb(){return on().memoizedState}function qN(e,t,n){var r=$r(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ob(e))Ab(t,n);else if(n=fb(e,t,n,r),n!==null){var i=Et();xn(n,e,r,i),Mb(n,t,r)}}function QN(e,t,n){var r=$r(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ob(e))Ab(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,o=u(m,n);if(i.hasEagerState=!0,i.eagerState=o,bn(o,m)){var s=t.interleaved;s===null?(i.next=i,zp(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=fb(e,t,i,r),n!==null&&(i=Et(),xn(n,e,r,i),Mb(n,t,r))}}function Ob(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Ab(e,t){qo=Ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pp(e,n)}}var Mc={readContext:sn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},JN={readContext:sn,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:Iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4194308,4,_b.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qN.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:Dv,useDebugValue:qp,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=Dv(!1),t=e[0];return e=KN.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,i=Pn();if(ze){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),ct===null)throw Error(oe(349));Di&30||vb(r,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,Iv(xb.bind(null,r,u,e),[e]),r.flags|=2048,wa(9,yb.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=Pn(),t=ct.identifierPrefix;if(ze){var n=Zn,r=Jn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ya++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZN={readContext:sn,useCallback:Pb,useContext:sn,useEffect:Kp,useImperativeHandle:Eb,useInsertionEffect:Sb,useLayoutEffect:Tb,useMemo:jb,useReducer:Ad,useRef:Cb,useState:function(){return Ad(xa)},useDebugValue:qp,useDeferredValue:function(e){var t=on();return Nb(t,rt.memoizedState,e)},useTransition:function(){var e=Ad(xa)[0],t=on().memoizedState;return[e,t]},useMutableSource:mb,useSyncExternalStore:gb,useId:kb,unstable_isNewReconciler:!1},ek={readContext:sn,useCallback:Pb,useContext:sn,useEffect:Kp,useImperativeHandle:Eb,useInsertionEffect:Sb,useLayoutEffect:Tb,useMemo:jb,useReducer:Md,useRef:Cb,useState:function(){return Md(xa)},useDebugValue:qp,useDeferredValue:function(e){var t=on();return rt===null?t.memoizedState=e:Nb(t,rt.memoizedState,e)},useTransition:function(){var e=Md(xa)[0],t=on().memoizedState;return[e,t]},useMutableSource:mb,useSyncExternalStore:gb,useId:kb,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wu={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),i=$r(e),u=er(r,i);u.payload=t,n!=null&&(u.callback=n),t=Wr(e,u,i),t!==null&&(xn(t,e,i,r),ql(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),i=$r(e),u=er(r,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Wr(e,u,i),t!==null&&(xn(t,e,i,r),ql(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=$r(e),i=er(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wr(e,i,r),t!==null&&(xn(t,e,r,n),ql(t,e,r))}};function Lv(e,t,n,r,i,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,m):t.prototype&&t.prototype.isPureReactComponent?!fa(n,r)||!fa(i,u):!0}function Rb(e,t,n){var r=!1,i=Kr,u=t.contextType;return typeof u=="object"&&u!==null?u=sn(u):(i=Rt(t)?Mi:wt.current,r=t.contextTypes,u=(r=r!=null)?Hs(e,i):Kr),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Fv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function Zf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wp(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=sn(u):(u=Rt(t)?Mi:wt.current,i.context=Hs(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Jf(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wu.enqueueReplaceState(i,i.state,null),kc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t){try{var n="",r=t;do n+=jj(r),r=r.return;while(r);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function Rd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function Db(e,t,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dc||(Dc=!0,uh=r),eh(e,t)},n}function Ib(e,t,n){n=er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eh(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){eh(e,t),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function Bv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mk.bind(null,e,t,n),t.then(e,e))}function Vv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=er(-1,1),t.tag=2,Wr(n,t,1))),n.lanes|=1),e)}var nk=hr.ReactCurrentOwner,At=!1;function St(e,t,n,r){t.child=e===null?db(t,null,n,r):Xs(t,e.child,n,r)}function Wv(e,t,n,r,i){n=n.render;var u=t.ref;return Ns(t,i),r=Xp(e,t,n,r,u,i),n=Gp(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(ze&&n&&Dp(t),t.flags|=1,St(e,t,r,i),t.child)}function Uv(e,t,n,r,i){if(e===null){var u=n.type;return typeof u=="function"&&!im(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,Lb(e,t,u,r,i)):(e=nc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&i)){var m=u.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(m,r)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Hr(u,r),e.ref=t.ref,e.return=t,t.child=e}function Lb(e,t,n,r,i){if(e!==null){var u=e.memoizedProps;if(fa(u,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=u,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,or(e,t,i)}return th(e,t,n,r,i)}function Fb(e,t,n){var r=t.pendingProps,i=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ys,Lt),Lt|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ys,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,De(ys,Lt),Lt|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,De(ys,Lt),Lt|=r;return St(e,t,i,n),t.child}function Bb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function th(e,t,n,r,i){var u=Rt(n)?Mi:wt.current;return u=Hs(t,u),Ns(t,i),n=Xp(e,t,n,r,u,i),r=Gp(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(ze&&r&&Dp(t),t.flags|=1,St(e,t,n,i),t.child)}function $v(e,t,n,r,i){if(Rt(n)){var u=!0;_c(t)}else u=!1;if(Ns(t,i),t.stateNode===null)Zl(e,t),Rb(t,n,r),Zf(t,n,r,i),r=!0;else if(e===null){var m=t.stateNode,o=t.memoizedProps;m.props=o;var s=m.context,l=n.contextType;typeof l=="object"&&l!==null?l=sn(l):(l=Rt(n)?Mi:wt.current,l=Hs(t,l));var f=n.getDerivedStateFromProps,a=typeof f=="function"||typeof m.getSnapshotBeforeUpdate=="function";a||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(o!==r||s!==l)&&Fv(t,m,r,l),Tr=!1;var c=t.memoizedState;m.state=c,kc(t,r,m,i),s=t.memoizedState,o!==r||c!==s||Mt.current||Tr?(typeof f=="function"&&(Jf(t,n,f,r),s=t.memoizedState),(o=Tr||Lv(t,n,o,r,c,s,l))?(a||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),m.props=r,m.state=s,m.context=l,r=o):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{m=t.stateNode,hb(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:dn(t.type,o),m.props=l,a=t.pendingProps,c=m.context,s=n.contextType,typeof s=="object"&&s!==null?s=sn(s):(s=Rt(n)?Mi:wt.current,s=Hs(t,s));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(o!==a||c!==s)&&Fv(t,m,r,s),Tr=!1,c=t.memoizedState,m.state=c,kc(t,r,m,i);var p=t.memoizedState;o!==a||c!==p||Mt.current||Tr?(typeof d=="function"&&(Jf(t,n,d,r),p=t.memoizedState),(l=Tr||Lv(t,n,l,r,c,p,s)||!1)?(f||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,p,s),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,p,s)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),m.props=r,m.state=p,m.context=s,r=l):(typeof m.componentDidUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return nh(e,t,n,r,u,i)}function nh(e,t,n,r,i,u){Bb(e,t);var m=(t.flags&128)!==0;if(!r&&!m)return i&&Nv(t,n,!1),or(e,t,u);r=t.stateNode,nk.current=t;var o=m&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&m?(t.child=Xs(t,e.child,null,u),t.child=Xs(t,null,o,u)):St(e,t,o,u),t.memoizedState=r.state,i&&Nv(t,n,!0),t.child}function Vb(e){var t=e.stateNode;t.pendingContext?jv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jv(e,t.context,!1),Up(e,t.containerInfo)}function Hv(e,t,n,r,i){return Ys(),Lp(i),t.flags|=256,St(e,t,n,r),t.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function zb(e,t,n){var r=t.pendingProps,i=We.current,u=!1,m=(t.flags&128)!==0,o;if((o=m)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(We,i&1),e===null)return qf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=r.children,e=r.fallback,u?(r=t.mode,u=t.child,m={mode:"hidden",children:m},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=m):u=Su(m,r,0,null),e=Ni(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ih(n),t.memoizedState=rh,e):Qp(t,m));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return rk(e,t,m,r,o,i,n);if(u){u=r.fallback,m=t.mode,i=e.child,o=i.sibling;var s={mode:"hidden",children:r.children};return!(m&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Hr(i,s),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?u=Hr(o,u):(u=Ni(u,m,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,m=e.child.memoizedState,m=m===null?ih(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},u.memoizedState=m,u.childLanes=e.childLanes&~n,t.memoizedState=rh,r}return u=e.child,e=u.sibling,r=Hr(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qp(e,t){return t=Su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _l(e,t,n,r){return r!==null&&Lp(r),Xs(t,e.child,null,n),e=Qp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rk(e,t,n,r,i,u,m){if(n)return t.flags&256?(t.flags&=-257,r=Rd(Error(oe(422))),_l(e,t,m,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,i=t.mode,r=Su({mode:"visible",children:r.children},i,0,null),u=Ni(u,i,m,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&Xs(t,e.child,null,m),t.child.memoizedState=ih(m),t.memoizedState=rh,u);if(!(t.mode&1))return _l(e,t,m,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,u=Error(oe(419)),r=Rd(u,r,void 0),_l(e,t,m,r)}if(o=(m&e.childLanes)!==0,At||o){if(r=ct,r!==null){switch(m&-m){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|m)?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,sr(e,i),xn(r,e,i,-1))}return rm(),r=Rd(Error(oe(421))),_l(e,t,m,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gk.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Vt=zr(i.nextSibling),Wt=t,ze=!0,gn=null,e!==null&&(Jt[Zt++]=Jn,Jt[Zt++]=Zn,Jt[Zt++]=Ri,Jn=e.id,Zn=e.overflow,Ri=t),t=Qp(t,r.children),t.flags|=4096,t)}function Yv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qf(e.return,t,n)}function Dd(e,t,n,r,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function Wb(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(St(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yv(e,n,t);else if(e.tag===19)Yv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(We,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Oc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dd(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dd(t,!0,n,null,u);break;case"together":Dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=Hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ik(e,t,n){switch(t.tag){case 3:Vb(t),Ys();break;case 5:pb(t);break;case 1:Rt(t.type)&&_c(t);break;case 4:Up(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(jc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?zb(e,t,n):(De(We,We.current&1),e=or(e,t,n),e!==null?e.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,Fb(e,t,n)}return or(e,t,n)}var Ub,sh,$b,Hb;Ub=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sh=function(){};$b=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wi(Ln.current);var u=null;switch(n){case"input":i=Pf(e,i),r=Pf(e,r),u=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),u=[];break;case"textarea":i=kf(e,i),r=kf(e,r),u=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sc)}Af(n,r);var m;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(m in o)o.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(sa.hasOwnProperty(l)?u||(u=[]):(u=u||[]).push(l,null));for(l in r){var s=r[l];if(o=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&s!==o&&(s!=null||o!=null))if(l==="style")if(o){for(m in o)!o.hasOwnProperty(m)||s&&s.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in s)s.hasOwnProperty(m)&&o[m]!==s[m]&&(n||(n={}),n[m]=s[m])}else n||(u||(u=[]),u.push(l,n)),n=s;else l==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,o=o?o.__html:void 0,s!=null&&o!==s&&(u=u||[]).push(l,s)):l==="children"?typeof s!="string"&&typeof s!="number"||(u=u||[]).push(l,""+s):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(sa.hasOwnProperty(l)?(s!=null&&l==="onScroll"&&Le("scroll",e),u||o===s||(u=[])):(u=u||[]).push(l,s))}n&&(u=u||[]).push("style",n);var l=u;(t.updateQueue=l)&&(t.flags|=4)}};Hb=function(e,t,n,r){n!==r&&(t.flags|=4)};function No(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sk(e,t,n){var r=t.pendingProps;switch(Ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Rt(t.type)&&Tc(),gt(t),null;case 3:return r=t.stateNode,Gs(),Fe(Mt),Fe(wt),Hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(hh(gn),gn=null))),sh(e,t),gt(t),null;case 5:$p(t);var i=wi(va.current);if(n=t.type,e!==null&&t.stateNode!=null)$b(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return gt(t),null}if(e=wi(Ln.current),Sl(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[On]=t,r[ma]=u,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Bo.length;i++)Le(Bo[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":tv(r,u),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Le("invalid",r);break;case"textarea":rv(r,u),Le("invalid",r)}Af(n,u),i=null;for(var m in u)if(u.hasOwnProperty(m)){var o=u[m];m==="children"?typeof o=="string"?r.textContent!==o&&(u.suppressHydrationWarning!==!0&&Cl(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(u.suppressHydrationWarning!==!0&&Cl(r.textContent,o,e),i=["children",""+o]):sa.hasOwnProperty(m)&&o!=null&&m==="onScroll"&&Le("scroll",r)}switch(n){case"input":pl(r),nv(r,u,!0);break;case"textarea":pl(r),iv(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=Sc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{m=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=m.createElement(n,{is:r.is}):(e=m.createElement(n),n==="select"&&(m=e,r.multiple?m.multiple=!0:r.size&&(m.size=r.size))):e=m.createElementNS(e,n),e[On]=t,e[ma]=r,Ub(e,t,!1,!1),t.stateNode=e;e:{switch(m=Mf(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bo.length;i++)Le(Bo[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":tv(e,r),i=Pf(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Le("invalid",e);break;case"textarea":rv(e,r),i=kf(e,r),Le("invalid",e);break;default:i=r}Af(n,i),o=i;for(u in o)if(o.hasOwnProperty(u)){var s=o[u];u==="style"?Cw(e,s):u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&ww(e,s)):u==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&oa(e,s):typeof s=="number"&&oa(e,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sa.hasOwnProperty(u)?s!=null&&u==="onScroll"&&Le("scroll",e):s!=null&&bp(e,u,s,m))}switch(n){case"input":pl(e),nv(e,r,!1);break;case"textarea":pl(e),iv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?_s(e,!!r.multiple,u,!1):r.defaultValue!=null&&_s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Hb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=wi(va.current),wi(Ln.current),Sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[On]=t,(u=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:Cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cl(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return gt(t),null;case 13:if(Fe(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Vt!==null&&t.mode&1&&!(t.flags&128))cb(),Ys(),t.flags|=98560,u=!1;else if(u=Sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(oe(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(oe(317));u[On]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),u=!1}else gn!==null&&(hh(gn),gn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?it===0&&(it=3):rm())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Gs(),sh(e,t),e===null&&ha(t.stateNode.containerInfo),gt(t),null;case 10:return Vp(t.type._context),gt(t),null;case 17:return Rt(t.type)&&Tc(),gt(t),null;case 19:if(Fe(We),u=t.memoizedState,u===null)return gt(t),null;if(r=(t.flags&128)!==0,m=u.rendering,m===null)if(r)No(u,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=Oc(e),m!==null){for(t.flags|=128,No(u,!1),r=m.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,m=u.alternate,m===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,e=m.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(We,We.current&1|2),t.child}e=e.sibling}u.tail!==null&&qe()>qs&&(t.flags|=128,r=!0,No(u,!1),t.lanes=4194304)}else{if(!r)if(e=Oc(m),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),No(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!ze)return gt(t),null}else 2*qe()-u.renderingStartTime>qs&&n!==1073741824&&(t.flags|=128,r=!0,No(u,!1),t.lanes=4194304);u.isBackwards?(m.sibling=t.child,t.child=m):(n=u.last,n!==null?n.sibling=m:t.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=qe(),t.sibling=null,n=We.current,De(We,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return nm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function ok(e,t){switch(Ip(t),t.tag){case 1:return Rt(t.type)&&Tc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),Fe(Mt),Fe(wt),Hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $p(t),null;case 13:if(Fe(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(We),null;case 4:return Gs(),null;case 10:return Vp(t.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var El=!1,yt=!1,ak=typeof WeakSet=="function"?WeakSet:Set,ce=null;function vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function oh(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var Xv=!1;function lk(e,t){if(Uf=wc,e=qw(),Rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var m=0,o=-1,s=-1,l=0,f=0,a=e,c=null;t:for(;;){for(var d;a!==n||i!==0&&a.nodeType!==3||(o=m+i),a!==u||r!==0&&a.nodeType!==3||(s=m+r),a.nodeType===3&&(m+=a.nodeValue.length),(d=a.firstChild)!==null;)c=a,a=d;for(;;){if(a===e)break t;if(c===n&&++l===i&&(o=m),c===u&&++f===r&&(s=m),(d=a.nextSibling)!==null)break;a=c,c=a.parentNode}a=d}n=o===-1||s===-1?null:{start:o,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for($f={focusedElem:e,selectionRange:n},wc=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,h=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:dn(t.type,g),h);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(b){Ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return p=Xv,Xv=!1,p}function Qo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&oh(t,n,u)}i=i.next}while(i!==r)}}function bu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ah(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yb(e){var t=e.alternate;t!==null&&(e.alternate=null,Yb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[ma],delete t[Xf],delete t[$N],delete t[HN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xb(e){return e.tag===5||e.tag===3||e.tag===4}function Gv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sc));else if(r!==4&&(e=e.child,e!==null))for(lh(e,t,n),e=e.sibling;e!==null;)lh(e,t,n),e=e.sibling}function ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ch(e,t,n),e=e.sibling;e!==null;)ch(e,t,n),e=e.sibling}var ut=null,mn=!1;function gr(e,t,n){for(n=n.child;n!==null;)Gb(e,t,n),n=n.sibling}function Gb(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 5:yt||vs(n,t);case 6:var r=ut,i=mn;ut=null,gr(e,t,n),ut=r,mn=i,ut!==null&&(mn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(mn?(e=ut,n=n.stateNode,e.nodeType===8?jd(e.parentNode,n):e.nodeType===1&&jd(e,n),ua(e)):jd(ut,n.stateNode));break;case 4:r=ut,i=mn,ut=n.stateNode.containerInfo,mn=!0,gr(e,t,n),ut=r,mn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var u=i,m=u.destroy;u=u.tag,m!==void 0&&(u&2||u&4)&&oh(n,t,m),i=i.next}while(i!==r)}gr(e,t,n);break;case 1:if(!yt&&(vs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ge(n,t,o)}gr(e,t,n);break;case 21:gr(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,gr(e,t,n),yt=r):gr(e,t,n);break;default:gr(e,t,n)}}function Kv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ak),t.forEach(function(r){var i=vk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var u=e,m=t,o=m;e:for(;o!==null;){switch(o.tag){case 5:ut=o.stateNode,mn=!1;break e;case 3:ut=o.stateNode.containerInfo,mn=!0;break e;case 4:ut=o.stateNode.containerInfo,mn=!0;break e}o=o.return}if(ut===null)throw Error(oe(160));Gb(u,m,i),ut=null,mn=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(l){Ge(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kb(t,e),t=t.sibling}function Kb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),En(e),r&4){try{Qo(3,e,e.return),bu(3,e)}catch(g){Ge(e,e.return,g)}try{Qo(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:ln(t,e),En(e),r&512&&n!==null&&vs(n,n.return);break;case 5:if(ln(t,e),En(e),r&512&&n!==null&&vs(n,n.return),e.flags&32){var i=e.stateNode;try{oa(i,"")}catch(g){Ge(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,m=n!==null?n.memoizedProps:u,o=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{o==="input"&&u.type==="radio"&&u.name!=null&&vw(i,u),Mf(o,m);var l=Mf(o,u);for(m=0;m<s.length;m+=2){var f=s[m],a=s[m+1];f==="style"?Cw(i,a):f==="dangerouslySetInnerHTML"?ww(i,a):f==="children"?oa(i,a):bp(i,f,a,l)}switch(o){case"input":jf(i,u);break;case"textarea":yw(i,u);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var d=u.value;d!=null?_s(i,!!u.multiple,d,!1):c!==!!u.multiple&&(u.defaultValue!=null?_s(i,!!u.multiple,u.defaultValue,!0):_s(i,!!u.multiple,u.multiple?[]:"",!1))}i[ma]=u}catch(g){Ge(e,e.return,g)}}break;case 6:if(ln(t,e),En(e),r&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(g){Ge(e,e.return,g)}}break;case 3:if(ln(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:ln(t,e),En(e);break;case 13:ln(t,e),En(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(em=qe())),r&4&&Kv(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(l=yt)||f,ln(t,e),yt=l):ln(t,e),En(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!f&&e.mode&1)for(ce=e,f=e.child;f!==null;){for(a=ce=f;ce!==null;){switch(c=ce,d=c.child,c.tag){case 0:case 11:case 14:case 15:Qo(4,c,c.return);break;case 1:vs(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ge(r,n,g)}}break;case 5:vs(c,c.return);break;case 22:if(c.memoizedState!==null){Qv(a);continue}}d!==null?(d.return=c,ce=d):Qv(a)}f=f.sibling}e:for(f=null,a=e;;){if(a.tag===5){if(f===null){f=a;try{i=a.stateNode,l?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(o=a.stateNode,s=a.memoizedProps.style,m=s!=null&&s.hasOwnProperty("display")?s.display:null,o.style.display=bw("display",m))}catch(g){Ge(e,e.return,g)}}}else if(a.tag===6){if(f===null)try{a.stateNode.nodeValue=l?"":a.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:ln(t,e),En(e),r&4&&Kv(e);break;case 21:break;default:ln(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xb(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oa(i,""),r.flags&=-33);var u=Gv(e);ch(e,u,i);break;case 3:case 4:var m=r.stateNode.containerInfo,o=Gv(e);lh(e,o,m);break;default:throw Error(oe(161))}}catch(s){Ge(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ck(e,t,n){ce=e,qb(e)}function qb(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var i=ce,u=i.child;if(i.tag===22&&r){var m=i.memoizedState!==null||El;if(!m){var o=i.alternate,s=o!==null&&o.memoizedState!==null||yt;o=El;var l=yt;if(El=m,(yt=s)&&!l)for(ce=i;ce!==null;)m=ce,s=m.child,m.tag===22&&m.memoizedState!==null?Jv(i):s!==null?(s.return=m,ce=s):Jv(i);for(;u!==null;)ce=u,qb(u),u=u.sibling;ce=i,El=o,yt=l}qv(e)}else i.subtreeFlags&8772&&u!==null?(u.return=i,ce=u):qv(e)}}function qv(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||bu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Rv(t,u,r);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rv(t,m,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var f=l.memoizedState;if(f!==null){var a=f.dehydrated;a!==null&&ua(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}yt||t.flags&512&&ah(t)}catch(c){Ge(t,t.return,c)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Qv(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Jv(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bu(4,t)}catch(s){Ge(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Ge(t,i,s)}}var u=t.return;try{ah(t)}catch(s){Ge(t,u,s)}break;case 5:var m=t.return;try{ah(t)}catch(s){Ge(t,m,s)}}}catch(s){Ge(t,t.return,s)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var uk=Math.ceil,Rc=hr.ReactCurrentDispatcher,Jp=hr.ReactCurrentOwner,nn=hr.ReactCurrentBatchConfig,Ee=0,ct=null,et=null,ft=0,Lt=0,ys=ri(0),it=0,ba=null,Ii=0,Cu=0,Zp=0,Jo=null,Ot=null,em=0,qs=1/0,Gn=null,Dc=!1,uh=null,Ur=null,Pl=!1,Ir=null,Ic=0,Zo=0,dh=null,ec=-1,tc=0;function Et(){return Ee&6?qe():ec!==-1?ec:ec=qe()}function $r(e){return e.mode&1?Ee&2&&ft!==0?ft&-ft:XN.transition!==null?(tc===0&&(tc=Rw()),tc):(e=Me,e!==0||(e=window.event,e=e===void 0?16:zw(e.type)),e):1}function xn(e,t,n,r){if(50<Zo)throw Zo=0,dh=null,Error(oe(185));za(e,n,r),(!(Ee&2)||e!==ct)&&(e===ct&&(!(Ee&2)&&(Cu|=n),it===4&&Er(e,ft)),Dt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(qs=qe()+500,yu&&ii()))}function Dt(e,t){var n=e.callbackNode;Xj(e,t);var r=xc(e,e===ct?ft:0);if(r===0)n!==null&&av(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&av(n),t===1)e.tag===0?YN(Zv.bind(null,e)):ob(Zv.bind(null,e)),WN(function(){!(Ee&6)&&ii()}),n=null;else{switch(Dw(r)){case 1:n=Ep;break;case 4:n=Aw;break;case 16:n=yc;break;case 536870912:n=Mw;break;default:n=yc}n=i1(n,Qb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qb(e,t){if(ec=-1,tc=0,Ee&6)throw Error(oe(327));var n=e.callbackNode;if(ks()&&e.callbackNode!==n)return null;var r=xc(e,e===ct?ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lc(e,r);else{t=r;var i=Ee;Ee|=2;var u=Zb();(ct!==e||ft!==t)&&(Gn=null,qs=qe()+500,ji(e,t));do try{hk();break}catch(o){Jb(e,o)}while(!0);Bp(),Rc.current=u,Ee=i,et!==null?t=0:(ct=null,ft=0,t=it)}if(t!==0){if(t===2&&(i=Ff(e),i!==0&&(r=i,t=fh(e,i))),t===1)throw n=ba,ji(e,0),Er(e,r),Dt(e,qe()),n;if(t===6)Er(e,r);else{if(i=e.current.alternate,!(r&30)&&!dk(i)&&(t=Lc(e,r),t===2&&(u=Ff(e),u!==0&&(r=u,t=fh(e,u))),t===1))throw n=ba,ji(e,0),Er(e,r),Dt(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:pi(e,Ot,Gn);break;case 3:if(Er(e,r),(r&130023424)===r&&(t=em+500-qe(),10<t)){if(xc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yf(pi.bind(null,e,Ot,Gn),t);break}pi(e,Ot,Gn);break;case 4:if(Er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var m=31-yn(r);u=1<<m,m=t[m],m>i&&(i=m),r&=~u}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uk(r/1960))-r,10<r){e.timeoutHandle=Yf(pi.bind(null,e,Ot,Gn),r);break}pi(e,Ot,Gn);break;case 5:pi(e,Ot,Gn);break;default:throw Error(oe(329))}}}return Dt(e,qe()),e.callbackNode===n?Qb.bind(null,e):null}function fh(e,t){var n=Jo;return e.current.memoizedState.isDehydrated&&(ji(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&hh(t)),e}function hh(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function dk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!bn(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~Zp,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function Zv(e){if(Ee&6)throw Error(oe(327));ks();var t=xc(e,0);if(!(t&1))return Dt(e,qe()),null;var n=Lc(e,t);if(e.tag!==0&&n===2){var r=Ff(e);r!==0&&(t=r,n=fh(e,r))}if(n===1)throw n=ba,ji(e,0),Er(e,t),Dt(e,qe()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pi(e,Ot,Gn),Dt(e,qe()),null}function tm(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(qs=qe()+500,yu&&ii())}}function Li(e){Ir!==null&&Ir.tag===0&&!(Ee&6)&&ks();var t=Ee;Ee|=1;var n=nn.transition,r=Me;try{if(nn.transition=null,Me=1,e)return e()}finally{Me=r,nn.transition=n,Ee=t,!(Ee&6)&&ii()}}function nm(){Lt=ys.current,Fe(ys)}function ji(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zN(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tc();break;case 3:Gs(),Fe(Mt),Fe(wt),Hp();break;case 5:$p(r);break;case 4:Gs();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Vp(r.type._context);break;case 22:case 23:nm()}n=n.return}if(ct=e,et=e=Hr(e.current,null),ft=Lt=t,it=0,ba=null,Zp=Cu=Ii=0,Ot=Jo=null,xi!==null){for(t=0;t<xi.length;t++)if(n=xi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,u=n.pending;if(u!==null){var m=u.next;u.next=i,r.next=m}n.pending=r}xi=null}return e}function Jb(e,t){do{var n=et;try{if(Bp(),Ql.current=Mc,Ac){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ac=!1}if(Di=0,at=rt=$e=null,qo=!1,ya=0,Jp.current=null,n===null||n.return===null){it=1,ba=t,et=null;break}e:{var u=e,m=n.return,o=n,s=t;if(t=ft,o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s,f=o,a=f.tag;if(!(f.mode&1)&&(a===0||a===11||a===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=Vv(m);if(d!==null){d.flags&=-257,zv(d,m,o,u,t),d.mode&1&&Bv(u,l,t),t=d,s=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(s),t.updateQueue=g}else p.add(s);break e}else{if(!(t&1)){Bv(u,l,t),rm();break e}s=Error(oe(426))}}else if(ze&&o.mode&1){var h=Vv(m);if(h!==null){!(h.flags&65536)&&(h.flags|=256),zv(h,m,o,u,t),Lp(Ks(s,o));break e}}u=s=Ks(s,o),it!==4&&(it=2),Jo===null?Jo=[u]:Jo.push(u),u=m;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var v=Db(u,s,t);Mv(u,v);break e;case 1:o=s;var x=u.type,w=u.stateNode;if(!(u.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ur===null||!Ur.has(w)))){u.flags|=65536,t&=-t,u.lanes|=t;var b=Ib(u,o,t);Mv(u,b);break e}}u=u.return}while(u!==null)}t1(n)}catch(S){t=S,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function Zb(){var e=Rc.current;return Rc.current=Mc,e===null?Mc:e}function rm(){(it===0||it===3||it===2)&&(it=4),ct===null||!(Ii&268435455)&&!(Cu&268435455)||Er(ct,ft)}function Lc(e,t){var n=Ee;Ee|=2;var r=Zb();(ct!==e||ft!==t)&&(Gn=null,ji(e,t));do try{fk();break}catch(i){Jb(e,i)}while(!0);if(Bp(),Ee=n,Rc.current=r,et!==null)throw Error(oe(261));return ct=null,ft=0,it}function fk(){for(;et!==null;)e1(et)}function hk(){for(;et!==null&&!Fj();)e1(et)}function e1(e){var t=r1(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?t1(e):et=t,Jp.current=null}function t1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ok(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,et=null;return}}else if(n=sk(n,t,Lt),n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);it===0&&(it=5)}function pi(e,t,n){var r=Me,i=nn.transition;try{nn.transition=null,Me=1,pk(e,t,n,r)}finally{nn.transition=i,Me=r}return null}function pk(e,t,n,r){do ks();while(Ir!==null);if(Ee&6)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Gj(e,u),e===ct&&(et=ct=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pl||(Pl=!0,i1(yc,function(){return ks(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=nn.transition,nn.transition=null;var m=Me;Me=1;var o=Ee;Ee|=4,Jp.current=null,lk(e,n),Kb(n,e),RN($f),wc=!!Uf,$f=Uf=null,e.current=n,ck(n),Bj(),Ee=o,Me=m,nn.transition=u}else e.current=n;if(Pl&&(Pl=!1,Ir=e,Ic=i),u=e.pendingLanes,u===0&&(Ur=null),Wj(n.stateNode),Dt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dc)throw Dc=!1,e=uh,uh=null,e;return Ic&1&&e.tag!==0&&ks(),u=e.pendingLanes,u&1?e===dh?Zo++:(Zo=0,dh=e):Zo=0,ii(),null}function ks(){if(Ir!==null){var e=Dw(Ic),t=nn.transition,n=Me;try{if(nn.transition=null,Me=16>e?16:e,Ir===null)var r=!1;else{if(e=Ir,Ir=null,Ic=0,Ee&6)throw Error(oe(331));var i=Ee;for(Ee|=4,ce=e.current;ce!==null;){var u=ce,m=u.child;if(ce.flags&16){var o=u.deletions;if(o!==null){for(var s=0;s<o.length;s++){var l=o[s];for(ce=l;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Qo(8,f,u)}var a=f.child;if(a!==null)a.return=f,ce=a;else for(;ce!==null;){f=ce;var c=f.sibling,d=f.return;if(Yb(f),f===l){ce=null;break}if(c!==null){c.return=d,ce=c;break}ce=d}}}var p=u.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var h=g.sibling;g.sibling=null,g=h}while(g!==null)}}ce=u}}if(u.subtreeFlags&2064&&m!==null)m.return=u,ce=m;else e:for(;ce!==null;){if(u=ce,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Qo(9,u,u.return)}var v=u.sibling;if(v!==null){v.return=u.return,ce=v;break e}ce=u.return}}var x=e.current;for(ce=x;ce!==null;){m=ce;var w=m.child;if(m.subtreeFlags&2064&&w!==null)w.return=m,ce=w;else e:for(m=x;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bu(9,o)}}catch(S){Ge(o,o.return,S)}if(o===m){ce=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ce=b;break e}ce=o.return}}if(Ee=i,ii(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(hu,e)}catch{}r=!0}return r}finally{Me=n,nn.transition=t}}return!1}function ey(e,t,n){t=Ks(n,t),t=Db(e,t,1),e=Wr(e,t,1),t=Et(),e!==null&&(za(e,1,t),Dt(e,t))}function Ge(e,t,n){if(e.tag===3)ey(e,e,n);else for(;t!==null;){if(t.tag===3){ey(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){e=Ks(n,e),e=Ib(t,e,1),t=Wr(t,e,1),e=Et(),t!==null&&(za(t,1,e),Dt(t,e));break}}t=t.return}}function mk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(ft&n)===n&&(it===4||it===3&&(ft&130023424)===ft&&500>qe()-em?ji(e,0):Zp|=n),Dt(e,t)}function n1(e,t){t===0&&(e.mode&1?(t=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):t=1);var n=Et();e=sr(e,t),e!==null&&(za(e,t,n),Dt(e,n))}function gk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),n1(e,n)}function vk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),n1(e,n)}var r1;r1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,ik(e,t,n);At=!!(e.flags&131072)}else At=!1,ze&&t.flags&1048576&&ab(t,Pc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zl(e,t),e=t.pendingProps;var i=Hs(t,wt.current);Ns(t,n),i=Xp(null,t,r,e,i,n);var u=Gp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(u=!0,_c(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wp(t),i.updater=wu,t.stateNode=i,i._reactInternals=t,Zf(t,r,e,n),t=nh(null,t,r,!0,u,n)):(t.tag=0,ze&&u&&Dp(t),St(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xk(r),e=dn(r,e),i){case 0:t=th(null,t,r,e,n);break e;case 1:t=$v(null,t,r,e,n);break e;case 11:t=Wv(null,t,r,e,n);break e;case 14:t=Uv(null,t,r,dn(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),th(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),$v(e,t,r,i,n);case 3:e:{if(Vb(t),e===null)throw Error(oe(387));r=t.pendingProps,u=t.memoizedState,i=u.element,hb(e,t),kc(t,r,null,n);var m=t.memoizedState;if(r=m.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=Ks(Error(oe(423)),t),t=Hv(e,t,r,n,i);break e}else if(r!==i){i=Ks(Error(oe(424)),t),t=Hv(e,t,r,n,i);break e}else for(Vt=zr(t.stateNode.containerInfo.firstChild),Wt=t,ze=!0,gn=null,n=db(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){t=or(e,t,n);break e}St(e,t,r,n)}t=t.child}return t;case 5:return pb(t),e===null&&qf(t),r=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,m=i.children,Hf(r,i)?m=null:u!==null&&Hf(r,u)&&(t.flags|=32),Bb(e,t),St(e,t,m,n),t.child;case 6:return e===null&&qf(t),null;case 13:return zb(e,t,n);case 4:return Up(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):St(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),Wv(e,t,r,i,n);case 7:return St(e,t,t.pendingProps,n),t.child;case 8:return St(e,t,t.pendingProps.children,n),t.child;case 12:return St(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,m=i.value,De(jc,r._currentValue),r._currentValue=m,u!==null)if(bn(u.value,m)){if(u.children===i.children&&!Mt.current){t=or(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var o=u.dependencies;if(o!==null){m=u.child;for(var s=o.firstContext;s!==null;){if(s.context===r){if(u.tag===1){s=er(-1,n&-n),s.tag=2;var l=u.updateQueue;if(l!==null){l=l.shared;var f=l.pending;f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s}}u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),Qf(u.return,n,t),o.lanes|=n;break}s=s.next}}else if(u.tag===10)m=u.type===t.type?null:u.child;else if(u.tag===18){if(m=u.return,m===null)throw Error(oe(341));m.lanes|=n,o=m.alternate,o!==null&&(o.lanes|=n),Qf(m,n,t),m=u.sibling}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}St(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),i=sn(i),r=r(i),t.flags|=1,St(e,t,r,n),t.child;case 14:return r=t.type,i=dn(r,t.pendingProps),i=dn(r.type,i),Uv(e,t,r,i,n);case 15:return Lb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),Zl(e,t),t.tag=1,Rt(r)?(e=!0,_c(t)):e=!1,Ns(t,n),Rb(t,r,i),Zf(t,r,i,n),nh(null,t,r,!0,e,n);case 19:return Wb(e,t,n);case 22:return Fb(e,t,n)}throw Error(oe(156,t.tag))};function i1(e,t){return Ow(e,t)}function yk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new yk(e,t,n,r)}function im(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xk(e){if(typeof e=="function")return im(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sp)return 11;if(e===Tp)return 14}return 2}function Hr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nc(e,t,n,r,i,u){var m=2;if(r=e,typeof e=="function")im(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ls:return Ni(n.children,i,u,t);case Cp:m=8,i|=8;break;case Sf:return e=tn(12,n,t,i|2),e.elementType=Sf,e.lanes=u,e;case Tf:return e=tn(13,n,t,i),e.elementType=Tf,e.lanes=u,e;case _f:return e=tn(19,n,t,i),e.elementType=_f,e.lanes=u,e;case pw:return Su(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fw:m=10;break e;case hw:m=9;break e;case Sp:m=11;break e;case Tp:m=14;break e;case Sr:m=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=tn(m,n,t,i),t.elementType=e,t.type=r,t.lanes=u,t}function Ni(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Su(e,t,n,r){return e=tn(22,e,r,t),e.elementType=pw,e.lanes=n,e.stateNode={isHidden:!1},e}function Id(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Ld(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vd(0),this.expirationTimes=vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sm(e,t,n,r,i,u,m,o,s){return e=new wk(e,t,n,o,s),t===1?(t=1,u===!0&&(t|=8)):t=0,u=tn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(u),e}function bk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:as,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s1(e){if(!e)return Kr;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(Rt(n))return sb(e,n,t)}return t}function o1(e,t,n,r,i,u,m,o,s){return e=sm(n,r,!0,e,i,u,m,o,s),e.context=s1(null),n=e.current,r=Et(),i=$r(n),u=er(r,i),u.callback=t??null,Wr(n,u,i),e.current.lanes=i,za(e,i,r),Dt(e,r),e}function Tu(e,t,n,r){var i=t.current,u=Et(),m=$r(i);return n=s1(n),t.context===null?t.context=n:t.pendingContext=n,t=er(u,m),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wr(i,t,m),e!==null&&(xn(e,i,m,u),ql(e,i,m)),m}function Fc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function om(e,t){ty(e,t),(e=e.alternate)&&ty(e,t)}function Ck(){return null}var a1=typeof reportError=="function"?reportError:function(e){console.error(e)};function am(e){this._internalRoot=e}_u.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Tu(e,t,null,null)};_u.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Li(function(){Tu(null,e,null,null)}),t[ir]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Vw(e)}};function lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ny(){}function Sk(e,t,n,r,i){if(i){if(typeof r=="function"){var u=r;r=function(){var l=Fc(m);u.call(l)}}var m=o1(t,r,e,0,null,!1,!1,"",ny);return e._reactRootContainer=m,e[ir]=m.current,ha(e.nodeType===8?e.parentNode:e),Li(),m}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var l=Fc(s);o.call(l)}}var s=sm(e,0,!1,null,null,!1,!1,"",ny);return e._reactRootContainer=s,e[ir]=s.current,ha(e.nodeType===8?e.parentNode:e),Li(function(){Tu(t,s,n,r)}),s}function Pu(e,t,n,r,i){var u=n._reactRootContainer;if(u){var m=u;if(typeof i=="function"){var o=i;i=function(){var s=Fc(m);o.call(s)}}Tu(t,m,e,i)}else m=Sk(n,t,e,i,r);return Fc(m)}Iw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fo(t.pendingLanes);n!==0&&(Pp(t,n|1),Dt(t,qe()),!(Ee&6)&&(qs=qe()+500,ii()))}break;case 13:Li(function(){var r=sr(e,1);if(r!==null){var i=Et();xn(r,e,1,i)}}),om(e,1)}};jp=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var n=Et();xn(t,e,134217728,n)}om(e,134217728)}};Lw=function(e){if(e.tag===13){var t=$r(e),n=sr(e,t);if(n!==null){var r=Et();xn(n,e,t,r)}om(e,t)}};Fw=function(){return Me};Bw=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};Df=function(e,t,n){switch(t){case"input":if(jf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vu(r);if(!i)throw Error(oe(90));gw(r),jf(r,i)}}}break;case"textarea":yw(e,n);break;case"select":t=n.value,t!=null&&_s(e,!!n.multiple,t,!1)}};_w=tm;Ew=Li;var Tk={usingClientEntryPoint:!1,Events:[Ua,fs,vu,Sw,Tw,tm]},ko={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_k={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nw(e),e===null?null:e.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||Ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{hu=jl.inject(_k),In=jl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(t))throw Error(oe(200));return bk(e,t,null,n)};Xt.createRoot=function(e,t){if(!lm(e))throw Error(oe(299));var n=!1,r="",i=a1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sm(e,1,!1,null,null,n,!1,r,i),e[ir]=t.current,ha(e.nodeType===8?e.parentNode:e),new am(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Nw(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Li(e)};Xt.hydrate=function(e,t,n){if(!Eu(t))throw Error(oe(200));return Pu(null,e,t,!0,n)};Xt.hydrateRoot=function(e,t,n){if(!lm(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,u="",m=a1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=o1(t,null,e,1,n??null,i,!1,u,m),e[ir]=t.current,ha(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _u(t)};Xt.render=function(e,t,n){if(!Eu(t))throw Error(oe(200));return Pu(null,e,t,!1,n)};Xt.unmountComponentAtNode=function(e){if(!Eu(e))throw Error(oe(40));return e._reactRootContainer?(Li(function(){Pu(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};Xt.unstable_batchedUpdates=tm;Xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Eu(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Pu(e,t,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function l1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l1)}catch(e){console.error(e)}}l1(),lw.exports=Xt;var Gi=lw.exports;const c1=q0(Gi);var u1,ry=Gi;u1=ry.createRoot,ry.hydrateRoot;const Ek=1,Pk=1e6;let Fd=0;function jk(){return Fd=(Fd+1)%Number.MAX_SAFE_INTEGER,Fd.toString()}const Bd=new Map,iy=e=>{if(Bd.has(e))return;const t=setTimeout(()=>{Bd.delete(e),ea({type:"REMOVE_TOAST",toastId:e})},Pk);Bd.set(e,t)},Nk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ek)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?iy(n):e.toasts.forEach(r=>{iy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rc=[];let ic={toasts:[]};function ea(e){ic=Nk(ic,e),rc.forEach(t=>{t(ic)})}function kk({...e}){const t=jk(),n=i=>ea({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ea({type:"DISMISS_TOAST",toastId:t});return ea({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Ok(){const[e,t]=C.useState(ic);return C.useEffect(()=>(rc.push(t),()=>{const n=rc.indexOf(t);n>-1&&rc.splice(n,1)}),[e]),{...e,toast:kk,dismiss:n=>ea({type:"DISMISS_TOAST",toastId:n})}}function Bt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function si(...e){return t=>{let n=!1;const r=e.map(i=>{const u=sy(i,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let i=0;i<r.length;i++){const u=r[i];typeof u=="function"?u():sy(e[i],null)}}}}function pe(...e){return C.useCallback(si(...e),e)}function Ak(e,t){const n=C.createContext(t),r=u=>{const{children:m,...o}=u,s=C.useMemo(()=>o,Object.values(o));return y.jsx(n.Provider,{value:s,children:m})};r.displayName=e+"Provider";function i(u){const m=C.useContext(n);if(m)return m;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[r,i]}function Nt(e,t=[]){let n=[];function r(u,m){const o=C.createContext(m),s=n.length;n=[...n,m];const l=a=>{var v;const{scope:c,children:d,...p}=a,g=((v=c==null?void 0:c[e])==null?void 0:v[s])||o,h=C.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:h,children:d})};l.displayName=u+"Provider";function f(a,c){var g;const d=((g=c==null?void 0:c[e])==null?void 0:g[s])||o,p=C.useContext(d);if(p)return p;if(m!==void 0)return m;throw new Error(`\`${a}\` must be used within \`${u}\``)}return[l,f]}const i=()=>{const u=n.map(m=>C.createContext(m));return function(o){const s=(o==null?void 0:o[e])||u;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,Mk(i,...t)]}function Mk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const m=r.reduce((o,{useScope:s,scopeName:l})=>{const a=s(u)[`__scope${l}`];return{...o,...a}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:m}),[m])}};return n.scopeName=t.scopeName,n}function Fi(e){const t=Dk(e),n=C.forwardRef((r,i)=>{const{children:u,...m}=r,o=C.Children.toArray(u),s=o.find(Lk);if(s){const l=s.props.children,f=o.map(a=>a===s?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:a);return y.jsx(t,{...m,ref:i,children:C.isValidElement(l)?C.cloneElement(l,void 0,f):null})}return y.jsx(t,{...m,ref:i,children:u})});return n.displayName=`${e}.Slot`,n}var Rk=Fi("Slot");function Dk(e){const t=C.forwardRef((n,r)=>{const{children:i,...u}=n;if(C.isValidElement(i)){const m=Bk(i),o=Fk(u,i.props);return i.type!==C.Fragment&&(o.ref=r?si(r,m):m),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var d1=Symbol("radix.slottable");function Ik(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=d1,t}function Lk(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d1}function Fk(e,t){const n={...t};for(const r in t){const i=e[r],u=t[r];/^on[A-Z]/.test(r)?i&&u?n[r]=(...o)=>{const s=u(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...u}:r==="className"&&(n[r]=[i,u].filter(Boolean).join(" "))}return{...e,...n}}function Bk(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ha(e){const t=e+"CollectionProvider",[n,r]=Nt(t),[i,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),m=g=>{const{scope:h,children:v}=g,x=le.useRef(null),w=le.useRef(new Map).current;return y.jsx(i,{scope:h,itemMap:w,collectionRef:x,children:v})};m.displayName=t;const o=e+"CollectionSlot",s=Fi(o),l=le.forwardRef((g,h)=>{const{scope:v,children:x}=g,w=u(o,v),b=pe(h,w.collectionRef);return y.jsx(s,{ref:b,children:x})});l.displayName=o;const f=e+"CollectionItemSlot",a="data-radix-collection-item",c=Fi(f),d=le.forwardRef((g,h)=>{const{scope:v,children:x,...w}=g,b=le.useRef(null),S=pe(h,b),T=u(f,v);return le.useEffect(()=>(T.itemMap.set(b,{ref:b,...w}),()=>void T.itemMap.delete(b))),y.jsx(c,{[a]:"",ref:S,children:x})});d.displayName=f;function p(g){const h=u(e+"CollectionConsumer",g);return le.useCallback(()=>{const x=h.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${a}]`));return Array.from(h.itemMap.values()).sort((T,_)=>w.indexOf(T.ref.current)-w.indexOf(_.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:m,Slot:l,ItemSlot:d},p,r]}var Vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=Vk.reduce((e,t)=>{const n=Fi(`Primitive.${t}`),r=C.forwardRef((i,u)=>{const{asChild:m,...o}=i,s=m?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ki(e,t){e&&Gi.flushSync(()=>e.dispatchEvent(t))}function Pe(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Ya(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zk="DismissableLayer",ph="dismissableLayer.update",Wk="dismissableLayer.pointerDownOutside",Uk="dismissableLayer.focusOutside",oy,f1=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h1=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:m,onDismiss:o,...s}=e,l=C.useContext(f1),[f,a]=C.useState(null),c=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),p=pe(t,_=>a(_)),g=Array.from(l.layers),[h]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(h),x=f?g.indexOf(f):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,S=Hk(_=>{const P=_.target,A=[...l.branches].some(M=>M.contains(P));!b||A||(i==null||i(_),m==null||m(_),_.defaultPrevented||o==null||o())},c),T=Yk(_=>{const P=_.target;[...l.branches].some(M=>M.contains(P))||(u==null||u(_),m==null||m(_),_.defaultPrevented||o==null||o())},c);return Ya(_=>{x===l.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},c),C.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(oy=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),ay(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=oy)}},[f,c,n,l]),C.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),ay())},[f,l]),C.useEffect(()=>{const _=()=>d({});return document.addEventListener(ph,_),()=>document.removeEventListener(ph,_)},[]),y.jsx(ue.div,{...s,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Bt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Bt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Bt(e.onPointerDownCapture,S.onPointerDownCapture)})});h1.displayName=zk;var $k="DismissableLayerBranch",p1=C.forwardRef((e,t)=>{const n=C.useContext(f1),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),y.jsx(ue.div,{...e,ref:i})});p1.displayName=$k;function Hk(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const u=o=>{if(o.target&&!r.current){let s=function(){m1(Wk,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},m=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(m),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Yk(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1);return C.useEffect(()=>{const i=u=>{u.target&&!r.current&&m1(Uk,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ay(){const e=new CustomEvent(ph);document.dispatchEvent(e)}function m1(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}var Xk=h1,Gk=p1,je=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Kk="Portal",Xa=C.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,u]=C.useState(!1);je(()=>u(!0),[]);const m=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return m?c1.createPortal(y.jsx(ue.div,{...r,ref:t}),m):null});Xa.displayName=Kk;function qk(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var g1=e=>{const{present:t,children:n}=e,r=Qk(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),u=pe(r.ref,Jk(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:u}):null};g1.displayName="Presence";function Qk(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),u=C.useRef("none"),m=e?"mounted":"unmounted",[o,s]=qk(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=Nl(r.current);u.current=o==="mounted"?l:"none"},[o]),je(()=>{const l=r.current,f=i.current;if(f!==e){const c=u.current,d=Nl(l);e?s("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?s("UNMOUNT"):s(f&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),je(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,a=d=>{const g=Nl(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},c=d=>{d.target===t&&(u.current=Nl(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Nl(e){return(e==null?void 0:e.animationName)||"none"}function Jk(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zk=Hi[" useInsertionEffect ".trim().toString()]||je;function ar({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,u,m]=eO({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:i;{const f=C.useRef(e!==void 0);C.useEffect(()=>{const a=f.current;a!==o&&console.warn(`${r} is changing from ${a?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const l=C.useCallback(f=>{var a;if(o){const c=tO(f)?f(e):f;c!==e&&((a=m.current)==null||a.call(m,c))}else u(f)},[o,e,u,m]);return[s,l]}function eO({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),u=C.useRef(t);return Zk(()=>{u.current=t},[t]),C.useEffect(()=>{var m;i.current!==n&&((m=u.current)==null||m.call(u,n),i.current=n)},[n,i]),[n,r,u]}function tO(e){return typeof e=="function"}var v1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nO="VisuallyHidden",ju=C.forwardRef((e,t)=>y.jsx(ue.span,{...e,ref:t,style:{...v1,...e.style}}));ju.displayName=nO;var rO=ju,cm="ToastProvider",[um,iO,sO]=Ha("Toast"),[y1,w8]=Nt("Toast",[sO]),[oO,Nu]=y1(cm),x1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:u=50,children:m}=e,[o,s]=C.useState(null),[l,f]=C.useState(0),a=C.useRef(!1),c=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cm}\`. Expected non-empty \`string\`.`),y.jsx(um.Provider,{scope:t,children:y.jsx(oO,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:u,toastCount:l,viewport:o,onViewportChange:s,onToastAdd:C.useCallback(()=>f(d=>d+1),[]),onToastRemove:C.useCallback(()=>f(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:a,isClosePausedRef:c,children:m})})};x1.displayName=cm;var w1="ToastViewport",aO=["F8"],mh="toast.viewportPause",gh="toast.viewportResume",b1=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=aO,label:i="Notifications ({hotkey})",...u}=e,m=Nu(w1,n),o=iO(n),s=C.useRef(null),l=C.useRef(null),f=C.useRef(null),a=C.useRef(null),c=pe(t,a,m.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=m.toastCount>0;C.useEffect(()=>{const h=v=>{var w;r.length!==0&&r.every(b=>v[b]||v.code===b)&&((w=a.current)==null||w.focus())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[r]),C.useEffect(()=>{const h=s.current,v=a.current;if(p&&h&&v){const x=()=>{if(!m.isClosePausedRef.current){const T=new CustomEvent(mh);v.dispatchEvent(T),m.isClosePausedRef.current=!0}},w=()=>{if(m.isClosePausedRef.current){const T=new CustomEvent(gh);v.dispatchEvent(T),m.isClosePausedRef.current=!1}},b=T=>{!h.contains(T.relatedTarget)&&w()},S=()=>{h.contains(document.activeElement)||w()};return h.addEventListener("focusin",x),h.addEventListener("focusout",b),h.addEventListener("pointermove",x),h.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{h.removeEventListener("focusin",x),h.removeEventListener("focusout",b),h.removeEventListener("pointermove",x),h.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[p,m.isClosePausedRef]);const g=C.useCallback(({tabbingDirection:h})=>{const x=o().map(w=>{const b=w.ref.current,S=[b,...wO(b)];return h==="forwards"?S:S.reverse()});return(h==="forwards"?x.reverse():x).flat()},[o]);return C.useEffect(()=>{const h=a.current;if(h){const v=x=>{var S,T,_;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const P=document.activeElement,A=x.shiftKey;if(x.target===h&&A){(S=l.current)==null||S.focus();return}const z=g({tabbingDirection:A?"backwards":"forwards"}),Z=z.findIndex(L=>L===P);Vd(z.slice(Z+1))?x.preventDefault():A?(T=l.current)==null||T.focus():(_=f.current)==null||_.focus()}};return h.addEventListener("keydown",v),()=>h.removeEventListener("keydown",v)}},[o,g]),y.jsxs(Gk,{ref:s,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&y.jsx(vh,{ref:l,onFocusFromOutsideViewport:()=>{const h=g({tabbingDirection:"forwards"});Vd(h)}}),y.jsx(um.Slot,{scope:n,children:y.jsx(ue.ol,{tabIndex:-1,...u,ref:c})}),p&&y.jsx(vh,{ref:f,onFocusFromOutsideViewport:()=>{const h=g({tabbingDirection:"backwards"});Vd(h)}})]})});b1.displayName=w1;var C1="ToastFocusProxy",vh=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,u=Nu(C1,n);return y.jsx(ju,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:m=>{var l;const o=m.relatedTarget;!((l=u.viewport)!=null&&l.contains(o))&&r()}})});vh.displayName=C1;var Ga="Toast",lO="toast.swipeStart",cO="toast.swipeMove",uO="toast.swipeCancel",dO="toast.swipeEnd",S1=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:u,...m}=e,[o,s]=ar({prop:r,defaultProp:i??!0,onChange:u,caller:Ga});return y.jsx(g1,{present:n||o,children:y.jsx(pO,{open:o,...m,ref:t,onClose:()=>s(!1),onPause:Pe(e.onPause),onResume:Pe(e.onResume),onSwipeStart:Bt(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Bt(e.onSwipeMove,l=>{const{x:f,y:a}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${a}px`)}),onSwipeCancel:Bt(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Bt(e.onSwipeEnd,l=>{const{x:f,y:a}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${a}px`),s(!1)})})})});S1.displayName=Ga;var[fO,hO]=y1(Ga,{onClose(){}}),pO=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:u,onClose:m,onEscapeKeyDown:o,onPause:s,onResume:l,onSwipeStart:f,onSwipeMove:a,onSwipeCancel:c,onSwipeEnd:d,...p}=e,g=Nu(Ga,n),[h,v]=C.useState(null),x=pe(t,L=>v(L)),w=C.useRef(null),b=C.useRef(null),S=i||g.duration,T=C.useRef(0),_=C.useRef(S),P=C.useRef(0),{onToastAdd:A,onToastRemove:M}=g,B=Pe(()=>{var $;(h==null?void 0:h.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),m()}),z=C.useCallback(L=>{!L||L===1/0||(window.clearTimeout(P.current),T.current=new Date().getTime(),P.current=window.setTimeout(B,L))},[B]);C.useEffect(()=>{const L=g.viewport;if(L){const $=()=>{z(_.current),l==null||l()},Q=()=>{const G=new Date().getTime()-T.current;_.current=_.current-G,window.clearTimeout(P.current),s==null||s()};return L.addEventListener(mh,Q),L.addEventListener(gh,$),()=>{L.removeEventListener(mh,Q),L.removeEventListener(gh,$)}}},[g.viewport,S,s,l,z]),C.useEffect(()=>{u&&!g.isClosePausedRef.current&&z(S)},[u,S,g.isClosePausedRef,z]),C.useEffect(()=>(A(),()=>M()),[A,M]);const Z=C.useMemo(()=>h?k1(h):null,[h]);return g.viewport?y.jsxs(y.Fragment,{children:[Z&&y.jsx(mO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Z}),y.jsx(fO,{scope:n,onClose:B,children:Gi.createPortal(y.jsx(um.ItemSlot,{scope:n,children:y.jsx(Xk,{asChild:!0,onEscapeKeyDown:Bt(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(ue.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Bt(e.onKeyDown,L=>{L.key==="Escape"&&(o==null||o(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Bt(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:Bt(e.onPointerMove,L=>{if(!w.current)return;const $=L.clientX-w.current.x,Q=L.clientY-w.current.y,G=!!b.current,D=["left","right"].includes(g.swipeDirection),E=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,j=D?E(0,$):0,k=D?0:E(0,Q),O=L.pointerType==="touch"?10:2,U={x:j,y:k},R={originalEvent:L,delta:U};G?(b.current=U,kl(cO,a,R,{discrete:!1})):ly(U,g.swipeDirection,O)?(b.current=U,kl(lO,f,R,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs($)>O||Math.abs(Q)>O)&&(w.current=null)}),onPointerUp:Bt(e.onPointerUp,L=>{const $=b.current,Q=L.target;if(Q.hasPointerCapture(L.pointerId)&&Q.releasePointerCapture(L.pointerId),b.current=null,w.current=null,$){const G=L.currentTarget,D={originalEvent:L,delta:$};ly($,g.swipeDirection,g.swipeThreshold)?kl(dO,d,D,{discrete:!0}):kl(uO,c,D,{discrete:!0}),G.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),mO=e=>{const{__scopeToast:t,children:n,...r}=e,i=Nu(Ga,t),[u,m]=C.useState(!1),[o,s]=C.useState(!1);return yO(()=>m(!0)),C.useEffect(()=>{const l=window.setTimeout(()=>s(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:y.jsx(Xa,{asChild:!0,children:y.jsx(ju,{...r,children:u&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},gO="ToastTitle",T1=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(ue.div,{...r,ref:t})});T1.displayName=gO;var vO="ToastDescription",_1=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(ue.div,{...r,ref:t})});_1.displayName=vO;var E1="ToastAction",P1=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?y.jsx(N1,{altText:n,asChild:!0,children:y.jsx(dm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${E1}\`. Expected non-empty \`string\`.`),null)});P1.displayName=E1;var j1="ToastClose",dm=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=hO(j1,n);return y.jsx(N1,{asChild:!0,children:y.jsx(ue.button,{type:"button",...r,ref:t,onClick:Bt(e.onClick,i.onClose)})})});dm.displayName=j1;var N1=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return y.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function k1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),xO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",u=r.dataset.radixToastAnnounceExclude==="";if(!i)if(u){const m=r.dataset.radixToastAnnounceAlt;m&&t.push(m)}else t.push(...k1(r))}}),t}function kl(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}var ly=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),u=r>i;return t==="left"||t==="right"?u&&r>n:!u&&i>n};function yO(e=()=>{}){const t=Pe(e);je(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function xO(e){return e.nodeType===e.ELEMENT_NODE}function wO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var bO=x1,O1=b1,A1=S1,M1=T1,R1=_1,D1=P1,I1=dm;function L1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=L1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function F1(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=L1(e))&&(r&&(r+=" "),r+=t);return r}const cy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uy=F1,ku=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return uy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:u}=t,m=Object.keys(i).map(l=>{const f=n==null?void 0:n[l],a=u==null?void 0:u[l];if(f===null)return null;const c=cy(f)||cy(a);return i[l][c]}),o=n&&Object.entries(n).reduce((l,f)=>{let[a,c]=f;return c===void 0||(l[a]=c),l},{}),s=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,f)=>{let{class:a,className:c,...d}=f;return Object.entries(d).every(p=>{let[g,h]=p;return Array.isArray(h)?h.includes({...u,...o}[g]):{...u,...o}[g]===h})?[...l,a,c]:l},[]);return uy(e,m,s,n==null?void 0:n.class,n==null?void 0:n.className)};var CO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TO=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:m,children:o,...s},l)=>C.createElement("svg",{ref:l,...CO,width:i,height:i,stroke:r,strokeWidth:m?Number(u)*24/Number(i):u,className:`lucide lucide-${SO(e)}`,...s},[...t.map(([f,a])=>C.createElement(f,a)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n};var fe=TO;const yh=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),_O=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),dy=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),EO=fe("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]),PO=fe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),B1=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),xh=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),jO=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ka=fe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),lr=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),V1=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),fm=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),zd=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Os=fe("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),NO=fe("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),z1=fe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),hm=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),W1=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Qs=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kO=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),U1=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),OO=fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),qa=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wh=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),cr=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),AO=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),MO=fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),RO=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),DO=fe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),IO=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),LO=fe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]),Ca=fe("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),FO=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),$1=fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),BO=fe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),H1=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Y1=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),X1=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),VO=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),G1=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),fy=fe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),zO=fe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),WO=fe("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]),Yr=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),UO=fe("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),$O=fe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),HO=fe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),zn=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),YO=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),qr=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),K1=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),XO=fe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),q1=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),GO=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),KO=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),pm=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ou=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Q1=fe("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),bh=fe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),qO=fe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),QO=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Au=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vn=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mm=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),J1=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gm="-",JO=e=>{const t=eA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:m=>{const o=m.split(gm);return o[0]===""&&o.length!==1&&o.shift(),Z1(o,t)||ZO(m)},getConflictingClassGroupIds:(m,o)=>{const s=n[m]||[];return o&&r[m]?[...s,...r[m]]:s}}},Z1=(e,t)=>{var m;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Z1(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const u=e.join(gm);return(m=t.validators.find(({validator:o})=>o(u)))==null?void 0:m.classGroupId},hy=/^\[(.+)\]$/,ZO=e=>{if(hy.test(e)){const t=hy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},eA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return nA(Object.entries(e.classGroups),n).forEach(([u,m])=>{Ch(m,r,u,t)}),r},Ch=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const u=i===""?t:py(t,i);u.classGroupId=n;return}if(typeof i=="function"){if(tA(i)){Ch(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([u,m])=>{Ch(m,py(t,u),n,r)})})},py=(e,t)=>{let n=e;return t.split(gm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tA=e=>e.isThemeGetter,nA=(e,t)=>t?e.map(([n,r])=>{const i=r.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([m,o])=>[t+m,o])):u);return[n,i]}):e,rA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(u,m)=>{n.set(u,m),t++,t>e&&(t=0,r=n,n=new Map)};return{get(u){let m=n.get(u);if(m!==void 0)return m;if((m=r.get(u))!==void 0)return i(u,m),m},set(u,m){n.has(u)?n.set(u,m):i(u,m)}}},eC="!",iA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],u=t.length,m=o=>{const s=[];let l=0,f=0,a;for(let h=0;h<o.length;h++){let v=o[h];if(l===0){if(v===i&&(r||o.slice(h,h+u)===t)){s.push(o.slice(f,h)),f=h+u;continue}if(v==="/"){a=h;continue}}v==="["?l++:v==="]"&&l--}const c=s.length===0?o:o.substring(f),d=c.startsWith(eC),p=d?c.substring(1):c,g=a&&a>f?a-f:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:m}):m},sA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},oA=e=>({cache:rA(e.cacheSize),parseClassName:iA(e),...JO(e)}),aA=/\s+/,lA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,u=[],m=e.trim().split(aA);let o="";for(let s=m.length-1;s>=0;s-=1){const l=m[s],{modifiers:f,hasImportantModifier:a,baseClassName:c,maybePostfixModifierPosition:d}=n(l);let p=!!d,g=r(p?c.substring(0,d):c);if(!g){if(!p){o=l+(o.length>0?" "+o:o);continue}if(g=r(c),!g){o=l+(o.length>0?" "+o:o);continue}p=!1}const h=sA(f).join(":"),v=a?h+eC:h,x=v+g;if(u.includes(x))continue;u.push(x);const w=i(g,p);for(let b=0;b<w.length;++b){const S=w[b];u.push(v+S)}o=l+(o.length>0?" "+o:o)}return o};function cA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tC(t))&&(r&&(r+=" "),r+=n);return r}const tC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tC(e[r]))&&(n&&(n+=" "),n+=t);return n};function uA(e,...t){let n,r,i,u=m;function m(s){const l=t.reduce((f,a)=>a(f),e());return n=oA(l),r=n.cache.get,i=n.cache.set,u=o,o(s)}function o(s){const l=r(s);if(l)return l;const f=lA(s,n);return i(s,f),f}return function(){return u(cA.apply(null,arguments))}}const Ie=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nC=/^\[(?:([a-z-]+):)?(.+)\]$/i,dA=/^\d+\/\d+$/,fA=new Set(["px","full","screen"]),hA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=e=>As(e)||fA.has(e)||dA.test(e),vr=e=>fo(e,"length",_A),As=e=>!!e&&!Number.isNaN(Number(e)),Wd=e=>fo(e,"number",As),Oo=e=>!!e&&Number.isInteger(Number(e)),yA=e=>e.endsWith("%")&&As(e.slice(0,-1)),Ce=e=>nC.test(e),yr=e=>hA.test(e),xA=new Set(["length","size","percentage"]),wA=e=>fo(e,xA,rC),bA=e=>fo(e,"position",rC),CA=new Set(["image","url"]),SA=e=>fo(e,CA,PA),TA=e=>fo(e,"",EA),Ao=()=>!0,fo=(e,t,n)=>{const r=nC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},_A=e=>pA.test(e)&&!mA.test(e),rC=()=>!1,EA=e=>gA.test(e),PA=e=>vA.test(e),jA=()=>{const e=Ie("colors"),t=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),i=Ie("borderColor"),u=Ie("borderRadius"),m=Ie("borderSpacing"),o=Ie("borderWidth"),s=Ie("contrast"),l=Ie("grayscale"),f=Ie("hueRotate"),a=Ie("invert"),c=Ie("gap"),d=Ie("gradientColorStops"),p=Ie("gradientColorStopPositions"),g=Ie("inset"),h=Ie("margin"),v=Ie("opacity"),x=Ie("padding"),w=Ie("saturate"),b=Ie("scale"),S=Ie("sepia"),T=Ie("skew"),_=Ie("space"),P=Ie("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Ce,t],z=()=>[Ce,t],Z=()=>["",Yn,vr],L=()=>["auto",As,Ce],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",Ce],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>[As,Ce];return{cacheSize:500,separator:":",theme:{colors:[Ao],spacing:[Yn,vr],blur:["none","",yr,Ce],brightness:k(),borderColor:[e],borderRadius:["none","","full",yr,Ce],borderSpacing:z(),borderWidth:Z(),contrast:k(),grayscale:E(),hueRotate:k(),invert:E(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[yA,vr],inset:B(),margin:B(),opacity:k(),padding:z(),saturate:k(),scale:k(),sepia:E(),skew:k(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[yr]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,Ce]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Oo,Ce]}],"grid-cols":[{"grid-cols":[Ao]}],"col-start-end":[{col:["auto",{span:["full",Oo,Ce]},Ce]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ao]}],"row-start-end":[{row:["auto",{span:[Oo,Ce]},Ce]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[c]}],"gap-x":[{"gap-x":[c]}],"gap-y":[{"gap-y":[c]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[yr]},yr]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yr,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wd]}],"font-family":[{font:[Ao]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",As,Wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,vr]}],"underline-offset":[{"underline-offset":["auto",Yn,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),bA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Yn,Ce]}],"outline-w":[{outline:[Yn,vr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Yn,vr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yr,TA]}],"shadow-color":[{shadow:[Ao]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",yr,Ce]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[a]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[a]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:k()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:k()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Oo,Ce]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yn,vr,Wd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NA=uA(jA);function ae(...e){return NA(F1(e))}const kA=bO,iC=C.forwardRef(({className:e,...t},n)=>y.jsx(O1,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));iC.displayName=O1.displayName;const OA=ku("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sC=C.forwardRef(({className:e,variant:t,...n},r)=>y.jsx(A1,{ref:r,className:ae(OA({variant:t}),e),...n}));sC.displayName=A1.displayName;const AA=C.forwardRef(({className:e,...t},n)=>y.jsx(D1,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));AA.displayName=D1.displayName;const oC=C.forwardRef(({className:e,...t},n)=>y.jsx(I1,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:y.jsx(mm,{className:"h-4 w-4"})}));oC.displayName=I1.displayName;const aC=C.forwardRef(({className:e,...t},n)=>y.jsx(M1,{ref:n,className:ae("text-sm font-semibold",e),...t}));aC.displayName=M1.displayName;const lC=C.forwardRef(({className:e,...t},n)=>y.jsx(R1,{ref:n,className:ae("text-sm opacity-90",e),...t}));lC.displayName=R1.displayName;function MA(){const{toasts:e}=Ok();return y.jsxs(kA,{children:[e.map(function({id:t,title:n,description:r,action:i,...u}){return y.jsxs(sC,{...u,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(aC,{children:n}),r&&y.jsx(lC,{children:r})]}),i,y.jsx(oC,{})]},t)}),y.jsx(iC,{})]})}const RA=C.createContext(void 0),DA={setTheme:e=>{},themes:[]},IA=()=>{var e;return(e=C.useContext(RA))!==null&&e!==void 0?e:DA};function LA(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}LA(`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform,opacity,height;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--color);background:var(--border-color)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}
`);var FA=e=>{switch(e){case"success":return zA;case"error":return WA;default:return null}},BA=Array(12).fill(0),VA=({visible:e})=>le.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},le.createElement("div",{className:"sonner-spinner"},BA.map((t,n)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),zA=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WA=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sh=0,UA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sh++,u=this.toasts.find(o=>o.id===i),m=e.dismissible===void 0?!0:e.dismissible;return u?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:m,title:n}):o):this.addToast({title:n,...r,dismissible:m,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n=this.create({...t,promise:e,type:"loading",message:t.loading});return(e instanceof Promise?e:e()).then(r=>{let i=typeof t.success=="function"?t.success(r):t.success;this.create({id:n,type:"success",message:i})}).catch(r=>{let i=typeof t.error=="function"?t.error(r):t.error;this.create({id:n,type:"error",message:i})}).finally(t.finally),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Sh++;this.publish({jsx:e(n),id:n,...t})},this.subscribers=[],this.toasts=[]}},Kn=new UA,$A=(e,t)=>{let n=(t==null?void 0:t.id)||Sh++;return Kn.addToast({title:e,...t,id:n}),n},HA=$A,Ne=Object.assign(HA,{success:Kn.success,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading}),YA=3,XA="32px",GA=4e3,KA=356,cC=14,qA=20,QA=200,JA=e=>{let{invert:t,toast:n,interacting:r,setHeights:i,visibleToasts:u,heights:m,index:o,toasts:s,expanded:l,removeToast:f,closeButton:a,style:c,className:d="",descriptionClassName:p="",duration:g,position:h,expandByDefault:v}=e,[x,w]=le.useState(!1),[b,S]=le.useState(!1),[T,_]=le.useState(!1),[P,A]=le.useState(!1),[M,B]=le.useState(0),[z,Z]=le.useState(0),L=le.useRef(null),$=le.useRef(null),Q=o===0,G=o+1<=u,D=n.type,E=n.dismissible!==!1,j=n.className||"",k=n.descriptionClassName||"",O=le.useMemo(()=>m.findIndex(H=>H.toastId===n.id)||0,[m,n.id]),U=le.useMemo(()=>n.duration||g||GA,[n.duration,g]),R=le.useRef(0),N=le.useRef(0),F=le.useRef(U),I=le.useRef(0),Y=le.useRef(null),[W,q]=h.split("-"),ee=le.useMemo(()=>m.reduce((H,J,K)=>K>=O?H:H+J.height,0),[m,O]),ie=n.invert||t,X=D==="loading";N.current=le.useMemo(()=>O*cC+ee,[O,ee]),le.useEffect(()=>{w(!0)},[]),le.useLayoutEffect(()=>{if(!x)return;let H=$.current,J=H.style.height;H.style.height="auto";let K=H.getBoundingClientRect().height;H.style.height=J,Z(K),i(te=>te.find(se=>se.toastId===n.id)?te.map(se=>se.toastId===n.id?{...se,height:K}:se):[{toastId:n.id,height:K},...te])},[x,n.title,n.description,i,n.id]);let V=le.useCallback(()=>{S(!0),B(N.current),i(H=>H.filter(J=>J.toastId!==n.id)),setTimeout(()=>{f(n)},QA)},[n,f,i,N]);return le.useEffect(()=>{if(n.promise&&D==="loading"||n.duration===1/0)return;let H;return l||r?(()=>{if(I.current<R.current){let J=new Date().getTime()-R.current;F.current=F.current-J}I.current=new Date().getTime()})():(R.current=new Date().getTime(),H=setTimeout(()=>{var J;(J=n.onAutoClose)==null||J.call(n,n),V()},F.current)),()=>clearTimeout(H)},[l,r,v,n,U,V,n.promise,D]),le.useEffect(()=>{let H=$.current;if(H){let J=H.getBoundingClientRect().height;return Z(J),i(K=>[{toastId:n.id,height:J},...K]),()=>i(K=>K.filter(te=>te.toastId!==n.id))}},[i,n.id]),le.useEffect(()=>{n.delete&&V()},[V,n.delete]),le.createElement("li",{"aria-live":n.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$,className:d+" "+j,"data-sonner-toast":"","data-styled":!n.jsx,"data-mounted":x,"data-promise":!!n.promise,"data-removed":b,"data-visible":G,"data-y-position":W,"data-x-position":q,"data-index":o,"data-front":Q,"data-swiping":T,"data-dismissible":E,"data-type":D,"data-invert":ie,"data-swipe-out":P,"data-expanded":!!(l||v&&x),style:{"--index":o,"--toasts-before":o,"--z-index":s.length-o,"--offset":`${b?M:N.current}px`,"--initial-height":v?"auto":`${z}px`,...c,...n.style},onPointerDown:H=>{X||!E||(L.current=new Date,B(N.current),H.target.setPointerCapture(H.pointerId),H.target.tagName!=="BUTTON"&&(_(!0),Y.current={x:H.clientX,y:H.clientY}))},onPointerUp:()=>{var H,J,K,te;if(P||!E)return;Y.current=null;let se=Number(((H=$.current)==null?void 0:H.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ve=new Date().getTime()-((J=L.current)==null?void 0:J.getTime()),he=Math.abs(se)/ve;if(Math.abs(se)>=qA||he>.11){B(N.current),(K=n.onDismiss)==null||K.call(n,n),V(),A(!0);return}(te=$.current)==null||te.style.setProperty("--swipe-amount","0px"),_(!1)},onPointerMove:H=>{var J;if(!Y.current||!E)return;let K=H.clientY-Y.current.y,te=H.clientX-Y.current.x,se=(W==="top"?Math.min:Math.max)(0,K),ve=H.pointerType==="touch"?10:2;Math.abs(se)>ve?(J=$.current)==null||J.style.setProperty("--swipe-amount",`${K}px`):Math.abs(te)>ve&&(Y.current=null)}},a&&!n.jsx?le.createElement("button",{"aria-label":"Close toast","data-disabled":X,"data-close-button":!0,onClick:X||!E?void 0:()=>{var H;V(),(H=n.onDismiss)==null||H.call(n,n)}},le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,n.jsx||le.isValidElement(n.title)?n.jsx||n.title:le.createElement(le.Fragment,null,D||n.icon||n.promise?le.createElement("div",{"data-icon":""},n.promise||n.type==="loading"?le.createElement(VA,{visible:D==="loading"}):null,n.icon||FA(D)):null,le.createElement("div",{"data-content":""},le.createElement("div",{"data-title":""},n.title),n.description?le.createElement("div",{"data-description":"",className:p+k},n.description):null),n.cancel?le.createElement("button",{"data-button":!0,"data-cancel":!0,onClick:()=>{var H;E&&(V(),(H=n.cancel)!=null&&H.onClick&&n.cancel.onClick())}},n.cancel.label):null,n.action?le.createElement("button",{"data-button":"",onClick:H=>{var J;(J=n.action)==null||J.onClick(H),!H.defaultPrevented&&V()}},n.action.label):null))};function my(){if(typeof window>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var ZA=e=>{var t;let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:u,closeButton:m,className:o,offset:s,theme:l="light",richColors:f,duration:a,style:c,visibleToasts:d=YA,toastOptions:p,dir:g=my()}=e,[h,v]=le.useState([]),[x,w]=le.useState([]),[b,S]=le.useState(!1),[T,_]=le.useState(!1),[P,A]=le.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[M,B]=r.split("-"),z=le.useRef(null),Z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=le.useRef(null),$=le.useRef(!1),Q=le.useCallback(G=>v(D=>D.filter(({id:E})=>E!==G.id)),[]);return le.useEffect(()=>Kn.subscribe(G=>{if(G.dismiss){v(D=>D.map(E=>E.id===G.id?{...E,delete:!0}:E));return}setTimeout(()=>{c1.flushSync(()=>{v(D=>{let E=D.findIndex(j=>j.id===G.id);return E!==-1?[...D.slice(0,E),{...D[E],...G},...D.slice(E+1)]:[G,...D]})})})}),[]),le.useEffect(()=>{if(l!=="system"){A(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{A(G?"dark":"light")})},[l]),le.useEffect(()=>{h.length<=1&&S(!1)},[h]),le.useEffect(()=>{let G=D=>{var E,j;i.every(k=>D[k]||D.code===k)&&(S(!0),(E=z.current)==null||E.focus()),D.code==="Escape"&&(document.activeElement===z.current||(j=z.current)!=null&&j.contains(document.activeElement))&&S(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),le.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,$.current=!1)}},[z.current]),h.length?le.createElement("section",{"aria-label":`Notifications ${Z}`,tabIndex:-1},le.createElement("ol",{dir:g==="auto"?my():g,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":P,"data-rich-colors":f,"data-y-position":M,"data-x-position":B,style:{"--front-toast-height":`${(t=x[0])==null?void 0:t.height}px`,"--offset":typeof s=="number"?`${s}px`:s||XA,"--width":`${KA}px`,"--gap":`${cC}px`,...c},onBlur:G=>{$.current&&!G.currentTarget.contains(G.relatedTarget)&&($.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||$.current||($.current=!0,L.current=G.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{T||S(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||_(!0)},onPointerUp:()=>_(!1)},h.map((G,D)=>le.createElement(JA,{key:G.id,index:D,toast:G,duration:a,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:d,closeButton:m,interacting:T,position:r,style:p==null?void 0:p.style,removeToast:Q,toasts:h,heights:x,setHeights:w,expandByDefault:u,expanded:b})))):null};const eM=({...e})=>{const{theme:t="system"}=IA();return y.jsx(ZA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var tM="DismissableLayer",Th="dismissableLayer.update",nM="dismissableLayer.pointerDownOutside",rM="dismissableLayer.focusOutside",gy,uC=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dC=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:m,onDismiss:o,...s}=e,l=C.useContext(uC),[f,a]=C.useState(null),c=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),p=pe(t,_=>a(_)),g=Array.from(l.layers),[h]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(h),x=f?g.indexOf(f):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,S=oM(_=>{const P=_.target,A=[...l.branches].some(M=>M.contains(P));!b||A||(i==null||i(_),m==null||m(_),_.defaultPrevented||o==null||o())},c),T=aM(_=>{const P=_.target;[...l.branches].some(M=>M.contains(P))||(u==null||u(_),m==null||m(_),_.defaultPrevented||o==null||o())},c);return Ya(_=>{x===l.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},c),C.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(gy=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),vy(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=gy)}},[f,c,n,l]),C.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),vy())},[f,l]),C.useEffect(()=>{const _=()=>d({});return document.addEventListener(Th,_),()=>document.removeEventListener(Th,_)},[]),y.jsx(ue.div,{...s,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,S.onPointerDownCapture)})});dC.displayName=tM;var iM="DismissableLayerBranch",sM=C.forwardRef((e,t)=>{const n=C.useContext(uC),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),y.jsx(ue.div,{...e,ref:i})});sM.displayName=iM;function oM(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const u=o=>{if(o.target&&!r.current){let s=function(){fC(nM,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},m=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(m),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function aM(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1);return C.useEffect(()=>{const i=u=>{u.target&&!r.current&&fC(rM,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vy(){const e=new CustomEvent(Th);document.dispatchEvent(e)}function fC(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}var lM=Hi[" useId ".trim().toString()]||(()=>{}),cM=0;function wn(e){const[t,n]=C.useState(lM());return je(()=>{n(r=>r??String(cM++))},[e]),t?`radix-${t}`:""}const uM=["top","right","bottom","left"],Qr=Math.min,Ft=Math.max,Bc=Math.round,Ol=Math.floor,Fn=e=>({x:e,y:e}),dM={left:"right",right:"left",bottom:"top",top:"bottom"},fM={start:"end",end:"start"};function _h(e,t,n){return Ft(e,Qr(t,n))}function ur(e,t){return typeof e=="function"?e(t):e}function dr(e){return e.split("-")[0]}function ho(e){return e.split("-")[1]}function vm(e){return e==="x"?"y":"x"}function ym(e){return e==="y"?"height":"width"}const hM=new Set(["top","bottom"]);function Dn(e){return hM.has(dr(e))?"y":"x"}function xm(e){return vm(Dn(e))}function pM(e,t,n){n===void 0&&(n=!1);const r=ho(e),i=xm(e),u=ym(i);let m=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(m=Vc(m)),[m,Vc(m)]}function mM(e){const t=Vc(e);return[Eh(e),t,Eh(t)]}function Eh(e){return e.replace(/start|end/g,t=>fM[t])}const yy=["left","right"],xy=["right","left"],gM=["top","bottom"],vM=["bottom","top"];function yM(e,t,n){switch(e){case"top":case"bottom":return n?t?xy:yy:t?yy:xy;case"left":case"right":return t?gM:vM;default:return[]}}function xM(e,t,n,r){const i=ho(e);let u=yM(dr(e),n==="start",r);return i&&(u=u.map(m=>m+"-"+i),t&&(u=u.concat(u.map(Eh)))),u}function Vc(e){return e.replace(/left|right|bottom|top/g,t=>dM[t])}function wM(e){return{top:0,right:0,bottom:0,left:0,...e}}function hC(e){return typeof e!="number"?wM(e):{top:e,right:e,bottom:e,left:e}}function zc(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function wy(e,t,n){let{reference:r,floating:i}=e;const u=Dn(t),m=xm(t),o=ym(m),s=dr(t),l=u==="y",f=r.x+r.width/2-i.width/2,a=r.y+r.height/2-i.height/2,c=r[o]/2-i[o]/2;let d;switch(s){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:a};break;case"left":d={x:r.x-i.width,y:a};break;default:d={x:r.x,y:r.y}}switch(ho(t)){case"start":d[m]-=c*(n&&l?-1:1);break;case"end":d[m]+=c*(n&&l?-1:1);break}return d}const bM=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:u=[],platform:m}=n,o=u.filter(Boolean),s=await(m.isRTL==null?void 0:m.isRTL(t));let l=await m.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:a}=wy(l,r,s),c=r,d={},p=0;for(let g=0;g<o.length;g++){const{name:h,fn:v}=o[g],{x,y:w,data:b,reset:S}=await v({x:f,y:a,initialPlacement:r,placement:c,strategy:i,middlewareData:d,rects:l,platform:m,elements:{reference:e,floating:t}});f=x??f,a=w??a,d={...d,[h]:{...d[h],...b}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(c=S.placement),S.rects&&(l=S.rects===!0?await m.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:f,y:a}=wy(l,c,s)),g=-1)}return{x:f,y:a,placement:c,strategy:i,middlewareData:d}};async function Sa(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:u,rects:m,elements:o,strategy:s}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:a="floating",altBoundary:c=!1,padding:d=0}=ur(t,e),p=hC(d),h=o[c?a==="floating"?"reference":"floating":a],v=zc(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(h)))==null||n?h:h.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(o.floating)),boundary:l,rootBoundary:f,strategy:s})),x=a==="floating"?{x:r,y:i,width:m.floating.width,height:m.floating.height}:m.reference,w=await(u.getOffsetParent==null?void 0:u.getOffsetParent(o.floating)),b=await(u.isElement==null?void 0:u.isElement(w))?await(u.getScale==null?void 0:u.getScale(w))||{x:1,y:1}:{x:1,y:1},S=zc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:w,strategy:s}):x);return{top:(v.top-S.top+p.top)/b.y,bottom:(S.bottom-v.bottom+p.bottom)/b.y,left:(v.left-S.left+p.left)/b.x,right:(S.right-v.right+p.right)/b.x}}const CM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:u,platform:m,elements:o,middlewareData:s}=t,{element:l,padding:f=0}=ur(e,t)||{};if(l==null)return{};const a=hC(f),c={x:n,y:r},d=xm(i),p=ym(d),g=await m.getDimensions(l),h=d==="y",v=h?"top":"left",x=h?"bottom":"right",w=h?"clientHeight":"clientWidth",b=u.reference[p]+u.reference[d]-c[d]-u.floating[p],S=c[d]-u.reference[d],T=await(m.getOffsetParent==null?void 0:m.getOffsetParent(l));let _=T?T[w]:0;(!_||!await(m.isElement==null?void 0:m.isElement(T)))&&(_=o.floating[w]||u.floating[p]);const P=b/2-S/2,A=_/2-g[p]/2-1,M=Qr(a[v],A),B=Qr(a[x],A),z=M,Z=_-g[p]-B,L=_/2-g[p]/2+P,$=_h(z,L,Z),Q=!s.arrow&&ho(i)!=null&&L!==$&&u.reference[p]/2-(L<z?M:B)-g[p]/2<0,G=Q?L<z?L-z:L-Z:0;return{[d]:c[d]+G,data:{[d]:$,centerOffset:L-$-G,...Q&&{alignmentOffset:G}},reset:Q}}}),SM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:u,rects:m,initialPlacement:o,platform:s,elements:l}=t,{mainAxis:f=!0,crossAxis:a=!0,fallbackPlacements:c,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...h}=ur(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const v=dr(i),x=Dn(o),w=dr(o)===o,b=await(s.isRTL==null?void 0:s.isRTL(l.floating)),S=c||(w||!g?[Vc(o)]:mM(o)),T=p!=="none";!c&&T&&S.push(...xM(o,g,p,b));const _=[o,...S],P=await Sa(t,h),A=[];let M=((r=u.flip)==null?void 0:r.overflows)||[];if(f&&A.push(P[v]),a){const L=pM(i,m,b);A.push(P[L[0]],P[L[1]])}if(M=[...M,{placement:i,overflows:A}],!A.every(L=>L<=0)){var B,z;const L=(((B=u.flip)==null?void 0:B.index)||0)+1,$=_[L];if($&&(!(a==="alignment"?x!==Dn($):!1)||M.every(D=>D.overflows[0]>0&&Dn(D.placement)===x)))return{data:{index:L,overflows:M},reset:{placement:$}};let Q=(z=M.filter(G=>G.overflows[0]<=0).sort((G,D)=>G.overflows[1]-D.overflows[1])[0])==null?void 0:z.placement;if(!Q)switch(d){case"bestFit":{var Z;const G=(Z=M.filter(D=>{if(T){const E=Dn(D.placement);return E===x||E==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(E=>E>0).reduce((E,j)=>E+j,0)]).sort((D,E)=>D[1]-E[1])[0])==null?void 0:Z[0];G&&(Q=G);break}case"initialPlacement":Q=o;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function by(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cy(e){return uM.some(t=>e[t]>=0)}const TM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ur(e,t);switch(r){case"referenceHidden":{const u=await Sa(t,{...i,elementContext:"reference"}),m=by(u,n.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:Cy(m)}}}case"escaped":{const u=await Sa(t,{...i,altBoundary:!0}),m=by(u,n.floating);return{data:{escapedOffsets:m,escaped:Cy(m)}}}default:return{}}}}},pC=new Set(["left","top"]);async function _M(e,t){const{placement:n,platform:r,elements:i}=e,u=await(r.isRTL==null?void 0:r.isRTL(i.floating)),m=dr(n),o=ho(n),s=Dn(n)==="y",l=pC.has(m)?-1:1,f=u&&s?-1:1,a=ur(t,e);let{mainAxis:c,crossAxis:d,alignmentAxis:p}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return o&&typeof p=="number"&&(d=o==="end"?p*-1:p),s?{x:d*f,y:c*l}:{x:c*l,y:d*f}}const EM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:u,placement:m,middlewareData:o}=t,s=await _M(t,e);return m===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:u+s.y,data:{...s,placement:m}}}}},PM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:u=!0,crossAxis:m=!1,limiter:o={fn:h=>{let{x:v,y:x}=h;return{x:v,y:x}}},...s}=ur(e,t),l={x:n,y:r},f=await Sa(t,s),a=Dn(dr(i)),c=vm(a);let d=l[c],p=l[a];if(u){const h=c==="y"?"top":"left",v=c==="y"?"bottom":"right",x=d+f[h],w=d-f[v];d=_h(x,d,w)}if(m){const h=a==="y"?"top":"left",v=a==="y"?"bottom":"right",x=p+f[h],w=p-f[v];p=_h(x,p,w)}const g=o.fn({...t,[c]:d,[a]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[c]:u,[a]:m}}}}}},jM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:u,middlewareData:m}=t,{offset:o=0,mainAxis:s=!0,crossAxis:l=!0}=ur(e,t),f={x:n,y:r},a=Dn(i),c=vm(a);let d=f[c],p=f[a];const g=ur(o,t),h=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(s){const w=c==="y"?"height":"width",b=u.reference[c]-u.floating[w]+h.mainAxis,S=u.reference[c]+u.reference[w]-h.mainAxis;d<b?d=b:d>S&&(d=S)}if(l){var v,x;const w=c==="y"?"width":"height",b=pC.has(dr(i)),S=u.reference[a]-u.floating[w]+(b&&((v=m.offset)==null?void 0:v[a])||0)+(b?0:h.crossAxis),T=u.reference[a]+u.reference[w]+(b?0:((x=m.offset)==null?void 0:x[a])||0)-(b?h.crossAxis:0);p<S?p=S:p>T&&(p=T)}return{[c]:d,[a]:p}}}},NM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:u,platform:m,elements:o}=t,{apply:s=()=>{},...l}=ur(e,t),f=await Sa(t,l),a=dr(i),c=ho(i),d=Dn(i)==="y",{width:p,height:g}=u.floating;let h,v;a==="top"||a==="bottom"?(h=a,v=c===(await(m.isRTL==null?void 0:m.isRTL(o.floating))?"start":"end")?"left":"right"):(v=a,h=c==="end"?"top":"bottom");const x=g-f.top-f.bottom,w=p-f.left-f.right,b=Qr(g-f[h],x),S=Qr(p-f[v],w),T=!t.middlewareData.shift;let _=b,P=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=x),T&&!c){const M=Ft(f.left,0),B=Ft(f.right,0),z=Ft(f.top,0),Z=Ft(f.bottom,0);d?P=p-2*(M!==0||B!==0?M+B:Ft(f.left,f.right)):_=g-2*(z!==0||Z!==0?z+Z:Ft(f.top,f.bottom))}await s({...t,availableWidth:P,availableHeight:_});const A=await m.getDimensions(o.floating);return p!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Mu(){return typeof window<"u"}function po(e){return mC(e)?(e.nodeName||"").toLowerCase():"#document"}function Ut(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $n(e){var t;return(t=(mC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mC(e){return Mu()?e instanceof Node||e instanceof Ut(e).Node:!1}function Cn(e){return Mu()?e instanceof Element||e instanceof Ut(e).Element:!1}function Wn(e){return Mu()?e instanceof HTMLElement||e instanceof Ut(e).HTMLElement:!1}function Sy(e){return!Mu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ut(e).ShadowRoot}const kM=new Set(["inline","contents"]);function Qa(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!kM.has(i)}const OM=new Set(["table","td","th"]);function AM(e){return OM.has(po(e))}const MM=[":popover-open",":modal"];function Ru(e){return MM.some(t=>{try{return e.matches(t)}catch{return!1}})}const RM=["transform","translate","scale","rotate","perspective"],DM=["transform","translate","scale","rotate","perspective","filter"],IM=["paint","layout","strict","content"];function wm(e){const t=bm(),n=Cn(e)?Sn(e):e;return RM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||DM.some(r=>(n.willChange||"").includes(r))||IM.some(r=>(n.contain||"").includes(r))}function LM(e){let t=Jr(e);for(;Wn(t)&&!Js(t);){if(wm(t))return t;if(Ru(t))return null;t=Jr(t)}return null}function bm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FM=new Set(["html","body","#document"]);function Js(e){return FM.has(po(e))}function Sn(e){return Ut(e).getComputedStyle(e)}function Du(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jr(e){if(po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sy(e)&&e.host||$n(e);return Sy(t)?t.host:t}function gC(e){const t=Jr(e);return Js(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&Qa(t)?t:gC(t)}function Ta(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=gC(e),u=i===((r=e.ownerDocument)==null?void 0:r.body),m=Ut(i);if(u){const o=Ph(m);return t.concat(m,m.visualViewport||[],Qa(i)?i:[],o&&n?Ta(o):[])}return t.concat(i,Ta(i,[],n))}function Ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vC(e){const t=Sn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wn(e),u=i?e.offsetWidth:n,m=i?e.offsetHeight:r,o=Bc(n)!==u||Bc(r)!==m;return o&&(n=u,r=m),{width:n,height:r,$:o}}function Cm(e){return Cn(e)?e:e.contextElement}function Ms(e){const t=Cm(e);if(!Wn(t))return Fn(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:u}=vC(t);let m=(u?Bc(n.width):n.width)/r,o=(u?Bc(n.height):n.height)/i;return(!m||!Number.isFinite(m))&&(m=1),(!o||!Number.isFinite(o))&&(o=1),{x:m,y:o}}const BM=Fn(0);function yC(e){const t=Ut(e);return!bm()||!t.visualViewport?BM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ut(e)?!1:t}function Bi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),u=Cm(e);let m=Fn(1);t&&(r?Cn(r)&&(m=Ms(r)):m=Ms(e));const o=VM(u,n,r)?yC(u):Fn(0);let s=(i.left+o.x)/m.x,l=(i.top+o.y)/m.y,f=i.width/m.x,a=i.height/m.y;if(u){const c=Ut(u),d=r&&Cn(r)?Ut(r):r;let p=c,g=Ph(p);for(;g&&r&&d!==p;){const h=Ms(g),v=g.getBoundingClientRect(),x=Sn(g),w=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*h.x,b=v.top+(g.clientTop+parseFloat(x.paddingTop))*h.y;s*=h.x,l*=h.y,f*=h.x,a*=h.y,s+=w,l+=b,p=Ut(g),g=Ph(p)}}return zc({width:f,height:a,x:s,y:l})}function Sm(e,t){const n=Du(e).scrollLeft;return t?t.left+n:Bi($n(e)).left+n}function xC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Sm(e,r)),u=r.top+t.scrollTop;return{x:i,y:u}}function zM(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const u=i==="fixed",m=$n(r),o=t?Ru(t.floating):!1;if(r===m||o&&u)return n;let s={scrollLeft:0,scrollTop:0},l=Fn(1);const f=Fn(0),a=Wn(r);if((a||!a&&!u)&&((po(r)!=="body"||Qa(m))&&(s=Du(r)),Wn(r))){const d=Bi(r);l=Ms(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const c=m&&!a&&!u?xC(m,s,!0):Fn(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-s.scrollLeft*l.x+f.x+c.x,y:n.y*l.y-s.scrollTop*l.y+f.y+c.y}}function WM(e){return Array.from(e.getClientRects())}function UM(e){const t=$n(e),n=Du(e),r=e.ownerDocument.body,i=Ft(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),u=Ft(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let m=-n.scrollLeft+Sm(e);const o=-n.scrollTop;return Sn(r).direction==="rtl"&&(m+=Ft(t.clientWidth,r.clientWidth)-i),{width:i,height:u,x:m,y:o}}function $M(e,t){const n=Ut(e),r=$n(e),i=n.visualViewport;let u=r.clientWidth,m=r.clientHeight,o=0,s=0;if(i){u=i.width,m=i.height;const l=bm();(!l||l&&t==="fixed")&&(o=i.offsetLeft,s=i.offsetTop)}return{width:u,height:m,x:o,y:s}}const HM=new Set(["absolute","fixed"]);function YM(e,t){const n=Bi(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,u=Wn(e)?Ms(e):Fn(1),m=e.clientWidth*u.x,o=e.clientHeight*u.y,s=i*u.x,l=r*u.y;return{width:m,height:o,x:s,y:l}}function Ty(e,t,n){let r;if(t==="viewport")r=$M(e,n);else if(t==="document")r=UM($n(e));else if(Cn(t))r=YM(t,n);else{const i=yC(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zc(r)}function wC(e,t){const n=Jr(e);return n===t||!Cn(n)||Js(n)?!1:Sn(n).position==="fixed"||wC(n,t)}function XM(e,t){const n=t.get(e);if(n)return n;let r=Ta(e,[],!1).filter(o=>Cn(o)&&po(o)!=="body"),i=null;const u=Sn(e).position==="fixed";let m=u?Jr(e):e;for(;Cn(m)&&!Js(m);){const o=Sn(m),s=wm(m);!s&&o.position==="fixed"&&(i=null),(u?!s&&!i:!s&&o.position==="static"&&!!i&&HM.has(i.position)||Qa(m)&&!s&&wC(e,m))?r=r.filter(f=>f!==m):i=o,m=Jr(m)}return t.set(e,r),r}function GM(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const m=[...n==="clippingAncestors"?Ru(t)?[]:XM(t,this._c):[].concat(n),r],o=m[0],s=m.reduce((l,f)=>{const a=Ty(t,f,i);return l.top=Ft(a.top,l.top),l.right=Qr(a.right,l.right),l.bottom=Qr(a.bottom,l.bottom),l.left=Ft(a.left,l.left),l},Ty(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function KM(e){const{width:t,height:n}=vC(e);return{width:t,height:n}}function qM(e,t,n){const r=Wn(t),i=$n(t),u=n==="fixed",m=Bi(e,!0,u,t);let o={scrollLeft:0,scrollTop:0};const s=Fn(0);function l(){s.x=Sm(i)}if(r||!r&&!u)if((po(t)!=="body"||Qa(i))&&(o=Du(t)),r){const d=Bi(t,!0,u,t);s.x=d.x+t.clientLeft,s.y=d.y+t.clientTop}else i&&l();u&&!r&&i&&l();const f=i&&!r&&!u?xC(i,o):Fn(0),a=m.left+o.scrollLeft-s.x-f.x,c=m.top+o.scrollTop-s.y-f.y;return{x:a,y:c,width:m.width,height:m.height}}function Ud(e){return Sn(e).position==="static"}function _y(e,t){if(!Wn(e)||Sn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $n(e)===n&&(n=n.ownerDocument.body),n}function bC(e,t){const n=Ut(e);if(Ru(e))return n;if(!Wn(e)){let i=Jr(e);for(;i&&!Js(i);){if(Cn(i)&&!Ud(i))return i;i=Jr(i)}return n}let r=_y(e,t);for(;r&&AM(r)&&Ud(r);)r=_y(r,t);return r&&Js(r)&&Ud(r)&&!wm(r)?n:r||LM(e)||n}const QM=async function(e){const t=this.getOffsetParent||bC,n=this.getDimensions,r=await n(e.floating);return{reference:qM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JM(e){return Sn(e).direction==="rtl"}const ZM={convertOffsetParentRelativeRectToViewportRelativeRect:zM,getDocumentElement:$n,getClippingRect:GM,getOffsetParent:bC,getElementRects:QM,getClientRects:WM,getDimensions:KM,getScale:Ms,isElement:Cn,isRTL:JM};function CC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eR(e,t){let n=null,r;const i=$n(e);function u(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function m(o,s){o===void 0&&(o=!1),s===void 0&&(s=1),u();const l=e.getBoundingClientRect(),{left:f,top:a,width:c,height:d}=l;if(o||t(),!c||!d)return;const p=Ol(a),g=Ol(i.clientWidth-(f+c)),h=Ol(i.clientHeight-(a+d)),v=Ol(f),w={rootMargin:-p+"px "+-g+"px "+-h+"px "+-v+"px",threshold:Ft(0,Qr(1,s))||1};let b=!0;function S(T){const _=T[0].intersectionRatio;if(_!==s){if(!b)return m();_?m(!1,_):r=setTimeout(()=>{m(!1,1e-7)},1e3)}_===1&&!CC(l,e.getBoundingClientRect())&&m(),b=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return m(!0),u}function Tm(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,l=Cm(e),f=i||u?[...l?Ta(l):[],...Ta(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),u&&v.addEventListener("resize",n)});const a=l&&o?eR(l,n):null;let c=-1,d=null;m&&(d=new ResizeObserver(v=>{let[x]=v;x&&x.target===l&&d&&(d.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),l&&!s&&d.observe(l),d.observe(t));let p,g=s?Bi(e):null;s&&h();function h(){const v=Bi(e);g&&!CC(g,v)&&n(),g=v,p=requestAnimationFrame(h)}return n(),()=>{var v;f.forEach(x=>{i&&x.removeEventListener("scroll",n),u&&x.removeEventListener("resize",n)}),a==null||a(),(v=d)==null||v.disconnect(),d=null,s&&cancelAnimationFrame(p)}}const tR=EM,nR=PM,rR=SM,iR=NM,sR=TM,Ey=CM,oR=jM,aR=(e,t,n)=>{const r=new Map,i={platform:ZM,...n},u={...i.platform,_c:r};return bM(e,t,{...i,platform:u})};var lR=typeof document<"u",cR=function(){},sc=lR?C.useLayoutEffect:cR;function Wc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const u=i[r];if(!(u==="_owner"&&e.$$typeof)&&!Wc(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function SC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Py(e,t){const n=SC(e);return Math.round(t*n)/n}function $d(e){const t=C.useRef(e);return sc(()=>{t.current=e}),t}function _m(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:u,floating:m}={},transform:o=!0,whileElementsMounted:s,open:l}=e,[f,a]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,d]=C.useState(r);Wc(c,r)||d(r);const[p,g]=C.useState(null),[h,v]=C.useState(null),x=C.useCallback(D=>{D!==T.current&&(T.current=D,g(D))},[]),w=C.useCallback(D=>{D!==_.current&&(_.current=D,v(D))},[]),b=u||p,S=m||h,T=C.useRef(null),_=C.useRef(null),P=C.useRef(f),A=s!=null,M=$d(s),B=$d(i),z=$d(l),Z=C.useCallback(()=>{if(!T.current||!_.current)return;const D={placement:t,strategy:n,middleware:c};B.current&&(D.platform=B.current),aR(T.current,_.current,D).then(E=>{const j={...E,isPositioned:z.current!==!1};L.current&&!Wc(P.current,j)&&(P.current=j,Gi.flushSync(()=>{a(j)}))})},[c,t,n,B,z]);sc(()=>{l===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,a(D=>({...D,isPositioned:!1})))},[l]);const L=C.useRef(!1);sc(()=>(L.current=!0,()=>{L.current=!1}),[]),sc(()=>{if(b&&(T.current=b),S&&(_.current=S),b&&S){if(M.current)return M.current(b,S,Z);Z()}},[b,S,Z,M,A]);const $=C.useMemo(()=>({reference:T,floating:_,setReference:x,setFloating:w}),[x,w]),Q=C.useMemo(()=>({reference:b,floating:S}),[b,S]),G=C.useMemo(()=>{const D={position:n,left:0,top:0};if(!Q.floating)return D;const E=Py(Q.floating,f.x),j=Py(Q.floating,f.y);return o?{...D,transform:"translate("+E+"px, "+j+"px)",...SC(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:E,top:j}},[n,o,Q.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:Z,refs:$,elements:Q,floatingStyles:G}),[f,Z,$,Q,G])}const uR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ey({element:r.current,padding:i}).fn(n):{}:r?Ey({element:r,padding:i}).fn(n):{}}}},Em=(e,t)=>({...tR(e),options:[e,t]}),Pm=(e,t)=>({...nR(e),options:[e,t]}),jm=(e,t)=>({...oR(e),options:[e,t]}),Nm=(e,t)=>({...rR(e),options:[e,t]}),km=(e,t)=>({...iR(e),options:[e,t]}),Om=(e,t)=>({...sR(e),options:[e,t]}),Am=(e,t)=>({...uR(e),options:[e,t]});var dR="Arrow",TC=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...u}=e;return y.jsx(ue.svg,{...u,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});TC.displayName=dR;var Mm=TC;function Iu(e){const[t,n]=C.useState(void 0);return je(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const u=i[0];let m,o;if("borderBoxSize"in u){const s=u.borderBoxSize,l=Array.isArray(s)?s[0]:s;m=l.inlineSize,o=l.blockSize}else m=e.offsetWidth,o=e.offsetHeight;n({width:m,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var _C="Popper",[EC,PC]=Nt(_C),[b8,jC]=EC(_C),NC="PopperAnchor",kC=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,u=jC(NC,n),m=C.useRef(null),o=pe(t,m);return C.useEffect(()=>{u.onAnchorChange((r==null?void 0:r.current)||m.current)}),r?null:y.jsx(ue.div,{...i,ref:o})});kC.displayName=NC;var Rm="PopperContent",[fR,hR]=EC(Rm),OC=C.forwardRef((e,t)=>{var I,Y,W,q,ee,ie;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:u="center",alignOffset:m=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:a="partial",hideWhenDetached:c=!1,updatePositionStrategy:d="optimized",onPlaced:p,...g}=e,h=jC(Rm,n),[v,x]=C.useState(null),w=pe(t,X=>x(X)),[b,S]=C.useState(null),T=Iu(b),_=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,A=r+(u!=="center"?"-"+u:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(l)?l:[l],z=B.length>0,Z={padding:M,boundary:B.filter(mR),altBoundary:z},{refs:L,floatingStyles:$,placement:Q,isPositioned:G,middlewareData:D}=_m({strategy:"fixed",placement:A,whileElementsMounted:(...X)=>Tm(...X,{animationFrame:d==="always"}),elements:{reference:h.anchor},middleware:[Em({mainAxis:i+P,alignmentAxis:m}),s&&Pm({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?jm():void 0,...Z}),s&&Nm({...Z}),km({...Z,apply:({elements:X,rects:V,availableWidth:H,availableHeight:J})=>{const{width:K,height:te}=V.reference,se=X.floating.style;se.setProperty("--radix-popper-available-width",`${H}px`),se.setProperty("--radix-popper-available-height",`${J}px`),se.setProperty("--radix-popper-anchor-width",`${K}px`),se.setProperty("--radix-popper-anchor-height",`${te}px`)}}),b&&Am({element:b,padding:o}),gR({arrowWidth:_,arrowHeight:P}),c&&Om({strategy:"referenceHidden",...Z})]}),[E,j]=RC(Q),k=Pe(p);je(()=>{G&&(k==null||k())},[G,k]);const O=(I=D.arrow)==null?void 0:I.x,U=(Y=D.arrow)==null?void 0:Y.y,R=((W=D.arrow)==null?void 0:W.centerOffset)!==0,[N,F]=C.useState();return je(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:G?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N,"--radix-popper-transform-origin":[(q=D.transformOrigin)==null?void 0:q.x,(ee=D.transformOrigin)==null?void 0:ee.y].join(" "),...((ie=D.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(fR,{scope:n,placedSide:E,onArrowChange:S,arrowX:O,arrowY:U,shouldHideArrow:R,children:y.jsx(ue.div,{"data-side":E,"data-align":j,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});OC.displayName=Rm;var AC="PopperArrow",pR={top:"bottom",right:"left",bottom:"top",left:"right"},MC=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,u=hR(AC,r),m=pR[u.placedSide];return y.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:y.jsx(Mm,{...i,ref:n,style:{...i.style,display:"block"}})})});MC.displayName=AC;function mR(e){return e!==null}var gR=e=>({name:"transformOrigin",options:e,fn(t){var h,v,x;const{placement:n,rects:r,middlewareData:i}=t,m=((h=i.arrow)==null?void 0:h.centerOffset)!==0,o=m?0:e.arrowWidth,s=m?0:e.arrowHeight,[l,f]=RC(n),a={start:"0%",center:"50%",end:"100%"}[f],c=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let p="",g="";return l==="bottom"?(p=m?a:`${c}px`,g=`${-s}px`):l==="top"?(p=m?a:`${c}px`,g=`${r.floating.height+s}px`):l==="right"?(p=`${-s}px`,g=m?a:`${d}px`):l==="left"&&(p=`${r.floating.width+s}px`,g=m?a:`${d}px`),{data:{x:p,y:g}}}});function RC(e){const[t,n="center"]=e.split("-");return[t,n]}var vR=kC,yR=OC,xR=MC;function wR(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Dm=e=>{const{present:t,children:n}=e,r=bR(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),u=pe(r.ref,CR(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:u}):null};Dm.displayName="Presence";function bR(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),u=C.useRef("none"),m=e?"mounted":"unmounted",[o,s]=wR(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=Al(r.current);u.current=o==="mounted"?l:"none"},[o]),je(()=>{const l=r.current,f=i.current;if(f!==e){const c=u.current,d=Al(l);e?s("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?s("UNMOUNT"):s(f&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),je(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,a=d=>{const g=Al(r.current).includes(d.animationName);if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},c=d=>{d.target===t&&(u.current=Al(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Al(e){return(e==null?void 0:e.animationName)||"none"}function CR(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var[Lu,C8]=Nt("Tooltip",[PC]),Im=PC(),DC="TooltipProvider",SR=700,jy="tooltip.open",[TR,IC]=Lu(DC),LC=e=>{const{__scopeTooltip:t,delayDuration:n=SR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:u}=e,m=C.useRef(!0),o=C.useRef(!1),s=C.useRef(0);return C.useEffect(()=>{const l=s.current;return()=>window.clearTimeout(l)},[]),y.jsx(TR,{scope:t,isOpenDelayedRef:m,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(s.current),m.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(()=>m.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(l=>{o.current=l},[]),disableHoverableContent:i,children:u})};LC.displayName=DC;var FC="Tooltip",[S8,Fu]=Lu(FC),jh="TooltipTrigger",_R=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Fu(jh,n),u=IC(jh,n),m=Im(n),o=C.useRef(null),s=pe(t,o,i.onTriggerChange),l=C.useRef(!1),f=C.useRef(!1),a=C.useCallback(()=>l.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",a),[a]),y.jsx(vR,{asChild:!0,...m,children:y.jsx(ue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:lt(e.onPointerMove,c=>{c.pointerType!=="touch"&&!f.current&&!u.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:lt(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:lt(e.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",a,{once:!0})}),onFocus:lt(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:lt(e.onBlur,i.onClose),onClick:lt(e.onClick,i.onClose)})})});_R.displayName=jh;var ER="TooltipPortal",[T8,PR]=Lu(ER,{forceMount:void 0}),Zs="TooltipContent",BC=C.forwardRef((e,t)=>{const n=PR(Zs,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...u}=e,m=Fu(Zs,e.__scopeTooltip);return y.jsx(Dm,{present:r||m.open,children:m.disableHoverableContent?y.jsx(VC,{side:i,...u,ref:t}):y.jsx(jR,{side:i,...u,ref:t})})}),jR=C.forwardRef((e,t)=>{const n=Fu(Zs,e.__scopeTooltip),r=IC(Zs,e.__scopeTooltip),i=C.useRef(null),u=pe(t,i),[m,o]=C.useState(null),{trigger:s,onClose:l}=n,f=i.current,{onPointerInTransitChange:a}=r,c=C.useCallback(()=>{o(null),a(!1)},[a]),d=C.useCallback((p,g)=>{const h=p.currentTarget,v={x:p.clientX,y:p.clientY},x=MR(v,h.getBoundingClientRect()),w=RR(v,x),b=DR(g.getBoundingClientRect()),S=LR([...w,...b]);o(S),a(!0)},[a]);return C.useEffect(()=>()=>c(),[c]),C.useEffect(()=>{if(s&&f){const p=h=>d(h,f),g=h=>d(h,s);return s.addEventListener("pointerleave",p),f.addEventListener("pointerleave",g),()=>{s.removeEventListener("pointerleave",p),f.removeEventListener("pointerleave",g)}}},[s,f,d,c]),C.useEffect(()=>{if(m){const p=g=>{const h=g.target,v={x:g.clientX,y:g.clientY},x=(s==null?void 0:s.contains(h))||(f==null?void 0:f.contains(h)),w=!IR(v,m);x?c():w&&(c(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[s,f,m,l,c]),y.jsx(VC,{...e,ref:u})}),[NR,kR]=Lu(FC,{isInside:!1}),OR=Ik("TooltipContent"),VC=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:u,onPointerDownOutside:m,...o}=e,s=Fu(Zs,n),l=Im(n),{onClose:f}=s;return C.useEffect(()=>(document.addEventListener(jy,f),()=>document.removeEventListener(jy,f)),[f]),C.useEffect(()=>{if(s.trigger){const a=c=>{const d=c.target;d!=null&&d.contains(s.trigger)&&f()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[s.trigger,f]),y.jsx(dC,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:a=>a.preventDefault(),onDismiss:f,children:y.jsxs(yR,{"data-state":s.stateAttribute,...l,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(OR,{children:r}),y.jsx(NR,{scope:n,isInside:!0,children:y.jsx(rO,{id:s.contentId,role:"tooltip",children:i||r})})]})})});BC.displayName=Zs;var zC="TooltipArrow",AR=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Im(n);return kR(zC,n).isInside?null:y.jsx(xR,{...i,...r,ref:t})});AR.displayName=zC;function MR(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),u=Math.abs(t.left-e.x);switch(Math.min(n,r,i,u)){case u:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RR(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function DR(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function IR(e,t){const{x:n,y:r}=e;let i=!1;for(let u=0,m=t.length-1;u<t.length;m=u++){const o=t[u],s=t[m],l=o.x,f=o.y,a=s.x,c=s.y;f>r!=c>r&&n<(a-l)*(r-f)/(c-f)+l&&(i=!i)}return i}function LR(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FR(t)}function FR(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const u=t[t.length-1],m=t[t.length-2];if((u.x-m.x)*(i.y-m.y)>=(u.y-m.y)*(i.x-m.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const u=n[n.length-1],m=n[n.length-2];if((u.x-m.x)*(i.y-m.y)>=(u.y-m.y)*(i.x-m.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var BR=LC,WC=BC;const VR=BR,zR=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx(WC,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));zR.displayName=WC.displayName;var Bu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nr,pp,z0,UR=(z0=class{constructor(){Te(this,Nr,WR);Te(this,pp,!1)}setTimeoutProvider(e){we(this,Nr,e)}setTimeout(e,t){return ne(this,Nr).setTimeout(e,t)}clearTimeout(e){ne(this,Nr).clearTimeout(e)}setInterval(e,t){return ne(this,Nr).setInterval(e,t)}clearInterval(e){ne(this,Nr).clearInterval(e)}},Nr=new WeakMap,pp=new WeakMap,z0),Nh=new UR;function $R(e){setTimeout(e,0)}var Vu=typeof window>"u"||"Deno"in globalThis;function fn(){}function HR(e,t){return typeof e=="function"?e(t):e}function YR(e){return typeof e=="number"&&e>=0&&e!==1/0}function XR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kh(e,t){return typeof e=="function"?e(t):e}function GR(e,t){return typeof e=="function"?e(t):e}function Ny(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:u,queryKey:m,stale:o}=e;if(m){if(r){if(t.queryHash!==Lm(m,t.options))return!1}else if(!Ea(t.queryKey,m))return!1}if(n!=="all"){const s=t.isActive();if(n==="active"&&!s||n==="inactive"&&s)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||u&&!u(t))}function ky(e,t){const{exact:n,status:r,predicate:i,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(n){if(_a(t.options.mutationKey)!==_a(u))return!1}else if(!Ea(t.options.mutationKey,u))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Lm(e,t){return((t==null?void 0:t.queryKeyHashFn)||_a)(e)}function _a(e){return JSON.stringify(e,(t,n)=>Oh(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ea(e[n],t[n])):!1}var KR=Object.prototype.hasOwnProperty;function UC(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Oy(e)&&Oy(t);if(!r&&!(Oh(e)&&Oh(t)))return t;const u=(r?e:Object.keys(e)).length,m=r?t:Object.keys(t),o=m.length,s=r?new Array(o):{};let l=0;for(let f=0;f<o;f++){const a=r?f:m[f],c=e[a],d=t[a];if(c===d){s[a]=c,(r?f<u:KR.call(e,a))&&l++;continue}if(c===null||d===null||typeof c!="object"||typeof d!="object"){s[a]=d;continue}const p=UC(c,d,n+1);s[a]=p,p===c&&l++}return u===o&&l===u?e:s}function Oy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Oh(e){if(!Ay(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ay(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function qR(e){return new Promise(t=>{Nh.setTimeout(t,e)})}function QR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?UC(e,t):t}function JR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ZR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fm=Symbol();function $C(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eD(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Ci,kr,Is,W0,tD=(W0=class extends Bu{constructor(){super();Te(this,Ci);Te(this,kr);Te(this,Is);we(this,Is,t=>{if(!Vu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,kr)||this.setEventListener(ne(this,Is))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,kr))==null||t.call(this),we(this,kr,void 0))}setEventListener(t){var n;we(this,Is,t),(n=ne(this,kr))==null||n.call(this),we(this,kr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ne(this,Ci)!==t&&(we(this,Ci,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ne(this,Ci)=="boolean"?ne(this,Ci):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ci=new WeakMap,kr=new WeakMap,Is=new WeakMap,W0),HC=new tD;function nD(){let e,t;const n=new Promise((i,u)=>{e=i,t=u});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var rD=$R;function iD(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=rD;const u=o=>{t?e.push(o):i(()=>{n(o)})},m=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(s=>{n(s)})})})};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||m()}return s},batchCalls:o=>(...s)=>{u(()=>{o(...s)})},schedule:u,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Tt=iD(),Ls,Or,Fs,U0,sD=(U0=class extends Bu{constructor(){super();Te(this,Ls,!0);Te(this,Or);Te(this,Fs);we(this,Fs,t=>{if(!Vu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,Or)||this.setEventListener(ne(this,Fs))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Or))==null||t.call(this),we(this,Or,void 0))}setEventListener(t){var n;we(this,Fs,t),(n=ne(this,Or))==null||n.call(this),we(this,Or,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Ls)!==t&&(we(this,Ls,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ne(this,Ls)}},Ls=new WeakMap,Or=new WeakMap,Fs=new WeakMap,U0),Uc=new sD;function oD(e){return Math.min(1e3*2**e,3e4)}function YC(e){return(e??"online")==="online"?Uc.isOnline():!0}var Ah=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function XC(e){let t=!1,n=0,r;const i=nD(),u=()=>i.status!=="pending",m=g=>{var h;if(!u()){const v=new Ah(g);c(v),(h=e.onCancel)==null||h.call(e,v)}},o=()=>{t=!0},s=()=>{t=!1},l=()=>HC.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),f=()=>YC(e.networkMode)&&e.canRun(),a=g=>{u()||(r==null||r(),i.resolve(g))},c=g=>{u()||(r==null||r(),i.reject(g))},d=()=>new Promise(g=>{var h;r=v=>{(u()||l())&&g(v)},(h=e.onPause)==null||h.call(e)}).then(()=>{var g;r=void 0,u()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(u())return;let g;const h=n===0?e.initialPromise:void 0;try{g=h??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(a).catch(v=>{var T;if(u())return;const x=e.retry??(Vu?0:3),w=e.retryDelay??oD,b=typeof w=="function"?w(n,v):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!S){c(v);return}n++,(T=e.onFail)==null||T.call(e,n,v),qR(b).then(()=>l()?void 0:d()).then(()=>{t?c(v):p()})})};return{promise:i,status:()=>i.status,cancel:m,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:s,canStart:f,start:()=>(f()?p():d().then(p),i)}}var Si,$0,GC=($0=class{constructor(){Te(this,Si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YR(this.gcTime)&&we(this,Si,Nh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vu?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Si)&&(Nh.clearTimeout(ne(this,Si)),we(this,Si,void 0))}},Si=new WeakMap,$0),Ti,Bs,Qt,_i,ot,La,Ei,hn,Xn,H0,aD=(H0=class extends GC{constructor(t){super();Te(this,hn);Te(this,Ti);Te(this,Bs);Te(this,Qt);Te(this,_i);Te(this,ot);Te(this,La);Te(this,Ei);we(this,Ei,!1),we(this,La,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,_i,t.client),we(this,Qt,ne(this,_i).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,Ti,Ry(this.options)),this.state=t.state??ne(this,Ti),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,ot))==null?void 0:t.promise}setOptions(t){if(this.options={...ne(this,La),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ry(this.options);n.data!==void 0&&(this.setState(My(n.data,n.dataUpdatedAt)),we(this,Ti,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Qt).remove(this)}setData(t,n){const r=QR(this.state.data,t,this.options);return pt(this,hn,Xn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pt(this,hn,Xn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ne(this,ot))==null?void 0:r.promise;return(i=ne(this,ot))==null||i.cancel(t),n?n.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Ti))}isActive(){return this.observers.some(t=>GR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>kh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ne(this,ot))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ne(this,ot))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ne(this,ot)&&(ne(this,Ei)?ne(this,ot).cancel({revert:!0}):ne(this,ot).cancelRetry()),this.scheduleGc()),ne(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,hn,Xn).call(this,{type:"invalidate"})}async fetch(t,n){var s,l,f,a,c,d,p,g,h,v,x,w;if(this.state.fetchStatus!=="idle"&&((s=ne(this,ot))==null?void 0:s.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,ot))return ne(this,ot).continueRetry(),ne(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(we(this,Ei,!0),r.signal)})},u=()=>{const b=$C(this.options,n),T=(()=>{const _={client:ne(this,_i),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return we(this,Ei,!1),this.options.persister?this.options.persister(b,T,this):b(T)},o=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ne(this,_i),state:this.state,fetchFn:u};return i(b),b})();(l=this.options.behavior)==null||l.onFetch(o,this),we(this,Bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&pt(this,hn,Xn).call(this,{type:"fetch",meta:(a=o.fetchOptions)==null?void 0:a.meta}),we(this,ot,XC({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Ah&&b.revert&&this.setState({...ne(this,Bs),fetchStatus:"idle"}),r.abort()},onFail:(b,S)=>{pt(this,hn,Xn).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{pt(this,hn,Xn).call(this,{type:"pause"})},onContinue:()=>{pt(this,hn,Xn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await ne(this,ot).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(d=(c=ne(this,Qt).config).onSuccess)==null||d.call(c,b,this),(g=(p=ne(this,Qt).config).onSettled)==null||g.call(p,b,this.state.error,this),b}catch(b){if(b instanceof Ah){if(b.silent)return ne(this,ot).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw pt(this,hn,Xn).call(this,{type:"error",error:b}),(v=(h=ne(this,Qt).config).onError)==null||v.call(h,b,this),(w=(x=ne(this,Qt).config).onSettled)==null||w.call(x,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ti=new WeakMap,Bs=new WeakMap,Qt=new WeakMap,_i=new WeakMap,ot=new WeakMap,La=new WeakMap,Ei=new WeakMap,hn=new WeakSet,Xn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lD(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...My(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return we(this,Bs,t.manual?i:void 0),i;case"error":const u=t.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,Qt).notify({query:this,type:"updated",action:t})})},H0);function lD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function My(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ry(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Dy(e){return{onFetch:(t,n)=>{var f,a,c,d,p;const r=t.options,i=(c=(a=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:a.fetchMore)==null?void 0:c.direction,u=((d=t.state.data)==null?void 0:d.pages)||[],m=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},s=0;const l=async()=>{let g=!1;const h=w=>{eD(w,()=>t.signal,()=>g=!0)},v=$C(t.options,t.fetchOptions),x=async(w,b,S)=>{if(g)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return h(B),B})(),P=await v(_),{maxPages:A}=t.options,M=S?ZR:JR;return{pages:M(w.pages,P,A),pageParams:M(w.pageParams,b,A)}};if(i&&u.length){const w=i==="backward",b=w?cD:Iy,S={pages:u,pageParams:m},T=b(r,S);o=await x(S,T,w)}else{const w=e??u.length;do{const b=s===0?m[0]??r.initialPageParam:Iy(r,o);if(s>0&&b==null)break;o=await x(o,b),s++}while(s<w)}return o};t.options.persister?t.fetchFn=()=>{var g,h;return(h=(g=t.options).persister)==null?void 0:h.call(g,l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function Iy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function cD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Fa,jn,Ct,Pi,Nn,wr,Y0,uD=(Y0=class extends GC{constructor(t){super();Te(this,Nn);Te(this,Fa);Te(this,jn);Te(this,Ct);Te(this,Pi);we(this,Fa,t.client),this.mutationId=t.mutationId,we(this,Ct,t.mutationCache),we(this,jn,[]),this.state=t.state||dD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,jn).includes(t)||(ne(this,jn).push(t),this.clearGcTimeout(),ne(this,Ct).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,jn,ne(this,jn).filter(n=>n!==t)),this.scheduleGc(),ne(this,Ct).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,jn).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Ct).remove(this))}continue(){var t;return((t=ne(this,Pi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var m,o,s,l,f,a,c,d,p,g,h,v,x,w,b,S,T,_,P,A;const n=()=>{pt(this,Nn,wr).call(this,{type:"continue"})},r={client:ne(this,Fa),meta:this.options.meta,mutationKey:this.options.mutationKey};we(this,Pi,XC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(M,B)=>{pt(this,Nn,wr).call(this,{type:"failed",failureCount:M,error:B})},onPause:()=>{pt(this,Nn,wr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Ct).canRun(this)}));const i=this.state.status==="pending",u=!ne(this,Pi).canStart();try{if(i)n();else{pt(this,Nn,wr).call(this,{type:"pending",variables:t,isPaused:u}),await((o=(m=ne(this,Ct).config).onMutate)==null?void 0:o.call(m,t,this,r));const B=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,t,r));B!==this.state.context&&pt(this,Nn,wr).call(this,{type:"pending",context:B,variables:t,isPaused:u})}const M=await ne(this,Pi).start();return await((a=(f=ne(this,Ct).config).onSuccess)==null?void 0:a.call(f,M,t,this.state.context,this,r)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,M,t,this.state.context,r)),await((g=(p=ne(this,Ct).config).onSettled)==null?void 0:g.call(p,M,null,this.state.variables,this.state.context,this,r)),await((v=(h=this.options).onSettled)==null?void 0:v.call(h,M,null,t,this.state.context,r)),pt(this,Nn,wr).call(this,{type:"success",data:M}),M}catch(M){try{await((w=(x=ne(this,Ct).config).onError)==null?void 0:w.call(x,M,t,this.state.context,this,r))}catch(B){Promise.reject(B)}try{await((S=(b=this.options).onError)==null?void 0:S.call(b,M,t,this.state.context,r))}catch(B){Promise.reject(B)}try{await((_=(T=ne(this,Ct).config).onSettled)==null?void 0:_.call(T,void 0,M,this.state.variables,this.state.context,this,r))}catch(B){Promise.reject(B)}try{await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,M,t,this.state.context,r))}catch(B){Promise.reject(B)}throw pt(this,Nn,wr).call(this,{type:"error",error:M}),M}finally{ne(this,Ct).runNext(this)}}},Fa=new WeakMap,jn=new WeakMap,Ct=new WeakMap,Pi=new WeakMap,Nn=new WeakSet,wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tt.batch(()=>{ne(this,jn).forEach(r=>{r.onMutationUpdate(t)}),ne(this,Ct).notify({mutation:this,type:"updated",action:t})})},Y0);function dD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,pn,Ba,X0,fD=(X0=class extends Bu{constructor(t={}){super();Te(this,Qn);Te(this,pn);Te(this,Ba);this.config=t,we(this,Qn,new Set),we(this,pn,new Map),we(this,Ba,0)}build(t,n,r){const i=new uD({client:t,mutationCache:this,mutationId:++dl(this,Ba)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ne(this,Qn).add(t);const n=Ml(t);if(typeof n=="string"){const r=ne(this,pn).get(n);r?r.push(t):ne(this,pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ne(this,Qn).delete(t)){const n=Ml(t);if(typeof n=="string"){const r=ne(this,pn).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ne(this,pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ml(t);if(typeof n=="string"){const r=ne(this,pn).get(n),i=r==null?void 0:r.find(u=>u.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Ml(t);if(typeof n=="string"){const i=(r=ne(this,pn).get(n))==null?void 0:r.find(u=>u!==t&&u.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{ne(this,Qn).forEach(t=>{this.notify({type:"removed",mutation:t})}),ne(this,Qn).clear(),ne(this,pn).clear()})}getAll(){return Array.from(ne(this,Qn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ky(n,r))}findAll(t={}){return this.getAll().filter(n=>ky(t,n))}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tt.batch(()=>Promise.all(t.map(n=>n.continue().catch(fn))))}},Qn=new WeakMap,pn=new WeakMap,Ba=new WeakMap,X0);function Ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var kn,G0,hD=(G0=class extends Bu{constructor(t={}){super();Te(this,kn);this.config=t,we(this,kn,new Map)}build(t,n,r){const i=n.queryKey,u=n.queryHash??Lm(i,n);let m=this.get(u);return m||(m=new aD({client:t,queryKey:i,queryHash:u,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(m)),m}add(t){ne(this,kn).has(t.queryHash)||(ne(this,kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ne(this,kn).get(t.queryHash);n&&(t.destroy(),n===t&&ne(this,kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,kn).get(t)}getAll(){return[...ne(this,kn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ny(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ny(t,r)):n}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kn=new WeakMap,G0),Ye,Ar,Mr,Vs,zs,Rr,Ws,Us,K0,pD=(K0=class{constructor(e={}){Te(this,Ye);Te(this,Ar);Te(this,Mr);Te(this,Vs);Te(this,zs);Te(this,Rr);Te(this,Ws);Te(this,Us);we(this,Ye,e.queryCache||new hD),we(this,Ar,e.mutationCache||new fD),we(this,Mr,e.defaultOptions||{}),we(this,Vs,new Map),we(this,zs,new Map),we(this,Rr,0)}mount(){dl(this,Rr)._++,ne(this,Rr)===1&&(we(this,Ws,HC.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,Ye).onFocus())})),we(this,Us,Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,Ye).onOnline())})))}unmount(){var e,t;dl(this,Rr)._--,ne(this,Rr)===0&&((e=ne(this,Ws))==null||e.call(this),we(this,Ws,void 0),(t=ne(this,Us))==null||t.call(this),we(this,Us,void 0))}isFetching(e){return ne(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,Ar).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ne(this,Ye).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ne(this,Ye).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(kh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ne(this,Ye).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ne(this,Ye).get(r.queryHash),u=i==null?void 0:i.state.data,m=HR(t,u);if(m!==void 0)return ne(this,Ye).build(this,r).setData(m,{...n,manual:!0})}setQueriesData(e,t,n){return Tt.batch(()=>ne(this,Ye).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ne(this,Ye).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ne(this,Ye);Tt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ne(this,Ye);return Tt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tt.batch(()=>ne(this,Ye).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(fn).catch(fn)}invalidateQueries(e,t={}){return Tt.batch(()=>(ne(this,Ye).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tt.batch(()=>ne(this,Ye).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let u=i.fetch(void 0,n);return n.throwOnError||(u=u.catch(fn)),i.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(fn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ne(this,Ye).build(this,t);return n.isStaleByTime(kh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fn).catch(fn)}fetchInfiniteQuery(e){return e.behavior=Dy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fn).catch(fn)}ensureInfiniteQueryData(e){return e.behavior=Dy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?ne(this,Ar).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Ye)}getMutationCache(){return ne(this,Ar)}getDefaultOptions(){return ne(this,Mr)}setDefaultOptions(e){we(this,Mr,e)}setQueryDefaults(e,t){ne(this,Vs).set(_a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,Vs).values()],n={};return t.forEach(r=>{Ea(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ne(this,zs).set(_a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,zs).values()],n={};return t.forEach(r=>{Ea(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,Ye).clear(),ne(this,Ar).clear()}},Ye=new WeakMap,Ar=new WeakMap,Mr=new WeakMap,Vs=new WeakMap,zs=new WeakMap,Rr=new WeakMap,Ws=new WeakMap,Us=new WeakMap,K0),mD=C.createContext(void 0),gD=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(mD.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}var Lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lr||(Lr={}));const Ly="popstate";function vD(e){e===void 0&&(e={});function t(r,i){let{pathname:u,search:m,hash:o}=r.location;return Mh("",{pathname:u,search:m,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qC(i)}return xD(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yD(){return Math.random().toString(36).substr(2,8)}function Fy(e,t){return{usr:e.state,key:e.key,idx:t}}function Mh(e,t,n,r){return n===void 0&&(n=null),Pa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mo(t):t,{state:n,key:t&&t.key||r||yD()})}function qC(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:u=!1}=r,m=i.history,o=Lr.Pop,s=null,l=f();l==null&&(l=0,m.replaceState(Pa({},m.state,{idx:l}),""));function f(){return(m.state||{idx:null}).idx}function a(){o=Lr.Pop;let h=f(),v=h==null?null:h-l;l=h,s&&s({action:o,location:g.location,delta:v})}function c(h,v){o=Lr.Push;let x=Mh(g.location,h,v);l=f()+1;let w=Fy(x,l),b=g.createHref(x);try{m.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}u&&s&&s({action:o,location:g.location,delta:1})}function d(h,v){o=Lr.Replace;let x=Mh(g.location,h,v);l=f();let w=Fy(x,l),b=g.createHref(x);m.replaceState(w,"",b),u&&s&&s({action:o,location:g.location,delta:0})}function p(h){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof h=="string"?h:qC(h);return x=x.replace(/ $/,"%20"),nt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return o},get location(){return e(i,m)},listen(h){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(Ly,a),s=h,()=>{i.removeEventListener(Ly,a),s=null}},createHref(h){return t(i,h)},createURL:p,encodeLocation(h){let v=p(h);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:c,replace:d,go(h){return m.go(h)}};return g}var By;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(By||(By={}));function wD(e,t,n){return n===void 0&&(n="/"),bD(e,t,n,!1)}function bD(e,t,n,r){let i=typeof t=="string"?mo(t):t,u=ZC(i.pathname||"/",n);if(u==null)return null;let m=QC(e);CD(m);let o=null;for(let s=0;o==null&&s<m.length;++s){let l=MD(u);o=OD(m[s],l,r)}return o}function QC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(u,m,o)=>{let s={relativePath:o===void 0?u.path||"":o,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};s.relativePath.startsWith("/")&&(nt(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let l=ki([r,s.relativePath]),f=n.concat(s);u.children&&u.children.length>0&&(nt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),QC(u.children,t,f,l)),!(u.path==null&&!u.index)&&t.push({path:l,score:ND(l,u.index),routesMeta:f})};return e.forEach((u,m)=>{var o;if(u.path===""||!((o=u.path)!=null&&o.includes("?")))i(u,m);else for(let s of JC(u.path))i(u,m,s)}),t}function JC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return i?[u,""]:[u];let m=JC(r.join("/")),o=[];return o.push(...m.map(s=>s===""?u:[u,s].join("/"))),i&&o.push(...m),o.map(s=>e.startsWith("/")&&s===""?"/":s)}function CD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SD=/^:[\w-]+$/,TD=3,_D=2,ED=1,PD=10,jD=-2,Vy=e=>e==="*";function ND(e,t){let n=e.split("/"),r=n.length;return n.some(Vy)&&(r+=jD),t&&(r+=_D),n.filter(i=>!Vy(i)).reduce((i,u)=>i+(SD.test(u)?TD:u===""?ED:PD),r)}function kD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function OD(e,t,n){let{routesMeta:r}=e,i={},u="/",m=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,f=u==="/"?t:t.slice(u.length)||"/",a=zy({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},f),c=s.route;if(!a&&l&&n&&!r[r.length-1].route.index&&(a=zy({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},f)),!a)return null;Object.assign(i,a.params),m.push({params:i,pathname:ki([u,a.pathname]),pathnameBase:LD(ki([u,a.pathnameBase])),route:c}),a.pathnameBase!=="/"&&(u=ki([u,a.pathnameBase]))}return m}function zy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=AD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let u=i[0],m=u.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,f,a)=>{let{paramName:c,isOptional:d}=f;if(c==="*"){let g=o[a]||"";m=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[a];return d&&!p?l[c]=void 0:l[c]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:u,pathnameBase:m,pattern:e}}function AD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),KC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,o,s)=>(r.push({paramName:o,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function MD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ZC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mo(e):e;return{pathname:n?n.startsWith("/")?n:DD(n,t):t,search:FD(r),hash:BD(i)}}function DD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ID(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eS(e,t){let n=ID(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tS(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=mo(e):(i=Pa({},e),nt(!i.pathname||!i.pathname.includes("?"),Hd("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Hd("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Hd("#","search","hash",i)));let u=e===""||i.pathname==="",m=u?"/":i.pathname,o;if(m==null)o=n;else{let a=t.length-1;if(!r&&m.startsWith("..")){let c=m.split("/");for(;c[0]==="..";)c.shift(),a-=1;i.pathname=c.join("/")}o=a>=0?t[a]:"/"}let s=RD(i,o),l=m&&m!=="/"&&m.endsWith("/"),f=(u||m===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(l||f)&&(s.pathname+="/"),s}const ki=e=>e.join("/").replace(/\/\/+/g,"/"),LD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nS=["post","put","patch","delete"];new Set(nS);const zD=["get",...nS];new Set(zD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}const Bm=C.createContext(null),WD=C.createContext(null),Ja=C.createContext(null),zu=C.createContext(null),qi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),rS=C.createContext(null);function Za(){return C.useContext(zu)!=null}function Wu(){return Za()||nt(!1),C.useContext(zu).location}function iS(e){C.useContext(Ja).static||C.useLayoutEffect(e)}function UD(){let{isDataRoute:e}=C.useContext(qi);return e?nI():$D()}function $D(){Za()||nt(!1);let e=C.useContext(Bm),{basename:t,future:n,navigator:r}=C.useContext(Ja),{matches:i}=C.useContext(qi),{pathname:u}=Wu(),m=JSON.stringify(eS(i,n.v7_relativeSplatPath)),o=C.useRef(!1);return iS(()=>{o.current=!0}),C.useCallback(function(l,f){if(f===void 0&&(f={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let a=tS(l,JSON.parse(m),u,f.relative==="path");e==null&&t!=="/"&&(a.pathname=a.pathname==="/"?t:ki([t,a.pathname])),(f.replace?r.replace:r.push)(a,f.state,f)},[t,r,m,u,e])}function HD(e,t){return YD(e,t)}function YD(e,t,n,r){Za()||nt(!1);let{navigator:i}=C.useContext(Ja),{matches:u}=C.useContext(qi),m=u[u.length-1],o=m?m.params:{};m&&m.pathname;let s=m?m.pathnameBase:"/";m&&m.route;let l=Wu(),f;if(t){var a;let h=typeof t=="string"?mo(t):t;s==="/"||(a=h.pathname)!=null&&a.startsWith(s)||nt(!1),f=h}else f=l;let c=f.pathname||"/",d=c;if(s!=="/"){let h=s.replace(/^\//,"").split("/");d="/"+c.replace(/^\//,"").split("/").slice(h.length).join("/")}let p=wD(e,{pathname:d}),g=QD(p&&p.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:ki([s,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?s:ki([s,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),u,n,r);return t&&g?C.createElement(zu.Provider,{value:{location:ja({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lr.Pop}},g):g}function XD(){let e=tI(),t=VD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const GD=C.createElement(XD,null);class KD extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(qi.Provider,{value:this.props.routeContext},C.createElement(rS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qD(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(Bm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(qi.Provider,{value:t},r)}function QD(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var u;if(!n)return null;if(n.errors)e=n.matches;else if((u=r)!=null&&u.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let m=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=m.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id])!==void 0);f>=0||nt(!1),m=m.slice(0,Math.min(m.length,f+1))}let s=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<m.length;f++){let a=m[f];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(l=f),a.route.id){let{loaderData:c,errors:d}=n,p=a.route.loader&&c[a.route.id]===void 0&&(!d||d[a.route.id]===void 0);if(a.route.lazy||p){s=!0,l>=0?m=m.slice(0,l+1):m=[m[0]];break}}}return m.reduceRight((f,a,c)=>{let d,p=!1,g=null,h=null;n&&(d=o&&a.route.id?o[a.route.id]:void 0,g=a.route.errorElement||GD,s&&(l<0&&c===0?(p=!0,h=null):l===c&&(p=!0,h=a.route.hydrateFallbackElement||null)));let v=t.concat(m.slice(0,c+1)),x=()=>{let w;return d?w=g:p?w=h:a.route.Component?w=C.createElement(a.route.Component,null):a.route.element?w=a.route.element:w=f,C.createElement(qD,{match:a,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:w})};return n&&(a.route.ErrorBoundary||a.route.errorElement||c===0)?C.createElement(KD,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var sS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sS||{}),$c=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($c||{});function JD(e){let t=C.useContext(Bm);return t||nt(!1),t}function ZD(e){let t=C.useContext(WD);return t||nt(!1),t}function eI(e){let t=C.useContext(qi);return t||nt(!1),t}function oS(e){let t=eI(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function tI(){var e;let t=C.useContext(rS),n=ZD($c.UseRouteError),r=oS($c.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nI(){let{router:e}=JD(sS.UseNavigateStable),t=oS($c.UseNavigateStable),n=C.useRef(!1);return iS(()=>{n.current=!0}),C.useCallback(function(i,u){u===void 0&&(u={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ja({fromRouteId:t},u)))},[e,t])}function rI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wy(e){let{to:t,replace:n,state:r,relative:i}=e;Za()||nt(!1);let{future:u,static:m}=C.useContext(Ja),{matches:o}=C.useContext(qi),{pathname:s}=Wu(),l=UD(),f=tS(t,eS(o,u.v7_relativeSplatPath),s,i==="path"),a=JSON.stringify(f);return C.useEffect(()=>l(JSON.parse(a),{replace:n,state:r,relative:i}),[l,a,i,n,r]),null}function oc(e){nt(!1)}function iI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:u,static:m=!1,future:o}=e;Za()&&nt(!1);let s=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:s,navigator:u,static:m,future:ja({v7_relativeSplatPath:!1},o)}),[s,o,u,m]);typeof r=="string"&&(r=mo(r));let{pathname:f="/",search:a="",hash:c="",state:d=null,key:p="default"}=r,g=C.useMemo(()=>{let h=ZC(f,s);return h==null?null:{location:{pathname:h,search:a,hash:c,state:d,key:p},navigationType:i}},[s,f,a,c,d,p,i]);return g==null?null:C.createElement(Ja.Provider,{value:l},C.createElement(zu.Provider,{children:n,value:g}))}function sI(e){let{children:t,location:n}=e;return HD(Rh(t),n)}new Promise(()=>{});function Rh(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let u=[...t,i];if(r.type===C.Fragment){n.push.apply(n,Rh(r.props.children,u));return}r.type!==oc&&nt(!1),!r.props.index||!r.props.children||nt(!1);let m={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Rh(r.props.children,u)),n.push(m)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oI="6";try{window.__reactRouterVersion=oI}catch{}const aI="startTransition",Uy=Hi[aI];function lI(e){let{basename:t,children:n,future:r,window:i}=e,u=C.useRef();u.current==null&&(u.current=vD({window:i,v5Compat:!0}));let m=u.current,[o,s]=C.useState({action:m.action,location:m.location}),{v7_startTransition:l}=r||{},f=C.useCallback(a=>{l&&Uy?Uy(()=>s(a)):s(a)},[s,l]);return C.useLayoutEffect(()=>m.listen(f),[m,f]),C.useEffect(()=>rI(r),[r]),C.createElement(iI,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:m,future:r})}var $y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($y||($y={}));var Hy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hy||(Hy={}));const cI=C.createContext(void 0);function uI({children:e}){const[t,n]=C.useState(()=>localStorage.getItem("theme")||"system"),[r,i]=C.useState("light");return C.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark");let m="light";t==="system"?m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":m=t,u.classList.add(m),i(m),localStorage.setItem("theme",t)},[t]),C.useEffect(()=>{if(t!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),m=o=>{const s=window.document.documentElement;s.classList.remove("light","dark");const l=o.matches?"dark":"light";s.classList.add(l),i(l)};return u.addEventListener("change",m),()=>u.removeEventListener("change",m)},[t]),y.jsx(cI.Provider,{value:{theme:t,setTheme:n,actualTheme:r},children:e})}const Yy=e=>{let t;const n=new Set,r=(l,f)=>{const a=typeof l=="function"?l(t):l;if(!Object.is(a,t)){const c=t;t=f??(typeof a!="object"||a===null)?a:Object.assign({},t,a),n.forEach(d=>d(t,c))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>s,subscribe:l=>(n.add(l),()=>n.delete(l))},s=t=e(r,i,o);return o},dI=e=>e?Yy(e):Yy,fI=e=>e;function hI(e,t=fI){const n=le.useSyncExternalStore(e.subscribe,le.useCallback(()=>t(e.getState()),[e,t]),le.useCallback(()=>t(e.getInitialState()),[e,t]));return le.useDebugValue(n),n}const Xy=e=>{const t=dI(e),n=r=>hI(t,r);return Object.assign(n,t),n},aS=e=>e?Xy(e):Xy;function pI(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var u;const m=s=>s===null?null:JSON.parse(s,void 0),o=(u=n.getItem(i))!=null?u:null;return o instanceof Promise?o.then(m):m(o)},setItem:(i,u)=>n.setItem(i,JSON.stringify(u,void 0)),removeItem:i=>n.removeItem(i)}}const Dh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Dh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Dh(r)(n)}}}},mI=(e,t)=>(n,r,i)=>{let u={storage:pI(()=>localStorage),partialize:h=>h,version:0,merge:(h,v)=>({...v,...h}),...t},m=!1,o=0;const s=new Set,l=new Set;let f=u.storage;if(!f)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...h)},r,i);const a=()=>{const h=u.partialize({...r()});return f.setItem(u.name,{state:h,version:u.version})},c=i.setState;i.setState=(h,v)=>(c(h,v),a());const d=e((...h)=>(n(...h),a()),r,i);i.getInitialState=()=>d;let p;const g=()=>{var h,v;if(!f)return;const x=++o;m=!1,s.forEach(b=>{var S;return b((S=r())!=null?S:d)});const w=((v=u.onRehydrateStorage)==null?void 0:v.call(u,(h=r())!=null?h:d))||void 0;return Dh(f.getItem.bind(f))(u.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==u.version){if(u.migrate){const S=u.migrate(b.state,b.version);return S instanceof Promise?S.then(T=>[!0,T]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var S;if(x!==o)return;const[T,_]=b;if(p=u.merge(_,(S=r())!=null?S:d),n(p,!0),T)return a()}).then(()=>{x===o&&(w==null||w(p,void 0),p=r(),m=!0,l.forEach(b=>b(p)))}).catch(b=>{x===o&&(w==null||w(void 0,b))})};return i.persist={setOptions:h=>{u={...u,...h},h.storage&&(f=h.storage)},clearStorage:()=>{f==null||f.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>g(),hasHydrated:()=>m,onHydrate:h=>(s.add(h),()=>{s.delete(h)}),onFinishHydration:h=>(l.add(h),()=>{l.delete(h)})},u.skipHydration||g(),p||d},gI=mI,vI="http://localhost:4000",_t=e=>`${vI}${e.startsWith("/")?e:`/${e}`}`,go=aS()(gI(e=>({user:null,isAuthenticated:!1,login:async(t,n)=>{try{const r=await fetch(_t("/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,senha:n})});if(!r.ok){const u=await r.json();throw new Error(u.error||"Erro ao fazer login")}const i=await r.json();e({user:i,isAuthenticated:!0})}catch(r){throw r}},logout:()=>e({user:null,isAuthenticated:!1})}),{name:"vercflow-auth"})),yI=Object.freeze(Object.defineProperty({__proto__:null,useAuth:go},Symbol.toStringTag,{value:"Module"})),Vm=C.createContext({});function zm(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const Uu=C.createContext(null),Wm=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class xI extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wI({children:e,isPresent:t}){const n=C.useId(),r=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=C.useContext(Wm);return C.useInsertionEffect(()=>{const{width:m,height:o,top:s,left:l}=i.current;if(t||!r.current||!m||!o)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return u&&(f.nonce=u),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),y.jsx(xI,{isPresent:t,childRef:r,sizeRef:i,children:C.cloneElement(e,{ref:r})})}const bI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:u,mode:m})=>{const o=zm(CI),s=C.useId(),l=C.useCallback(a=>{o.set(a,!0);for(const c of o.values())if(!c)return;r&&r()},[o,r]),f=C.useMemo(()=>({id:s,initial:t,isPresent:n,custom:i,onExitComplete:l,register:a=>(o.set(a,!1),()=>o.delete(a))}),u?[Math.random(),l]:[n,l]);return C.useMemo(()=>{o.forEach((a,c)=>o.set(c,!1))},[n]),C.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),m==="popLayout"&&(e=y.jsx(wI,{isPresent:n,children:e})),y.jsx(Uu.Provider,{value:f,children:e})};function CI(){return new Map}function lS(e=!0){const t=C.useContext(Uu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,u=C.useId();C.useEffect(()=>{e&&i(u)},[e]);const m=C.useCallback(()=>e&&r&&r(u),[u,r,e]);return!n&&r?[!1,m]:[!0]}const Rl=e=>e.key||"";function Gy(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const Um=typeof window<"u",cS=Um?C.useLayoutEffect:C.useEffect,el=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:u="sync",propagate:m=!1})=>{const[o,s]=lS(m),l=C.useMemo(()=>Gy(e),[e]),f=m&&!o?[]:l.map(Rl),a=C.useRef(!0),c=C.useRef(l),d=zm(()=>new Map),[p,g]=C.useState(l),[h,v]=C.useState(l);cS(()=>{a.current=!1,c.current=l;for(let b=0;b<h.length;b++){const S=Rl(h[b]);f.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[h,f.length,f.join("-")]);const x=[];if(l!==p){let b=[...l];for(let S=0;S<h.length;S++){const T=h[S],_=Rl(T);f.includes(_)||(b.splice(S,0,T),x.push(T))}u==="wait"&&x.length&&(b=x),v(Gy(b)),g(l);return}const{forceRender:w}=C.useContext(Vm);return y.jsx(y.Fragment,{children:h.map(b=>{const S=Rl(b),T=m&&!o?!1:l===h||f.includes(S),_=()=>{if(d.has(S))d.set(S,!0);else return;let P=!0;d.forEach(A=>{A||(P=!1)}),P&&(w==null||w(),v(c.current),m&&(s==null||s()),r&&r())};return y.jsx(bI,{isPresent:T,initial:!a.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:u,onExitComplete:T?void 0:_,children:b},S)})})},$t=e=>e;let Ih=$t;function $m(e){let t;return()=>(t===void 0&&(t=e()),t)}const eo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},tr=e=>e*1e3,nr=e=>e/1e3,SI={skipAnimations:!1,useManualTiming:!1};function TI(e){let t=new Set,n=new Set,r=!1,i=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function o(l){u.has(l)&&(s.schedule(l),e()),l(m)}const s={schedule:(l,f=!1,a=!1)=>{const d=a&&r?t:n;return f&&u.add(l),d.has(l)||d.add(l),l},cancel:l=>{n.delete(l),u.delete(l)},process:l=>{if(m=l,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,s.process(l))}};return s}const Dl=["read","resolveKeyframes","update","preRender","render","postRender"],_I=40;function uS(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,m=Dl.reduce((v,x)=>(v[x]=TI(u),v),{}),{read:o,resolveKeyframes:s,update:l,preRender:f,render:a,postRender:c}=m,d=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,_I),1),i.timestamp=v,i.isProcessing=!0,o.process(i),s.process(i),l.process(i),f.process(i),a.process(i),c.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(d))},p=()=>{n=!0,r=!0,i.isProcessing||e(d)};return{schedule:Dl.reduce((v,x)=>{const w=m[x];return v[x]=(b,S=!1,T=!1)=>(n||p(),w.schedule(b,S,T)),v},{}),cancel:v=>{for(let x=0;x<Dl.length;x++)m[Dl[x]].cancel(v)},state:i,steps:m}}const{schedule:Be,cancel:Zr,state:dt,steps:Yd}=uS(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),dS=C.createContext({strict:!1}),Ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in Ky)to[e]={isEnabled:t=>Ky[e].some(n=>!!t[n])};function EI(e){for(const t in e)to[t]={...to[t],...e[t]}}const PI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PI.has(e)}let fS=e=>!Hc(e);function jI(e){e&&(fS=t=>t.startsWith("on")?!Hc(t):e(t))}try{jI(require("@emotion/is-prop-valid").default)}catch{}function NI(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(fS(i)||n===!0&&Hc(i)||!t&&!Hc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function kI(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const $u=C.createContext({});function Na(e){return typeof e=="string"||Array.isArray(e)}function Hu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Hm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ym=["initial",...Hm];function Yu(e){return Hu(e.animate)||Ym.some(t=>Na(e[t]))}function hS(e){return!!(Yu(e)||e.variants)}function OI(e,t){if(Yu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Na(n)?n:void 0,animate:Na(r)?r:void 0}}return e.inherit!==!1?t:{}}function AI(e){const{initial:t,animate:n}=OI(e,C.useContext($u));return C.useMemo(()=>({initial:t,animate:n}),[qy(t),qy(n)])}function qy(e){return Array.isArray(e)?e.join(" "):e}const MI=Symbol.for("motionComponentSymbol");function xs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RI(e,t,n){return C.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xs(n)&&(n.current=r))},[t])}const Xm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DI="framerAppearId",pS="data-"+Xm(DI),{schedule:Gm,cancel:_8}=uS(queueMicrotask,!1),mS=C.createContext({});function II(e,t,n,r,i){var u,m;const{visualElement:o}=C.useContext($u),s=C.useContext(dS),l=C.useContext(Uu),f=C.useContext(Wm).reducedMotion,a=C.useRef(null);r=r||s.renderer,!a.current&&r&&(a.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f}));const c=a.current,d=C.useContext(mS);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&LI(a.current,n,i,d);const p=C.useRef(!1);C.useInsertionEffect(()=>{c&&p.current&&c.update(n,l)});const g=n[pS],h=C.useRef(!!g&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,g))&&((m=window.MotionHasOptimisedAnimation)===null||m===void 0?void 0:m.call(window,g)));return cS(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),Gm.render(c.render),h.current&&c.animationState&&c.animationState.animateChanges())}),C.useEffect(()=>{c&&(!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),h.current=!1))}),c}function LI(e,t,n,r){const{layoutId:i,layout:u,drag:m,dragConstraints:o,layoutScroll:s,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gS(e.parent)),e.projection.setOptions({layoutId:i,layout:u,alwaysMeasureLayout:!!m||o&&xs(o),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:l})}function gS(e){if(e)return e.options.allowProjection!==!1?e.projection:gS(e.parent)}function FI({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var u,m;e&&EI(e);function o(l,f){let a;const c={...C.useContext(Wm),...l,layoutId:BI(l)},{isStatic:d}=c,p=AI(l),g=r(l,d);if(!d&&Um){VI();const h=zI(c);a=h.MeasureLayout,p.visualElement=II(i,g,c,t,h.ProjectionNode)}return y.jsxs($u.Provider,{value:p,children:[a&&p.visualElement?y.jsx(a,{visualElement:p.visualElement,...c}):null,n(i,l,RI(g,p.visualElement,f),g,d,p.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(m=(u=i.displayName)!==null&&u!==void 0?u:i.name)!==null&&m!==void 0?m:""})`}`;const s=C.forwardRef(o);return s[MI]=i,s}function BI({layoutId:e}){const t=C.useContext(Vm).id;return t&&e!==void 0?t+"-"+e:e}function VI(e,t){C.useContext(dS).strict}function zI(e){const{drag:t,layout:n}=to;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const WI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Km(e){return typeof e!="string"||e.includes("-")?!1:!!(WI.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function qm(e,t,n,r){if(typeof t=="function"){const[i,u]=Qy(r);t=t(n!==void 0?n:e.custom,i,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,u]=Qy(r);t=t(n!==void 0?n:e.custom,i,u)}return t}const Lh=e=>Array.isArray(e),UI=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$I=e=>Lh(e)?e[e.length-1]||0:e,xt=e=>!!(e&&e.getVelocity);function ac(e){const t=xt(e)?e.get():e;return UI(t)?t.toValue():t}function HI({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,u){const m={latestValues:YI(r,i,u,e),renderState:t()};return n&&(m.onMount=o=>n({props:r,current:o,...m}),m.onUpdate=o=>n(o)),m}const vS=e=>(t,n)=>{const r=C.useContext($u),i=C.useContext(Uu),u=()=>HI(e,t,r,i);return n?u():zm(u)};function YI(e,t,n,r){const i={},u=r(e,{});for(const c in u)i[c]=ac(u[c]);let{initial:m,animate:o}=e;const s=Yu(e),l=hS(e);t&&l&&!s&&e.inherit!==!1&&(m===void 0&&(m=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||m===!1;const a=f?o:m;if(a&&typeof a!="boolean"&&!Hu(a)){const c=Array.isArray(a)?a:[a];for(let d=0;d<c.length;d++){const p=qm(e,c[d]);if(p){const{transitionEnd:g,transition:h,...v}=p;for(const x in v){let w=v[x];if(Array.isArray(w)){const b=f?w.length-1:0;w=w[b]}w!==null&&(i[x]=w)}for(const x in g)i[x]=g[x]}}}return i}const vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qi=new Set(vo),yS=e=>t=>typeof t=="string"&&t.startsWith(e),xS=yS("--"),XI=yS("var(--"),Qm=e=>XI(e)?GI.test(e.split("/*")[0].trim()):!1,GI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fr=(e,t,n)=>n>t?t:n<e?e:n,yo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ka={...yo,transform:e=>fr(0,1,e)},Il={...yo,default:1},tl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=tl("deg"),Bn=tl("%"),ge=tl("px"),KI=tl("vh"),qI=tl("vw"),Jy={...Bn,parse:e=>Bn.parse(e)/100,transform:e=>Bn.transform(e*100)},QI={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},JI={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Il,scaleX:Il,scaleY:Il,scaleZ:Il,skew:br,skewX:br,skewY:br,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:ka,originX:Jy,originY:Jy,originZ:ge},Zy={...yo,transform:Math.round},Jm={...QI,...JI,zIndex:Zy,size:ge,fillOpacity:ka,strokeOpacity:ka,numOctaves:Zy},ZI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eL=vo.length;function tL(e,t,n){let r="",i=!0;for(let u=0;u<eL;u++){const m=vo[u],o=e[m];if(o===void 0)continue;let s=!0;if(typeof o=="number"?s=o===(m.startsWith("scale")?1:0):s=parseFloat(o)===0,!s||n){const l=wS(o,Jm[m]);if(!s){i=!1;const f=ZI[m]||m;r+=`${f}(${l}) `}n&&(t[m]=l)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Zm(e,t,n){const{style:r,vars:i,transformOrigin:u}=e;let m=!1,o=!1;for(const s in t){const l=t[s];if(Qi.has(s)){m=!0;continue}else if(xS(s)){i[s]=l;continue}else{const f=wS(l,Jm[s]);s.startsWith("origin")?(o=!0,u[s]=f):r[s]=f}}if(t.transform||(m||n?r.transform=tL(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:s="50%",originY:l="50%",originZ:f=0}=u;r.transformOrigin=`${s} ${l} ${f}`}}const nL={offset:"stroke-dashoffset",array:"stroke-dasharray"},rL={offset:"strokeDashoffset",array:"strokeDasharray"};function iL(e,t,n=1,r=0,i=!0){e.pathLength=1;const u=i?nL:rL;e[u.offset]=ge.transform(-r);const m=ge.transform(t),o=ge.transform(n);e[u.array]=`${m} ${o}`}function ex(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function sL(e,t,n){const r=ex(t,e.x,e.width),i=ex(n,e.y,e.height);return`${r} ${i}`}function eg(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:u,pathLength:m,pathSpacing:o=1,pathOffset:s=0,...l},f,a){if(Zm(e,l,a),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:c,style:d,dimensions:p}=e;c.transform&&(p&&(d.transform=c.transform),delete c.transform),p&&(i!==void 0||u!==void 0||d.transform)&&(d.transformOrigin=sL(p,i!==void 0?i:.5,u!==void 0?u:.5)),t!==void 0&&(c.x=t),n!==void 0&&(c.y=n),r!==void 0&&(c.scale=r),m!==void 0&&iL(c,m,o,s,!1)}const tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bS=()=>({...tg(),attrs:{}}),ng=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CS(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const u in n)e.style.setProperty(u,n[u])}const SS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TS(e,t,n,r){CS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(SS.has(i)?i:Xm(i),t.attrs[i])}const Yc={};function oL(e){Object.assign(Yc,e)}function _S(e,{layout:t,layoutId:n}){return Qi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yc[e]||e==="opacity")}function rg(e,t,n){var r;const{style:i}=e,u={};for(const m in i)(xt(i[m])||t.style&&xt(t.style[m])||_S(m,e)||((r=n==null?void 0:n.getValue(m))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(u[m]=i[m]);return u}function ES(e,t,n){const r=rg(e,t,n);for(const i in e)if(xt(e[i])||xt(t[i])){const u=vo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[u]=e[i]}return r}function aL(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const tx=["x","y","width","height","cx","cy","r"],lL={useVisualState:vS({scrapeMotionValuesFromProps:ES,createRenderState:bS,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let u=!!e.drag;if(!u){for(const o in i)if(Qi.has(o)){u=!0;break}}if(!u)return;let m=!t;if(t)for(let o=0;o<tx.length;o++){const s=tx[o];e[s]!==t[s]&&(m=!0)}m&&Be.read(()=>{aL(n,r),Be.render(()=>{eg(r,i,ng(n.tagName),e.transformTemplate),TS(n,r)})})}})},cL={useVisualState:vS({scrapeMotionValuesFromProps:rg,createRenderState:tg})};function PS(e,t,n){for(const r in t)!xt(t[r])&&!_S(r,n)&&(e[r]=t[r])}function uL({transformTemplate:e},t){return C.useMemo(()=>{const n=tg();return Zm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dL(e,t){const n=e.style||{},r={};return PS(r,n,e),Object.assign(r,uL(e,t)),r}function fL(e,t){const n={},r=dL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function hL(e,t,n,r){const i=C.useMemo(()=>{const u=bS();return eg(u,t,ng(r),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};PS(u,e.style,e),i.style={...u,...i.style}}return i}function pL(e=!1){return(n,r,i,{latestValues:u},m)=>{const s=(Km(n)?hL:fL)(r,u,m,n),l=NI(r,typeof n=="string",e),f=n!==C.Fragment?{...l,...s,ref:i}:{},{children:a}=r,c=C.useMemo(()=>xt(a)?a.get():a,[a]);return C.createElement(n,{...f,children:c})}}function mL(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const m={...Km(r)?lL:cL,preloadedFeatures:e,useRender:pL(i),createVisualElement:t,Component:r};return FI(m)}}function jS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Xu(e,t,n){const r=e.getProps();return qm(r,t,n!==void 0?n:r.custom,e)}const gL=$m(()=>window.ScrollTimeline!==void 0);class vL{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(gL()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,u)=>{i&&i(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yL extends vL{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ig(e,t){return e?e[t]||e.default||e:void 0}const Fh=2e4;function NS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fh;)t+=n,r=e.next(t);return t>=Fh?1/0:t}function sg(e){return typeof e=="function"}function nx(e,t){e.timeline=t,e.onfinish=null}const og=e=>Array.isArray(e)&&typeof e[0]=="number",xL={linearEasing:void 0};function wL(e,t){const n=$m(e);return()=>{var r;return(r=xL[t])!==null&&r!==void 0?r:n()}}const Xc=wL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kS=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let u=0;u<i;u++)r+=e(eo(0,i-1,u))+", ";return`linear(${r.substring(0,r.length-2)})`};function OS(e){return!!(typeof e=="function"&&Xc()||!e||typeof e=="string"&&(e in Bh||Xc())||og(e)||Array.isArray(e)&&e.every(OS))}const Vo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Bh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function AS(e,t){if(e)return typeof e=="function"&&Xc()?kS(e,t):og(e)?Vo(e):Array.isArray(e)?e.map(n=>AS(n,t)||Bh.easeOut):Bh[e]}const cn={x:!1,y:!1};function MS(){return cn.x||cn.y}function bL(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const u=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function RS(e,t){const n=bL(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function rx(e){return t=>{t.pointerType==="touch"||MS()||e(t)}}function CL(e,t,n={}){const[r,i,u]=RS(e,n),m=rx(o=>{const{target:s}=o,l=t(o);if(typeof l!="function"||!s)return;const f=rx(a=>{l(a),s.removeEventListener("pointerleave",f)});s.addEventListener("pointerleave",f,i)});return r.forEach(o=>{o.addEventListener("pointerenter",m,i)}),u}const DS=(e,t)=>t?e===t?!0:DS(e,t.parentElement):!1,ag=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,SL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TL(e){return SL.has(e.tagName)||e.tabIndex!==-1}const zo=new WeakSet;function ix(e){return t=>{t.key==="Enter"&&e(t)}}function Xd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _L=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ix(()=>{if(zo.has(n))return;Xd(n,"down");const i=ix(()=>{Xd(n,"up")}),u=()=>Xd(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sx(e){return ag(e)&&!MS()}function EL(e,t,n={}){const[r,i,u]=RS(e,n),m=o=>{const s=o.currentTarget;if(!sx(o)||zo.has(s))return;zo.add(s);const l=t(o),f=(d,p)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",c),!(!sx(d)||!zo.has(s))&&(zo.delete(s),typeof l=="function"&&l(d,{success:p}))},a=d=>{f(d,n.useGlobalTarget||DS(s,d.target))},c=d=>{f(d,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",c,i)};return r.forEach(o=>{!TL(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",m,i),o.addEventListener("focus",l=>_L(l,i),i)}),u}function PL(e){return e==="x"||e==="y"?cn[e]?null:(cn[e]=!0,()=>{cn[e]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}const IS=new Set(["width","height","top","left","right","bottom",...vo]);let lc;function jL(){lc=void 0}const Vn={now:()=>(lc===void 0&&Vn.set(dt.isProcessing||SI.useManualTiming?dt.timestamp:performance.now()),lc),set:e=>{lc=e,queueMicrotask(jL)}};function lg(e,t){e.indexOf(t)===-1&&e.push(t)}function cg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ug{constructor(){this.subscriptions=[]}add(t){return lg(this.subscriptions,t),()=>cg(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let u=0;u<i;u++){const m=this.subscriptions[u];m&&m(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LS(e,t){return t?e*(1e3/t):0}const ox=30,NL=e=>!isNaN(parseFloat(e));class kL{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const u=Vn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ug);const r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ox)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ox);return LS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oa(e,t){return new kL(e,t)}function OL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oa(n))}function AL(e,t){const n=Xu(e,t);let{transitionEnd:r={},transition:i={},...u}=n||{};u={...u,...r};for(const m in u){const o=$I(u[m]);OL(e,m,o)}}function ML(e){return!!(xt(e)&&e.add)}function Vh(e,t){const n=e.getValue("willChange");if(ML(n))return n.add(t)}function FS(e){return e.props[pS]}const BS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RL=1e-7,DL=12;function IL(e,t,n,r,i){let u,m,o=0;do m=t+(n-t)/2,u=BS(m,r,i)-e,u>0?n=m:t=m;while(Math.abs(u)>RL&&++o<DL);return m}function nl(e,t,n,r){if(e===t&&n===r)return $t;const i=u=>IL(u,0,1,e,n);return u=>u===0||u===1?u:BS(i(u),t,r)}const VS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zS=e=>t=>1-e(1-t),WS=nl(.33,1.53,.69,.99),dg=zS(WS),US=VS(dg),$S=e=>(e*=2)<1?.5*dg(e):.5*(2-Math.pow(2,-10*(e-1))),fg=e=>1-Math.sin(Math.acos(e)),HS=zS(fg),YS=VS(fg),XS=e=>/^0[^.\s]+$/u.test(e);function LL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XS(e):!0}const ta=e=>Math.round(e*1e5)/1e5,hg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FL(e){return e==null}const BL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pg=(e,t)=>n=>!!(typeof n=="string"&&BL.test(n)&&n.startsWith(e)||t&&!FL(n)&&Object.prototype.hasOwnProperty.call(n,t)),GS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,u,m,o]=r.match(hg);return{[e]:parseFloat(i),[t]:parseFloat(u),[n]:parseFloat(m),alpha:o!==void 0?parseFloat(o):1}},VL=e=>fr(0,255,e),Gd={...yo,transform:e=>Math.round(VL(e))},bi={test:pg("rgb","red"),parse:GS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Gd.transform(e)+", "+Gd.transform(t)+", "+Gd.transform(n)+", "+ta(ka.transform(r))+")"};function zL(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zh={test:pg("#"),parse:zL,transform:bi.transform},ws={test:pg("hsl","hue"),parse:GS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bn.transform(ta(t))+", "+Bn.transform(ta(n))+", "+ta(ka.transform(r))+")"},vt={test:e=>bi.test(e)||zh.test(e)||ws.test(e),parse:e=>bi.test(e)?bi.parse(e):ws.test(e)?ws.parse(e):zh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bi.transform(e):ws.transform(e)},WL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(WL))===null||n===void 0?void 0:n.length)||0)>0}const KS="number",qS="color",$L="var",HL="var(",ax="${}",YL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Aa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let u=0;const o=t.replace(YL,s=>(vt.test(s)?(r.color.push(u),i.push(qS),n.push(vt.parse(s))):s.startsWith(HL)?(r.var.push(u),i.push($L),n.push(s)):(r.number.push(u),i.push(KS),n.push(parseFloat(s))),++u,ax)).split(ax);return{values:n,split:o,indexes:r,types:i}}function QS(e){return Aa(e).values}function JS(e){const{split:t,types:n}=Aa(e),r=t.length;return i=>{let u="";for(let m=0;m<r;m++)if(u+=t[m],i[m]!==void 0){const o=n[m];o===KS?u+=ta(i[m]):o===qS?u+=vt.transform(i[m]):u+=i[m]}return u}}const XL=e=>typeof e=="number"?0:e;function GL(e){const t=QS(e);return JS(e)(t.map(XL))}const ei={test:UL,parse:QS,createTransformer:JS,getAnimatableNone:GL},KL=new Set(["brightness","contrast","saturate","opacity"]);function qL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hg)||[];if(!r)return e;const i=n.replace(r,"");let u=KL.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+i+")"}const QL=/\b([a-z-]*)\(.*?\)/gu,Wh={...ei,getAnimatableNone:e=>{const t=e.match(QL);return t?t.map(qL).join(" "):e}},JL={...Jm,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Wh,WebkitFilter:Wh},mg=e=>JL[e];function ZS(e,t){let n=mg(e);return n!==Wh&&(n=ei),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ZL=new Set(["auto","none","0"]);function eF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const u=e[r];typeof u=="string"&&!ZL.has(u)&&Aa(u).values.length&&(i=e[r]),r++}if(i&&n)for(const u of t)e[u]=ZS(n,i)}const lx=e=>e===yo||e===ge,cx=(e,t)=>parseFloat(e.split(", ")[t]),ux=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return cx(i[1],t);{const u=r.match(/^matrix\((.+)\)$/u);return u?cx(u[1],e):0}},tF=new Set(["x","y","z"]),nF=vo.filter(e=>!tF.has(e));function rF(e){const t=[];return nF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const no={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ux(4,13),y:ux(5,14)};no.translateX=no.x;no.translateY=no.y;const Oi=new Set;let Uh=!1,$h=!1;function eT(){if($h){const e=Array.from(Oi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=rF(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([u,m])=>{var o;(o=r.getValue(u))===null||o===void 0||o.set(m)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$h=!1,Uh=!1,Oi.forEach(e=>e.complete()),Oi.clear()}function tT(){Oi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($h=!0)})}function iF(){tT(),eT()}class gg{constructor(t,n,r,i,u,m=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=u,this.isAsync=m}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oi.add(this),Uh||(Uh=!0,Be.read(tT),Be.resolveKeyframes(eT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const m=i==null?void 0:i.get(),o=t[t.length-1];if(m!==void 0)t[0]=m;else if(r&&n){const s=r.readValue(n,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&m===void 0&&i.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oF(e){const t=sF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function rT(e,t,n=1){const[r,i]=oF(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const m=u.trim();return nT(m)?parseFloat(m):m}return Qm(i)?rT(i,t,n+1):i}const iT=e=>t=>t.test(e),aF={test:e=>e==="auto",parse:e=>e},sT=[yo,ge,Bn,br,qI,KI,aF],dx=e=>sT.find(iT(e));class oT extends gg{constructor(t,n,r,i,u){super(t,n,r,i,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="string"&&(l=l.trim(),Qm(l))){const f=rT(l,n.current);f!==void 0&&(t[s]=f),s===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!IS.has(r)||t.length!==2)return;const[i,u]=t,m=dx(i),o=dx(u);if(m!==o)if(lx(m)&&lx(o))for(let s=0;s<t.length;s++){const l=t[s];typeof l=="string"&&(t[s]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)LL(t[i])&&r.push(i);r.length&&eF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=no[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const u=n.getValue(r);u&&u.jump(this.measuredOrigin,!1);const m=i.length-1,o=i[m];i[m]=no[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([s,l])=>{n.getValue(s).set(l)}),this.resolveNoneKeyframes()}}const fx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ei.test(e)||e==="0")&&!e.startsWith("url("));function lF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],m=fx(i,t),o=fx(u,t);return!m||!o?!1:lF(e)||(n==="spring"||sg(n))&&r}const uF=e=>e!==null;function Gu(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(uF),u=t&&n!=="loop"&&t%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const dF=40;class aT{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:u=0,repeatType:m="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:u,repeatType:m,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&iF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Vn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:u,delay:m,onComplete:o,onUpdate:s,isGenerator:l}=this.options;if(!l&&!cF(t,r,i,u))if(m)this.options.duration=0;else{s&&s(Gu(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ue=(e,t,n)=>e+(t-e)*n;function Kd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,u=0,m=0;if(!t)i=u=m=n;else{const o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;i=Kd(s,o,e+1/3),u=Kd(s,o,e),m=Kd(s,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(u*255),blue:Math.round(m*255),alpha:r}}function Gc(e,t){return n=>n>0?t:e}const qd=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},hF=[zh,bi,ws],pF=e=>hF.find(t=>t.test(e));function hx(e){const t=pF(e);if(!t)return!1;let n=t.parse(e);return t===ws&&(n=fF(n)),n}const px=(e,t)=>{const n=hx(e),r=hx(t);if(!n||!r)return Gc(e,t);const i={...n};return u=>(i.red=qd(n.red,r.red,u),i.green=qd(n.green,r.green,u),i.blue=qd(n.blue,r.blue,u),i.alpha=Ue(n.alpha,r.alpha,u),bi.transform(i))},mF=(e,t)=>n=>t(e(n)),rl=(...e)=>e.reduce(mF),Hh=new Set(["none","hidden"]);function gF(e,t){return Hh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vF(e,t){return n=>Ue(e,t,n)}function vg(e){return typeof e=="number"?vF:typeof e=="string"?Qm(e)?Gc:vt.test(e)?px:wF:Array.isArray(e)?lT:typeof e=="object"?vt.test(e)?px:yF:Gc}function lT(e,t){const n=[...e],r=n.length,i=e.map((u,m)=>vg(u)(u,t[m]));return u=>{for(let m=0;m<r;m++)n[m]=i[m](u);return n}}function yF(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=vg(e[i])(e[i],t[i]));return i=>{for(const u in r)n[u]=r[u](i);return n}}function xF(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const m=t.types[u],o=e.indexes[m][i[m]],s=(n=e.values[o])!==null&&n!==void 0?n:0;r[u]=s,i[m]++}return r}const wF=(e,t)=>{const n=ei.createTransformer(t),r=Aa(e),i=Aa(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hh.has(e)&&!i.values.length||Hh.has(t)&&!r.values.length?gF(e,t):rl(lT(xF(r,i),i.values),n):Gc(e,t)};function cT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ue(e,t,n):vg(e)(e,t)}const bF=5;function uT(e,t,n){const r=Math.max(t-bF,0);return LS(n-e(r),t-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qd=.001;function CF({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:n=Xe.velocity,mass:r=Xe.mass}){let i,u,m=1-t;m=fr(Xe.minDamping,Xe.maxDamping,m),e=fr(Xe.minDuration,Xe.maxDuration,nr(e)),m<1?(i=l=>{const f=l*m,a=f*e,c=f-n,d=Yh(l,m),p=Math.exp(-a);return Qd-c/d*p},u=l=>{const a=l*m*e,c=a*n+n,d=Math.pow(m,2)*Math.pow(l,2)*e,p=Math.exp(-a),g=Yh(Math.pow(l,2),m);return(-i(l)+Qd>0?-1:1)*((c-d)*p)/g}):(i=l=>{const f=Math.exp(-l*e),a=(l-n)*e+1;return-Qd+f*a},u=l=>{const f=Math.exp(-l*e),a=(n-l)*(e*e);return f*a});const o=5/e,s=TF(i,u,o);if(e=tr(e),isNaN(s))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const l=Math.pow(s,2)*r;return{stiffness:l,damping:m*2*Math.sqrt(r*l),duration:e}}}const SF=12;function TF(e,t,n){let r=n;for(let i=1;i<SF;i++)r=r-e(r)/t(r);return r}function Yh(e,t){return e*Math.sqrt(1-t*t)}const _F=["duration","bounce"],EF=["stiffness","damping","mass"];function mx(e,t){return t.some(n=>e[n]!==void 0)}function PF(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!mx(e,EF)&&mx(e,_F))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,u=2*fr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Xe.mass,stiffness:i,damping:u}}else{const n=CF(e);t={...t,...n,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function dT(e=Xe.visualDuration,t=Xe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const u=n.keyframes[0],m=n.keyframes[n.keyframes.length-1],o={done:!1,value:u},{stiffness:s,damping:l,mass:f,duration:a,velocity:c,isResolvedFromDuration:d}=PF({...n,velocity:-nr(n.velocity||0)}),p=c||0,g=l/(2*Math.sqrt(s*f)),h=m-u,v=nr(Math.sqrt(s/f)),x=Math.abs(h)<5;r||(r=x?Xe.restSpeed.granular:Xe.restSpeed.default),i||(i=x?Xe.restDelta.granular:Xe.restDelta.default);let w;if(g<1){const S=Yh(v,g);w=T=>{const _=Math.exp(-g*v*T);return m-_*((p+g*v*h)/S*Math.sin(S*T)+h*Math.cos(S*T))}}else if(g===1)w=S=>m-Math.exp(-v*S)*(h+(p+v*h)*S);else{const S=v*Math.sqrt(g*g-1);w=T=>{const _=Math.exp(-g*v*T),P=Math.min(S*T,300);return m-_*((p+g*v*h)*Math.sinh(P)+S*h*Math.cosh(P))/S}}const b={calculatedDuration:d&&a||null,next:S=>{const T=w(S);if(d)o.done=S>=a;else{let _=0;g<1&&(_=S===0?tr(p):uT(w,S,T));const P=Math.abs(_)<=r,A=Math.abs(m-T)<=i;o.done=P&&A}return o.value=o.done?m:T,o},toString:()=>{const S=Math.min(NS(b),Fh),T=kS(_=>b.next(S*_).value,S,30);return S+"ms "+T}};return b}function gx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:u=500,modifyTarget:m,min:o,max:s,restDelta:l=.5,restSpeed:f}){const a=e[0],c={done:!1,value:a},d=P=>o!==void 0&&P<o||s!==void 0&&P>s,p=P=>o===void 0?s:s===void 0||Math.abs(o-P)<Math.abs(s-P)?o:s;let g=n*t;const h=a+g,v=m===void 0?h:m(h);v!==h&&(g=v-a);const x=P=>-g*Math.exp(-P/r),w=P=>v+x(P),b=P=>{const A=x(P),M=w(P);c.done=Math.abs(A)<=l,c.value=c.done?v:M};let S,T;const _=P=>{d(c.value)&&(S=P,T=dT({keyframes:[c.value,p(c.value)],velocity:uT(w,P,c.value),damping:i,stiffness:u,restDelta:l,restSpeed:f}))};return _(0),{calculatedDuration:null,next:P=>{let A=!1;return!T&&S===void 0&&(A=!0,b(P),_(P)),S!==void 0&&P>=S?T.next(P-S):(!A&&b(P),c)}}}const jF=nl(.42,0,1,1),NF=nl(0,0,.58,1),fT=nl(.42,0,.58,1),kF=e=>Array.isArray(e)&&typeof e[0]!="number",vx={linear:$t,easeIn:jF,easeInOut:fT,easeOut:NF,circIn:fg,circInOut:YS,circOut:HS,backIn:dg,backInOut:US,backOut:WS,anticipate:$S},yx=e=>{if(og(e)){Ih(e.length===4);const[t,n,r,i]=e;return nl(t,n,r,i)}else if(typeof e=="string")return Ih(vx[e]!==void 0),vx[e];return e};function OF(e,t,n){const r=[],i=n||cT,u=e.length-1;for(let m=0;m<u;m++){let o=i(e[m],e[m+1]);if(t){const s=Array.isArray(t)?t[m]||$t:t;o=rl(s,o)}r.push(o)}return r}function AF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const u=e.length;if(Ih(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const m=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=OF(t,r,i),s=o.length,l=f=>{if(m&&f<e[0])return t[0];let a=0;if(s>1)for(;a<e.length-2&&!(f<e[a+1]);a++);const c=eo(e[a],e[a+1],f);return o[a](c)};return n?f=>l(fr(e[0],e[u-1],f)):l}function MF(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=eo(0,t,r);e.push(Ue(n,1,i))}}function RF(e){const t=[0];return MF(t,e.length-1),t}function DF(e,t){return e.map(n=>n*t)}function IF(e,t){return e.map(()=>t||fT).splice(0,e.length-1)}function Kc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=kF(r)?r.map(yx):yx(r),u={done:!1,value:t[0]},m=DF(n&&n.length===t.length?n:RF(t),e),o=AF(m,t,{ease:Array.isArray(i)?i:IF(t,i)});return{calculatedDuration:e,next:s=>(u.value=o(s),u.done=s>=e,u)}}const LF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Be.update(t,!0),stop:()=>Zr(t),now:()=>dt.isProcessing?dt.timestamp:Vn.now()}},FF={decay:gx,inertia:gx,tween:Kc,keyframes:Kc,spring:dT},BF=e=>e/100;class yg extends aT{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()};const{name:n,motionValue:r,element:i,keyframes:u}=this.options,m=(i==null?void 0:i.KeyframeResolver)||gg,o=(s,l)=>this.onKeyframesResolved(s,l);this.resolver=new m(u,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:u,velocity:m=0}=this.options,o=sg(n)?n:FF[n]||Kc;let s,l;o!==Kc&&typeof t[0]!="number"&&(s=rl(BF,cT(t[0],t[1])),t=[0,100]);const f=o({...this.options,keyframes:t});u==="mirror"&&(l=o({...this.options,keyframes:[...t].reverse(),velocity:-m})),f.calculatedDuration===null&&(f.calculatedDuration=NS(f));const{calculatedDuration:a}=f,c=a+i,d=c*(r+1)-i;return{generator:f,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:a,resolvedDuration:c,totalDuration:d}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:u,mirroredGenerator:m,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:l,totalDuration:f,resolvedDuration:a}=r;if(this.startTime===null)return u.next(0);const{delay:c,repeat:d,repeatType:p,repeatDelay:g,onUpdate:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-c*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>f;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let w=this.currentTime,b=u;if(d){const P=Math.min(this.currentTime,f)/a;let A=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&A--,A=Math.min(A,d+1),!!(A%2)&&(p==="reverse"?(M=1-M,g&&(M-=g/a)):p==="mirror"&&(b=m)),w=fr(0,1,M)*a}const S=x?{done:!1,value:s[0]}:b.next(w);o&&(S.value=o(S.value));let{done:T}=S;!x&&l!==null&&(T=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&i!==void 0&&(S.value=Gu(s,this.options,i)),h&&h(S.value),_&&this.finish(),S}get duration(){const{resolved:t}=this;return t?nr(t.calculatedDuration):0}get time(){return nr(this.currentTime)}set time(t){t=tr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=nr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=LF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const VF=new Set(["opacity","clipPath","filter","transform"]);function zF(e,t,n,{delay:r=0,duration:i=300,repeat:u=0,repeatType:m="loop",ease:o="easeInOut",times:s}={}){const l={[t]:n};s&&(l.offset=s);const f=AS(o,i);return Array.isArray(f)&&(l.easing=f),e.animate(l,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:m==="reverse"?"alternate":"normal"})}const WF=$m(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qc=10,UF=2e4;function $F(e){return sg(e.type)||e.type==="spring"||!OS(e.ease)}function HF(e,t){const n=new yg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let u=0;for(;!r.done&&u<UF;)r=n.sample(u),i.push(r.value),u+=qc;return{times:void 0,keyframes:i,duration:u-qc,ease:"linear"}}const hT={anticipate:$S,backInOut:US,circInOut:YS};function YF(e){return e in hT}class xx extends aT{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:u}=this.options;this.resolver=new oT(u,(m,o)=>this.onKeyframesResolved(m,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:u,type:m,motionValue:o,name:s,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof u=="string"&&Xc()&&YF(u)&&(u=hT[u]),$F(this.options)){const{onComplete:a,onUpdate:c,motionValue:d,element:p,...g}=this.options,h=HF(t,g);t=h.keyframes,t.length===1&&(t[1]=t[0]),r=h.duration,i=h.times,u=h.ease,m="keyframes"}const f=zF(o.owner.current,s,t,{...this.options,duration:r,times:i,ease:u});return f.startTime=l??this.calcStartTime(),this.pendingTimeline?(nx(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:a}=this.options;o.set(Gu(t,this.options,n)),a&&a(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:m,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return nr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return nr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=tr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return $t;const{animation:r}=n;nx(r,t)}return $t}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:u,ease:m,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:f,onComplete:a,element:c,...d}=this.options,p=new yg({...d,keyframes:r,duration:i,type:u,ease:m,times:o,isGenerator:!0}),g=tr(this.time);l.setWithVelocity(p.sample(g-qc).value,p.sample(g).value,qc)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:u,damping:m,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=n.owner.getProps();return WF()&&r&&VF.has(r)&&!s&&!l&&!i&&u!=="mirror"&&m!==0&&o!=="inertia"}}const XF={type:"spring",stiffness:500,damping:25,restSpeed:10},GF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KF={type:"keyframes",duration:.8},qF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QF=(e,{keyframes:t})=>t.length>2?KF:Qi.has(e)?e.startsWith("scale")?GF(t[1]):XF:qF;function JF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:u,repeatType:m,repeatDelay:o,from:s,elapsed:l,...f}){return!!Object.keys(f).length}const xg=(e,t,n,r={},i,u)=>m=>{const o=ig(r,e)||{},s=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-tr(s);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-l,onUpdate:c=>{t.set(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{m(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:u?void 0:i};JF(o)||(f={...f,...QF(e,f)}),f.duration&&(f.duration=tr(f.duration)),f.repeatDelay&&(f.repeatDelay=tr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let a=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(a=!0)),a&&!u&&t.get()!==void 0){const c=Gu(f.keyframes,o);if(c!==void 0)return Be.update(()=>{f.onUpdate(c),f.onComplete()}),new yL([])}return!u&&xx.supports(f)?new xx(f):new yg(f)};function ZF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var u;let{transition:m=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(m=r);const l=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const a in s){const c=e.getValue(a,(u=e.latestValues[a])!==null&&u!==void 0?u:null),d=s[a];if(d===void 0||f&&ZF(f,a))continue;const p={delay:n,...ig(m||{},a)};let g=!1;if(window.MotionHandoffAnimation){const v=FS(e);if(v){const x=window.MotionHandoffAnimation(v,a,Be);x!==null&&(p.startTime=x,g=!0)}}Vh(e,a),c.start(xg(a,c,d,e.shouldReduceMotion&&IS.has(a)?{type:!1}:p,e,g));const h=c.animation;h&&l.push(h)}return o&&Promise.all(l).then(()=>{Be.update(()=>{o&&AL(e,o)})}),l}function Xh(e,t,n={}){var r;const i=Xu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(u=n.transitionOverride);const m=i?()=>Promise.all(pT(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:f=0,staggerChildren:a,staggerDirection:c}=u;return e5(e,t,f+l,a,c,n)}:()=>Promise.resolve(),{when:s}=u;if(s){const[l,f]=s==="beforeChildren"?[m,o]:[o,m];return l().then(()=>f())}else return Promise.all([m(),o(n.delay)])}function e5(e,t,n=0,r=0,i=1,u){const m=[],o=(e.variantChildren.size-1)*r,s=i===1?(l=0)=>l*r:(l=0)=>o-l*r;return Array.from(e.variantChildren).sort(t5).forEach((l,f)=>{l.notify("AnimationStart",t),m.push(Xh(l,t,{...u,delay:n+s(f)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(m)}function t5(e,t){return e.sortNodePosition(t)}function n5(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(u=>Xh(e,u,n));r=Promise.all(i)}else if(typeof t=="string")r=Xh(e,t,n);else{const i=typeof t=="function"?Xu(e,t,n.custom):t;r=Promise.all(pT(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const r5=Ym.length;function mT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?mT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<r5;n++){const r=Ym[n],i=e.props[r];(Na(i)||i===!1)&&(t[r]=i)}return t}const i5=[...Hm].reverse(),s5=Hm.length;function o5(e){return t=>Promise.all(t.map(({animation:n,options:r})=>n5(e,n,r)))}function a5(e){let t=o5(e),n=wx(),r=!0;const i=s=>(l,f)=>{var a;const c=Xu(e,f,s==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);if(c){const{transition:d,transitionEnd:p,...g}=c;l={...l,...g,...p}}return l};function u(s){t=s(e)}function m(s){const{props:l}=e,f=mT(e.parent)||{},a=[],c=new Set;let d={},p=1/0;for(let h=0;h<s5;h++){const v=i5[h],x=n[v],w=l[v]!==void 0?l[v]:f[v],b=Na(w),S=v===s?x.isActive:null;S===!1&&(p=h);let T=w===f[v]&&w!==l[v]&&b;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...d},!x.isActive&&S===null||!w&&!x.prevProp||Hu(w)||typeof w=="boolean")continue;const _=l5(x.prevProp,w);let P=_||v===s&&x.isActive&&!T&&b||h>p&&b,A=!1;const M=Array.isArray(w)?w:[w];let B=M.reduce(i(v),{});S===!1&&(B={});const{prevResolvedValues:z={}}=x,Z={...z,...B},L=G=>{P=!0,c.has(G)&&(A=!0,c.delete(G)),x.needsAnimating[G]=!0;const D=e.getValue(G);D&&(D.liveStyle=!1)};for(const G in Z){const D=B[G],E=z[G];if(d.hasOwnProperty(G))continue;let j=!1;Lh(D)&&Lh(E)?j=!jS(D,E):j=D!==E,j?D!=null?L(G):c.add(G):D!==void 0&&c.has(G)?L(G):x.protectedKeys[G]=!0}x.prevProp=w,x.prevResolvedValues=B,x.isActive&&(d={...d,...B}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(T&&_)||A)&&a.push(...M.map(G=>({animation:G,options:{type:v}})))}if(c.size){const h={};c.forEach(v=>{const x=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),h[v]=x??null}),a.push({animation:h})}let g=!!a.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(a):Promise.resolve()}function o(s,l){var f;if(n[s].isActive===l)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(c=>{var d;return(d=c.animationState)===null||d===void 0?void 0:d.setActive(s,l)}),n[s].isActive=l;const a=m(s);for(const c in n)n[c].protectedKeys={};return a}return{animateChanges:m,setActive:o,setAnimateFunction:u,getState:()=>n,reset:()=>{n=wx(),r=!0}}}function l5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jS(t,e):!1}function fi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wx(){return{animate:fi(!0),whileInView:fi(),whileHover:fi(),whileTap:fi(),whileDrag:fi(),whileFocus:fi(),exit:fi()}}class oi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class c5 extends oi{constructor(t){super(t),t.animationState||(t.animationState=a5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let u5=0;class d5 extends oi{constructor(){super(...arguments),this.id=u5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const f5={animation:{Feature:c5},exit:{Feature:d5}};function Ma(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function il(e){return{point:{x:e.pageX,y:e.pageY}}}const h5=e=>t=>ag(t)&&e(t,il(t));function na(e,t,n,r){return Ma(e,t,h5(n),r)}const bx=(e,t)=>Math.abs(e-t);function p5(e,t){const n=bx(e.x,t.x),r=bx(e.y,t.y);return Math.sqrt(n**2+r**2)}class gT{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const a=Zd(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=p5(a.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:p}=a,{timestamp:g}=dt;this.history.push({...p,timestamp:g});const{onStart:h,onMove:v}=this.handlers;c||(h&&h(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,a)},this.handlePointerMove=(a,c)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=Jd(c,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(a,c)=>{this.end();const{onEnd:d,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zd(a.type==="pointercancel"?this.lastMoveEventInfo:Jd(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(a,h),p&&p(a,h)},!ag(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const m=il(t),o=Jd(m,this.transformPagePoint),{point:s}=o,{timestamp:l}=dt;this.history=[{...s,timestamp:l}];const{onSessionStart:f}=n;f&&f(t,Zd(o,this.history)),this.removeListeners=rl(na(this.contextWindow,"pointermove",this.handlePointerMove),na(this.contextWindow,"pointerup",this.handlePointerUp),na(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function Jd(e,t){return t?{point:t(e.point)}:e}function Cx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zd({point:e},t){return{point:e,delta:Cx(e,vT(t)),offset:Cx(e,m5(t)),velocity:g5(t,.1)}}function m5(e){return e[0]}function vT(e){return e[e.length-1]}function g5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>tr(t)));)n--;if(!r)return{x:0,y:0};const u=nr(i.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const m={x:(i.x-r.x)/u,y:(i.y-r.y)/u};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}const yT=1e-4,v5=1-yT,y5=1+yT,xT=.01,x5=0-xT,w5=0+xT;function Yt(e){return e.max-e.min}function b5(e,t,n){return Math.abs(e-t)<=n}function Sx(e,t,n,r=.5){e.origin=r,e.originPoint=Ue(t.min,t.max,e.origin),e.scale=Yt(n)/Yt(t),e.translate=Ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=v5&&e.scale<=y5||isNaN(e.scale))&&(e.scale=1),(e.translate>=x5&&e.translate<=w5||isNaN(e.translate))&&(e.translate=0)}function ra(e,t,n,r){Sx(e.x,t.x,n.x,r?r.originX:void 0),Sx(e.y,t.y,n.y,r?r.originY:void 0)}function Tx(e,t,n){e.min=n.min+t.min,e.max=e.min+Yt(t)}function C5(e,t,n){Tx(e.x,t.x,n.x),Tx(e.y,t.y,n.y)}function _x(e,t,n){e.min=t.min-n.min,e.max=e.min+Yt(t)}function ia(e,t,n){_x(e.x,t.x,n.x),_x(e.y,t.y,n.y)}function S5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ue(n,e,r.max):Math.min(e,n)),e}function Ex(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function T5(e,{top:t,left:n,bottom:r,right:i}){return{x:Ex(e.x,n,i),y:Ex(e.y,t,r)}}function Px(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function _5(e,t){return{x:Px(e.x,t.x),y:Px(e.y,t.y)}}function E5(e,t){let n=.5;const r=Yt(e),i=Yt(t);return i>r?n=eo(t.min,t.max-r,e.min):r>i&&(n=eo(e.min,e.max-i,t.min)),fr(0,1,n)}function P5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Gh=.35;function j5(e=Gh){return e===!1?e=0:e===!0&&(e=Gh),{x:jx(e,"left","right"),y:jx(e,"top","bottom")}}function jx(e,t,n){return{min:Nx(e,t),max:Nx(e,n)}}function Nx(e,t){return typeof e=="number"?e:e[t]||0}const kx=()=>({translate:0,scale:1,origin:0,originPoint:0}),bs=()=>({x:kx(),y:kx()}),Ox=()=>({min:0,max:0}),Ke=()=>({x:Ox(),y:Ox()});function qt(e){return[e("x"),e("y")]}function wT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function N5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function k5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ef(e){return e===void 0||e===1}function Kh({scale:e,scaleX:t,scaleY:n}){return!ef(e)||!ef(t)||!ef(n)}function mi(e){return Kh(e)||bT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bT(e){return Ax(e.x)||Ax(e.y)}function Ax(e){return e&&e!=="0%"}function Qc(e,t,n){const r=e-n,i=t*r;return n+i}function Mx(e,t,n,r,i){return i!==void 0&&(e=Qc(e,i,r)),Qc(e,n,r)+t}function qh(e,t=0,n=1,r,i){e.min=Mx(e.min,t,n,r,i),e.max=Mx(e.max,t,n,r,i)}function CT(e,{x:t,y:n}){qh(e.x,t.translate,t.scale,t.originPoint),qh(e.y,n.translate,n.scale,n.originPoint)}const Rx=.999999999999,Dx=1.0000000000001;function O5(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let u,m;for(let o=0;o<i;o++){u=n[o],m=u.projectionDelta;const{visualElement:s}=u.options;s&&s.props.style&&s.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ss(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),m&&(t.x*=m.x.scale,t.y*=m.y.scale,CT(e,m)),r&&mi(u.latestValues)&&Ss(e,u.latestValues))}t.x<Dx&&t.x>Rx&&(t.x=1),t.y<Dx&&t.y>Rx&&(t.y=1)}function Cs(e,t){e.min=e.min+t,e.max=e.max+t}function Ix(e,t,n,r,i=.5){const u=Ue(e.min,e.max,i);qh(e,t,n,u,r)}function Ss(e,t){Ix(e.x,t.x,t.scaleX,t.scale,t.originX),Ix(e.y,t.y,t.scaleY,t.scale,t.originY)}function ST(e,t){return wT(k5(e.getBoundingClientRect(),t))}function A5(e,t,n){const r=ST(e,n),{scroll:i}=t;return i&&(Cs(r.x,i.offset.x),Cs(r.y,i.offset.y)),r}const TT=({current:e})=>e?e.ownerDocument.defaultView:null,M5=new WeakMap;class R5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:a}=this.getProps();a?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(il(f).point)},u=(f,a)=>{const{drag:c,dragPropagation:d,onDragStart:p}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PL(c),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(h=>{let v=this.getAxisMotionValue(h).get()||0;if(Bn.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[h];w&&(v=Yt(w)*(parseFloat(v)/100))}}this.originPoint[h]=v}),p&&Be.postRender(()=>p(f,a)),Vh(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},m=(f,a)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:p,onDrag:g}=this.getProps();if(!c&&!this.openDragLock)return;const{offset:h}=a;if(d&&this.currentDirection===null){this.currentDirection=D5(h),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",a.point,h),this.updateAxis("y",a.point,h),this.visualElement.render(),g&&g(f,a)},o=(f,a)=>this.stop(f,a),s=()=>qt(f=>{var a;return this.getAnimationState(f)==="paused"&&((a=this.getAxisMotionValue(f).animation)===null||a===void 0?void 0:a.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new gT(t,{onSessionStart:i,onStart:u,onMove:m,onSessionEnd:o,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:TT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:u}=this.getProps();u&&Be.postRender(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ll(t,i,this.currentDirection))return;const u=this.getAxisMotionValue(t);let m=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(m=S5(m,this.constraints[t],this.elastic[t])),u.set(m)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&xs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=T5(i.layoutBox,n):this.constraints=!1,this.elastic=j5(r),u!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qt(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=P5(i.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const u=A5(r,i.root,this.visualElement.getTransformPagePoint());let m=_5(i.layout.layoutBox,u);if(n){const o=n(N5(m));this.hasMutatedConstraints=!!o,o&&(m=wT(o))}return m}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:u,dragSnapToOrigin:m,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=qt(f=>{if(!Ll(f,n,this.currentDirection))return;let a=s&&s[f]||{};m&&(a={min:0,max:0});const c=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:r?t[f]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...u,...a};return this.startAxisValueAnimation(f,p)});return Promise.all(l).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Vh(this.visualElement,t),r.start(xg(t,r,0,n,this.visualElement,!1))}stopAnimation(){qt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qt(n=>{const{drag:r}=this.getProps();if(!Ll(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,u=this.getAxisMotionValue(n);if(i&&i.layout){const{min:m,max:o}=i.layout.layoutBox[n];u.set(t[n]-Ue(m,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qt(m=>{const o=this.getAxisMotionValue(m);if(o&&this.constraints!==!1){const s=o.get();i[m]=E5({min:s,max:s},this.constraints[m])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qt(m=>{if(!Ll(m,t,null))return;const o=this.getAxisMotionValue(m),{min:s,max:l}=this.constraints[m];o.set(Ue(s,l,i[m]))})}addListeners(){if(!this.visualElement.current)return;M5.set(this.visualElement,this);const t=this.visualElement.current,n=na(t,"pointerdown",s=>{const{drag:l,dragListener:f=!0}=this.getProps();l&&f&&this.start(s)}),r=()=>{const{dragConstraints:s}=this.getProps();xs(s)&&s.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,u=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Be.read(r);const m=Ma(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:s,hasLayoutChanged:l})=>{this.isDragging&&l&&(qt(f=>{const a=this.getAxisMotionValue(f);a&&(this.originPoint[f]+=s[f].translate,a.set(a.get()+s[f].translate))}),this.visualElement.render())});return()=>{m(),n(),u(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:u=!1,dragElastic:m=Gh,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:u,dragElastic:m,dragMomentum:o}}}function Ll(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function D5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class I5 extends oi{constructor(t){super(t),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new R5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lx=e=>(t,n)=>{e&&Be.postRender(()=>e(t,n))};class L5 extends oi{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(t){this.session=new gT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lx(t),onStart:Lx(n),onMove:r,onEnd:(u,m)=>{delete this.session,i&&Be.postRender(()=>i(u,m))}}}mount(){this.removePointerDownListener=na(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=Fx(e,t.target.x),r=Fx(e,t.target.y);return`${n}% ${r}%`}},F5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ei.parse(e);if(i.length>5)return r;const u=ei.createTransformer(e),m=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,s=n.y.scale*t.y;i[0+m]/=o,i[1+m]/=s;const l=Ue(o,s,.5);return typeof i[2+m]=="number"&&(i[2+m]/=l),typeof i[3+m]=="number"&&(i[3+m]/=l),u(i)}};class B5 extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:u}=t;oL(V5),u&&(n.group&&n.group.add(u),r&&r.register&&i&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:u}=this.props,m=r.projection;return m&&(m.isPresent=u,i||t.layoutDependency!==n||n===void 0?m.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?m.promote():m.relegate()||Be.postRender(()=>{const o=m.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _T(e){const[t,n]=lS(),r=C.useContext(Vm);return y.jsx(B5,{...e,layoutGroup:r,switchLayoutGroup:C.useContext(mS),isPresent:t,safeToRemove:n})}const V5={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:F5};function z5(e,t,n){const r=xt(e)?e:Oa(e);return r.start(xg("",r,t,n)),r.animation}function W5(e){return e instanceof SVGElement&&e.tagName!=="svg"}const U5=(e,t)=>e.depth-t.depth;class $5{constructor(){this.children=[],this.isDirty=!1}add(t){lg(this.children,t),this.isDirty=!0}remove(t){cg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(U5),this.isDirty=!1,this.children.forEach(t)}}function H5(e,t){const n=Vn.now(),r=({timestamp:i})=>{const u=i-n;u>=t&&(Zr(r),e(u-t))};return Be.read(r,!0),()=>Zr(r)}const ET=["TopLeft","TopRight","BottomLeft","BottomRight"],Y5=ET.length,Bx=e=>typeof e=="string"?parseFloat(e):e,Vx=e=>typeof e=="number"||ge.test(e);function X5(e,t,n,r,i,u){i?(e.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,G5(r)),e.opacityExit=Ue(t.opacity!==void 0?t.opacity:1,0,K5(r))):u&&(e.opacity=Ue(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let m=0;m<Y5;m++){const o=`border${ET[m]}Radius`;let s=zx(t,o),l=zx(n,o);if(s===void 0&&l===void 0)continue;s||(s=0),l||(l=0),s===0||l===0||Vx(s)===Vx(l)?(e[o]=Math.max(Ue(Bx(s),Bx(l),r),0),(Bn.test(l)||Bn.test(s))&&(e[o]+="%")):e[o]=l}(t.rotate||n.rotate)&&(e.rotate=Ue(t.rotate||0,n.rotate||0,r))}function zx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G5=PT(0,.5,HS),K5=PT(.5,.95,$t);function PT(e,t,n){return r=>r<e?0:r>t?1:n(eo(e,t,r))}function Wx(e,t){e.min=t.min,e.max=t.max}function Kt(e,t){Wx(e.x,t.x),Wx(e.y,t.y)}function Ux(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $x(e,t,n,r,i){return e-=t,e=Qc(e,1/n,r),i!==void 0&&(e=Qc(e,1/i,r)),e}function q5(e,t=0,n=1,r=.5,i,u=e,m=e){if(Bn.test(t)&&(t=parseFloat(t),t=Ue(m.min,m.max,t/100)-m.min),typeof t!="number")return;let o=Ue(u.min,u.max,r);e===u&&(o-=t),e.min=$x(e.min,t,n,o,i),e.max=$x(e.max,t,n,o,i)}function Hx(e,t,[n,r,i],u,m){q5(e,t[n],t[r],t[i],t.scale,u,m)}const Q5=["x","scaleX","originX"],J5=["y","scaleY","originY"];function Yx(e,t,n,r){Hx(e.x,t,Q5,n?n.x:void 0,r?r.x:void 0),Hx(e.y,t,J5,n?n.y:void 0,r?r.y:void 0)}function Xx(e){return e.translate===0&&e.scale===1}function jT(e){return Xx(e.x)&&Xx(e.y)}function Gx(e,t){return e.min===t.min&&e.max===t.max}function Z5(e,t){return Gx(e.x,t.x)&&Gx(e.y,t.y)}function Kx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NT(e,t){return Kx(e.x,t.x)&&Kx(e.y,t.y)}function qx(e){return Yt(e.x)/Yt(e.y)}function Qx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class e4{constructor(){this.members=[]}add(t){lg(this.members,t),t.scheduleRender()}remove(t){if(cg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const u=this.members[i];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t4(e,t,n){let r="";const i=e.x.translate/t.x,u=e.y.translate/t.y,m=(n==null?void 0:n.z)||0;if((i||u||m)&&(r=`translate3d(${i}px, ${u}px, ${m}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:f,rotateX:a,rotateY:c,skewX:d,skewY:p}=n;l&&(r=`perspective(${l}px) ${r}`),f&&(r+=`rotate(${f}deg) `),a&&(r+=`rotateX(${a}deg) `),c&&(r+=`rotateY(${c}deg) `),d&&(r+=`skewX(${d}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wo=typeof window<"u"&&window.MotionDebug!==void 0,tf=["","X","Y","Z"],n4={visibility:"hidden"},Jx=1e3;let r4=0;function nf(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=FS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(i||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kT(r)}function OT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(m={},o=t==null?void 0:t()){this.id=r4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wo&&(gi.totalNodes=gi.resolvedTargetDeltas=gi.recalculatedProjection=0),this.nodes.forEach(o4),this.nodes.forEach(d4),this.nodes.forEach(f4),this.nodes.forEach(a4),Wo&&window.MotionDebug.record(gi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new $5)}addEventListener(m,o){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new ug),this.eventHandlers.get(m).add(o)}notifyListeners(m,...o){const s=this.eventHandlers.get(m);s&&s.notify(...o)}hasListeners(m){return this.eventHandlers.has(m)}mount(m,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=W5(m),this.instance=m;const{layoutId:s,layout:l,visualElement:f}=this.options;if(f&&!f.current&&f.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let a;const c=()=>this.root.updateBlockedByResize=!1;e(m,()=>{this.root.updateBlockedByResize=!0,a&&a(),a=H5(c,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(e0))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&f&&(s||l)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||f.getDefaultTransition()||v4,{onLayoutAnimationStart:h,onLayoutAnimationComplete:v}=f.getProps(),x=!this.targetLayout||!NT(this.targetLayout,p)||d,w=!c&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||c&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(a,w);const b={...ig(g,"layout"),onPlay:h,onComplete:v};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else c||e0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h4),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const a=this.path[f];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zx);return}this.isUpdating||this.nodes.forEach(c4),this.isUpdating=!1,this.nodes.forEach(u4),this.nodes.forEach(i4),this.nodes.forEach(s4),this.clearAllSnapshots();const o=Vn.now();dt.delta=fr(0,1e3/60,o-dt.timestamp),dt.timestamp=o,dt.isProcessing=!0,Yd.update.process(dt),Yd.preRender.process(dt),Yd.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l4),this.sharedNodes.forEach(p4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(o=!1),o){const s=r(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:s,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:s}}}resetTransform(){if(!i)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!jT(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,f=l!==this.prevTransformTemplateValue;m&&(o||mi(this.latestValues)||f)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return m&&(s=this.removeTransform(s)),y4(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return Ke();const s=o.measureViewportBox();if(!(((m=this.scroll)===null||m===void 0?void 0:m.wasRoot)||this.path.some(x4))){const{scroll:f}=this.root;f&&(Cs(s.x,f.offset.x),Cs(s.y,f.offset.y))}return s}removeElementScroll(m){var o;const s=Ke();if(Kt(s,m),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return s;for(let l=0;l<this.path.length;l++){const f=this.path[l],{scroll:a,options:c}=f;f!==this.root&&a&&c.layoutScroll&&(a.wasRoot&&Kt(s,m),Cs(s.x,a.offset.x),Cs(s.y,a.offset.y))}return s}applyTransform(m,o=!1){const s=Ke();Kt(s,m);for(let l=0;l<this.path.length;l++){const f=this.path[l];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ss(s,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),mi(f.latestValues)&&Ss(s,f.latestValues)}return mi(this.latestValues)&&Ss(s,this.latestValues),s}removeTransform(m){const o=Ke();Kt(o,m);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!mi(l.latestValues))continue;Kh(l.latestValues)&&l.updateSnapshot();const f=Ke(),a=l.measurePageBox();Kt(f,a),Yx(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,f)}return mi(this.latestValues)&&Yx(o,this.latestValues),o}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(m||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:c}=this.options;if(!(!this.layout||!(a||c))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),ia(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),CT(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),ia(this.relativeTargetOrigin,this.target,d.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wo&&gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kh(this.parent.latestValues)||bT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(l=!1),l)return;const{layout:f,layoutId:a}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||a))return;Kt(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,d=this.treeScale.y;O5(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ke());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ux(this.prevProjectionDelta.x,this.projectionDelta.x),Ux(this.prevProjectionDelta.y,this.projectionDelta.y)),ra(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==d||!Qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Wo&&gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),m){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bs(),this.projectionDelta=bs(),this.projectionDeltaWithTransform=bs()}setAnimationOrigin(m,o=!1){const s=this.snapshot,l=s?s.latestValues:{},f={...this.latestValues},a=bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const c=Ke(),d=s?s.source:void 0,p=this.layout?this.layout.source:void 0,g=d!==p,h=this.getStack(),v=!h||h.members.length<=1,x=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(g4));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const S=b/1e3;t0(a.x,m.x,S),t0(a.y,m.y,S),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ia(c,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m4(this.relativeTarget,this.relativeTargetOrigin,c,S),w&&Z5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ke()),Kt(w,this.relativeTarget)),g&&(this.animationValues=f,X5(f,l,this.latestValues,S,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=z5(0,Jx,{...m,onUpdate:o=>{this.mixTargetDelta(o),m.onUpdate&&m.onUpdate(o)},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:f}=m;if(!(!o||!s||!l)){if(this!==m&&this.layout&&l&&AT(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Ke();const a=Yt(this.layout.layoutBox.x);s.x.min=m.target.x.min,s.x.max=s.x.min+a;const c=Yt(this.layout.layoutBox.y);s.y.min=m.target.y.min,s.y.max=s.y.min+c}Kt(o,s),Ss(o,f),ra(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(m,o){this.sharedNodes.has(m)||this.sharedNodes.set(m,new e4),this.sharedNodes.get(m).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){var m;const{layoutId:o}=this.options;return o?((m=this.getStack())===null||m===void 0?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:o}=this.options;return o?(m=this.getStack())===null||m===void 0?void 0:m.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),m&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let o=!1;const{latestValues:s}=m;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(o=!0),!o)return;const l={};s.z&&nf("z",m,l,this.animationValues);for(let f=0;f<tf.length;f++)nf(`rotate${tf[f]}`,m,l,this.animationValues),nf(`skew${tf[f]}`,m,l,this.animationValues);m.render();for(const f in l)m.setStaticValue(f,l[f]),this.animationValues&&(this.animationValues[f]=l[f]);m.scheduleRender()}getProjectionStyles(m){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n4;const l={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ac(m==null?void 0:m.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none",l;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ac(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(g.transform=f?f({},""):"none",this.hasProjected=!1),g}const c=a.animationValues||a.latestValues;this.applyTransformsToTarget(),l.transform=t4(this.projectionDeltaWithTransform,this.treeScale,c),f&&(l.transform=f(c,l.transform));const{x:d,y:p}=this.projectionDelta;l.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,a.animationValues?l.opacity=a===this?(s=(o=c.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:l.opacity=a===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in Yc){if(c[g]===void 0)continue;const{correct:h,applyTo:v}=Yc[g],x=l.transform==="none"?c[g]:h(c[g],a);if(v){const w=v.length;for(let b=0;b<w;b++)l[v[b]]=x}else l[g]=x}return this.options.layoutId&&(l.pointerEvents=a===this?ac(m==null?void 0:m.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>{var o;return(o=m.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Zx),this.root.sharedNodes.clear()}}}function i4(e){e.updateLayout()}function s4(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:u}=e.options,m=n.source!==e.layout.source;u==="size"?qt(a=>{const c=m?n.measuredBox[a]:n.layoutBox[a],d=Yt(c);c.min=r[a].min,c.max=c.min+d}):AT(u,n.layoutBox,r)&&qt(a=>{const c=m?n.measuredBox[a]:n.layoutBox[a],d=Yt(r[a]);c.max=c.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+d)});const o=bs();ra(o,r,n.layoutBox);const s=bs();m?ra(s,e.applyTransform(i,!0),n.measuredBox):ra(s,r,n.layoutBox);const l=!jT(o);let f=!1;if(!e.resumeFrom){const a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:c,layout:d}=a;if(c&&d){const p=Ke();ia(p,n.layoutBox,c.layoutBox);const g=Ke();ia(g,r,d.layoutBox),NT(p,g)||(f=!0),a.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function o4(e){Wo&&gi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function l4(e){e.clearSnapshot()}function Zx(e){e.clearMeasurements()}function c4(e){e.isLayoutDirty=!1}function u4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function d4(e){e.resolveTargetDelta()}function f4(e){e.calcProjection()}function h4(e){e.resetSkewAndRotation()}function p4(e){e.removeLeadSnapshot()}function t0(e,t,n){e.translate=Ue(t.translate,0,n),e.scale=Ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function n0(e,t,n,r){e.min=Ue(t.min,n.min,r),e.max=Ue(t.max,n.max,r)}function m4(e,t,n,r){n0(e.x,t.x,n.x,r),n0(e.y,t.y,n.y,r)}function g4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const v4={duration:.45,ease:[.4,0,.1,1]},r0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i0=r0("applewebkit/")&&!r0("chrome/")?Math.round:$t;function s0(e){e.min=i0(e.min),e.max=i0(e.max)}function y4(e){s0(e.x),s0(e.y)}function AT(e,t,n){return e==="position"||e==="preserve-aspect"&&!b5(qx(t),qx(n),.2)}function x4(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const w4=OT({attachResizeListener:(e,t)=>Ma(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rf={current:void 0},MT=OT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rf.current){const e=new w4({});e.mount(window),e.setOptions({layoutScroll:!0}),rf.current=e}return rf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),b4={pan:{Feature:L5},drag:{Feature:I5,ProjectionNode:MT,MeasureLayout:_T}};function o0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,u=r[i];u&&Be.postRender(()=>u(t,il(t)))}class C4 extends oi{mount(){const{current:t}=this.node;t&&(this.unmount=CL(t,n=>(o0(this.node,n,"Start"),r=>o0(this.node,r,"End"))))}unmount(){}}class S4 extends oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rl(Ma(this.node.current,"focus",()=>this.onFocus()),Ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a0(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),u=r[i];u&&Be.postRender(()=>u(t,il(t)))}class T4 extends oi{mount(){const{current:t}=this.node;t&&(this.unmount=EL(t,n=>(a0(this.node,n,"Start"),(r,{success:i})=>a0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qh=new WeakMap,sf=new WeakMap,_4=e=>{const t=Qh.get(e.target);t&&t(e)},E4=e=>{e.forEach(_4)};function P4({root:e,...t}){const n=e||document;sf.has(n)||sf.set(n,{});const r=sf.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(E4,{root:e,...t})),r[i]}function j4(e,t,n){const r=P4(t);return Qh.set(e,n),r.observe(e),()=>{Qh.delete(e),r.unobserve(e)}}const N4={some:0,all:1};class k4 extends oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:u}=t,m={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:N4[i]},o=s=>{const{isIntersecting:l}=s;if(this.isInView===l||(this.isInView=l,u&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:f,onViewportLeave:a}=this.node.getProps(),c=l?f:a;c&&c(s)};return j4(this.node.current,m,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(O4(t,n))&&this.startObserver()}unmount(){}}function O4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const A4={inView:{Feature:k4},tap:{Feature:T4},focus:{Feature:S4},hover:{Feature:C4}},M4={layout:{ProjectionNode:MT,MeasureLayout:_T}},Jh={current:null},RT={current:!1};function R4(){if(RT.current=!0,!!Um)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jh.current=e.matches;e.addListener(t),t()}else Jh.current=!1}const D4=[...sT,vt,ei],I4=e=>D4.find(iT(e)),l0=new WeakMap;function L4(e,t,n){for(const r in t){const i=t[r],u=n[r];if(xt(i))e.addValue(r,i);else if(xt(u))e.addValue(r,Oa(i,{owner:e}));else if(u!==i)if(e.hasValue(r)){const m=e.getValue(r);m.liveStyle===!0?m.jump(i):m.hasAnimated||m.set(i)}else{const m=e.getStaticValue(r);e.addValue(r,Oa(m!==void 0?m:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const c0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:u,visualState:m},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Vn.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Be.render(this.render,!1,!0))};const{latestValues:s,renderState:l,onUpdate:f}=m;this.onUpdate=f,this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!u,this.isControllingVariants=Yu(n),this.isVariantNode=hS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:a,...c}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in c){const p=c[d];s[d]!==void 0&&xt(p)&&p.set(s[d],!1)}}mount(t){this.current=t,l0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RT.current||R4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l0.delete(this.current),this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qi.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),u(),m&&m(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in to){const n=to[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<c0.length;r++){const i=c0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const u="on"+i,m=t[u];m&&(this.propEventSubscriptions[i]=this.on(i,m))}this.prevMotionValues=L4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Oa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(nT(i)||XS(i))?i=parseFloat(i):!I4(i)&&ei.test(n)&&(i=ZS(t,n)),this.setBaseTarget(t,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const m=qm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);m&&(i=m[t])}if(r&&i!==void 0)return i;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!xt(u)?u:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ug),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class DT extends F4{constructor(){super(...arguments),this.KeyframeResolver=oT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function B4(e){return window.getComputedStyle(e)}class V4 extends DT{constructor(){super(...arguments),this.type="html",this.renderInstance=CS}readValueFromInstance(t,n){if(Qi.has(n)){const r=mg(n);return r&&r.default||0}else{const r=B4(t),i=(xS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ST(t,n)}build(t,n,r){Zm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return rg(t,n,r)}}class z4 extends DT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qi.has(n)){const r=mg(n);return r&&r.default||0}return n=SS.has(n)?n:Xm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ES(t,n,r)}build(t,n,r){eg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){TS(t,n,r,i)}mount(t){this.isSVGTag=ng(t.tagName),super.mount(t)}}const W4=(e,t)=>Km(e)?new z4(t):new V4(t,{allowProjection:e!==C.Fragment}),U4=mL({...f5,...A4,...b4,...M4},W4),Qe=kI(U4);function $4(e,t=[]){let n=[];function r(u,m){const o=C.createContext(m);o.displayName=u+"Context";const s=n.length;n=[...n,m];const l=a=>{var v;const{scope:c,children:d,...p}=a,g=((v=c==null?void 0:c[e])==null?void 0:v[s])||o,h=C.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:h,children:d})};l.displayName=u+"Provider";function f(a,c){var g;const d=((g=c==null?void 0:c[e])==null?void 0:g[s])||o,p=C.useContext(d);if(p)return p;if(m!==void 0)return m;throw new Error(`\`${a}\` must be used within \`${u}\``)}return[l,f]}const i=()=>{const u=n.map(m=>C.createContext(m));return function(o){const s=(o==null?void 0:o[e])||u;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,H4(i,...t)]}function H4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const m=r.reduce((o,{useScope:s,scopeName:l})=>{const a=s(u)[`__scope${l}`];return{...o,...a}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:m}),[m])}};return n.scopeName=t.scopeName,n}var Y4=Symbol.for("react.lazy"),Jc=Hi[" use ".trim().toString()];function X4(e){return typeof e=="object"&&e!==null&&"then"in e}function IT(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Y4&&"_payload"in e&&X4(e._payload)}function G4(e){const t=K4(e),n=C.forwardRef((r,i)=>{let{children:u,...m}=r;IT(u)&&typeof Jc=="function"&&(u=Jc(u._payload));const o=C.Children.toArray(u),s=o.find(Q4);if(s){const l=s.props.children,f=o.map(a=>a===s?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:a);return y.jsx(t,{...m,ref:i,children:C.isValidElement(l)?C.cloneElement(l,void 0,f):null})}return y.jsx(t,{...m,ref:i,children:u})});return n.displayName=`${e}.Slot`,n}function K4(e){const t=C.forwardRef((n,r)=>{let{children:i,...u}=n;if(IT(i)&&typeof Jc=="function"&&(i=Jc(i._payload)),C.isValidElement(i)){const m=Z4(i),o=J4(u,i.props);return i.type!==C.Fragment&&(o.ref=r?si(r,m):m),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q4=Symbol("radix.slottable");function Q4(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q4}function J4(e,t){const n={...t};for(const r in t){const i=e[r],u=t[r];/^on[A-Z]/.test(r)?i&&u?n[r]=(...o)=>{const s=u(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...u}:r==="className"&&(n[r]=[i,u].filter(Boolean).join(" "))}return{...e,...n}}function Z4(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wg=eB.reduce((e,t)=>{const n=G4(`Primitive.${t}`),r=C.forwardRef((i,u)=>{const{asChild:m,...o}=i,s=m?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),LT={exports:{}},FT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=C;function tB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nB=typeof Object.is=="function"?Object.is:tB,rB=ro.useState,iB=ro.useEffect,sB=ro.useLayoutEffect,oB=ro.useDebugValue;function aB(e,t){var n=t(),r=rB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return sB(function(){i.value=n,i.getSnapshot=t,of(i)&&u({inst:i})},[e,n,t]),iB(function(){return of(i)&&u({inst:i}),e(function(){of(i)&&u({inst:i})})},[e]),oB(n),n}function of(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nB(e,n)}catch{return!0}}function lB(e,t){return t()}var cB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lB:aB;FT.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:cB;LT.exports=FT;var uB=LT.exports;function dB(){return uB.useSyncExternalStore(fB,()=>!0,()=>!1)}function fB(){return()=>{}}var bg="Avatar",[hB,P8]=$4(bg),[pB,BT]=hB(bg),VT=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,u]=C.useState("idle");return y.jsx(pB,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:u,children:y.jsx(wg.span,{...r,ref:t})})});VT.displayName=bg;var zT="AvatarImage",WT=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...u}=e,m=BT(zT,n),o=mB(r,u),s=Pe(l=>{i(l),m.onImageLoadingStatusChange(l)});return je(()=>{o!=="idle"&&s(o)},[o,s]),o==="loaded"?y.jsx(wg.img,{...u,ref:t,src:r}):null});WT.displayName=zT;var UT="AvatarFallback",$T=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,u=BT(UT,n),[m,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const s=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(s)}},[r]),m&&u.imageLoadingStatus!=="loaded"?y.jsx(wg.span,{...i,ref:t}):null});$T.displayName=UT;function u0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mB(e,{referrerPolicy:t,crossOrigin:n}){const r=dB(),i=C.useRef(null),u=r?(i.current||(i.current=new window.Image),i.current):null,[m,o]=C.useState(()=>u0(u,e));return je(()=>{o(u0(u,e))},[u,e]),je(()=>{const s=a=>()=>{o(a)};if(!u)return;const l=s("loaded"),f=s("error");return u.addEventListener("load",l),u.addEventListener("error",f),t&&(u.referrerPolicy=t),typeof n=="string"&&(u.crossOrigin=n),()=>{u.removeEventListener("load",l),u.removeEventListener("error",f)}},[u,n,t]),m}var HT=VT,YT=WT,XT=$T;const Cg=C.forwardRef(({className:e,...t},n)=>y.jsx(HT,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Cg.displayName=HT.displayName;const gB=C.forwardRef(({className:e,...t},n)=>y.jsx(YT,{ref:n,className:ae("aspect-square h-full w-full",e),...t}));gB.displayName=YT.displayName;const Sg=C.forwardRef(({className:e,...t},n)=>y.jsx(XT,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sg.displayName=XT.displayName;const vB=ku("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},u)=>{const m=r?Rk:"button";return y.jsx(m,{className:ae(vB({variant:t,size:n,className:e})),ref:u,...i})});de.displayName="Button";function Zc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var yB=C.createContext(void 0);function xo(e){const t=C.useContext(yB);return e||t||"ltr"}var xB="DismissableLayer",Zh="dismissableLayer.update",wB="dismissableLayer.pointerDownOutside",bB="dismissableLayer.focusOutside",d0,GT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KT=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:m,onDismiss:o,...s}=e,l=C.useContext(GT),[f,a]=C.useState(null),c=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),p=pe(t,_=>a(_)),g=Array.from(l.layers),[h]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(h),x=f?g.indexOf(f):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,S=TB(_=>{const P=_.target,A=[...l.branches].some(M=>M.contains(P));!b||A||(i==null||i(_),m==null||m(_),_.defaultPrevented||o==null||o())},c),T=_B(_=>{const P=_.target;[...l.branches].some(M=>M.contains(P))||(u==null||u(_),m==null||m(_),_.defaultPrevented||o==null||o())},c);return Ya(_=>{x===l.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},c),C.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(d0=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),f0(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=d0)}},[f,c,n,l]),C.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),f0())},[f,l]),C.useEffect(()=>{const _=()=>d({});return document.addEventListener(Zh,_),()=>document.removeEventListener(Zh,_)},[]),y.jsx(ue.div,{...s,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,S.onPointerDownCapture)})});KT.displayName=xB;var CB="DismissableLayerBranch",SB=C.forwardRef((e,t)=>{const n=C.useContext(GT),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),y.jsx(ue.div,{...e,ref:i})});SB.displayName=CB;function TB(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const u=o=>{if(o.target&&!r.current){let s=function(){qT(wB,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},m=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(m),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _B(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1);return C.useEffect(()=>{const i=u=>{u.target&&!r.current&&qT(bB,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f0(){const e=new CustomEvent(Zh);document.dispatchEvent(e)}function qT(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}var af=0;function EB(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h0()),document.body.insertAdjacentElement("beforeend",e[1]??h0()),af++,()=>{af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),af--}},[])}function h0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lf="focusScope.autoFocusOnMount",cf="focusScope.autoFocusOnUnmount",p0={bubbles:!1,cancelable:!0},PB="FocusScope",Ku=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...m}=e,[o,s]=C.useState(null),l=Pe(i),f=Pe(u),a=C.useRef(null),c=pe(t,g=>s(g)),d=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let g=function(w){if(d.paused||!o)return;const b=w.target;o.contains(b)?a.current=b:Cr(a.current,{select:!0})},h=function(w){if(d.paused||!o)return;const b=w.relatedTarget;b!==null&&(o.contains(b)||Cr(a.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Cr(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",h);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",h),x.disconnect()}}},[r,o,d.paused]),C.useEffect(()=>{if(o){g0.add(d);const g=document.activeElement;if(!o.contains(g)){const v=new CustomEvent(lf,p0);o.addEventListener(lf,l),o.dispatchEvent(v),v.defaultPrevented||(jB(MB(QT(o)),{select:!0}),document.activeElement===g&&Cr(o))}return()=>{o.removeEventListener(lf,l),setTimeout(()=>{const v=new CustomEvent(cf,p0);o.addEventListener(cf,f),o.dispatchEvent(v),v.defaultPrevented||Cr(g??document.body,{select:!0}),o.removeEventListener(cf,f),g0.remove(d)},0)}}},[o,l,f,d]);const p=C.useCallback(g=>{if(!n&&!r||d.paused)return;const h=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(h&&v){const x=g.currentTarget,[w,b]=NB(x);w&&b?!g.shiftKey&&v===b?(g.preventDefault(),n&&Cr(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&Cr(b,{select:!0})):v===x&&g.preventDefault()}},[n,r,d.paused]);return y.jsx(ue.div,{tabIndex:-1,...m,ref:c,onKeyDown:p})});Ku.displayName=PB;function jB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Cr(r,{select:t}),document.activeElement!==n)return}function NB(e){const t=QT(e),n=m0(t,e),r=m0(t.reverse(),e);return[n,r]}function QT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function m0(e,t){for(const n of e)if(!kB(n,{upTo:t}))return n}function kB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OB(e){return e instanceof HTMLInputElement&&"select"in e}function Cr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&OB(e)&&t&&e.select()}}var g0=AB();function AB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=v0(e,t),e.unshift(t)},remove(t){var n;e=v0(e,t),(n=e[0])==null||n.resume()}}}function v0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function MB(e){return e.filter(t=>t.tagName!=="A")}var Tg="Popper",[JT,ZT]=Nt(Tg),[RB,e_]=JT(Tg),t_=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return y.jsx(RB,{scope:t,anchor:r,onAnchorChange:i,children:n})};t_.displayName=Tg;var n_="PopperAnchor",r_=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,u=e_(n_,n),m=C.useRef(null),o=pe(t,m),s=C.useRef(null);return C.useEffect(()=>{const l=s.current;s.current=(r==null?void 0:r.current)||m.current,l!==s.current&&u.onAnchorChange(s.current)}),r?null:y.jsx(ue.div,{...i,ref:o})});r_.displayName=n_;var _g="PopperContent",[DB,IB]=JT(_g),i_=C.forwardRef((e,t)=>{var I,Y,W,q,ee,ie;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:u="center",alignOffset:m=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:a="partial",hideWhenDetached:c=!1,updatePositionStrategy:d="optimized",onPlaced:p,...g}=e,h=e_(_g,n),[v,x]=C.useState(null),w=pe(t,X=>x(X)),[b,S]=C.useState(null),T=Iu(b),_=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,A=r+(u!=="center"?"-"+u:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(l)?l:[l],z=B.length>0,Z={padding:M,boundary:B.filter(FB),altBoundary:z},{refs:L,floatingStyles:$,placement:Q,isPositioned:G,middlewareData:D}=_m({strategy:"fixed",placement:A,whileElementsMounted:(...X)=>Tm(...X,{animationFrame:d==="always"}),elements:{reference:h.anchor},middleware:[Em({mainAxis:i+P,alignmentAxis:m}),s&&Pm({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?jm():void 0,...Z}),s&&Nm({...Z}),km({...Z,apply:({elements:X,rects:V,availableWidth:H,availableHeight:J})=>{const{width:K,height:te}=V.reference,se=X.floating.style;se.setProperty("--radix-popper-available-width",`${H}px`),se.setProperty("--radix-popper-available-height",`${J}px`),se.setProperty("--radix-popper-anchor-width",`${K}px`),se.setProperty("--radix-popper-anchor-height",`${te}px`)}}),b&&Am({element:b,padding:o}),BB({arrowWidth:_,arrowHeight:P}),c&&Om({strategy:"referenceHidden",...Z})]}),[E,j]=a_(Q),k=Pe(p);je(()=>{G&&(k==null||k())},[G,k]);const O=(I=D.arrow)==null?void 0:I.x,U=(Y=D.arrow)==null?void 0:Y.y,R=((W=D.arrow)==null?void 0:W.centerOffset)!==0,[N,F]=C.useState();return je(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:G?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N,"--radix-popper-transform-origin":[(q=D.transformOrigin)==null?void 0:q.x,(ee=D.transformOrigin)==null?void 0:ee.y].join(" "),...((ie=D.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(DB,{scope:n,placedSide:E,onArrowChange:S,arrowX:O,arrowY:U,shouldHideArrow:R,children:y.jsx(ue.div,{"data-side":E,"data-align":j,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});i_.displayName=_g;var s_="PopperArrow",LB={top:"bottom",right:"left",bottom:"top",left:"right"},o_=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,u=IB(s_,r),m=LB[u.placedSide];return y.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:y.jsx(Mm,{...i,ref:n,style:{...i.style,display:"block"}})})});o_.displayName=s_;function FB(e){return e!==null}var BB=e=>({name:"transformOrigin",options:e,fn(t){var h,v,x;const{placement:n,rects:r,middlewareData:i}=t,m=((h=i.arrow)==null?void 0:h.centerOffset)!==0,o=m?0:e.arrowWidth,s=m?0:e.arrowHeight,[l,f]=a_(n),a={start:"0%",center:"50%",end:"100%"}[f],c=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let p="",g="";return l==="bottom"?(p=m?a:`${c}px`,g=`${-s}px`):l==="top"?(p=m?a:`${c}px`,g=`${r.floating.height+s}px`):l==="right"?(p=`${-s}px`,g=m?a:`${d}px`):l==="left"&&(p=`${r.floating.width+s}px`,g=m?a:`${d}px`),{data:{x:p,y:g}}}});function a_(e){const[t,n="center"]=e.split("-");return[t,n]}var VB=t_,zB=r_,WB=i_,UB=o_;function $B(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var sl=e=>{const{present:t,children:n}=e,r=HB(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),u=pe(r.ref,YB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:u}):null};sl.displayName="Presence";function HB(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),u=C.useRef("none"),m=e?"mounted":"unmounted",[o,s]=$B(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=Fl(r.current);u.current=o==="mounted"?l:"none"},[o]),je(()=>{const l=r.current,f=i.current;if(f!==e){const c=u.current,d=Fl(l);e?s("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?s("UNMOUNT"):s(f&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),je(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,a=d=>{const g=Fl(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},c=d=>{d.target===t&&(u.current=Fl(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Fl(e){return(e==null?void 0:e.animationName)||"none"}function YB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uf="rovingFocusGroup.onEntryFocus",XB={bubbles:!1,cancelable:!0},ol="RovingFocusGroup",[ep,l_,GB]=Ha(ol),[KB,c_]=Nt(ol,[GB]),[qB,QB]=KB(ol),u_=C.forwardRef((e,t)=>y.jsx(ep.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(ep.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(JB,{...e,ref:t})})}));u_.displayName=ol;var JB=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:u,currentTabStopId:m,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:s,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...a}=e,c=C.useRef(null),d=pe(t,c),p=xo(u),[g,h]=ar({prop:m,defaultProp:o??null,onChange:s,caller:ol}),[v,x]=C.useState(!1),w=Pe(l),b=l_(n),S=C.useRef(!1),[T,_]=C.useState(0);return C.useEffect(()=>{const P=c.current;if(P)return P.addEventListener(uf,w),()=>P.removeEventListener(uf,w)},[w]),y.jsx(qB,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:C.useCallback(P=>h(P),[h]),onItemShiftTab:C.useCallback(()=>x(!0),[]),onFocusableItemAdd:C.useCallback(()=>_(P=>P+1),[]),onFocusableItemRemove:C.useCallback(()=>_(P=>P-1),[]),children:y.jsx(ue.div,{tabIndex:v||T===0?-1:0,"data-orientation":r,...a,ref:d,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{S.current=!0}),onFocus:ke(e.onFocus,P=>{const A=!S.current;if(P.target===P.currentTarget&&A&&!v){const M=new CustomEvent(uf,XB);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const B=b().filter(Q=>Q.focusable),z=B.find(Q=>Q.active),Z=B.find(Q=>Q.id===g),$=[z,Z,...B].filter(Boolean).map(Q=>Q.ref.current);h_($,f)}}S.current=!1}),onBlur:ke(e.onBlur,()=>x(!1))})})}),d_="RovingFocusGroupItem",f_=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:u,children:m,...o}=e,s=wn(),l=u||s,f=QB(d_,n),a=f.currentTabStopId===l,c=l_(n),{onFocusableItemAdd:d,onFocusableItemRemove:p,currentTabStopId:g}=f;return C.useEffect(()=>{if(r)return d(),()=>p()},[r,d,p]),y.jsx(ep.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:y.jsx(ue.span,{tabIndex:a?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:ke(e.onMouseDown,h=>{r?f.onItemFocus(l):h.preventDefault()}),onFocus:ke(e.onFocus,()=>f.onItemFocus(l)),onKeyDown:ke(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){f.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const v=t3(h,f.orientation,f.dir);if(v!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let w=c().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const b=w.indexOf(h.currentTarget);w=f.loop?n3(w,b+1):w.slice(b+1)}setTimeout(()=>h_(w))}}),children:typeof m=="function"?m({isCurrentTabStop:a,hasTabStop:g!=null}):m})})});f_.displayName=d_;var ZB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function t3(e,t,n){const r=e3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZB[r]}function h_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function n3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var r3=u_,i3=f_,s3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ts=new WeakMap,Bl=new WeakMap,Vl={},df=0,p_=function(e){return e&&(e.host||p_(e.parentNode))},o3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=p_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},a3=function(e,t,n,r){var i=o3(t,Array.isArray(e)?e:[e]);Vl[n]||(Vl[n]=new WeakMap);var u=Vl[n],m=[],o=new Set,s=new Set(i),l=function(a){!a||o.has(a)||(o.add(a),l(a.parentNode))};i.forEach(l);var f=function(a){!a||s.has(a)||Array.prototype.forEach.call(a.children,function(c){if(o.has(c))f(c);else try{var d=c.getAttribute(r),p=d!==null&&d!=="false",g=(ts.get(c)||0)+1,h=(u.get(c)||0)+1;ts.set(c,g),u.set(c,h),m.push(c),g===1&&p&&Bl.set(c,!0),h===1&&c.setAttribute(n,"true"),p||c.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",c,v)}})};return f(t),o.clear(),df++,function(){m.forEach(function(a){var c=ts.get(a)-1,d=u.get(a)-1;ts.set(a,c),u.set(a,d),c||(Bl.has(a)||a.removeAttribute(r),Bl.delete(a)),d||a.removeAttribute(n)}),df--,df||(ts=new WeakMap,ts=new WeakMap,Bl=new WeakMap,Vl={})}},Eg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=s3(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),a3(r,i,n,"aria-hidden")):function(){return null}},An=function(){return An=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},An.apply(this,arguments)};function m_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function l3(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,u;r<i;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}var uc="right-scroll-bar-position",dc="width-before-scroll-bar",c3="with-scroll-bars-hidden",u3="--removed-body-scroll-bar-size";function ff(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d3(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var f3=typeof window<"u"?C.useLayoutEffect:C.useEffect,y0=new WeakMap;function h3(e,t){var n=d3(null,function(r){return e.forEach(function(i){return ff(i,r)})});return f3(function(){var r=y0.get(n);if(r){var i=new Set(r),u=new Set(e),m=n.current;i.forEach(function(o){u.has(o)||ff(o,null)}),u.forEach(function(o){i.has(o)||ff(o,m)})}y0.set(n,e)},[e]),n}function p3(e){return e}function m3(e,t){t===void 0&&(t=p3);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var m=t(u,r);return n.push(m),function(){n=n.filter(function(o){return o!==m})}},assignSyncMedium:function(u){for(r=!0;n.length;){var m=n;n=[],m.forEach(u)}n={push:function(o){return u(o)},filter:function(){return n}}},assignMedium:function(u){r=!0;var m=[];if(n.length){var o=n;n=[],o.forEach(u),m=n}var s=function(){var f=m;m=[],f.forEach(u)},l=function(){return Promise.resolve().then(s)};l(),n={push:function(f){m.push(f),l()},filter:function(f){return m=m.filter(f),n}}}};return i}function g3(e){e===void 0&&(e={});var t=m3(null);return t.options=An({async:!0,ssr:!1},e),t}var g_=function(e){var t=e.sideCar,n=m_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,An({},n))};g_.isSideCarExport=!0;function v3(e,t){return e.useMedium(t),g_}var v_=g3(),hf=function(){},qu=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:hf,onWheelCapture:hf,onTouchMoveCapture:hf}),i=r[0],u=r[1],m=e.forwardProps,o=e.children,s=e.className,l=e.removeScrollBar,f=e.enabled,a=e.shards,c=e.sideCar,d=e.noRelative,p=e.noIsolation,g=e.inert,h=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=m_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=c,T=h3([n,t]),_=An(An({},b),i);return C.createElement(C.Fragment,null,f&&C.createElement(S,{sideCar:v_,removeScrollBar:l,shards:a,noRelative:d,noIsolation:p,inert:g,setCallbacks:u,allowPinchZoom:!!h,lockRef:n,gapMode:w}),m?C.cloneElement(C.Children.only(o),An(An({},_),{ref:T})):C.createElement(x,An({},_,{className:s,ref:T}),o))});qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qu.classNames={fullWidth:dc,zeroRight:uc};var y3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=y3();return t&&e.setAttribute("nonce",t),e}function w3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function b3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=x3())&&(w3(t,n),b3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},S3=function(){var e=C3();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},y_=function(){var e=S3(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},T3={left:0,top:0,right:0,gap:0},pf=function(e){return parseInt(e||"",10)||0},_3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[pf(n),pf(r),pf(i)]},E3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return T3;var t=_3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},P3=y_(),Rs="data-scroll-locked",j3=function(e,t,n,r){var i=e.left,u=e.top,m=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(c3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Rs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uc,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(dc,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rs,`] {
    `).concat(u3,": ").concat(o,`px;
  }
`)},x0=function(){var e=parseInt(document.body.getAttribute(Rs)||"0",10);return isFinite(e)?e:0},N3=function(){C.useEffect(function(){return document.body.setAttribute(Rs,(x0()+1).toString()),function(){var e=x0()-1;e<=0?document.body.removeAttribute(Rs):document.body.setAttribute(Rs,e.toString())}},[])},k3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;N3();var u=C.useMemo(function(){return E3(i)},[i]);return C.createElement(P3,{styles:j3(u,!t,i,n?"":"!important")})},tp=!1;if(typeof window<"u")try{var zl=Object.defineProperty({},"passive",{get:function(){return tp=!0,!0}});window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{tp=!1}var ns=tp?{passive:!1}:!1,O3=function(e){return e.tagName==="TEXTAREA"},x_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!O3(e)&&n[t]==="visible")},A3=function(e){return x_(e,"overflowY")},M3=function(e){return x_(e,"overflowX")},w0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=w_(e,r);if(i){var u=b_(e,r),m=u[1],o=u[2];if(m>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},D3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},w_=function(e,t){return e==="v"?A3(t):M3(t)},b_=function(e,t){return e==="v"?R3(t):D3(t)},I3=function(e,t){return e==="h"&&t==="rtl"?-1:1},L3=function(e,t,n,r,i){var u=I3(e,window.getComputedStyle(t).direction),m=u*r,o=n.target,s=t.contains(o),l=!1,f=m>0,a=0,c=0;do{if(!o)break;var d=b_(e,o),p=d[0],g=d[1],h=d[2],v=g-h-u*p;(p||v)&&w_(e,o)&&(a+=v,c+=p);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(f&&(Math.abs(a)<1||!i)||!f&&(Math.abs(c)<1||!i))&&(l=!0),l},Wl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},b0=function(e){return[e.deltaX,e.deltaY]},C0=function(e){return e&&"current"in e?e.current:e},F3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},B3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},V3=0,rs=[];function z3(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(V3++)[0],u=C.useState(y_)[0],m=C.useRef(e);C.useEffect(function(){m.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=l3([e.lockRef.current],(e.shards||[]).map(C0),!0).filter(Boolean);return g.forEach(function(h){return h.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=C.useCallback(function(g,h){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!m.current.allowPinchZoom;var v=Wl(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-v[0],b="deltaY"in g?g.deltaY:x[1]-v[1],S,T=g.target,_=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&_==="h"&&T.type==="range")return!1;var P=w0(_,T);if(!P)return!0;if(P?S=_:(S=_==="v"?"h":"v",P=w0(_,T)),!P)return!1;if(!r.current&&"changedTouches"in g&&(w||b)&&(r.current=S),!S)return!0;var A=r.current||S;return L3(A,h,g,A==="h"?w:b,!0)},[]),s=C.useCallback(function(g){var h=g;if(!(!rs.length||rs[rs.length-1]!==u)){var v="deltaY"in h?b0(h):Wl(h),x=t.current.filter(function(S){return S.name===h.type&&(S.target===h.target||h.target===S.shadowParent)&&F3(S.delta,v)})[0];if(x&&x.should){h.cancelable&&h.preventDefault();return}if(!x){var w=(m.current.shards||[]).map(C0).filter(Boolean).filter(function(S){return S.contains(h.target)}),b=w.length>0?o(h,w[0]):!m.current.noIsolation;b&&h.cancelable&&h.preventDefault()}}},[]),l=C.useCallback(function(g,h,v,x){var w={name:g,delta:h,target:v,should:x,shadowParent:W3(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),f=C.useCallback(function(g){n.current=Wl(g),r.current=void 0},[]),a=C.useCallback(function(g){l(g.type,b0(g),g.target,o(g,e.lockRef.current))},[]),c=C.useCallback(function(g){l(g.type,Wl(g),g.target,o(g,e.lockRef.current))},[]);C.useEffect(function(){return rs.push(u),e.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:c}),document.addEventListener("wheel",s,ns),document.addEventListener("touchmove",s,ns),document.addEventListener("touchstart",f,ns),function(){rs=rs.filter(function(g){return g!==u}),document.removeEventListener("wheel",s,ns),document.removeEventListener("touchmove",s,ns),document.removeEventListener("touchstart",f,ns)}},[]);var d=e.removeScrollBar,p=e.inert;return C.createElement(C.Fragment,null,p?C.createElement(u,{styles:B3(i)}):null,d?C.createElement(k3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function W3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const U3=v3(v_,z3);var Qu=C.forwardRef(function(e,t){return C.createElement(qu,An({},e,{ref:t,sideCar:U3}))});Qu.classNames=qu.classNames;var np=["Enter"," "],$3=["ArrowDown","PageUp","Home"],C_=["ArrowUp","PageDown","End"],H3=[...$3,...C_],Y3={ltr:[...np,"ArrowRight"],rtl:[...np,"ArrowLeft"]},X3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},al="Menu",[Ra,G3,K3]=Ha(al),[Ji,S_]=Nt(al,[K3,ZT,c_]),Ju=ZT(),T_=c_(),[q3,Zi]=Ji(al),[Q3,ll]=Ji(al),__=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:u,modal:m=!0}=e,o=Ju(t),[s,l]=C.useState(null),f=C.useRef(!1),a=Pe(u),c=xo(i);return C.useEffect(()=>{const d=()=>{f.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>f.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),y.jsx(VB,{...o,children:y.jsx(q3,{scope:t,open:n,onOpenChange:a,content:s,onContentChange:l,children:y.jsx(Q3,{scope:t,onClose:C.useCallback(()=>a(!1),[a]),isUsingKeyboardRef:f,dir:c,modal:m,children:r})})})};__.displayName=al;var J3="MenuAnchor",Pg=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ju(n);return y.jsx(zB,{...i,...r,ref:t})});Pg.displayName=J3;var jg="MenuPortal",[Z3,E_]=Ji(jg,{forceMount:void 0}),P_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,u=Zi(jg,t);return y.jsx(Z3,{scope:t,forceMount:n,children:y.jsx(sl,{present:n||u.open,children:y.jsx(Xa,{asChild:!0,container:i,children:r})})})};P_.displayName=jg;var rn="MenuContent",[eV,Ng]=Ji(rn),j_=C.forwardRef((e,t)=>{const n=E_(rn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,u=Zi(rn,e.__scopeMenu),m=ll(rn,e.__scopeMenu);return y.jsx(Ra.Provider,{scope:e.__scopeMenu,children:y.jsx(sl,{present:r||u.open,children:y.jsx(Ra.Slot,{scope:e.__scopeMenu,children:m.modal?y.jsx(tV,{...i,ref:t}):y.jsx(nV,{...i,ref:t})})})})}),tV=C.forwardRef((e,t)=>{const n=Zi(rn,e.__scopeMenu),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return Eg(u)},[]),y.jsx(kg,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nV=C.forwardRef((e,t)=>{const n=Zi(rn,e.__scopeMenu);return y.jsx(kg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rV=Fi("MenuContent.ScrollLock"),kg=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:u,onCloseAutoFocus:m,disableOutsidePointerEvents:o,onEntryFocus:s,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:a,onInteractOutside:c,onDismiss:d,disableOutsideScroll:p,...g}=e,h=Zi(rn,n),v=ll(rn,n),x=Ju(n),w=T_(n),b=G3(n),[S,T]=C.useState(null),_=C.useRef(null),P=pe(t,_,h.onContentChange),A=C.useRef(0),M=C.useRef(""),B=C.useRef(0),z=C.useRef(null),Z=C.useRef("right"),L=C.useRef(0),$=p?Qu:C.Fragment,Q=p?{as:rV,allowPinchZoom:!0}:void 0,G=E=>{var I,Y;const j=M.current+E,k=b().filter(W=>!W.disabled),O=document.activeElement,U=(I=k.find(W=>W.ref.current===O))==null?void 0:I.textValue,R=k.map(W=>W.textValue),N=mV(R,j,U),F=(Y=k.find(W=>W.textValue===N))==null?void 0:Y.ref.current;(function W(q){M.current=q,window.clearTimeout(A.current),q!==""&&(A.current=window.setTimeout(()=>W(""),1e3))})(j),F&&setTimeout(()=>F.focus())};C.useEffect(()=>()=>window.clearTimeout(A.current),[]),EB();const D=C.useCallback(E=>{var k,O;return Z.current===((k=z.current)==null?void 0:k.side)&&vV(E,(O=z.current)==null?void 0:O.area)},[]);return y.jsx(eV,{scope:n,searchRef:M,onItemEnter:C.useCallback(E=>{D(E)&&E.preventDefault()},[D]),onItemLeave:C.useCallback(E=>{var j;D(E)||((j=_.current)==null||j.focus(),T(null))},[D]),onTriggerLeave:C.useCallback(E=>{D(E)&&E.preventDefault()},[D]),pointerGraceTimerRef:B,onPointerGraceIntentChange:C.useCallback(E=>{z.current=E},[]),children:y.jsx($,{...Q,children:y.jsx(Ku,{asChild:!0,trapped:i,onMountAutoFocus:ke(u,E=>{var j;E.preventDefault(),(j=_.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:y.jsx(KT,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:a,onInteractOutside:c,onDismiss:d,children:y.jsx(r3,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:ke(s,E=>{v.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(WB,{role:"menu","aria-orientation":"vertical","data-state":$_(h.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:ke(g.onKeyDown,E=>{const k=E.target.closest("[data-radix-menu-content]")===E.currentTarget,O=E.ctrlKey||E.altKey||E.metaKey,U=E.key.length===1;k&&(E.key==="Tab"&&E.preventDefault(),!O&&U&&G(E.key));const R=_.current;if(E.target!==R||!H3.includes(E.key))return;E.preventDefault();const F=b().filter(I=>!I.disabled).map(I=>I.ref.current);C_.includes(E.key)&&F.reverse(),hV(F)}),onBlur:ke(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(A.current),M.current="")}),onPointerMove:ke(e.onPointerMove,Da(E=>{const j=E.target,k=L.current!==E.clientX;if(E.currentTarget.contains(j)&&k){const O=E.clientX>L.current?"right":"left";Z.current=O,L.current=E.clientX}}))})})})})})})});j_.displayName=rn;var iV="MenuGroup",Og=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(ue.div,{role:"group",...r,ref:t})});Og.displayName=iV;var sV="MenuLabel",N_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(ue.div,{...r,ref:t})});N_.displayName=sV;var eu="MenuItem",S0="menu.itemSelect",Zu=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,u=C.useRef(null),m=ll(eu,e.__scopeMenu),o=Ng(eu,e.__scopeMenu),s=pe(t,u),l=C.useRef(!1),f=()=>{const a=u.current;if(!n&&a){const c=new CustomEvent(S0,{bubbles:!0,cancelable:!0});a.addEventListener(S0,d=>r==null?void 0:r(d),{once:!0}),Ki(a,c),c.defaultPrevented?l.current=!1:m.onClose()}};return y.jsx(k_,{...i,ref:s,disabled:n,onClick:ke(e.onClick,f),onPointerDown:a=>{var c;(c=e.onPointerDown)==null||c.call(e,a),l.current=!0},onPointerUp:ke(e.onPointerUp,a=>{var c;l.current||(c=a.currentTarget)==null||c.click()}),onKeyDown:ke(e.onKeyDown,a=>{const c=o.searchRef.current!=="";n||c&&a.key===" "||np.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})})});Zu.displayName=eu;var k_=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...u}=e,m=Ng(eu,n),o=T_(n),s=C.useRef(null),l=pe(t,s),[f,a]=C.useState(!1),[c,d]=C.useState("");return C.useEffect(()=>{const p=s.current;p&&d((p.textContent??"").trim())},[u.children]),y.jsx(Ra.ItemSlot,{scope:n,disabled:r,textValue:i??c,children:y.jsx(i3,{asChild:!0,...o,focusable:!r,children:y.jsx(ue.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...u,ref:l,onPointerMove:ke(e.onPointerMove,Da(p=>{r?m.onItemLeave(p):(m.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,Da(p=>m.onItemLeave(p))),onFocus:ke(e.onFocus,()=>a(!0)),onBlur:ke(e.onBlur,()=>a(!1))})})})}),oV="MenuCheckboxItem",O_=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return y.jsx(I_,{scope:e.__scopeMenu,checked:n,children:y.jsx(Zu,{role:"menuitemcheckbox","aria-checked":tu(n)?"mixed":n,...i,ref:t,"data-state":Mg(n),onSelect:ke(i.onSelect,()=>r==null?void 0:r(tu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});O_.displayName=oV;var A_="MenuRadioGroup",[aV,lV]=Ji(A_,{value:void 0,onValueChange:()=>{}}),M_=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,u=Pe(r);return y.jsx(aV,{scope:e.__scopeMenu,value:n,onValueChange:u,children:y.jsx(Og,{...i,ref:t})})});M_.displayName=A_;var R_="MenuRadioItem",D_=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=lV(R_,e.__scopeMenu),u=n===i.value;return y.jsx(I_,{scope:e.__scopeMenu,checked:u,children:y.jsx(Zu,{role:"menuitemradio","aria-checked":u,...r,ref:t,"data-state":Mg(u),onSelect:ke(r.onSelect,()=>{var m;return(m=i.onValueChange)==null?void 0:m.call(i,n)},{checkForDefaultPrevented:!1})})})});D_.displayName=R_;var Ag="MenuItemIndicator",[I_,cV]=Ji(Ag,{checked:!1}),L_=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,u=cV(Ag,n);return y.jsx(sl,{present:r||tu(u.checked)||u.checked===!0,children:y.jsx(ue.span,{...i,ref:t,"data-state":Mg(u.checked)})})});L_.displayName=Ag;var uV="MenuSeparator",F_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});F_.displayName=uV;var dV="MenuArrow",B_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ju(n);return y.jsx(UB,{...i,...r,ref:t})});B_.displayName=dV;var fV="MenuSub",[j8,V_]=Ji(fV),Uo="MenuSubTrigger",z_=C.forwardRef((e,t)=>{const n=Zi(Uo,e.__scopeMenu),r=ll(Uo,e.__scopeMenu),i=V_(Uo,e.__scopeMenu),u=Ng(Uo,e.__scopeMenu),m=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:s}=u,l={__scopeMenu:e.__scopeMenu},f=C.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const a=o.current;return()=>{window.clearTimeout(a),s(null)}},[o,s]),y.jsx(Pg,{asChild:!0,...l,children:y.jsx(k_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$_(n.open),...e,ref:si(t,i.onTriggerChange),onClick:a=>{var c;(c=e.onClick)==null||c.call(e,a),!(e.disabled||a.defaultPrevented)&&(a.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,Da(a=>{u.onItemEnter(a),!a.defaultPrevented&&!e.disabled&&!n.open&&!m.current&&(u.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ke(e.onPointerLeave,Da(a=>{var d,p;f();const c=(d=n.content)==null?void 0:d.getBoundingClientRect();if(c){const g=(p=n.content)==null?void 0:p.dataset.side,h=g==="right",v=h?-5:5,x=c[h?"left":"right"],w=c[h?"right":"left"];u.onPointerGraceIntentChange({area:[{x:a.clientX+v,y:a.clientY},{x,y:c.top},{x:w,y:c.top},{x:w,y:c.bottom},{x,y:c.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(a),a.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,a=>{var d;const c=u.searchRef.current!=="";e.disabled||c&&a.key===" "||Y3[r.dir].includes(a.key)&&(n.onOpenChange(!0),(d=n.content)==null||d.focus(),a.preventDefault())})})})});z_.displayName=Uo;var W_="MenuSubContent",U_=C.forwardRef((e,t)=>{const n=E_(rn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,u=Zi(rn,e.__scopeMenu),m=ll(rn,e.__scopeMenu),o=V_(W_,e.__scopeMenu),s=C.useRef(null),l=pe(t,s);return y.jsx(Ra.Provider,{scope:e.__scopeMenu,children:y.jsx(sl,{present:r||u.open,children:y.jsx(Ra.Slot,{scope:e.__scopeMenu,children:y.jsx(kg,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:l,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var a;m.isUsingKeyboardRef.current&&((a=s.current)==null||a.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ke(e.onFocusOutside,f=>{f.target!==o.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,f=>{m.onClose(),f.preventDefault()}),onKeyDown:ke(e.onKeyDown,f=>{var d;const a=f.currentTarget.contains(f.target),c=X3[m.dir].includes(f.key);a&&c&&(u.onOpenChange(!1),(d=o.trigger)==null||d.focus(),f.preventDefault())})})})})})});U_.displayName=W_;function $_(e){return e?"open":"closed"}function tu(e){return e==="indeterminate"}function Mg(e){return tu(e)?"indeterminate":e?"checked":"unchecked"}function hV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function mV(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let m=pV(e,Math.max(u,0));i.length===1&&(m=m.filter(l=>l!==n));const s=m.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function gV(e,t){const{x:n,y:r}=e;let i=!1;for(let u=0,m=t.length-1;u<t.length;m=u++){const o=t[u],s=t[m],l=o.x,f=o.y,a=s.x,c=s.y;f>r!=c>r&&n<(a-l)*(r-f)/(c-f)+l&&(i=!i)}return i}function vV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return gV(n,t)}function Da(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yV=__,xV=Pg,wV=P_,bV=j_,CV=Og,SV=N_,TV=Zu,_V=O_,EV=M_,PV=D_,jV=L_,NV=F_,kV=B_,OV=z_,AV=U_,ed="DropdownMenu",[MV,N8]=Nt(ed,[S_]),kt=S_(),[RV,H_]=MV(ed),Y_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:u,onOpenChange:m,modal:o=!0}=e,s=kt(t),l=C.useRef(null),[f,a]=ar({prop:i,defaultProp:u??!1,onChange:m,caller:ed});return y.jsx(RV,{scope:t,triggerId:wn(),triggerRef:l,contentId:wn(),open:f,onOpenChange:a,onOpenToggle:C.useCallback(()=>a(c=>!c),[a]),modal:o,children:y.jsx(yV,{...s,open:f,onOpenChange:a,dir:r,modal:o,children:n})})};Y_.displayName=ed;var X_="DropdownMenuTrigger",G_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,u=H_(X_,n),m=kt(n);return y.jsx(xV,{asChild:!0,...m,children:y.jsx(ue.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:si(t,u.triggerRef),onPointerDown:Zc(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(u.onOpenToggle(),u.open||o.preventDefault())}),onKeyDown:Zc(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&u.onOpenToggle(),o.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});G_.displayName=X_;var DV="DropdownMenuPortal",K_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=kt(t);return y.jsx(wV,{...r,...n})};K_.displayName=DV;var q_="DropdownMenuContent",Q_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=H_(q_,n),u=kt(n),m=C.useRef(!1);return y.jsx(bV,{id:i.contentId,"aria-labelledby":i.triggerId,...u,...r,ref:t,onCloseAutoFocus:Zc(e.onCloseAutoFocus,o=>{var s;m.current||(s=i.triggerRef.current)==null||s.focus(),m.current=!1,o.preventDefault()}),onInteractOutside:Zc(e.onInteractOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,f=s.button===2||l;(!i.modal||f)&&(m.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q_.displayName=q_;var IV="DropdownMenuGroup",LV=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(CV,{...i,...r,ref:t})});LV.displayName=IV;var FV="DropdownMenuLabel",J_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(SV,{...i,...r,ref:t})});J_.displayName=FV;var BV="DropdownMenuItem",Z_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(TV,{...i,...r,ref:t})});Z_.displayName=BV;var VV="DropdownMenuCheckboxItem",eE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(_V,{...i,...r,ref:t})});eE.displayName=VV;var zV="DropdownMenuRadioGroup",WV=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(EV,{...i,...r,ref:t})});WV.displayName=zV;var UV="DropdownMenuRadioItem",tE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(PV,{...i,...r,ref:t})});tE.displayName=UV;var $V="DropdownMenuItemIndicator",nE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(jV,{...i,...r,ref:t})});nE.displayName=$V;var HV="DropdownMenuSeparator",rE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(NV,{...i,...r,ref:t})});rE.displayName=HV;var YV="DropdownMenuArrow",XV=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(kV,{...i,...r,ref:t})});XV.displayName=YV;var GV="DropdownMenuSubTrigger",iE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(OV,{...i,...r,ref:t})});iE.displayName=GV;var KV="DropdownMenuSubContent",sE=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=kt(n);return y.jsx(AV,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sE.displayName=KV;var qV=Y_,QV=G_,JV=K_,oE=Q_,aE=J_,lE=Z_,cE=eE,uE=tE,dE=nE,fE=rE,hE=iE,pE=sE;const ZV=qV,ez=QV,tz=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>y.jsxs(hE,{ref:i,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,y.jsx(Qs,{className:"ml-auto h-4 w-4"})]}));tz.displayName=hE.displayName;const nz=C.forwardRef(({className:e,...t},n)=>y.jsx(pE,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nz.displayName=pE.displayName;const mE=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx(JV,{children:y.jsx(oE,{ref:r,sideOffset:t,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));mE.displayName=oE.displayName;const fc=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx(lE,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));fc.displayName=lE.displayName;const rz=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>y.jsxs(cE,{ref:i,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(dE,{children:y.jsx(z1,{className:"h-4 w-4"})})}),t]}));rz.displayName=cE.displayName;const iz=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(uE,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(dE,{children:y.jsx(U1,{className:"h-2 w-2 fill-current"})})}),t]}));iz.displayName=uE.displayName;const gE=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx(aE,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));gE.displayName=aE.displayName;const rp=C.forwardRef(({className:e,...t},n)=>y.jsx(fE,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));rp.displayName=fE.displayName;const Ro=[{id:"captura",label:"Captura",icon:G1},{id:"triagem",label:"Triagem",icon:OO},{id:"atividades",label:"Atividades",icon:J1},{id:"dashboard",label:"Dashboard",icon:FO},{id:"equipe",label:"Equipe",icon:vn},{id:"obras",label:"Obras",icon:lr},{id:"clientes",label:"Clientes",icon:vn}];function sz({activeTab:e,onTabChange:t,onOpenCommandPalette:n}){const{user:r,logout:i}=go(),m=r?r.role==="ADMIN"||r.role==="CEO"?Ro:r.role==="GESTOR"?Ro.filter(o=>["captura","triagem","atividades","obras","dashboard","clientes"].includes(o.id)):r.role==="TRIAGISTA"?Ro.filter(o=>["captura","triagem"].includes(o.id)):r.role==="OPERACIONAL"||r.role==="PROFISSIONAL_INTERNO"?Ro.filter(o=>["captura","atividades"].includes(o.id)):Ro.filter(o=>["captura"].includes(o.id)):[];return y.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-border sticky top-0 z-50",children:y.jsxs("div",{className:"max-w-[1800px] mx-auto h-16 px-4 lg:px-6 flex items-center justify-between gap-4",children:[y.jsx("div",{className:"flex items-center gap-6",children:y.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tight cursor-pointer",onClick:()=>t("captura"),children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center shadow-lg shadow-primary/20 transition-transform active:scale-95",children:y.jsx("span",{className:"text-white font-bold",children:"V"})}),y.jsx("span",{className:"hidden md:inline-block tracking-tighter",children:"VERCFLOW"})]})}),y.jsx("nav",{className:"hidden lg:flex items-center gap-1 bg-secondary/50 p-1 rounded-xl",children:m.map(o=>{const s=e===o.id,l=o.icon;return y.jsxs("button",{onClick:()=>t(o.id),className:ae("relative px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center gap-2",s?"bg-background text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-background/40"),children:[y.jsx(l,{size:16,strokeWidth:s?2.5:2}),o.label]},o.id)})}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"text-muted-foreground hover:text-foreground",children:y.jsx(qr,{size:20})}),y.jsxs(de,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground",children:[y.jsx(jO,{size:20}),y.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-primary rounded-full border-2 border-background"})]}),y.jsxs(ZV,{children:[y.jsx(ez,{asChild:!0,children:y.jsxs(de,{variant:"ghost",className:"pl-2 gap-2 rounded-full hover:bg-secondary/50",children:[y.jsx(Cg,{className:"h-8 w-8 border border-border",children:y.jsx(Sg,{className:"bg-primary/10 text-primary text-xs font-bold",children:r==null?void 0:r.nome.charAt(0)})}),y.jsx(hm,{size:14,className:"text-muted-foreground hidden sm:block"})]})}),y.jsxs(mE,{align:"end",className:"w-64 p-2",children:[y.jsx(gE,{className:"font-normal px-2 pb-2",children:y.jsxs("div",{className:"flex flex-col space-y-1",children:[y.jsx("p",{className:"text-sm font-bold leading-none",children:r==null?void 0:r.nome}),y.jsx("p",{className:"text-xs leading-none text-muted-foreground uppercase tracking-wider font-semibold",children:r==null?void 0:r.role})]})}),y.jsx(rp,{}),y.jsxs(fc,{className:"rounded-lg",children:[y.jsx(Au,{className:"mr-2 h-4 w-4"})," Perfil"]}),y.jsxs(fc,{onClick:()=>t("config"),className:"rounded-lg",children:[y.jsx(K1,{className:"mr-2 h-4 w-4"})," Configuraes"]}),y.jsx(rp,{}),y.jsxs(fc,{onClick:i,className:"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-lg",children:[y.jsx(Y1,{className:"mr-2 h-4 w-4"})," Sair"]})]})]})]})]})})}function oz({activeTab:e,onTabChange:t}){const n=[{id:"captura",icon:MO,label:"Incio"},{id:"triagem",icon:Ca,label:"Triagem"},{id:"atividades",icon:Ka,label:"Tarefas"},{id:"obras",icon:lr,label:"Obras"},{id:"clientes",icon:vn,label:"Clientes"},{id:"config",icon:K1,label:"Ajustes"}];return y.jsx("nav",{className:"lg:hidden fixed bottom-6 left-4 right-4 z-50",children:y.jsx(Qe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"bg-background/90 backdrop-blur-2xl border border-white/20 shadow-[0_8px_32px_rgba(0,0,0,0.12)] rounded-[2.5rem] p-2 flex items-center justify-around h-20",children:n.map(r=>{const i=e===r.id,u=r.icon;return y.jsxs("button",{onClick:()=>t(r.id),className:"relative flex flex-col items-center justify-center flex-1 h-full gap-1 group outline-none",children:[i&&y.jsx(Qe.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 rounded-[2rem] z-0",transition:{type:"spring",bounce:.2,duration:.6}}),y.jsx(Qe.div,{animate:{scale:i?1.1:1,y:i?-2:0},className:ae("relative z-10 p-2 rounded-2xl transition-all duration-300",i?"text-primary":"text-muted-foreground group-hover:text-foreground"),children:y.jsx(u,{size:22,className:ae(i?"stroke-[2.5]":"stroke-2")})}),y.jsx("span",{className:ae("relative z-10 text-[9px] font-black uppercase tracking-[0.1em] transition-all duration-300",i?"text-primary opacity-100":"text-muted-foreground opacity-60"),children:r.label}),i&&y.jsx(Qe.div,{layoutId:"activeDot",className:"absolute -bottom-1 w-1.5 h-1.5 bg-primary rounded-full",transition:{type:"spring",bounce:.2,duration:.6}})]},r.id)})})})}const Do={id:"1",name:"Carlos Silva",email:"carlos@verc.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Carlos",role:"GESTOR"},mf=[{id:"1",name:"Construtora Horizonte",contact:"Roberto Alpha",email:"contato@horizonte.com"},{id:"2",name:"Incorporadora Sustenta",contact:"Maria Beta",email:"financeiro@sustenta.com"},{id:"3",name:"Grupo Investimentos SA",contact:"Joo Gamma",email:"joao@invest.com"}],az=[{id:"1",code:"OB-2024-001",name:"Edifcio Aurora Tower",client:"Construtora Horizonte",address:"So Paulo, SP",status:"ACTIVE",progress:67,startDate:"2024-01-15",estimatedEnd:"2025-06-30"},{id:"2",code:"OB-2024-002",name:"Residencial Villa Verde",client:"Incorporadora Sustenta",address:"Campinas, SP",status:"ACTIVE",progress:34,startDate:"2024-06-01",estimatedEnd:"2025-12-15"},{id:"3",code:"OB-2024-003",name:"Centro Comercial Plaza",client:"Grupo Investimentos SA",address:"Belo Horizonte, MG",status:"ACTIVE",progress:89,startDate:"2023-08-20",estimatedEnd:"2025-02-28"},{id:"4",code:"OB-2024-004",name:"Hospital Regional Norte",client:"Secretaria de Sade",address:"Braslia, DF",status:"ACTIVE",progress:45,startDate:"2024-02-10",estimatedEnd:"2026-01-15"}],lz=[{id:"1",title:"Verificao estrutural do 12 andar",description:"Realizada inspeo visual das vigas e pilares. Identificadas pequenas fissuras na laje.",obraId:"1",obraName:"Edifcio Aurora Tower",author:Do,createdAt:"2025-01-15T14:30:00",updatedAt:"2025-01-15T14:30:00",status:"SENT_TO_TRIAGE",type:"SKETCH",priority:"HIGH",tags:["estrutural","inspeo","urgente"],hasSketch:!0,hasDocument:!1,requiresSignature:!0},{id:"2",title:"Registro de recebimento de materiais",description:"Recebimento de 500 sacos de cimento CP-II e 200 barras de ao CA-50.",obraId:"1",obraName:"Edifcio Aurora Tower",author:Do,createdAt:"2025-01-14T09:15:00",updatedAt:"2025-01-14T09:15:00",status:"PROCESSING",type:"NOTE",priority:"MEDIUM",tags:["materiais","estoque"],hasSketch:!1,hasDocument:!0,requiresSignature:!1},{id:"3",title:"Ocorrncia: Vazamento no subsolo",description:"Detectado vazamento na tubulao de gua pluvial. Necessria interveno imediata.",obraId:"2",obraName:"Residencial Villa Verde",author:Do,createdAt:"2025-01-15T08:00:00",updatedAt:"2025-01-15T10:30:00",status:"PROCESSING",type:"INCIDENT",priority:"URGENT",tags:["hidrulica","manuteno","urgente"],hasSketch:!0,hasDocument:!1,requiresSignature:!1},{id:"4",title:"Relatrio de avano semanal",description:"Documentao do progresso da semana 03/2025. Concludas 95% das fundaes.",obraId:"3",obraName:"Centro Comercial Plaza",author:Do,createdAt:"2025-01-13T17:00:00",updatedAt:"2025-01-13T17:00:00",status:"CONVERTED",type:"NOTE",priority:"LOW",tags:["relatrio","semanal"],hasSketch:!1,hasDocument:!0,requiresSignature:!0},{id:"5",title:"Anotao de medio - Bloco B",description:"Medio das reas construdas do Bloco B para memorial de clculo.",obraId:"2",obraName:"Residencial Villa Verde",author:Do,createdAt:"2025-01-12T11:45:00",updatedAt:"2025-01-12T11:45:00",status:"SENT_TO_TRIAGE",type:"SKETCH",priority:"MEDIUM",tags:["medio","clculo"],hasSketch:!0,hasDocument:!1,requiresSignature:!1}],ip=[{id:"1",name:"Joo Pereira",specialty:"Engenheiro Civil",company:"VERC Engenharia",email:"joao@verc.com",contact:"(11) 99999-1111",competencies:["Estrutural","Fundaes","Projeto"],status:"available",active:!0,rating:4.8,completedTasks:156},{id:"2",name:"Maria Santos",specialty:"Arquiteta",company:"Studio MS Arquitetura",email:"maria@studioms.com",contact:"(11) 99999-2222",competencies:["Projeto","Interiores","Paisagismo"],status:"busy",active:!0,rating:4.9,completedTasks:89},{id:"3",name:"Roberto Almeida",specialty:"Mestre de Obras",email:"roberto@email.com",contact:"(11) 99999-3333",competencies:["Execuo","Superviso","Acabamento"],status:"available",active:!0,rating:4.7,completedTasks:234},{id:"4",name:"Ana Costa",specialty:"Eng. Eltrica",company:"Eletric Pro",email:"ana@eletricpro.com",contact:"(11) 99999-4444",competencies:["Instalaes","SPDA","Automao"],status:"busy",active:!0,rating:4.6,completedTasks:67}],cz=[{id:"1",title:"Concretar laje do 13 andar",description:"Preparar e executar concretagem da laje conforme projeto estrutural.",assignedTo:ip[2],obraId:"1",status:"IN_PROGRESS",priority:"HIGH",dueDate:"2025-01-20",createdAt:"2025-01-10"},{id:"2",title:"Instalar tubulao hidrulica - Bloco A",description:"Instalao conforme projeto hidrossanitrio aprovado.",obraId:"2",status:"OPEN",priority:"MEDIUM",dueDate:"2025-01-25",createdAt:"2025-01-12"},{id:"3",title:"Revisar projeto eltrico",description:"Atualizar projeto com as modificaes solicitadas pelo cliente.",assignedTo:ip[3],obraId:"1",status:"WAITING_APPROVAL",priority:"MEDIUM",dueDate:"2025-01-18",createdAt:"2025-01-08"}],uz=[{id:"new-registro",type:"action",title:"Novo Registro",subtitle:"Capturar ocorrncia ou inspeo",icon:HO},{id:"new-sketch",type:"action",title:"Novo Esboo",subtitle:"Abrir canvas de desenho",icon:UO},{id:"inbox",type:"action",title:"Ir para Inbox",subtitle:"Registros aguardando triagem",icon:DO},{id:"new-obra",type:"action",title:"Nova Obra",subtitle:"Cadastrar novo empreendimento",icon:V1}];function dz({isOpen:e,onClose:t}){const[n,r]=C.useState(""),[i,u]=C.useState(0),m=C.useMemo(()=>{if(!n.trim())return uz;const s=n.toLowerCase(),l=[];return mf==null||mf.filter(f=>f.name.toLowerCase().includes(s)).forEach(f=>l.push({id:f.id,type:"client",title:f.name,subtitle:"Cliente / Contratante",icon:Ka})),az.filter(f=>f.name.toLowerCase().includes(s)||f.address.toLowerCase().includes(s)).forEach(f=>l.push({id:f.id,type:"obra",title:f.name,subtitle:f.address,icon:V1})),lz.filter(f=>f.title.toLowerCase().includes(s)).forEach(f=>l.push({id:f.id,type:"registro",title:f.title,subtitle:`${f.obraName}  ${f.status}`,icon:cr})),ip.filter(f=>f.name.toLowerCase().includes(s)||f.specialty.toLowerCase().includes(s)).forEach(f=>l.push({id:f.id,type:"profissional",title:f.name,subtitle:f.specialty,icon:vn})),cz.filter(f=>f.title.toLowerCase().includes(s)).forEach(f=>l.push({id:f.id,type:"task",title:f.title,subtitle:`Tarefa  ${f.status}`,icon:NO})),l.slice(0,10)},[n]),o=s=>{s.key==="ArrowDown"?(s.preventDefault(),u(l=>Math.min(l+1,m.length-1))):s.key==="ArrowUp"?(s.preventDefault(),u(l=>Math.max(l-1,0))):s.key==="Enter"&&m[i]&&(console.log("Selected:",m[i]),t())};return y.jsx(el,{children:e&&y.jsxs(y.Fragment,{children:[y.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:t,className:"fixed inset-0 z-[100] bg-background/60 backdrop-blur-sm"}),y.jsx(Qe.div,{initial:{opacity:0,scale:.98,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:-20},transition:{type:"spring",stiffness:300,damping:25},className:"fixed left-1/2 top-[15%] z-[101] w-full max-w-xl -translate-x-1/2 px-4",children:y.jsxs("div",{className:"bg-popover rounded-xl shadow-2xl overflow-hidden border border-border ring-1 ring-black/5",children:[y.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-b border-border",children:[y.jsx(qr,{className:"h-5 w-5 text-muted-foreground"}),y.jsx("input",{type:"text",value:n,onChange:s=>{r(s.target.value),u(0)},onKeyDown:o,placeholder:"Buscar...",className:"flex-1 bg-transparent text-foreground placeholder:text-muted-foreground focus:outline-none text-base",autoFocus:!0}),y.jsx("div",{className:"flex gap-1",children:y.jsx("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:y.jsx("span",{className:"text-xs",children:"ESC"})})})]}),y.jsxs("div",{className:"max-h-[60vh] overflow-y-auto py-2",children:[!n&&y.jsx("div",{className:"px-4 py-2",children:y.jsx("span",{className:"text-[10px] font-bold text-muted-foreground/70 uppercase tracking-wider",children:"Sugestes"})}),m.map((s,l)=>{const f=s.icon,a=l===i;return y.jsxs("div",{onClick:()=>{console.log("Click select:",s),t()},onMouseEnter:()=>u(l),className:ae("w-full flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors border-l-2",a?"bg-primary/5 border-primary":"border-transparent hover:bg-muted/30"),children:[y.jsx("div",{className:ae("w-9 h-9 rounded-lg flex items-center justify-center shrink-0",a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:y.jsx(f,{className:"h-4 w-4"})}),y.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[y.jsx("p",{className:ae("text-sm font-medium truncate",a?"text-primary":"text-foreground"),children:s.title}),y.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.subtitle})]}),a&&y.jsx(B1,{className:"h-4 w-4 text-primary shrink-0"})]},`${s.type}-${s.id}`)}),n&&m.length===0&&y.jsx("div",{className:"px-4 py-12 text-center text-muted-foreground",children:y.jsxs("p",{className:"text-sm",children:['Sem resultados para "',n,'"']})})]}),y.jsxs("div",{className:"hidden sm:flex items-center justify-between px-4 py-2.5 border-t border-border bg-muted/20",children:[y.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("kbd",{className:"px-1.5 py-0.5 bg-background border border-border rounded shadow-sm",children:""}),"navegar"]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("kbd",{className:"px-1.5 py-0.5 bg-background border border-border rounded shadow-sm",children:""}),"selecionar"]})]}),y.jsx("div",{className:"text-[10px] text-muted-foreground font-medium",children:"VERCFLOW OS"})]})]})})]})})}function fz(){const[e,t]=C.useState(!1),n=C.useCallback(()=>t(u=>!u),[]),r=C.useCallback(()=>t(!0),[]),i=C.useCallback(()=>t(!1),[]);return C.useEffect(()=>{const u=m=>{(m.metaKey||m.ctrlKey)&&m.key==="k"&&(m.preventDefault(),n()),m.key==="Escape"&&e&&i()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,n,i]),{isOpen:e,open:r,close:i,toggle:n}}function hz({children:e,activeTab:t,onTabChange:n}){const{isOpen:r,open:i,close:u}=fz(),[m,o]=C.useState();return y.jsxs("div",{className:"flex min-h-screen bg-background text-foreground",children:[y.jsxs("div",{className:"flex-1 flex flex-col min-w-0 pb-16 lg:pb-0",children:[y.jsx(sz,{activeTab:t,onTabChange:n,onOpenCommandPalette:i,selectedProject:m,onSelectProject:o}),y.jsx("main",{className:"flex-1 min-h-0 overflow-hidden",children:y.jsx(el,{mode:"wait",children:y.jsx(Qe.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2,ease:"easeOut"},className:"h-full",children:e},t)})})]}),y.jsx(oz,{activeTab:t,onTabChange:n}),y.jsx(dz,{isOpen:r,onClose:u})]})}const pz="modulepreload",mz=function(e){return"/"+e},T0={},gz=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),o=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));i=Promise.allSettled(n.map(s=>{if(s=mz(s),s in T0)return;T0[s]=!0;const l=s.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":pz,l||(a.as="script"),a.crossOrigin="",a.href=s,o&&a.setAttribute("nonce",o),document.head.appendChild(a),l)return new Promise((c,d)=>{a.addEventListener("load",c),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(m){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=m,window.dispatchEvent(o),!o.defaultPrevented)throw m}return i.then(m=>{for(const o of m||[])o.status==="rejected"&&u(o.reason);return t().catch(u)})},vE=aS((e,t)=>({registros:[],isLoading:!1,fetchRegistros:async()=>{e({isLoading:!0});try{const r=await(await fetch("http://localhost:4000/api/records")).json();e({registros:r,isLoading:!1})}catch{Ne.error("Erro ao carregar registros"),e({isLoading:!1})}},addRegistro:async n=>{try{const r=await fetch("http://localhost:4000/api/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.status===401){const u=await r.json();throw gz(()=>Promise.resolve().then(()=>yI),void 0).then(m=>m.useAuth.getState().logout()),new Error(u.error||"Sesso invlida")}if(!r.ok){const u=await r.json();throw new Error(u.error||"Erro ao salvar registro")}const i=await r.json();return e(u=>({registros:[i,...u.registros]})),i}catch(r){throw Ne.error(r.message||"Erro ao salvar registro"),r}},saveSketch:async(n,r,i)=>{try{if(!(await fetch(`http://localhost:4000/api/records/${n}/sketch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataJson:r,imageUrl:i})})).ok)throw new Error("Falha ao salvar esboo");Ne.success("Esboo salvo e PDF timbrado gerado"),await t().fetchRegistros()}catch(u){throw Ne.error("Erro ao salvar esboo"),u}},updateRegistroStatus:async(n,r)=>{const i=t().registros;e(u=>({registros:u.registros.map(m=>m.id===n?{...m,status:r}:m)}));try{const u=await fetch(`http://localhost:4000/api/records/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})});if(!u.ok)throw new Error("Falha ao atualizar status");const m=await u.json();e(o=>({registros:o.registros.map(s=>s.id===n?m:s)}))}catch{Ne.error("Erro ao sincronizar status com o servidor"),e({registros:i})}},convertRegistro:async(n,r)=>{try{if(!(await fetch(`http://localhost:4000/api/records/${n}/convert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw new Error("Falha na converso");Ne.success("Registro formalizado e convertido em atividade!"),await t().fetchRegistros()}catch(i){throw Ne.error("Erro ao converter registro"),i}}}));function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Un(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yE(e,t){const n=st(e);if(isNaN(t))return Un(e,NaN);if(!t)return n;const r=n.getDate(),i=Un(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const u=i.getDate();return r>=u?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const xE=6048e5,vz=864e5;let yz={};function td(){return yz}function Ia(e,t){var o,s,l,f;const n=td(),r=(t==null?void 0:t.weekStartsOn)??((s=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,i=st(e),u=i.getDay(),m=(u<r?7:0)+u-r;return i.setDate(i.getDate()-m),i.setHours(0,0,0,0),i}function nu(e){return Ia(e,{weekStartsOn:1})}function wE(e){const t=st(e),n=t.getFullYear(),r=Un(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=nu(r),u=Un(e,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const m=nu(u);return t.getTime()>=i.getTime()?n+1:t.getTime()>=m.getTime()?n:n-1}function ru(e){const t=st(e);return t.setHours(0,0,0,0),t}function _0(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xz(e,t){const n=ru(e),r=ru(t),i=+n-_0(n),u=+r-_0(r);return Math.round((i-u)/vz)}function wz(e){const t=wE(e),n=Un(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),nu(n)}function bz(e){return Un(e,Date.now())}function bE(e,t){const n=ru(e),r=ru(t);return+n==+r}function Cz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sz(e){if(!Cz(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function Tz(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function _z(e,t){const n=st(e.start),r=st(e.end);let i=+n>+r;const u=i?+n:+r,m=i?r:n;m.setHours(0,0,0,0);let o=1;const s=[];for(;+m<=u;)s.push(st(m)),m.setDate(m.getDate()+o),m.setHours(0,0,0,0);return i?s.reverse():s}function Ez(e){const t=st(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pz(e){const t=st(e),n=Un(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const jz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nz=(e,t,n)=>{let r;const i=jz[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ds(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Oz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Az={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mz={date:Ds({formats:kz,defaultWidth:"full"}),time:Ds({formats:Oz,defaultWidth:"full"}),dateTime:Ds({formats:Az,defaultWidth:"full"})},Rz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dz=(e,t,n,r)=>Rz[e];function Mn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const m=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):m;i=e.formattingValues[o]||e.formattingValues[m]}else{const m=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[m]}const u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}const Iz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Uz={ordinalNumber:Wz,era:Mn({values:Iz,defaultWidth:"wide"}),quarter:Mn({values:Lz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mn({values:Fz,defaultWidth:"wide"}),day:Mn({values:Bz,defaultWidth:"wide"}),dayPeriod:Mn({values:Vz,defaultWidth:"wide",formattingValues:zz,defaultFormattingWidth:"wide"})};function Rn(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(i);if(!u)return null;const m=u[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(o)?Hz(o,a=>a.test(m)):$z(o,a=>a.test(m));let l;l=e.valueCallback?e.valueCallback(s):s,l=n.valueCallback?n.valueCallback(l):l;const f=t.slice(m.length);return{value:l,rest:f}}}function $z(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Hz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function CE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],u=t.match(e.parsePattern);if(!u)return null;let m=e.valueCallback?e.valueCallback(u[0]):u[0];m=n.valueCallback?n.valueCallback(m):m;const o=t.slice(i.length);return{value:m,rest:o}}}const Yz=/^(\d+)(th|st|nd|rd)?/i,Xz=/\d+/i,Gz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kz={any:[/^b/i,/^(a|c)/i]},qz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qz={any:[/1/i,/2/i,/3/i,/4/i]},Jz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iW={ordinalNumber:CE({matchPattern:Yz,parsePattern:Xz,valueCallback:e=>parseInt(e,10)}),era:Rn({matchPatterns:Gz,defaultMatchWidth:"wide",parsePatterns:Kz,defaultParseWidth:"any"}),quarter:Rn({matchPatterns:qz,defaultMatchWidth:"wide",parsePatterns:Qz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rn({matchPatterns:Jz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"any"}),day:Rn({matchPatterns:eW,defaultMatchWidth:"wide",parsePatterns:tW,defaultParseWidth:"any"}),dayPeriod:Rn({matchPatterns:nW,defaultMatchWidth:"any",parsePatterns:rW,defaultParseWidth:"any"})},sW={code:"en-US",formatDistance:Nz,formatLong:Mz,formatRelative:Dz,localize:Uz,match:iW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oW(e){const t=st(e);return xz(t,Pz(t))+1}function aW(e){const t=st(e),n=+nu(t)-+wz(t);return Math.round(n/xE)+1}function SE(e,t){var f,a,c,d;const n=st(e),r=n.getFullYear(),i=td(),u=(t==null?void 0:t.firstWeekContainsDate)??((a=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:a.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(c=i.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,m=Un(e,0);m.setFullYear(r+1,0,u),m.setHours(0,0,0,0);const o=Ia(m,t),s=Un(e,0);s.setFullYear(r,0,u),s.setHours(0,0,0,0);const l=Ia(s,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function lW(e,t){var o,s,l,f;const n=td(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??1,i=SE(e,t),u=Un(e,0);return u.setFullYear(i,0,r),u.setHours(0,0,0,0),Ia(u,t)}function cW(e,t){const n=st(e),r=+Ia(n,t)-+lW(n,t);return Math.round(r/xE)+1}function Ae(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const xr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ae(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ae(n+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ae(i,t.length)}},is={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xr.y(e,t)},Y:function(e,t,n,r){const i=SE(e,r),u=i>0?i:1-i;if(t==="YY"){const m=u%100;return Ae(m,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ae(u,t.length)},R:function(e,t){const n=wE(e);return Ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ae(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return xr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=cW(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ae(i,t.length)},I:function(e,t,n){const r=aW(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ae(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xr.d(e,t)},D:function(e,t,n){const r=oW(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),u=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Ae(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),u=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Ae(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ae(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=is.noon:r===0?i=is.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=is.evening:r>=12?i=is.afternoon:r>=4?i=is.morning:i=is.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xr.s(e,t)},S:function(e,t){return xr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return j0(r);case"XXXX":case"XX":return vi(r);case"XXXXX":case"XXX":default:return vi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return j0(r);case"xxxx":case"xx":return vi(r);case"xxxxx":case"xxx":default:return vi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+P0(r,":");case"OOOO":default:return"GMT"+vi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+P0(r,":");case"zzzz":default:return"GMT"+vi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ae(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ae(r,t.length)}};function P0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),u=r%60;return u===0?n+String(i):n+String(i)+t+Ae(u,2)}function j0(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):vi(e,t)}function vi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ae(Math.trunc(r/60),2),u=Ae(r%60,2);return n+i+t+u}const N0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},TE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uW=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return N0(e,t);let u;switch(r){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",N0(r,t)).replace("{{time}}",TE(i,t))},dW={p:TE,P:uW},fW=/^D+$/,hW=/^Y+$/,pW=["D","DD","YY","YYYY"];function mW(e){return fW.test(e)}function gW(e){return hW.test(e)}function vW(e,t,n){const r=yW(e,t,n);if(console.warn(r),pW.includes(e))throw new RangeError(r)}function yW(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bW=/^'([^]*?)'?$/,CW=/''/g,SW=/[a-zA-Z]/;function ti(e,t,n){var f,a,c,d,p,g,h,v;const r=td(),i=(n==null?void 0:n.locale)??r.locale??sW,u=(n==null?void 0:n.firstWeekContainsDate)??((a=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:a.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,m=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(h=r.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,o=st(e);if(!Sz(o))throw new RangeError("Invalid time value");let s=t.match(wW).map(x=>{const w=x[0];if(w==="p"||w==="P"){const b=dW[w];return b(x,i.formatLong)}return x}).join("").match(xW).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:TW(x)};if(E0[w])return{isToken:!0,value:x};if(w.match(SW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(s=i.localize.preprocessor(o,s));const l={firstWeekContainsDate:u,weekStartsOn:m,locale:i};return s.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gW(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mW(w))&&vW(w,t,String(e));const b=E0[w[0]];return b(o,w,i.localize,l)}).join("")}function TW(e){const t=e.match(bW);return t?t[1].replace(CW,"'"):e}function _W(e,t){const n=st(e),r=st(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function EW(e){return bE(e,bz(e))}function PW(e,t){return yE(e,-t)}const jW={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},NW=(e,t,n)=>{let r;const i=jW[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},kW={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},OW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},AW={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MW={date:Ds({formats:kW,defaultWidth:"full"}),time:Ds({formats:OW,defaultWidth:"full"}),dateTime:Ds({formats:AW,defaultWidth:"full"})},RW={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},DW=(e,t,n,r)=>{const i=RW[e];return typeof i=="function"?i(t):i},IW={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},LW={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FW={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},BW={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},VW={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},zW={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},WW=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},UW={ordinalNumber:WW,era:Mn({values:IW,defaultWidth:"wide"}),quarter:Mn({values:LW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mn({values:FW,defaultWidth:"wide"}),day:Mn({values:BW,defaultWidth:"wide"}),dayPeriod:Mn({values:VW,defaultWidth:"wide",formattingValues:zW,defaultFormattingWidth:"wide"})},$W=/^(\d+)[o]?/i,HW=/\d+/i,YW={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},XW={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},GW={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},KW={any:[/1/i,/2/i,/3/i,/4/i]},qW={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},QW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},JW={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},ZW={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},eU={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},tU={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},nU={ordinalNumber:CE({matchPattern:$W,parsePattern:HW,valueCallback:e=>parseInt(e,10)}),era:Rn({matchPatterns:YW,defaultMatchWidth:"wide",parsePatterns:XW,defaultParseWidth:"any"}),quarter:Rn({matchPatterns:GW,defaultMatchWidth:"wide",parsePatterns:KW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rn({matchPatterns:qW,defaultMatchWidth:"wide",parsePatterns:QW,defaultParseWidth:"any"}),day:Rn({matchPatterns:JW,defaultMatchWidth:"wide",parsePatterns:ZW,defaultParseWidth:"any"}),dayPeriod:Rn({matchPatterns:eU,defaultMatchWidth:"any",parsePatterns:tU,defaultParseWidth:"any"})},io={code:"pt-BR",formatDistance:NW,formatLong:MW,formatRelative:DW,localize:UW,match:nU,options:{weekStartsOn:0,firstWeekContainsDate:1}},rU=ku("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:t,...n}){return y.jsx("div",{className:ae(rU({variant:t}),e),...n})}const ye=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const Pr=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Pr.displayName="CardHeader";const jr=C.forwardRef(({className:e,...t},n)=>y.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));jr.displayName="CardTitle";const _E=C.forwardRef(({className:e,...t},n)=>y.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));_E.displayName="CardDescription";const xe=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));xe.displayName="CardContent";const iU=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));iU.displayName="CardFooter";function Xr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var sU="DismissableLayer",sp="dismissableLayer.update",oU="dismissableLayer.pointerDownOutside",aU="dismissableLayer.focusOutside",k0,EE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PE=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:m,onDismiss:o,...s}=e,l=C.useContext(EE),[f,a]=C.useState(null),c=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),p=pe(t,_=>a(_)),g=Array.from(l.layers),[h]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(h),x=f?g.indexOf(f):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,S=uU(_=>{const P=_.target,A=[...l.branches].some(M=>M.contains(P));!b||A||(i==null||i(_),m==null||m(_),_.defaultPrevented||o==null||o())},c),T=dU(_=>{const P=_.target;[...l.branches].some(M=>M.contains(P))||(u==null||u(_),m==null||m(_),_.defaultPrevented||o==null||o())},c);return Ya(_=>{x===l.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},c),C.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(k0=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),O0(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=k0)}},[f,c,n,l]),C.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),O0())},[f,l]),C.useEffect(()=>{const _=()=>d({});return document.addEventListener(sp,_),()=>document.removeEventListener(sp,_)},[]),y.jsx(ue.div,{...s,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Xr(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Xr(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Xr(e.onPointerDownCapture,S.onPointerDownCapture)})});PE.displayName=sU;var lU="DismissableLayerBranch",cU=C.forwardRef((e,t)=>{const n=C.useContext(EE),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),y.jsx(ue.div,{...e,ref:i})});cU.displayName=lU;function uU(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const u=o=>{if(o.target&&!r.current){let s=function(){jE(oU,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},m=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(m),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dU(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1);return C.useEffect(()=>{const i=u=>{u.target&&!r.current&&jE(aU,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function O0(){const e=new CustomEvent(sp);document.dispatchEvent(e)}function jE(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}function fU(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var nd=e=>{const{present:t,children:n}=e,r=hU(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),u=pe(r.ref,pU(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:u}):null};nd.displayName="Presence";function hU(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),u=C.useRef("none"),m=e?"mounted":"unmounted",[o,s]=fU(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=Ul(r.current);u.current=o==="mounted"?l:"none"},[o]),je(()=>{const l=r.current,f=i.current;if(f!==e){const c=u.current,d=Ul(l);e?s("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?s("UNMOUNT"):s(f&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),je(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,a=d=>{const g=Ul(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},c=d=>{d.target===t&&(u.current=Ul(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Ul(e){return(e==null?void 0:e.animationName)||"none"}function pU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gf=0;function mU(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??A0()),document.body.insertAdjacentElement("beforeend",e[1]??A0()),gf++,()=>{gf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gf--}},[])}function A0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rd="Dialog",[NE,k8]=Nt(rd),[gU,Tn]=NE(rd),kE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:u,modal:m=!0}=e,o=C.useRef(null),s=C.useRef(null),[l,f]=ar({prop:r,defaultProp:i??!1,onChange:u,caller:rd});return y.jsx(gU,{scope:t,triggerRef:o,contentRef:s,contentId:wn(),titleId:wn(),descriptionId:wn(),open:l,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(a=>!a),[f]),modal:m,children:n})};kE.displayName=rd;var OE="DialogTrigger",vU=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tn(OE,n),u=pe(t,i.triggerRef);return y.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ig(i.open),...r,ref:u,onClick:Xr(e.onClick,i.onOpenToggle)})});vU.displayName=OE;var Rg="DialogPortal",[yU,AE]=NE(Rg,{forceMount:void 0}),ME=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,u=Tn(Rg,t);return y.jsx(yU,{scope:t,forceMount:n,children:C.Children.map(r,m=>y.jsx(nd,{present:n||u.open,children:y.jsx(Xa,{asChild:!0,container:i,children:m})}))})};ME.displayName=Rg;var iu="DialogOverlay",RE=C.forwardRef((e,t)=>{const n=AE(iu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,u=Tn(iu,e.__scopeDialog);return u.modal?y.jsx(nd,{present:r||u.open,children:y.jsx(wU,{...i,ref:t})}):null});RE.displayName=iu;var xU=Fi("DialogOverlay.RemoveScroll"),wU=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tn(iu,n);return y.jsx(Qu,{as:xU,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(ue.div,{"data-state":Ig(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Vi="DialogContent",DE=C.forwardRef((e,t)=>{const n=AE(Vi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,u=Tn(Vi,e.__scopeDialog);return y.jsx(nd,{present:r||u.open,children:u.modal?y.jsx(bU,{...i,ref:t}):y.jsx(CU,{...i,ref:t})})});DE.displayName=Vi;var bU=C.forwardRef((e,t)=>{const n=Tn(Vi,e.__scopeDialog),r=C.useRef(null),i=pe(t,n.contentRef,r);return C.useEffect(()=>{const u=r.current;if(u)return Eg(u)},[]),y.jsx(IE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xr(e.onCloseAutoFocus,u=>{var m;u.preventDefault(),(m=n.triggerRef.current)==null||m.focus()}),onPointerDownOutside:Xr(e.onPointerDownOutside,u=>{const m=u.detail.originalEvent,o=m.button===0&&m.ctrlKey===!0;(m.button===2||o)&&u.preventDefault()}),onFocusOutside:Xr(e.onFocusOutside,u=>u.preventDefault())})}),CU=C.forwardRef((e,t)=>{const n=Tn(Vi,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return y.jsx(IE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{var m,o;(m=e.onCloseAutoFocus)==null||m.call(e,u),u.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),u.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:u=>{var s,l;(s=e.onInteractOutside)==null||s.call(e,u),u.defaultPrevented||(r.current=!0,u.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const m=u.target;((l=n.triggerRef.current)==null?void 0:l.contains(m))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.current&&u.preventDefault()}})}),IE=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:u,...m}=e,o=Tn(Vi,n),s=C.useRef(null),l=pe(t,s);return mU(),y.jsxs(y.Fragment,{children:[y.jsx(Ku,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:u,children:y.jsx(PE,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Ig(o.open),...m,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(SU,{titleId:o.titleId}),y.jsx(_U,{contentRef:s,descriptionId:o.descriptionId})]})]})}),Dg="DialogTitle",LE=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tn(Dg,n);return y.jsx(ue.h2,{id:i.titleId,...r,ref:t})});LE.displayName=Dg;var FE="DialogDescription",BE=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tn(FE,n);return y.jsx(ue.p,{id:i.descriptionId,...r,ref:t})});BE.displayName=FE;var VE="DialogClose",zE=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tn(VE,n);return y.jsx(ue.button,{type:"button",...r,ref:t,onClick:Xr(e.onClick,()=>i.onOpenChange(!1))})});zE.displayName=VE;function Ig(e){return e?"open":"closed"}var WE="DialogTitleWarning",[O8,UE]=Ak(WE,{contentName:Vi,titleName:Dg,docsSlug:"dialog"}),SU=({titleId:e})=>{const t=UE(WE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},TU="DialogDescriptionWarning",_U=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UE(TU).contentName}}.`;return C.useEffect(()=>{var u;const i=(u=e.current)==null?void 0:u.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},EU=kE,PU=ME,$E=RE,HE=DE,YE=LE,XE=BE,jU=zE;const ai=EU,NU=PU,GE=C.forwardRef(({className:e,...t},n)=>y.jsx($E,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GE.displayName=$E.displayName;const pr=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(NU,{children:[y.jsx(GE,{}),y.jsxs(HE,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,y.jsxs(jU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[y.jsx(mm,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pr.displayName=HE.displayName;const li=({className:e,...t})=>y.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});li.displayName="DialogHeader";const wo=({className:e,...t})=>y.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wo.displayName="DialogFooter";const mr=C.forwardRef(({className:e,...t},n)=>y.jsx(YE,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));mr.displayName=YE.displayName;const kU=C.forwardRef(({className:e,...t},n)=>y.jsx(XE,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));kU.displayName=XE.displayName;const tt=C.forwardRef(({className:e,type:t,...n},r)=>y.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));tt.displayName="Input";var OU=Symbol.for("react.lazy"),su=Hi[" use ".trim().toString()];function AU(e){return typeof e=="object"&&e!==null&&"then"in e}function KE(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===OU&&"_payload"in e&&AU(e._payload)}function MU(e){const t=RU(e),n=C.forwardRef((r,i)=>{let{children:u,...m}=r;KE(u)&&typeof su=="function"&&(u=su(u._payload));const o=C.Children.toArray(u),s=o.find(IU);if(s){const l=s.props.children,f=o.map(a=>a===s?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:a);return y.jsx(t,{...m,ref:i,children:C.isValidElement(l)?C.cloneElement(l,void 0,f):null})}return y.jsx(t,{...m,ref:i,children:u})});return n.displayName=`${e}.Slot`,n}function RU(e){const t=C.forwardRef((n,r)=>{let{children:i,...u}=n;if(KE(i)&&typeof su=="function"&&(i=su(i._payload)),C.isValidElement(i)){const m=FU(i),o=LU(u,i.props);return i.type!==C.Fragment&&(o.ref=r?si(r,m):m),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DU=Symbol("radix.slottable");function IU(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DU}function LU(e,t){const n={...t};for(const r in t){const i=e[r],u=t[r];/^on[A-Z]/.test(r)?i&&u?n[r]=(...o)=>{const s=u(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...u}:r==="className"&&(n[r]=[i,u].filter(Boolean).join(" "))}return{...e,...n}}function FU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var BU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VU=BU.reduce((e,t)=>{const n=MU(`Primitive.${t}`),r=C.forwardRef((i,u)=>{const{asChild:m,...o}=i,s=m?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),zU="Label",qE=C.forwardRef((e,t)=>y.jsx(VU.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qE.displayName=zU;var QE=qE;const WU=ku("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zt=C.forwardRef(({className:e,...t},n)=>y.jsx(QE,{ref:n,className:ae(WU(),e),...t}));zt.displayName=QE.displayName;function op(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var UU="DismissableLayer",ap="dismissableLayer.update",$U="dismissableLayer.pointerDownOutside",HU="dismissableLayer.focusOutside",M0,JE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZE=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:m,onDismiss:o,...s}=e,l=C.useContext(JE),[f,a]=C.useState(null),c=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),p=pe(t,_=>a(_)),g=Array.from(l.layers),[h]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(h),x=f?g.indexOf(f):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,S=GU(_=>{const P=_.target,A=[...l.branches].some(M=>M.contains(P));!b||A||(i==null||i(_),m==null||m(_),_.defaultPrevented||o==null||o())},c),T=KU(_=>{const P=_.target;[...l.branches].some(M=>M.contains(P))||(u==null||u(_),m==null||m(_),_.defaultPrevented||o==null||o())},c);return Ya(_=>{x===l.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},c),C.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(M0=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),R0(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=M0)}},[f,c,n,l]),C.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),R0())},[f,l]),C.useEffect(()=>{const _=()=>d({});return document.addEventListener(ap,_),()=>document.removeEventListener(ap,_)},[]),y.jsx(ue.div,{...s,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Ze(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ze(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ze(e.onPointerDownCapture,S.onPointerDownCapture)})});ZE.displayName=UU;var YU="DismissableLayerBranch",XU=C.forwardRef((e,t)=>{const n=C.useContext(JE),r=C.useRef(null),i=pe(t,r);return C.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),y.jsx(ue.div,{...e,ref:i})});XU.displayName=YU;function GU(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const u=o=>{if(o.target&&!r.current){let s=function(){eP($U,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},m=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(m),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KU(e,t=globalThis==null?void 0:globalThis.document){const n=Pe(e),r=C.useRef(!1);return C.useEffect(()=>{const i=u=>{u.target&&!r.current&&eP(HU,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R0(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function eP(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ki(i,u):i.dispatchEvent(u)}var vf=0;function qU(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??D0()),document.body.insertAdjacentElement("beforeend",e[1]??D0()),vf++,()=>{vf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vf--}},[])}function D0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lg="Popper",[tP,nP]=Nt(Lg),[QU,rP]=tP(Lg),iP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return y.jsx(QU,{scope:t,anchor:r,onAnchorChange:i,children:n})};iP.displayName=Lg;var sP="PopperAnchor",oP=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,u=rP(sP,n),m=C.useRef(null),o=pe(t,m),s=C.useRef(null);return C.useEffect(()=>{const l=s.current;s.current=(r==null?void 0:r.current)||m.current,l!==s.current&&u.onAnchorChange(s.current)}),r?null:y.jsx(ue.div,{...i,ref:o})});oP.displayName=sP;var Fg="PopperContent",[JU,ZU]=tP(Fg),aP=C.forwardRef((e,t)=>{var I,Y,W,q,ee,ie;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:u="center",alignOffset:m=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:a="partial",hideWhenDetached:c=!1,updatePositionStrategy:d="optimized",onPlaced:p,...g}=e,h=rP(Fg,n),[v,x]=C.useState(null),w=pe(t,X=>x(X)),[b,S]=C.useState(null),T=Iu(b),_=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,A=r+(u!=="center"?"-"+u:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(l)?l:[l],z=B.length>0,Z={padding:M,boundary:B.filter(t$),altBoundary:z},{refs:L,floatingStyles:$,placement:Q,isPositioned:G,middlewareData:D}=_m({strategy:"fixed",placement:A,whileElementsMounted:(...X)=>Tm(...X,{animationFrame:d==="always"}),elements:{reference:h.anchor},middleware:[Em({mainAxis:i+P,alignmentAxis:m}),s&&Pm({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?jm():void 0,...Z}),s&&Nm({...Z}),km({...Z,apply:({elements:X,rects:V,availableWidth:H,availableHeight:J})=>{const{width:K,height:te}=V.reference,se=X.floating.style;se.setProperty("--radix-popper-available-width",`${H}px`),se.setProperty("--radix-popper-available-height",`${J}px`),se.setProperty("--radix-popper-anchor-width",`${K}px`),se.setProperty("--radix-popper-anchor-height",`${te}px`)}}),b&&Am({element:b,padding:o}),n$({arrowWidth:_,arrowHeight:P}),c&&Om({strategy:"referenceHidden",...Z})]}),[E,j]=uP(Q),k=Pe(p);je(()=>{G&&(k==null||k())},[G,k]);const O=(I=D.arrow)==null?void 0:I.x,U=(Y=D.arrow)==null?void 0:Y.y,R=((W=D.arrow)==null?void 0:W.centerOffset)!==0,[N,F]=C.useState();return je(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:G?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N,"--radix-popper-transform-origin":[(q=D.transformOrigin)==null?void 0:q.x,(ee=D.transformOrigin)==null?void 0:ee.y].join(" "),...((ie=D.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(JU,{scope:n,placedSide:E,onArrowChange:S,arrowX:O,arrowY:U,shouldHideArrow:R,children:y.jsx(ue.div,{"data-side":E,"data-align":j,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});aP.displayName=Fg;var lP="PopperArrow",e$={top:"bottom",right:"left",bottom:"top",left:"right"},cP=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,u=ZU(lP,r),m=e$[u.placedSide];return y.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:y.jsx(Mm,{...i,ref:n,style:{...i.style,display:"block"}})})});cP.displayName=lP;function t$(e){return e!==null}var n$=e=>({name:"transformOrigin",options:e,fn(t){var h,v,x;const{placement:n,rects:r,middlewareData:i}=t,m=((h=i.arrow)==null?void 0:h.centerOffset)!==0,o=m?0:e.arrowWidth,s=m?0:e.arrowHeight,[l,f]=uP(n),a={start:"0%",center:"50%",end:"100%"}[f],c=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let p="",g="";return l==="bottom"?(p=m?a:`${c}px`,g=`${-s}px`):l==="top"?(p=m?a:`${c}px`,g=`${r.floating.height+s}px`):l==="right"?(p=`${-s}px`,g=m?a:`${d}px`):l==="left"&&(p=`${r.floating.width+s}px`,g=m?a:`${d}px`),{data:{x:p,y:g}}}});function uP(e){const[t,n="center"]=e.split("-");return[t,n]}var r$=iP,i$=oP,s$=aP,o$=cP;function dP(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var a$=[" ","Enter","ArrowUp","ArrowDown"],l$=[" ","Enter"],zi="Select",[id,sd,c$]=Ha(zi),[bo,A8]=Nt(zi,[c$,nP]),od=nP(),[u$,ci]=bo(zi),[d$,f$]=bo(zi),fP=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:u,value:m,defaultValue:o,onValueChange:s,dir:l,name:f,autoComplete:a,disabled:c,required:d,form:p}=e,g=od(t),[h,v]=C.useState(null),[x,w]=C.useState(null),[b,S]=C.useState(!1),T=xo(l),[_,P]=ar({prop:r,defaultProp:i??!1,onChange:u,caller:zi}),[A,M]=ar({prop:m,defaultProp:o,onChange:s,caller:zi}),B=C.useRef(null),z=h?p||!!h.closest("form"):!0,[Z,L]=C.useState(new Set),$=Array.from(Z).map(Q=>Q.props.value).join(";");return y.jsx(r$,{...g,children:y.jsxs(u$,{required:d,scope:t,trigger:h,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:wn(),value:A,onValueChange:M,open:_,onOpenChange:P,dir:T,triggerPointerDownPosRef:B,disabled:c,children:[y.jsx(id.Provider,{scope:t,children:y.jsx(d$,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(Q=>{L(G=>new Set(G).add(Q))},[]),onNativeOptionRemove:C.useCallback(Q=>{L(G=>{const D=new Set(G);return D.delete(Q),D})},[]),children:n})}),z?y.jsxs(IP,{"aria-hidden":!0,required:d,tabIndex:-1,name:f,autoComplete:a,value:A,onChange:Q=>M(Q.target.value),disabled:c,form:p,children:[A===void 0?y.jsx("option",{value:""}):null,Array.from(Z)]},$):null]})})};fP.displayName=zi;var hP="SelectTrigger",pP=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,u=od(n),m=ci(hP,n),o=m.disabled||r,s=pe(t,m.onTriggerChange),l=sd(n),f=C.useRef("touch"),[a,c,d]=FP(g=>{const h=l().filter(w=>!w.disabled),v=h.find(w=>w.value===m.value),x=BP(h,g,v);x!==void 0&&m.onValueChange(x.value)}),p=g=>{o||(m.onOpenChange(!0),d()),g&&(m.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return y.jsx(i$,{asChild:!0,...u,children:y.jsx(ue.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":LP(m.value)?"":void 0,...i,ref:s,onClick:Ze(i.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&p(g)}),onPointerDown:Ze(i.onPointerDown,g=>{f.current=g.pointerType;const h=g.target;h.hasPointerCapture(g.pointerId)&&h.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Ze(i.onKeyDown,g=>{const h=a.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&c(g.key),!(h&&g.key===" ")&&a$.includes(g.key)&&(p(),g.preventDefault())})})})});pP.displayName=hP;var mP="SelectValue",gP=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:u,placeholder:m="",...o}=e,s=ci(mP,n),{onValueNodeHasChildrenChange:l}=s,f=u!==void 0,a=pe(t,s.onValueNodeChange);return je(()=>{l(f)},[l,f]),y.jsx(ue.span,{...o,ref:a,style:{pointerEvents:"none"},children:LP(s.value)?y.jsx(y.Fragment,{children:m}):u})});gP.displayName=mP;var h$="SelectIcon",vP=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return y.jsx(ue.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});vP.displayName=h$;var p$="SelectPortal",yP=e=>y.jsx(Xa,{asChild:!0,...e});yP.displayName=p$;var Wi="SelectContent",xP=C.forwardRef((e,t)=>{const n=ci(Wi,e.__scopeSelect),[r,i]=C.useState();if(je(()=>{i(new DocumentFragment)},[]),!n.open){const u=r;return u?Gi.createPortal(y.jsx(wP,{scope:e.__scopeSelect,children:y.jsx(id.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),u):null}return y.jsx(bP,{...e,ref:t})});xP.displayName=Wi;var un=10,[wP,ui]=bo(Wi),m$="SelectContentImpl",g$=Fi("SelectContent.RemoveScroll"),bP=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:u,onPointerDownOutside:m,side:o,sideOffset:s,align:l,alignOffset:f,arrowPadding:a,collisionBoundary:c,collisionPadding:d,sticky:p,hideWhenDetached:g,avoidCollisions:h,...v}=e,x=ci(Wi,n),[w,b]=C.useState(null),[S,T]=C.useState(null),_=pe(t,I=>b(I)),[P,A]=C.useState(null),[M,B]=C.useState(null),z=sd(n),[Z,L]=C.useState(!1),$=C.useRef(!1);C.useEffect(()=>{if(w)return Eg(w)},[w]),qU();const Q=C.useCallback(I=>{const[Y,...W]=z().map(ie=>ie.ref.current),[q]=W.slice(-1),ee=document.activeElement;for(const ie of I)if(ie===ee||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===Y&&S&&(S.scrollTop=0),ie===q&&S&&(S.scrollTop=S.scrollHeight),ie==null||ie.focus(),document.activeElement!==ee))return},[z,S]),G=C.useCallback(()=>Q([P,w]),[Q,P,w]);C.useEffect(()=>{Z&&G()},[Z,G]);const{onOpenChange:D,triggerPointerDownPosRef:E}=x;C.useEffect(()=>{if(w){let I={x:0,y:0};const Y=q=>{var ee,ie;I={x:Math.abs(Math.round(q.pageX)-(((ee=E.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(q.pageY)-(((ie=E.current)==null?void 0:ie.y)??0))}},W=q=>{I.x<=10&&I.y<=10?q.preventDefault():w.contains(q.target)||D(!1),document.removeEventListener("pointermove",Y),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",W,{capture:!0})}}},[w,D,E]),C.useEffect(()=>{const I=()=>D(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[D]);const[j,k]=FP(I=>{const Y=z().filter(ee=>!ee.disabled),W=Y.find(ee=>ee.ref.current===document.activeElement),q=BP(Y,I,W);q&&setTimeout(()=>q.ref.current.focus())}),O=C.useCallback((I,Y,W)=>{const q=!$.current&&!W;(x.value!==void 0&&x.value===Y||q)&&(A(I),q&&($.current=!0))},[x.value]),U=C.useCallback(()=>w==null?void 0:w.focus(),[w]),R=C.useCallback((I,Y,W)=>{const q=!$.current&&!W;(x.value!==void 0&&x.value===Y||q)&&B(I)},[x.value]),N=r==="popper"?lp:CP,F=N===lp?{side:o,sideOffset:s,align:l,alignOffset:f,arrowPadding:a,collisionBoundary:c,collisionPadding:d,sticky:p,hideWhenDetached:g,avoidCollisions:h}:{};return y.jsx(wP,{scope:n,content:w,viewport:S,onViewportChange:T,itemRefCallback:O,selectedItem:P,onItemLeave:U,itemTextRefCallback:R,focusSelectedItem:G,selectedItemText:M,position:r,isPositioned:Z,searchRef:j,children:y.jsx(Qu,{as:g$,allowPinchZoom:!0,children:y.jsx(Ku,{asChild:!0,trapped:x.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:Ze(i,I=>{var Y;(Y=x.trigger)==null||Y.focus({preventScroll:!0}),I.preventDefault()}),children:y.jsx(ZE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:y.jsx(N,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:I=>I.preventDefault(),...v,...F,onPlaced:()=>L(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ze(v.onKeyDown,I=>{const Y=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!Y&&I.key.length===1&&k(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let q=z().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(I.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const ee=I.target,ie=q.indexOf(ee);q=q.slice(ie+1)}setTimeout(()=>Q(q)),I.preventDefault()}})})})})})})});bP.displayName=m$;var v$="SelectItemAlignedPosition",CP=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,u=ci(Wi,n),m=ui(Wi,n),[o,s]=C.useState(null),[l,f]=C.useState(null),a=pe(t,_=>f(_)),c=sd(n),d=C.useRef(!1),p=C.useRef(!0),{viewport:g,selectedItem:h,selectedItemText:v,focusSelectedItem:x}=m,w=C.useCallback(()=>{if(u.trigger&&u.valueNode&&o&&l&&g&&h&&v){const _=u.trigger.getBoundingClientRect(),P=l.getBoundingClientRect(),A=u.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(u.dir!=="rtl"){const ee=M.left-P.left,ie=A.left-ee,X=_.left-ie,V=_.width+X,H=Math.max(V,P.width),J=window.innerWidth-un,K=op(ie,[un,Math.max(un,J-H)]);o.style.minWidth=V+"px",o.style.left=K+"px"}else{const ee=P.right-M.right,ie=window.innerWidth-A.right-ee,X=window.innerWidth-_.right-ie,V=_.width+X,H=Math.max(V,P.width),J=window.innerWidth-un,K=op(ie,[un,Math.max(un,J-H)]);o.style.minWidth=V+"px",o.style.right=K+"px"}const B=c(),z=window.innerHeight-un*2,Z=g.scrollHeight,L=window.getComputedStyle(l),$=parseInt(L.borderTopWidth,10),Q=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),E=$+Q+Z+D+G,j=Math.min(h.offsetHeight*5,E),k=window.getComputedStyle(g),O=parseInt(k.paddingTop,10),U=parseInt(k.paddingBottom,10),R=_.top+_.height/2-un,N=z-R,F=h.offsetHeight/2,I=h.offsetTop+F,Y=$+Q+I,W=E-Y;if(Y<=R){const ee=B.length>0&&h===B[B.length-1].ref.current;o.style.bottom="0px";const ie=l.clientHeight-g.offsetTop-g.offsetHeight,X=Math.max(N,F+(ee?U:0)+ie+G),V=Y+X;o.style.height=V+"px"}else{const ee=B.length>0&&h===B[0].ref.current;o.style.top="0px";const X=Math.max(R,$+g.offsetTop+(ee?O:0)+F)+W;o.style.height=X+"px",g.scrollTop=Y-R+g.offsetTop}o.style.margin=`${un}px 0`,o.style.minHeight=j+"px",o.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[c,u.trigger,u.valueNode,o,l,g,h,v,u.dir,r]);je(()=>w(),[w]);const[b,S]=C.useState();je(()=>{l&&S(window.getComputedStyle(l).zIndex)},[l]);const T=C.useCallback(_=>{_&&p.current===!0&&(w(),x==null||x(),p.current=!1)},[w,x]);return y.jsx(x$,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:d,onScrollButtonChange:T,children:y.jsx("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:y.jsx(ue.div,{...i,ref:a,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CP.displayName=v$;var y$="SelectPopperPosition",lp=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=un,...u}=e,m=od(n);return y.jsx(s$,{...m,...u,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lp.displayName=y$;var[x$,Bg]=bo(Wi,{}),cp="SelectViewport",SP=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,u=ui(cp,n),m=Bg(cp,n),o=pe(t,u.onViewportChange),s=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(id.Slot,{scope:n,children:y.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ze(i.onScroll,l=>{const f=l.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:c}=m;if(c!=null&&c.current&&a){const d=Math.abs(s.current-f.scrollTop);if(d>0){const p=window.innerHeight-un*2,g=parseFloat(a.style.minHeight),h=parseFloat(a.style.height),v=Math.max(g,h);if(v<p){const x=v+d,w=Math.min(p,x),b=x-w;a.style.height=w+"px",a.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,a.style.justifyContent="flex-end")}}}s.current=f.scrollTop})})})]})});SP.displayName=cp;var TP="SelectGroup",[w$,b$]=bo(TP),C$=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wn();return y.jsx(w$,{scope:n,id:i,children:y.jsx(ue.div,{role:"group","aria-labelledby":i,...r,ref:t})})});C$.displayName=TP;var _P="SelectLabel",EP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=b$(_P,n);return y.jsx(ue.div,{id:i.id,...r,ref:t})});EP.displayName=_P;var ou="SelectItem",[S$,PP]=bo(ou),jP=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:u,...m}=e,o=ci(ou,n),s=ui(ou,n),l=o.value===r,[f,a]=C.useState(u??""),[c,d]=C.useState(!1),p=pe(t,x=>{var w;return(w=s.itemRefCallback)==null?void 0:w.call(s,x,r,i)}),g=wn(),h=C.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(S$,{scope:n,value:r,disabled:i,textId:g,isSelected:l,onItemTextChange:C.useCallback(x=>{a(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:y.jsx(id.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:y.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":c?"":void 0,"aria-selected":l&&c,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...m,ref:p,onFocus:Ze(m.onFocus,()=>d(!0)),onBlur:Ze(m.onBlur,()=>d(!1)),onClick:Ze(m.onClick,()=>{h.current!=="mouse"&&v()}),onPointerUp:Ze(m.onPointerUp,()=>{h.current==="mouse"&&v()}),onPointerDown:Ze(m.onPointerDown,x=>{h.current=x.pointerType}),onPointerMove:Ze(m.onPointerMove,x=>{var w;h.current=x.pointerType,i?(w=s.onItemLeave)==null||w.call(s):h.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(m.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=s.onItemLeave)==null||w.call(s))}),onKeyDown:Ze(m.onKeyDown,x=>{var b;((b=s.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(l$.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});jP.displayName=ou;var $o="SelectItemText",NP=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...u}=e,m=ci($o,n),o=ui($o,n),s=PP($o,n),l=f$($o,n),[f,a]=C.useState(null),c=pe(t,v=>a(v),s.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,s.value,s.disabled)}),d=f==null?void 0:f.textContent,p=C.useMemo(()=>y.jsx("option",{value:s.value,disabled:s.disabled,children:d},s.value),[s.disabled,s.value,d]),{onNativeOptionAdd:g,onNativeOptionRemove:h}=l;return je(()=>(g(p),()=>h(p)),[g,h,p]),y.jsxs(y.Fragment,{children:[y.jsx(ue.span,{id:s.textId,...u,ref:c}),s.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Gi.createPortal(u.children,m.valueNode):null]})});NP.displayName=$o;var kP="SelectItemIndicator",OP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return PP(kP,n).isSelected?y.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});OP.displayName=kP;var up="SelectScrollUpButton",AP=C.forwardRef((e,t)=>{const n=ui(up,e.__scopeSelect),r=Bg(up,e.__scopeSelect),[i,u]=C.useState(!1),m=pe(t,r.onScrollButtonChange);return je(()=>{if(n.viewport&&n.isPositioned){let o=function(){const l=s.scrollTop>0;u(l)};const s=n.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?y.jsx(RP,{...e,ref:m,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=n;o&&s&&(o.scrollTop=o.scrollTop-s.offsetHeight)}}):null});AP.displayName=up;var dp="SelectScrollDownButton",MP=C.forwardRef((e,t)=>{const n=ui(dp,e.__scopeSelect),r=Bg(dp,e.__scopeSelect),[i,u]=C.useState(!1),m=pe(t,r.onScrollButtonChange);return je(()=>{if(n.viewport&&n.isPositioned){let o=function(){const l=s.scrollHeight-s.clientHeight,f=Math.ceil(s.scrollTop)<l;u(f)};const s=n.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?y.jsx(RP,{...e,ref:m,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=n;o&&s&&(o.scrollTop=o.scrollTop+s.offsetHeight)}}):null});MP.displayName=dp;var RP=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,u=ui("SelectScrollButton",n),m=C.useRef(null),o=sd(n),s=C.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return C.useEffect(()=>()=>s(),[s]),je(()=>{var f;const l=o().find(a=>a.ref.current===document.activeElement);(f=l==null?void 0:l.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),y.jsx(ue.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ze(i.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(r,50))}),onPointerMove:Ze(i.onPointerMove,()=>{var l;(l=u.onItemLeave)==null||l.call(u),m.current===null&&(m.current=window.setInterval(r,50))}),onPointerLeave:Ze(i.onPointerLeave,()=>{s()})})}),T$="SelectSeparator",DP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return y.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});DP.displayName=T$;var fp="SelectArrow",_$=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=od(n),u=ci(fp,n),m=ui(fp,n);return u.open&&m.position==="popper"?y.jsx(o$,{...i,...r,ref:t}):null});_$.displayName=fp;var E$="SelectBubbleInput",IP=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),u=pe(r,i),m=dP(t);return C.useEffect(()=>{const o=i.current;if(!o)return;const s=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(s,"value").set;if(m!==t&&f){const a=new Event("change",{bubbles:!0});f.call(o,t),o.dispatchEvent(a)}},[m,t]),y.jsx(ue.select,{...n,style:{...v1,...n.style},ref:u,defaultValue:t})});IP.displayName=E$;function LP(e){return e===""||e===void 0}function FP(e){const t=Pe(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(m=>{const o=n.current+m;t(o),function s(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>s(""),1e3))}(o)},[t]),u=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,u]}function BP(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let m=P$(e,Math.max(u,0));i.length===1&&(m=m.filter(l=>l!==n));const s=m.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function P$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var j$=fP,VP=pP,N$=gP,k$=vP,O$=yP,zP=xP,A$=SP,WP=EP,UP=jP,M$=NP,R$=OP,$P=AP,HP=MP,YP=DP;const so=j$,oo=N$,Ui=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(VP,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,y.jsx(k$,{asChild:!0,children:y.jsx(hm,{className:"h-4 w-4 opacity-50"})})]}));Ui.displayName=VP.displayName;const XP=C.forwardRef(({className:e,...t},n)=>y.jsx($P,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(kO,{className:"h-4 w-4"})}));XP.displayName=$P.displayName;const GP=C.forwardRef(({className:e,...t},n)=>y.jsx(HP,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(hm,{className:"h-4 w-4"})}));GP.displayName=HP.displayName;const $i=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>y.jsx(O$,{children:y.jsxs(zP,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[y.jsx(XP,{}),y.jsx(A$,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),y.jsx(GP,{})]})}));$i.displayName=zP.displayName;const D$=C.forwardRef(({className:e,...t},n)=>y.jsx(WP,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));D$.displayName=WP.displayName;const en=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(UP,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(R$,{children:y.jsx(z1,{className:"h-4 w-4"})})}),y.jsx(M$,{children:t})]}));en.displayName=UP.displayName;const I$=C.forwardRef(({className:e,...t},n)=>y.jsx(YP,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));I$.displayName=YP.displayName;function L$(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var cl=e=>{const{present:t,children:n}=e,r=F$(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),u=pe(r.ref,B$(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:u}):null};cl.displayName="Presence";function F$(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),u=C.useRef("none"),m=e?"mounted":"unmounted",[o,s]=L$(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=$l(r.current);u.current=o==="mounted"?l:"none"},[o]),je(()=>{const l=r.current,f=i.current;if(f!==e){const c=u.current,d=$l(l);e?s("MOUNT"):d==="none"||(l==null?void 0:l.display)==="none"?s("UNMOUNT"):s(f&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),je(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,a=d=>{const g=$l(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},c=d=>{d.target===t&&(u.current=$l(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function $l(e){return(e==null?void 0:e.animationName)||"none"}function B$(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ai(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function V$(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Vg="ScrollArea",[KP,M8]=Nt(Vg),[z$,an]=KP(Vg),qP=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:u=600,...m}=e,[o,s]=C.useState(null),[l,f]=C.useState(null),[a,c]=C.useState(null),[d,p]=C.useState(null),[g,h]=C.useState(null),[v,x]=C.useState(0),[w,b]=C.useState(0),[S,T]=C.useState(!1),[_,P]=C.useState(!1),A=pe(t,B=>s(B)),M=xo(i);return y.jsx(z$,{scope:n,type:r,dir:M,scrollHideDelay:u,scrollArea:o,viewport:l,onViewportChange:f,content:a,onContentChange:c,scrollbarX:d,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:h,scrollbarYEnabled:_,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:b,children:y.jsx(ue.div,{dir:M,...m,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});qP.displayName=Vg;var QP="ScrollAreaViewport",JP=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...u}=e,m=an(QP,n),o=C.useRef(null),s=pe(t,o,m.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...u,ref:s,style:{overflowX:m.scrollbarXEnabled?"scroll":"hidden",overflowY:m.scrollbarYEnabled?"scroll":"hidden",...e.style},children:y.jsx("div",{ref:m.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});JP.displayName=QP;var Hn="ScrollAreaScrollbar",zg=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=an(Hn,e.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:m}=i,o=e.orientation==="horizontal";return C.useEffect(()=>(o?u(!0):m(!0),()=>{o?u(!1):m(!1)}),[o,u,m]),i.type==="hover"?y.jsx(W$,{...r,ref:t,forceMount:n}):i.type==="scroll"?y.jsx(U$,{...r,ref:t,forceMount:n}):i.type==="auto"?y.jsx(ZP,{...r,ref:t,forceMount:n}):i.type==="always"?y.jsx(Wg,{...r,ref:t}):null});zg.displayName=Hn;var W$=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=an(Hn,e.__scopeScrollArea),[u,m]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let s=0;if(o){const l=()=>{window.clearTimeout(s),m(!0)},f=()=>{s=window.setTimeout(()=>m(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",l),o.addEventListener("pointerleave",f),()=>{window.clearTimeout(s),o.removeEventListener("pointerenter",l),o.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(cl,{present:n||u,children:y.jsx(ZP,{"data-state":u?"visible":"hidden",...r,ref:t})})}),U$=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=an(Hn,e.__scopeScrollArea),u=e.orientation==="horizontal",m=ld(()=>s("SCROLL_END"),100),[o,s]=V$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const l=window.setTimeout(()=>s("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[o,i.scrollHideDelay,s]),C.useEffect(()=>{const l=i.viewport,f=u?"scrollLeft":"scrollTop";if(l){let a=l[f];const c=()=>{const d=l[f];a!==d&&(s("SCROLL"),m()),a=d};return l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[i.viewport,u,s,m]),y.jsx(cl,{present:n||o!=="hidden",children:y.jsx(Wg,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ai(e.onPointerEnter,()=>s("POINTER_ENTER")),onPointerLeave:Ai(e.onPointerLeave,()=>s("POINTER_LEAVE"))})})}),ZP=C.forwardRef((e,t)=>{const n=an(Hn,e.__scopeScrollArea),{forceMount:r,...i}=e,[u,m]=C.useState(!1),o=e.orientation==="horizontal",s=ld(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;m(o?l:f)}},10);return ao(n.viewport,s),ao(n.content,s),y.jsx(cl,{present:r||u,children:y.jsx(Wg,{"data-state":u?"visible":"hidden",...i,ref:t})})}),Wg=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=an(Hn,e.__scopeScrollArea),u=C.useRef(null),m=C.useRef(0),[o,s]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=i2(o.viewport,o.content),f={...r,sizes:o,onSizesChange:s,hasThumb:l>0&&l<1,onThumbChange:c=>u.current=c,onThumbPointerUp:()=>m.current=0,onThumbPointerDown:c=>m.current=c};function a(c,d){return K$(c,m.current,o,d)}return n==="horizontal"?y.jsx($$,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&u.current){const c=i.viewport.scrollLeft,d=I0(c,o,i.dir);u.current.style.transform=`translate3d(${d}px, 0, 0)`}},onWheelScroll:c=>{i.viewport&&(i.viewport.scrollLeft=c)},onDragScroll:c=>{i.viewport&&(i.viewport.scrollLeft=a(c,i.dir))}}):n==="vertical"?y.jsx(H$,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&u.current){const c=i.viewport.scrollTop,d=I0(c,o);u.current.style.transform=`translate3d(0, ${d}px, 0)`}},onWheelScroll:c=>{i.viewport&&(i.viewport.scrollTop=c)},onDragScroll:c=>{i.viewport&&(i.viewport.scrollTop=a(c))}}):null}),$$=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,u=an(Hn,e.__scopeScrollArea),[m,o]=C.useState(),s=C.useRef(null),l=pe(t,s,u.onScrollbarXChange);return C.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),y.jsx(t2,{"data-orientation":"horizontal",...i,ref:l,sizes:n,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ad(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,a)=>{if(u.viewport){const c=u.viewport.scrollLeft+f.deltaX;e.onWheelScroll(c),o2(c,a)&&f.preventDefault()}},onResize:()=>{s.current&&u.viewport&&m&&r({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:s.current.clientWidth,paddingStart:lu(m.paddingLeft),paddingEnd:lu(m.paddingRight)}})}})}),H$=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,u=an(Hn,e.__scopeScrollArea),[m,o]=C.useState(),s=C.useRef(null),l=pe(t,s,u.onScrollbarYChange);return C.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),y.jsx(t2,{"data-orientation":"vertical",...i,ref:l,sizes:n,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ad(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,a)=>{if(u.viewport){const c=u.viewport.scrollTop+f.deltaY;e.onWheelScroll(c),o2(c,a)&&f.preventDefault()}},onResize:()=>{s.current&&u.viewport&&m&&r({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:s.current.clientHeight,paddingStart:lu(m.paddingTop),paddingEnd:lu(m.paddingBottom)}})}})}),[Y$,e2]=KP(Hn),t2=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:u,onThumbPointerUp:m,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:l,onWheelScroll:f,onResize:a,...c}=e,d=an(Hn,n),[p,g]=C.useState(null),h=pe(t,A=>g(A)),v=C.useRef(null),x=C.useRef(""),w=d.viewport,b=r.content-r.viewport,S=Pe(f),T=Pe(s),_=ld(a,10);function P(A){if(v.current){const M=A.clientX-v.current.left,B=A.clientY-v.current.top;l({x:M,y:B})}}return C.useEffect(()=>{const A=M=>{const B=M.target;(p==null?void 0:p.contains(B))&&S(M,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,p,b,S]),C.useEffect(T,[r,T]),ao(p,_),ao(d.content,_),y.jsx(Y$,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Pe(u),onThumbPointerUp:Pe(m),onThumbPositionChange:T,onThumbPointerDown:Pe(o),children:y.jsx(ue.div,{...c,ref:h,style:{position:"absolute",...c.style},onPointerDown:Ai(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",d.viewport&&(d.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:Ai(e.onPointerMove,P),onPointerUp:Ai(e.onPointerUp,A=>{const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,d.viewport&&(d.viewport.style.scrollBehavior=""),v.current=null})})})}),au="ScrollAreaThumb",n2=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=e2(au,e.__scopeScrollArea);return y.jsx(cl,{present:n||i.hasThumb,children:y.jsx(X$,{ref:t,...r})})}),X$=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,u=an(au,n),m=e2(au,n),{onThumbPositionChange:o}=m,s=pe(t,a=>m.onThumbChange(a)),l=C.useRef(void 0),f=ld(()=>{l.current&&(l.current(),l.current=void 0)},100);return C.useEffect(()=>{const a=u.viewport;if(a){const c=()=>{if(f(),!l.current){const d=q$(a,o);l.current=d,o()}};return o(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[u.viewport,f,o]),y.jsx(ue.div,{"data-state":m.hasThumb?"visible":"hidden",...i,ref:s,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ai(e.onPointerDownCapture,a=>{const d=a.target.getBoundingClientRect(),p=a.clientX-d.left,g=a.clientY-d.top;m.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ai(e.onPointerUp,m.onThumbPointerUp)})});n2.displayName=au;var Ug="ScrollAreaCorner",r2=C.forwardRef((e,t)=>{const n=an(Ug,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(G$,{...e,ref:t}):null});r2.displayName=Ug;var G$=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=an(Ug,n),[u,m]=C.useState(0),[o,s]=C.useState(0),l=!!(u&&o);return ao(i.scrollbarX,()=>{var a;const f=((a=i.scrollbarX)==null?void 0:a.offsetHeight)||0;i.onCornerHeightChange(f),s(f)}),ao(i.scrollbarY,()=>{var a;const f=((a=i.scrollbarY)==null?void 0:a.offsetWidth)||0;i.onCornerWidthChange(f),m(f)}),l?y.jsx(ue.div,{...r,ref:t,style:{width:u,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lu(e){return e?parseInt(e,10):0}function i2(e,t){const n=e/t;return isNaN(n)?0:n}function ad(e){const t=i2(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function K$(e,t,n,r="ltr"){const i=ad(n),u=i/2,m=t||u,o=i-m,s=n.scrollbar.paddingStart+m,l=n.scrollbar.size-n.scrollbar.paddingEnd-o,f=n.content-n.viewport,a=r==="ltr"?[0,f]:[f*-1,0];return s2([s,l],a)(e)}function I0(e,t,n="ltr"){const r=ad(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,u=t.scrollbar.size-i,m=t.content-t.viewport,o=u-r,s=n==="ltr"?[0,m]:[m*-1,0],l=op(e,s);return s2([0,m],[0,o])(l)}function s2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function o2(e,t){return e>0&&e<t}var q$=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const u={left:e.scrollLeft,top:e.scrollTop},m=n.left!==u.left,o=n.top!==u.top;(m||o)&&t(),n=u,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function ld(e,t){const n=Pe(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ao(e,t){const n=Pe(t);je(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var a2=qP,Q$=JP,J$=r2;const l2=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(a2,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[y.jsx(Q$,{className:"h-full w-full rounded-[inherit]",children:t}),y.jsx(c2,{}),y.jsx(J$,{})]}));l2.displayName=a2.displayName;const c2=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>y.jsx(zg,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:y.jsx(n2,{className:"relative flex-1 rounded-full bg-border"})}));c2.displayName=zg.displayName;const u2=C.forwardRef(({className:e,...t},n)=>y.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));u2.displayName="Textarea";var os={};const Z$={},e6=Object.freeze(Object.defineProperty({__proto__:null,default:Z$},Symbol.toStringTag,{value:"Module"})),yf=ej(e6);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.5.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=yf,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=yf.implForWrapper,t.nodeCanvas=yf.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function o(d,p){if(this.__eventListeners[d]){var g=this.__eventListeners[d];p?g[g.indexOf(p)]=!1:t.util.array.fill(g,!1)}}function s(d,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in d)this.on(g,d[g]);else this.__eventListeners[d]||(this.__eventListeners[d]=[]),this.__eventListeners[d].push(p);return this}function l(d,p){var g=(function(){p.apply(this,arguments),this.off(d,g)}).bind(this);this.on(d,g)}function f(d,p){if(arguments.length===1)for(var g in d)l.call(this,g,d[g]);else l.call(this,d,p);return this}function a(d,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(d in this.__eventListeners)o.call(this,d);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in d)o.call(this,g,d[g]);else o.call(this,d,p);return this}function c(d,p){if(!this.__eventListeners)return this;var g=this.__eventListeners[d];if(!g)return this;for(var h=0,v=g.length;h<v;h++)g[h]&&g[h].call(this,p||{});return this.__eventListeners[d]=g.filter(function(x){return x!==!1}),this}t.Observable={fire:c,on:s,once:f,off:a}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var o=0,s=arguments.length;o<s;o++)this._onObjectAdded(arguments[o]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(o,s,l){var f=this._objects;return l?f[s]=o:f.splice(s,0,o),this._onObjectAdded&&this._onObjectAdded(o),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var o=this._objects,s,l=!1,f=0,a=arguments.length;f<a;f++)s=o.indexOf(arguments[f]),s!==-1&&(l=!0,o.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&l&&this.requestRenderAll(),this},forEachObject:function(o,s){for(var l=this.getObjects(),f=0,a=l.length;f<a;f++)o.call(s,l[f],f,l);return this},getObjects:function(o){return typeof o>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===o})},item:function(o){return this._objects[o]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(o,s){return this._objects.indexOf(o)>-1?!0:s?this._objects.some(function(l){return typeof l.contains=="function"&&l.contains(o,!0)}):!1},complexity:function(){return this._objects.reduce(function(o,s){return o+=s.complexity?s.complexity():0,o},0)}},t.CommonMethods={_setOptions:function(o){for(var s in o)this.set(s,o[s])},_initGradient:function(o,s){o&&o.colorStops&&!(o instanceof t.Gradient)&&this.set(s,new t.Gradient(o))},_initPattern:function(o,s,l){o&&o.source&&!(o instanceof t.Pattern)?this.set(s,new t.Pattern(o,l)):l&&l()},_setObject:function(o){for(var s in o)this._set(s,o[s])},set:function(o,s){return typeof o=="object"?this._setObject(o):this._set(o,s),this},_set:function(o,s){this[o]=s},toggle:function(o){var s=this.get(o);return typeof s=="boolean"&&this.set(o,!s),this},get:function(o){return this[o]}},function(o){var s=Math.sqrt,l=Math.atan2,f=Math.pow,a=Math.PI/180,c=Math.PI/2;t.util={cos:function(d){if(d===0)return 1;d<0&&(d=-d);var p=d/c;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(d)},sin:function(d){if(d===0)return 0;var p=d/c,g=1;switch(d<0&&(g=-1),p){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(d)},removeFromArray:function(d,p){var g=d.indexOf(p);return g!==-1&&d.splice(g,1),d},getRandomInt:function(d,p){return Math.floor(Math.random()*(p-d+1))+d},degreesToRadians:function(d){return d*a},radiansToDegrees:function(d){return d/a},rotatePoint:function(d,p,g){var h=new t.Point(d.x-p.x,d.y-p.y),v=t.util.rotateVector(h,g);return new t.Point(v.x,v.y).addEquals(p)},rotateVector:function(d,p){var g=t.util.sin(p),h=t.util.cos(p),v=d.x*h-d.y*g,x=d.x*g+d.y*h;return{x:v,y:x}},createVector:function(d,p){return new t.Point(p.x-d.x,p.y-d.y)},calcAngleBetweenVectors:function(d,p){return Math.acos((d.x*p.x+d.y*p.y)/(Math.hypot(d.x,d.y)*Math.hypot(p.x,p.y)))},getHatVector:function(d){return new t.Point(d.x,d.y).multiply(1/Math.hypot(d.x,d.y))},getBisector:function(d,p,g){var h=t.util.createVector(d,p),v=t.util.createVector(d,g),x=t.util.calcAngleBetweenVectors(h,v),w=t.util.calcAngleBetweenVectors(t.util.rotateVector(h,x),v),b=x*(w===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(h,b)),angle:x}},projectStrokeOnPoints:function(d,p,g){var h=[],v=p.strokeWidth/2,x=p.strokeUniform?new t.Point(1/p.scaleX,1/p.scaleY):new t.Point(1,1),w=function(b){var S=v/Math.hypot(b.x,b.y);return new t.Point(b.x*S*x.x,b.y*S*x.y)};return d.length<=1||d.forEach(function(b,S){var T=new t.Point(b.x,b.y),_,P;S===0?(P=d[S+1],_=g?w(t.util.createVector(P,T)).addEquals(T):d[d.length-1]):S===d.length-1?(_=d[S-1],P=g?w(t.util.createVector(_,T)).addEquals(T):d[0]):(_=d[S-1],P=d[S+1]);var A=t.util.getBisector(T,_,P),M=A.vector,B=A.angle,z,Z;if(p.strokeLineJoin==="miter"&&(z=-v/Math.sin(B/2),Z=new t.Point(M.x*z*x.x,M.y*z*x.y),Math.hypot(Z.x,Z.y)/v<=p.strokeMiterLimit)){h.push(T.add(Z)),h.push(T.subtract(Z));return}z=-v*Math.SQRT2,Z=new t.Point(M.x*z*x.x,M.y*z*x.y),h.push(T.add(Z)),h.push(T.subtract(Z))}),h},transformPoint:function(d,p,g){return g?new t.Point(p[0]*d.x+p[2]*d.y,p[1]*d.x+p[3]*d.y):new t.Point(p[0]*d.x+p[2]*d.y+p[4],p[1]*d.x+p[3]*d.y+p[5])},makeBoundingBoxFromPoints:function(d,p){if(p)for(var g=0;g<d.length;g++)d[g]=t.util.transformPoint(d[g],p);var h=[d[0].x,d[1].x,d[2].x,d[3].x],v=t.util.array.min(h),x=t.util.array.max(h),w=x-v,b=[d[0].y,d[1].y,d[2].y,d[3].y],S=t.util.array.min(b),T=t.util.array.max(b),_=T-S;return{left:v,top:S,width:w,height:_}},invertTransform:function(d){var p=1/(d[0]*d[3]-d[1]*d[2]),g=[p*d[3],-p*d[1],-p*d[2],p*d[0]],h=t.util.transformPoint({x:d[4],y:d[5]},g,!0);return g[4]=-h.x,g[5]=-h.y,g},toFixed:function(d,p){return parseFloat(Number(d).toFixed(p))},parseUnit:function(d,p){var g=/\D{0,2}$/.exec(d),h=parseFloat(d);switch(p||(p=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return h*t.DPI/25.4;case"cm":return h*t.DPI/2.54;case"in":return h*t.DPI;case"pt":return h*t.DPI/72;case"pc":return h*t.DPI/72*12;case"em":return h*p;default:return h}},falseFunction:function(){return!1},getKlass:function(d,p){return d=t.util.string.camelize(d.charAt(0).toUpperCase()+d.slice(1)),t.util.resolveNamespace(p)[d]},getSvgAttributes:function(d){var p=["instantiated_by_use","style","id","class"];switch(d){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(d){if(!d)return t;var p=d.split("."),g=p.length,h,v=o||t.window;for(h=0;h<g;++h)v=v[p[h]];return v},loadImage:function(d,p,g,h){if(!d){p&&p.call(g,d);return}var v=t.util.createImage(),x=function(){p&&p.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=x,v.onerror=function(){t.log("Error loading "+v.src),p&&p.call(g,null,!0),v=v.onload=v.onerror=null},d.indexOf("data")!==0&&h!==void 0&&h!==null&&(v.crossOrigin=h),d.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,x)),v.src=d},loadImageInDom:function(d,p){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(d),t.document.querySelector("body").appendChild(g),d.onload=function(){p(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(d,p,g,h){d=d||[];var v=[],x=0,w=d.length;function b(){++x===w&&p&&p(v.filter(function(S){return S}))}if(!w){p&&p(v);return}d.forEach(function(S,T){if(!S||!S.type){b();return}var _=t.util.getKlass(S.type,g);_.fromObject(S,function(P,A){A||(v[T]=P),h&&h(S,P,A),b()})})},enlivenObjectEnlivables:function(d,p,g){var h=t.Object.ENLIVEN_PROPS.filter(function(v){return!!d[v]});t.util.enlivenObjects(h.map(function(v){return d[v]}),function(v){var x={};h.forEach(function(w,b){x[w]=v[b],p&&(p[w]=v[b])}),g&&g(x)})},enlivenPatterns:function(d,p){d=d||[];function g(){++v===x&&p&&p(h)}var h=[],v=0,x=d.length;if(!x){p&&p(h);return}d.forEach(function(w,b){w&&w.source?new t.Pattern(w,function(S){h[b]=S,g()}):(h[b]=w,g())})},groupSVGElements:function(d,p,g){var h;return d&&d.length===1?(typeof g<"u"&&(d[0].sourcePath=g),d[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),h=new t.Group(d,p),typeof g<"u"&&(h.sourcePath=g),h)},populateWithProperties:function(d,p,g){if(g&&Array.isArray(g))for(var h=0,v=g.length;h<v;h++)g[h]in d&&(p[g[h]]=d[g[h]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(d){var p=t.util.createCanvasElement();return p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0),p},toDataURL:function(d,p,g){return d.toDataURL("image/"+p,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(d,p,g){return[d[0]*p[0]+d[2]*p[1],d[1]*p[0]+d[3]*p[1],d[0]*p[2]+d[2]*p[3],d[1]*p[2]+d[3]*p[3],g?0:d[0]*p[4]+d[2]*p[5]+d[4],g?0:d[1]*p[4]+d[3]*p[5]+d[5]]},qrDecompose:function(d){var p=l(d[1],d[0]),g=f(d[0],2)+f(d[1],2),h=s(g),v=(d[0]*d[3]-d[2]*d[1])/h,x=l(d[0]*d[2]+d[1]*d[3],g);return{angle:p/a,scaleX:h,scaleY:v,skewX:x/a,skewY:0,translateX:d[4],translateY:d[5]}},calcRotateMatrix:function(d){if(!d.angle)return t.iMatrix.concat();var p=t.util.degreesToRadians(d.angle),g=t.util.cos(p),h=t.util.sin(p);return[g,h,-h,g,0,0]},calcDimensionsMatrix:function(d){var p=typeof d.scaleX>"u"?1:d.scaleX,g=typeof d.scaleY>"u"?1:d.scaleY,h=[d.flipX?-p:p,0,0,d.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,x=t.util.degreesToRadians;return d.skewX&&(h=v(h,[1,0,Math.tan(x(d.skewX)),1],!0)),d.skewY&&(h=v(h,[1,Math.tan(x(d.skewY)),0,1],!0)),h},composeMatrix:function(d){var p=[1,0,0,1,d.translateX||0,d.translateY||0],g=t.util.multiplyTransformMatrices;return d.angle&&(p=g(p,t.util.calcRotateMatrix(d))),(d.scaleX!==1||d.scaleY!==1||d.skewX||d.skewY||d.flipX||d.flipY)&&(p=g(p,t.util.calcDimensionsMatrix(d))),p},resetObjectTransform:function(d){d.scaleX=1,d.scaleY=1,d.skewX=0,d.skewY=0,d.flipX=!1,d.flipY=!1,d.rotate(0)},saveObjectTransform:function(d){return{scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,angle:d.angle,left:d.left,flipX:d.flipX,flipY:d.flipY,top:d.top}},isTransparent:function(d,p,g,h){h>0&&(p>h?p-=h:p=0,g>h?g-=h:g=0);var v=!0,x,w,b=d.getImageData(p,g,h*2||1,h*2||1),S=b.data.length;for(x=3;x<S&&(w=b.data[x],v=w<=0,v!==!1);x+=4);return b=null,v},parsePreserveAspectRatioAttribute:function(d){var p="meet",g="Mid",h="Mid",v=d.split(" "),x;return v&&v.length&&(p=v.pop(),p!=="meet"&&p!=="slice"?(x=p,p="meet"):v.length&&(x=v.pop())),g=x!=="none"?x.slice(1,4):"none",h=x!=="none"?x.slice(5,8):"none",{meetOrSlice:p,alignX:g,alignY:h}},clearFabricFontCache:function(d){d=(d||"").toLowerCase(),d?t.charWidthsCache[d]&&delete t.charWidthsCache[d]:t.charWidthsCache={}},limitDimsByArea:function(d,p){var g=Math.sqrt(p*d),h=Math.floor(p/g);return{x:Math.floor(g),y:h}},capValue:function(d,p,g){return Math.max(d,Math.min(p,g))},findScaleToFit:function(d,p){return Math.min(p.width/d.width,p.height/d.height)},findScaleToCover:function(d,p){return Math.max(p.width/d.width,p.height/d.height)},matrixToSVG:function(d){return"matrix("+d.map(function(p){return t.util.toFixed(p,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(d,p){var g=t.util.invertTransform(p),h=t.util.multiplyTransformMatrices(g,d.calcOwnMatrix());t.util.applyTransformToObject(d,h)},addTransformToObject:function(d,p){t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(p,d.calcOwnMatrix()))},applyTransformToObject:function(d,p){var g=t.util.qrDecompose(p),h=new t.Point(g.translateX,g.translateY);d.flipX=!1,d.flipY=!1,d.set("scaleX",g.scaleX),d.set("scaleY",g.scaleY),d.skewX=g.skewX,d.skewY=g.skewY,d.angle=g.angle,d.setPositionByOrigin(h,"center","center")},sizeAfterTransform:function(d,p,g){var h=d/2,v=p/2,x=[{x:-h,y:-v},{x:h,y:-v},{x:-h,y:v},{x:h,y:v}],w=t.util.calcDimensionsMatrix(g),b=t.util.makeBoundingBoxFromPoints(x,w);return{x:b.width,y:b.height}},mergeClipPaths:function(d,p){var g=d,h=p;g.inverted&&!h.inverted&&(g=p,h=d),t.util.applyTransformToObject(h,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),h.calcTransformMatrix()));var v=g.inverted&&h.inverted;return v&&(g.inverted=h.inverted=!1),new t.Group([g],{clipPath:h,inverted:v})},hasStyleChanged:function(d,p,g){return g=g||!1,d.fill!==p.fill||d.stroke!==p.stroke||d.strokeWidth!==p.strokeWidth||d.fontSize!==p.fontSize||d.fontFamily!==p.fontFamily||d.fontWeight!==p.fontWeight||d.fontStyle!==p.fontStyle||d.textBackgroundColor!==p.textBackgroundColor||d.deltaY!==p.deltaY||g&&(d.overline!==p.overline||d.underline!==p.underline||d.linethrough!==p.linethrough)},stylesToArray:function(g,p){for(var g=t.util.object.clone(g,!0),h=p.split(`
`),v=-1,x={},w=[],b=0;b<h.length;b++){if(!g[b]){v+=h[b].length;continue}for(var S=0;S<h[b].length;S++){v++;var T=g[b][S];if(T&&Object.keys(T).length>0){var _=t.util.hasStyleChanged(x,T,!0);_?w.push({start:v,end:v+1,style:T}):w[w.length-1].end++}x=T||{}}}return w},stylesFromArray:function(d,p){if(!Array.isArray(d))return d;for(var g=p.split(`
`),h=-1,v=0,x={},w=0;w<g.length;w++)for(var b=0;b<g[w].length;b++)h++,d[v]&&d[v].start<=h&&h<d[v].end&&(x[w]=x[w]||{},x[w][b]=Object.assign({},d[v].style),h===d[v].end-1&&v++);return x}}}(e),function(){var o=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};function f(E,j,k,O,U,R,N,F,I,Y,W){var q=t.util.cos(E),ee=t.util.sin(E),ie=t.util.cos(j),X=t.util.sin(j),V=k*U*ie-O*R*X+N,H=O*U*ie+k*R*X+F,J=Y+I*(-k*U*ee-O*R*q),K=W+I*(-O*U*ee+k*R*q),te=V+I*(k*U*X+O*R*ie),se=H+I*(O*U*X-k*R*ie);return["C",J,K,te,se,V,H]}function a(E,j,k,O,U,R,N){var F=Math.PI,I=N*F/180,Y=t.util.sin(I),W=t.util.cos(I),q=0,ee=0;k=Math.abs(k),O=Math.abs(O);var ie=-W*E*.5-Y*j*.5,X=-W*j*.5+Y*E*.5,V=k*k,H=O*O,J=X*X,K=ie*ie,te=V*H-V*J-H*K,se=0;if(te<0){var ve=Math.sqrt(1-te/(V*H));k*=ve,O*=ve}else se=(U===R?-1:1)*Math.sqrt(te/(V*J+H*K));var he=se*k*X/O,re=-se*O*ie/k,me=W*he-Y*re+E*.5,be=Y*he+W*re+j*.5,_e=c(1,0,(ie-he)/k,(X-re)/O),Ve=c((ie-he)/k,(X-re)/O,(-ie-he)/k,(-X-re)/O);R===0&&Ve>0?Ve-=2*F:R===1&&Ve<0&&(Ve+=2*F);for(var Oe=Math.ceil(Math.abs(Ve/F*2)),bt=[],Je=Ve/Oe,di=8/3*Math.sin(Je/4)*Math.sin(Je/4)/Math.sin(Je/2),Co=_e+Je,_n=0;_n<Oe;_n++)bt[_n]=f(_e,Co,W,Y,k,O,me,be,di,q,ee),q=bt[_n][5],ee=bt[_n][6],_e=Co,Co+=Je;return bt}function c(E,j,k,O){var U=Math.atan2(j,E),R=Math.atan2(O,k);return R>=U?R-U:2*Math.PI-(U-R)}function d(E,j,k,O,U,R,N,F){var I;if(t.cachesBoundsOfCurve&&(I=o.call(arguments),t.boundsOfCurveCache[I]))return t.boundsOfCurveCache[I];var Y=Math.sqrt,W=Math.min,q=Math.max,ee=Math.abs,ie=[],X=[[],[]],V,H,J,K,te,se,ve,he;H=6*E-12*k+6*U,V=-3*E+9*k-9*U+3*N,J=3*k-3*E;for(var re=0;re<2;++re){if(re>0&&(H=6*j-12*O+6*R,V=-3*j+9*O-9*R+3*F,J=3*O-3*j),ee(V)<1e-12){if(ee(H)<1e-12)continue;K=-J/H,0<K&&K<1&&ie.push(K);continue}ve=H*H-4*J*V,!(ve<0)&&(he=Y(ve),te=(-H+he)/(2*V),0<te&&te<1&&ie.push(te),se=(-H-he)/(2*V),0<se&&se<1&&ie.push(se))}for(var me,be,_e=ie.length,Ve=_e,Oe;_e--;)K=ie[_e],Oe=1-K,me=Oe*Oe*Oe*E+3*Oe*Oe*K*k+3*Oe*K*K*U+K*K*K*N,X[0][_e]=me,be=Oe*Oe*Oe*j+3*Oe*Oe*K*O+3*Oe*K*K*R+K*K*K*F,X[1][_e]=be;X[0][Ve]=E,X[1][Ve]=j,X[0][Ve+1]=N,X[1][Ve+1]=F;var bt=[{x:W.apply(null,X[0]),y:W.apply(null,X[1])},{x:q.apply(null,X[0]),y:q.apply(null,X[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[I]=bt),bt}function p(E,j,k){for(var O=k[1],U=k[2],R=k[3],N=k[4],F=k[5],I=k[6],Y=k[7],W=a(I-E,Y-j,O,U,N,F,R),q=0,ee=W.length;q<ee;q++)W[q][1]+=E,W[q][2]+=j,W[q][3]+=E,W[q][4]+=j,W[q][5]+=E,W[q][6]+=j;return W}function g(E){var j=0,k=0,O=E.length,U=0,R=0,N,F,I,Y=[],W,q,ee;for(F=0;F<O;++F){switch(I=!1,N=E[F].slice(0),N[0]){case"l":N[0]="L",N[1]+=j,N[2]+=k;case"L":j=N[1],k=N[2];break;case"h":N[1]+=j;case"H":N[0]="L",N[2]=k,j=N[1];break;case"v":N[1]+=k;case"V":N[0]="L",k=N[1],N[1]=j,N[2]=k;break;case"m":N[0]="M",N[1]+=j,N[2]+=k;case"M":j=N[1],k=N[2],U=N[1],R=N[2];break;case"c":N[0]="C",N[1]+=j,N[2]+=k,N[3]+=j,N[4]+=k,N[5]+=j,N[6]+=k;case"C":q=N[3],ee=N[4],j=N[5],k=N[6];break;case"s":N[0]="S",N[1]+=j,N[2]+=k,N[3]+=j,N[4]+=k;case"S":W==="C"?(q=2*j-q,ee=2*k-ee):(q=j,ee=k),j=N[3],k=N[4],N[0]="C",N[5]=N[3],N[6]=N[4],N[3]=N[1],N[4]=N[2],N[1]=q,N[2]=ee,q=N[3],ee=N[4];break;case"q":N[0]="Q",N[1]+=j,N[2]+=k,N[3]+=j,N[4]+=k;case"Q":q=N[1],ee=N[2],j=N[3],k=N[4];break;case"t":N[0]="T",N[1]+=j,N[2]+=k;case"T":W==="Q"?(q=2*j-q,ee=2*k-ee):(q=j,ee=k),N[0]="Q",j=N[1],k=N[2],N[1]=q,N[2]=ee,N[3]=j,N[4]=k;break;case"a":N[0]="A",N[6]+=j,N[7]+=k;case"A":I=!0,Y=Y.concat(p(j,k,N)),j=N[6],k=N[7];break;case"z":case"Z":j=U,k=R;break}I||Y.push(N),W=N[0]}return Y}function h(E,j,k,O){return Math.sqrt((k-E)*(k-E)+(O-j)*(O-j))}function v(E){return E*E*E}function x(E){return 3*E*E*(1-E)}function w(E){return 3*E*(1-E)*(1-E)}function b(E){return(1-E)*(1-E)*(1-E)}function S(E,j,k,O,U,R,N,F){return function(I){var Y=v(I),W=x(I),q=w(I),ee=b(I);return{x:N*Y+U*W+k*q+E*ee,y:F*Y+R*W+O*q+j*ee}}}function T(E,j,k,O,U,R,N,F){return function(I){var Y=1-I,W=3*Y*Y*(k-E)+6*Y*I*(U-k)+3*I*I*(N-U),q=3*Y*Y*(O-j)+6*Y*I*(R-O)+3*I*I*(F-R);return Math.atan2(q,W)}}function _(E){return E*E}function P(E){return 2*E*(1-E)}function A(E){return(1-E)*(1-E)}function M(E,j,k,O,U,R){return function(N){var F=_(N),I=P(N),Y=A(N);return{x:U*F+k*I+E*Y,y:R*F+O*I+j*Y}}}function B(E,j,k,O,U,R){return function(N){var F=1-N,I=2*F*(k-E)+2*N*(U-k),Y=2*F*(O-j)+2*N*(R-O);return Math.atan2(Y,I)}}function z(E,j,k){var O={x:j,y:k},U,R=0,N;for(N=1;N<=100;N+=1)U=E(N/100),R+=h(O.x,O.y,U.x,U.y),O=U;return R}function Z(E,j){for(var k=0,O=0,U=E.iterator,R={x:E.x,y:E.y},N,F,I=.01,Y=E.angleFinder,W;O<j&&I>1e-4;)N=U(k),W=k,F=h(R.x,R.y,N.x,N.y),F+O>j?(k-=I,I/=2):(R=N,k+=I,O+=F);return N.angle=Y(W),N}function L(E){for(var j=0,k=E.length,O,U=0,R=0,N=0,F=0,I=[],Y,W,q,ee=0;ee<k;ee++){switch(O=E[ee],W={x:U,y:R,command:O[0]},O[0]){case"M":W.length=0,N=U=O[1],F=R=O[2];break;case"L":W.length=h(U,R,O[1],O[2]),U=O[1],R=O[2];break;case"C":Y=S(U,R,O[1],O[2],O[3],O[4],O[5],O[6]),q=T(U,R,O[1],O[2],O[3],O[4],O[5],O[6]),W.iterator=Y,W.angleFinder=q,W.length=z(Y,U,R),U=O[5],R=O[6];break;case"Q":Y=M(U,R,O[1],O[2],O[3],O[4]),q=B(U,R,O[1],O[2],O[3],O[4]),W.iterator=Y,W.angleFinder=q,W.length=z(Y,U,R),U=O[3],R=O[4];break;case"Z":case"z":W.destX=N,W.destY=F,W.length=h(U,R,N,F),U=N,R=F;break}j+=W.length,I.push(W)}return I.push({length:j,x:U,y:R}),I}function $(E,j,k){k||(k=L(E));for(var O=0;j-k[O].length>0&&O<k.length-2;)j-=k[O].length,O++;var U=k[O],R=j/U.length,N=U.command,F=E[O],I;switch(N){case"M":return{x:U.x,y:U.y,angle:0};case"Z":case"z":return I=new t.Point(U.x,U.y).lerp(new t.Point(U.destX,U.destY),R),I.angle=Math.atan2(U.destY-U.y,U.destX-U.x),I;case"L":return I=new t.Point(U.x,U.y).lerp(new t.Point(F[1],F[2]),R),I.angle=Math.atan2(F[2]-U.y,F[1]-U.x),I;case"C":return Z(U,j);case"Q":return Z(U,j)}}function Q(E){var j=[],k=[],O,U,R=t.rePathCommand,N="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",F="("+N+")"+t.commaWsp,I="([01])"+t.commaWsp+"?",Y=F+"?"+F+"?"+F+I+I+F+"?("+N+")",W=new RegExp(Y,"g"),q,ee,ie;if(!E||!E.match)return j;ie=E.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var X=0,V,H=ie.length;X<H;X++){O=ie[X],ee=O.slice(1).trim(),k.length=0;var J=O.charAt(0);if(V=[J],J.toLowerCase()==="a")for(var K;K=W.exec(ee);)for(var te=1;te<K.length;te++)k.push(K[te]);else for(;q=R.exec(ee);)k.push(q[0]);for(var te=0,se=k.length;te<se;te++)U=parseFloat(k[te]),isNaN(U)||V.push(U);var ve=s[J.toLowerCase()],he=l[J]||J;if(V.length-1>ve)for(var re=1,me=V.length;re<me;re+=ve)j.push([J].concat(V.slice(re,re+ve))),J=he;else j.push(V)}return j}function G(E,j){var k=[],O,U=new t.Point(E[0].x,E[0].y),R=new t.Point(E[1].x,E[1].y),N=E.length,F=1,I=0,Y=N>2;for(j=j||0,Y&&(F=E[2].x<R.x?-1:E[2].x===R.x?0:1,I=E[2].y<R.y?-1:E[2].y===R.y?0:1),k.push(["M",U.x-F*j,U.y-I*j]),O=1;O<N;O++){if(!U.eq(R)){var W=U.midPointFrom(R);k.push(["Q",U.x,U.y,W.x,W.y])}U=E[O],O+1<E.length&&(R=E[O+1])}return Y&&(F=U.x>E[O-2].x?1:U.x===E[O-2].x?0:-1,I=U.y>E[O-2].y?1:U.y===E[O-2].y?0:-1),k.push(["L",U.x+F*j,U.y+I*j]),k}function D(E,j,k){return k&&(j=t.util.multiplyTransformMatrices(j,[1,0,0,1,-k.x,-k.y])),E.map(function(O){for(var U=O.slice(0),R={},N=1;N<O.length-1;N+=2)R.x=O[N],R.y=O[N+1],R=t.util.transformPoint(R,j),U[N]=R.x,U[N+1]=R.y;return U})}t.util.joinPath=function(E){return E.map(function(j){return j.join(" ")}).join(" ")},t.util.parsePath=Q,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=G,t.util.getPathSegmentsInfo=L,t.util.getBoundsOfCurve=d,t.util.getPointOnPath=$,t.util.transformPath=D}(),function(){var o=Array.prototype.slice;function s(d,p){for(var g=o.call(arguments,2),h=[],v=0,x=d.length;v<x;v++)h[v]=g.length?d[v][p].apply(d[v],g):d[v][p].call(d[v]);return h}function l(d,p){return c(d,p,function(g,h){return g>=h})}function f(d,p){return c(d,p,function(g,h){return g<h})}function a(d,p){for(var g=d.length;g--;)d[g]=p;return d}function c(d,p,g){if(!(!d||d.length===0)){var h=d.length-1,v=p?d[h][p]:d[h];if(p)for(;h--;)g(d[h][p],v)&&(v=d[h][p]);else for(;h--;)g(d[h],v)&&(v=d[h]);return v}}t.util.array={fill:a,invoke:s,min:f,max:l}}(),function(){function o(l,f,a){if(a)if(!t.isLikelyNode&&f instanceof Element)l=f;else if(f instanceof Array){l=[];for(var c=0,d=f.length;c<d;c++)l[c]=o({},f[c],a)}else if(f&&typeof f=="object")for(var p in f)p==="canvas"||p==="group"?l[p]=null:f.hasOwnProperty(p)&&(l[p]=o({},f[p],a));else l=f;else for(var p in f)l[p]=f[p];return l}function s(l,f){return o({},l,f)}t.util.object={extend:o,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function o(c){return c.replace(/-+(.)?/g,function(d,p){return p?p.toUpperCase():""})}function s(c,d){return c.charAt(0).toUpperCase()+(d?c.slice(1):c.slice(1).toLowerCase())}function l(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(c){var d=0,p,g=[];for(d=0,p;d<c.length;d++)(p=a(c,d))!==!1&&g.push(p);return g}function a(c,d){var p=c.charCodeAt(d);if(isNaN(p))return"";if(p<55296||p>57343)return c.charAt(d);if(55296<=p&&p<=56319){if(c.length<=d+1)throw"High surrogate without following low surrogate";var g=c.charCodeAt(d+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return c.charAt(d)+c.charAt(d+1)}if(d===0)throw"Low surrogate without preceding high surrogate";var h=c.charCodeAt(d-1);if(55296>h||h>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:o,capitalize:s,escapeXml:l,graphemeSplit:f}}(),function(){var o=Array.prototype.slice,s=function(){},l=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),f=function(p,g,h){for(var v in g)v in p.prototype&&typeof p.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?p.prototype[v]=function(x){return function(){var w=this.constructor.superclass;this.constructor.superclass=h;var b=g[x].apply(this,arguments);if(this.constructor.superclass=w,x!=="initialize")return b}}(v):p.prototype[v]=g[v],l&&(g.toString!==Object.prototype.toString&&(p.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=g.valueOf))};function a(){}function c(p){for(var g=null,h=this;h.constructor.superclass;){var v=h.constructor.superclass.prototype[p];if(h[p]!==v){g=v;break}h=h.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,o.call(arguments,1)):g.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}function d(){var p=null,g=o.call(arguments,0);typeof g[0]=="function"&&(p=g.shift());function h(){this.initialize.apply(this,arguments)}h.superclass=p,h.subclasses=[],p&&(a.prototype=p.prototype,h.prototype=new a,p.subclasses.push(h));for(var v=0,x=g.length;v<x;v++)f(h,g[v],p);return h.prototype.initialize||(h.prototype.initialize=s),h.prototype.constructor=h,h.prototype.callSuper=c,h}t.util.createClass=d}(),function(){var o=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(f,a,c,d){f&&f.addEventListener(a,c,o?!1:d)},t.util.removeListener=function(f,a,c,d){f&&f.removeEventListener(a,c,o?!1:d)};function l(f){var a=f.changedTouches;return a&&a[0]?a[0]:f}t.util.getPointer=function(f){var a=f.target,c=t.util.getScrollLeftTop(a),d=l(f);return{x:d.clientX+c.left,y:d.clientY+c.top}},t.util.isTouchEvent=function(f){return s.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function o(d,p){var g=d.style;if(!g)return d;if(typeof p=="string")return d.style.cssText+=";"+p,p.indexOf("opacity")>-1?c(d,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):d;for(var h in p)if(h==="opacity")c(d,p[h]);else{var v=h==="float"||h==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":h;g.setProperty(v,p[h])}return d}var s=t.document.createElement("div"),l=typeof s.style.opacity=="string",f=typeof s.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(d){return d};l?c=function(d,p){return d.style.opacity=p,d}:f&&(c=function(d,p){var g=d.style;return d.currentStyle&&!d.currentStyle.hasLayout&&(g.zoom=1),a.test(g.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",g.filter=g.filter.replace(a,p)):g.filter+=" alpha(opacity="+p*100+")",d}),t.util.setStyle=o}(),function(){var o=Array.prototype.slice;function s(b){return typeof b=="string"?t.document.getElementById(b):b}var l,f=function(b){return o.call(b,0)};try{l=f(t.document.childNodes)instanceof Array}catch{}l||(f=function(b){for(var S=new Array(b.length),T=b.length;T--;)S[T]=b[T];return S});function a(b,S){var T=t.document.createElement(b);for(var _ in S)_==="class"?T.className=S[_]:_==="for"?T.htmlFor=S[_]:T.setAttribute(_,S[_]);return T}function c(b,S){b&&(" "+b.className+" ").indexOf(" "+S+" ")===-1&&(b.className+=(b.className?" ":"")+S)}function d(b,S,T){return typeof S=="string"&&(S=a(S,T)),b.parentNode&&b.parentNode.replaceChild(S,b),S.appendChild(b),S}function p(b){for(var S=0,T=0,_=t.document.documentElement,P=t.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===t.document?(S=P.scrollLeft||_.scrollLeft||0,T=P.scrollTop||_.scrollTop||0):(S+=b.scrollLeft||0,T+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:S,top:T}}function g(b){var S,T=b&&b.ownerDocument,_={left:0,top:0},P={left:0,top:0},A,M={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!T)return P;for(var B in M)P[M[B]]+=parseInt(h(b,B),10)||0;return S=T.documentElement,typeof b.getBoundingClientRect<"u"&&(_=b.getBoundingClientRect()),A=p(b),{left:_.left+A.left-(S.clientLeft||0)+P.left,top:_.top+A.top-(S.clientTop||0)+P.top}}var h;t.document.defaultView&&t.document.defaultView.getComputedStyle?h=function(b,S){var T=t.document.defaultView.getComputedStyle(b,null);return T?T[S]:void 0}:h=function(b,S){var T=b.style[S];return!T&&b.currentStyle&&(T=b.currentStyle[S]),T},function(){var b=t.document.documentElement.style,S="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function T(P){return typeof P.onselectstart<"u"&&(P.onselectstart=t.util.falseFunction),S?P.style[S]="none":typeof P.unselectable=="string"&&(P.unselectable="on"),P}function _(P){return typeof P.onselectstart<"u"&&(P.onselectstart=null),S?P.style[S]="":typeof P.unselectable=="string"&&(P.unselectable=""),P}t.util.makeElementUnselectable=T,t.util.makeElementSelectable=_}();function v(b){var S=t.jsdomImplForWrapper(b);return S._canvas||S._image}function x(b){if(t.isLikelyNode){var S=t.jsdomImplForWrapper(b);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function w(b,S){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=S}t.util.setImageSmoothing=w,t.util.getById=s,t.util.toArray=f,t.util.addClass=c,t.util.makeElement=a,t.util.wrapElement=d,t.util.getScrollLeftTop=p,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=x}(),function(){function o(f,a){return f+(/\?/.test(f)?"&":"?")+a}function s(){}function l(f,a){a||(a={});var c=a.method?a.method.toUpperCase():"GET",d=a.onComplete||function(){},p=new t.window.XMLHttpRequest,g=a.body||a.parameters;return p.onreadystatechange=function(){p.readyState===4&&(d(p),p.onreadystatechange=s)},c==="GET"&&(g=null,typeof a.parameters=="string"&&(f=o(f,a.parameters))),p.open(c,f,!0),(c==="POST"||c==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(g),p}t.util.request=l}(),t.log=console.log,t.warn=console.warn,function(){var o=t.util.object.extend,s=t.util.object.clone,l=[];t.util.object.extend(l,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(x){x.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var x=this.filter(function(w){return typeof w.target=="object"&&w.target.canvas===v});return x.forEach(function(w){w.cancel()}),x},cancelByTarget:function(v){var x=this.findAnimationsByTarget(v);return x.forEach(function(w){w.cancel()}),x},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(x){return x.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(x){return x.target===v}):[]}});function f(){return!1}function a(v,x,w,b){return-w*Math.cos(v/b*(Math.PI/2))+w+x}function c(v){v||(v={});var x=!1,w,b=function(){var S=t.runningAnimations.indexOf(w);return S>-1&&t.runningAnimations.splice(S,1)[0]};return w=o(s(v),{cancel:function(){return x=!0,b()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(w),g(function(S){var T=S||+new Date,_=v.duration||500,P=T+_,A,M=v.onChange||f,B=v.abort||f,z=v.onComplete||f,Z=v.easing||a,L="startValue"in v?v.startValue.length>0:!1,$="startValue"in v?v.startValue:0,Q="endValue"in v?v.endValue:100,G=v.byValue||(L?$.map(function(D,E){return Q[E]-$[E]}):Q-$);v.onStart&&v.onStart(),function D(E){A=E||+new Date;var j=A>P?_:A-T,k=j/_,O=L?$.map(function(R,N){return Z(j,$[N],G[N],_)}):Z(j,$,G,_),U=Math.abs(L?(O[0]-$[0])/G[0]:(O-$)/G);if(w.currentValue=L?O.slice():O,w.completionRate=U,w.durationRate=k,!x){if(B(O,U,k)){b();return}if(A>P){w.currentValue=L?Q.slice():Q,w.completionRate=1,w.durationRate=1,M(L?Q.slice():Q,1,1),z(Q,1,1),b();return}else M(O,U,k),g(D)}}(T)}),w.cancel}var d=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},p=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return d.apply(t.window,arguments)}function h(){return p.apply(t.window,arguments)}t.util.animate=c,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=h,t.runningAnimations=l}(),function(){function o(l,f,a){var c="rgba("+parseInt(l[0]+a*(f[0]-l[0]),10)+","+parseInt(l[1]+a*(f[1]-l[1]),10)+","+parseInt(l[2]+a*(f[2]-l[2]),10);return c+=","+(l&&f?parseFloat(l[3]+a*(f[3]-l[3])):1),c+=")",c}function s(l,f,a,c){var d=new t.Color(l).getSource(),p=new t.Color(f).getSource(),g=c.onComplete,h=c.onChange;return c=c||{},t.util.animate(t.util.object.extend(c,{duration:a||500,startValue:d,endValue:p,byValue:p,easing:function(v,x,w,b){var S=c.colorEasing?c.colorEasing(v,b):1-Math.cos(v/b*(Math.PI/2));return o(x,w,S)},onComplete:function(v,x,w){if(g)return g(o(p,p,0),x,w)},onChange:function(v,x,w){if(h){if(Array.isArray(v))return h(o(v,v,0),x,w);h(v,x,w)}}}))}t.util.animateColor=s}(),function(){function o(E,j,k,O){return E<Math.abs(j)?(E=j,O=k/4):j===0&&E===0?O=k/(2*Math.PI)*Math.asin(1):O=k/(2*Math.PI)*Math.asin(j/E),{a:E,c:j,p:k,s:O}}function s(E,j,k){return E.a*Math.pow(2,10*(j-=1))*Math.sin((j*k-E.s)*(2*Math.PI)/E.p)}function l(E,j,k,O){return k*((E=E/O-1)*E*E+1)+j}function f(E,j,k,O){return E/=O/2,E<1?k/2*E*E*E+j:k/2*((E-=2)*E*E+2)+j}function a(E,j,k,O){return k*(E/=O)*E*E*E+j}function c(E,j,k,O){return-k*((E=E/O-1)*E*E*E-1)+j}function d(E,j,k,O){return E/=O/2,E<1?k/2*E*E*E*E+j:-k/2*((E-=2)*E*E*E-2)+j}function p(E,j,k,O){return k*(E/=O)*E*E*E*E+j}function g(E,j,k,O){return k*((E=E/O-1)*E*E*E*E+1)+j}function h(E,j,k,O){return E/=O/2,E<1?k/2*E*E*E*E*E+j:k/2*((E-=2)*E*E*E*E+2)+j}function v(E,j,k,O){return-k*Math.cos(E/O*(Math.PI/2))+k+j}function x(E,j,k,O){return k*Math.sin(E/O*(Math.PI/2))+j}function w(E,j,k,O){return-k/2*(Math.cos(Math.PI*E/O)-1)+j}function b(E,j,k,O){return E===0?j:k*Math.pow(2,10*(E/O-1))+j}function S(E,j,k,O){return E===O?j+k:k*(-Math.pow(2,-10*E/O)+1)+j}function T(E,j,k,O){return E===0?j:E===O?j+k:(E/=O/2,E<1?k/2*Math.pow(2,10*(E-1))+j:k/2*(-Math.pow(2,-10*--E)+2)+j)}function _(E,j,k,O){return-k*(Math.sqrt(1-(E/=O)*E)-1)+j}function P(E,j,k,O){return k*Math.sqrt(1-(E=E/O-1)*E)+j}function A(E,j,k,O){return E/=O/2,E<1?-k/2*(Math.sqrt(1-E*E)-1)+j:k/2*(Math.sqrt(1-(E-=2)*E)+1)+j}function M(E,j,k,O){var U=1.70158,R=0,N=k;if(E===0)return j;if(E/=O,E===1)return j+k;R||(R=O*.3);var F=o(N,k,R,U);return-s(F,E,O)+j}function B(E,j,k,O){var U=1.70158,R=0,N=k;if(E===0)return j;if(E/=O,E===1)return j+k;R||(R=O*.3);var F=o(N,k,R,U);return F.a*Math.pow(2,-10*E)*Math.sin((E*O-F.s)*(2*Math.PI)/F.p)+F.c+j}function z(E,j,k,O){var U=1.70158,R=0,N=k;if(E===0)return j;if(E/=O/2,E===2)return j+k;R||(R=O*(.3*1.5));var F=o(N,k,R,U);return E<1?-.5*s(F,E,O)+j:F.a*Math.pow(2,-10*(E-=1))*Math.sin((E*O-F.s)*(2*Math.PI)/F.p)*.5+F.c+j}function Z(E,j,k,O,U){return U===void 0&&(U=1.70158),k*(E/=O)*E*((U+1)*E-U)+j}function L(E,j,k,O,U){return U===void 0&&(U=1.70158),k*((E=E/O-1)*E*((U+1)*E+U)+1)+j}function $(E,j,k,O,U){return U===void 0&&(U=1.70158),E/=O/2,E<1?k/2*(E*E*(((U*=1.525)+1)*E-U))+j:k/2*((E-=2)*E*(((U*=1.525)+1)*E+U)+2)+j}function Q(E,j,k,O){return k-G(O-E,0,k,O)+j}function G(E,j,k,O){return(E/=O)<1/2.75?k*(7.5625*E*E)+j:E<2/2.75?k*(7.5625*(E-=1.5/2.75)*E+.75)+j:E<2.5/2.75?k*(7.5625*(E-=2.25/2.75)*E+.9375)+j:k*(7.5625*(E-=2.625/2.75)*E+.984375)+j}function D(E,j,k,O){return E<O/2?Q(E*2,0,k,O)*.5+j:G(E*2-O,0,k,O)*.5+k*.5+j}t.util.ease={easeInQuad:function(E,j,k,O){return k*(E/=O)*E+j},easeOutQuad:function(E,j,k,O){return-k*(E/=O)*(E-2)+j},easeInOutQuad:function(E,j,k,O){return E/=O/2,E<1?k/2*E*E+j:-k/2*(--E*(E-2)-1)+j},easeInCubic:function(E,j,k,O){return k*(E/=O)*E*E+j},easeOutCubic:l,easeInOutCubic:f,easeInQuart:a,easeOutQuart:c,easeInOutQuart:d,easeInQuint:p,easeOutQuint:g,easeInOutQuint:h,easeInSine:v,easeOutSine:x,easeInOutSine:w,easeInExpo:b,easeOutExpo:S,easeInOutExpo:T,easeInCirc:_,easeOutCirc:P,easeInOutCirc:A,easeInElastic:M,easeOutElastic:B,easeInOutElastic:z,easeInBack:Z,easeOutBack:L,easeInOutBack:$,easeInBounce:Q,easeOutBounce:G,easeInOutBounce:D}}(),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.util.object.clone,a=s.util.toFixed,c=s.util.parseUnit,d=s.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],h=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],x={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},w={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",S="clip-path";s.svgValidTagNamesRegEx=P(p),s.svgViewBoxElementsRegEx=P(g),s.svgInvalidAncestorsRegEx=P(h),s.svgValidParentsRegEx=P(v),s.cssRules={},s.gradientDefs={},s.clipPaths={};function T(R){return R in x?x[R]:R}function _(R,N,F,I){var Y=Array.isArray(N),W;if((R==="fill"||R==="stroke")&&N==="none")N="";else{if(R==="strokeUniform")return N==="non-scaling-stroke";if(R==="strokeDashArray")N==="none"?N=null:N=N.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")F&&F.transformMatrix?N=d(F.transformMatrix,s.parseTransformAttribute(N)):N=s.parseTransformAttribute(N);else if(R==="visible")N=N!=="none"&&N!=="hidden",F&&F.visible===!1&&(N=!1);else if(R==="opacity")N=parseFloat(N),F&&typeof F.opacity<"u"&&(N*=F.opacity);else if(R==="textAnchor")N=N==="start"?"left":N==="end"?"right":"center";else if(R==="charSpacing")W=c(N,I)/I*1e3;else if(R==="paintFirst"){var q=N.indexOf("fill"),ee=N.indexOf("stroke"),N="fill";(q>-1&&ee>-1&&ee<q||q===-1&&ee>-1)&&(N="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return N;if(R==="imageSmoothing")return N==="optimizeQuality";W=Y?N.map(c):c(N,I)}}return!Y&&isNaN(W)?N:W}function P(R){return new RegExp("^("+R.join("|")+")\\b","i")}function A(R){for(var N in w)if(!(typeof R[w[N]]>"u"||R[N]==="")){if(typeof R[N]>"u"){if(!s.Object.prototype[N])continue;R[N]=s.Object.prototype[N]}if(R[N].indexOf("url(")!==0){var F=new s.Color(R[N]);R[N]=F.setAlpha(a(F.getAlpha()*R[w[N]],2)).toRgba()}}return R}function M(R,N){var F,I=[],Y,W,q;for(W=0,q=N.length;W<q;W++)F=N[W],Y=R.getElementsByTagName(F),I=I.concat(Array.prototype.slice.call(Y));return I}s.parseTransformAttribute=function(){function R(re,me){var be=s.util.cos(me[0]),_e=s.util.sin(me[0]),Ve=0,Oe=0;me.length===3&&(Ve=me[1],Oe=me[2]),re[0]=be,re[1]=_e,re[2]=-_e,re[3]=be,re[4]=Ve-(be*Ve-_e*Oe),re[5]=Oe-(_e*Ve+be*Oe)}function N(re,me){var be=me[0],_e=me.length===2?me[1]:me[0];re[0]=be,re[3]=_e}function F(re,me,be){re[be]=Math.tan(s.util.degreesToRadians(me[0]))}function I(re,me){re[4]=me[0],me.length===2&&(re[5]=me[1])}var Y=s.iMatrix,W=s.reNum,q=s.commaWsp,ee="(?:(skewX)\\s*\\(\\s*("+W+")\\s*\\))",ie="(?:(skewY)\\s*\\(\\s*("+W+")\\s*\\))",X="(?:(rotate)\\s*\\(\\s*("+W+")(?:"+q+"("+W+")"+q+"("+W+"))?\\s*\\))",V="(?:(scale)\\s*\\(\\s*("+W+")(?:"+q+"("+W+"))?\\s*\\))",H="(?:(translate)\\s*\\(\\s*("+W+")(?:"+q+"("+W+"))?\\s*\\))",J="(?:(matrix)\\s*\\(\\s*("+W+")"+q+"("+W+")"+q+"("+W+")"+q+"("+W+")"+q+"("+W+")"+q+"("+W+")\\s*\\))",K="(?:"+J+"|"+H+"|"+V+"|"+X+"|"+ee+"|"+ie+")",te="(?:"+K+"(?:"+q+"*"+K+")*)",se="^\\s*(?:"+te+"?)\\s*$",ve=new RegExp(se),he=new RegExp(K,"g");return function(re){var me=Y.concat(),be=[];if(!re||re&&!ve.test(re))return me;re.replace(he,function(Ve){var Oe=new RegExp(K).exec(Ve).filter(function(di){return!!di}),bt=Oe[1],Je=Oe.slice(2).map(parseFloat);switch(bt){case"translate":I(me,Je);break;case"rotate":Je[0]=s.util.degreesToRadians(Je[0]),R(me,Je);break;case"scale":N(me,Je);break;case"skewX":F(me,Je,2);break;case"skewY":F(me,Je,1);break;case"matrix":me=Je;break}be.push(me.concat()),me=Y.concat()});for(var _e=be[0];be.length>1;)be.shift(),_e=s.util.multiplyTransformMatrices(_e,be[0]);return _e}}();function B(R,N){var F,I;R.replace(/;\s*$/,"").split(";").forEach(function(Y){var W=Y.split(":");F=W[0].trim().toLowerCase(),I=W[1].trim(),N[F]=I})}function z(R,N){var F,I;for(var Y in R)typeof R[Y]>"u"||(F=Y.toLowerCase(),I=R[Y],N[F]=I)}function Z(R,N){var F={};for(var I in s.cssRules[N])if(L(R,I.split(" ")))for(var Y in s.cssRules[N][I])F[Y]=s.cssRules[N][I][Y];return F}function L(R,N){var F,I=!0;return F=Q(R,N.pop()),F&&N.length&&(I=$(R,N)),F&&I&&N.length===0}function $(R,N){for(var F,I=!0;R.parentNode&&R.parentNode.nodeType===1&&N.length;)I&&(F=N.pop()),R=R.parentNode,I=Q(R,F);return N.length===0}function Q(R,N){var F=R.nodeName,I=R.getAttribute("class"),Y=R.getAttribute("id"),W,q;if(W=new RegExp("^"+F,"i"),N=N.replace(W,""),Y&&N.length&&(W=new RegExp("#"+Y+"(?![a-zA-Z\\-]+)","i"),N=N.replace(W,"")),I&&N.length)for(I=I.split(" "),q=I.length;q--;)W=new RegExp("\\."+I[q]+"(?![a-zA-Z\\-]+)","i"),N=N.replace(W,"");return N.length===0}function G(R,N){var F;if(R.getElementById&&(F=R.getElementById(N)),F)return F;var I,Y,W,q=R.getElementsByTagName("*");for(Y=0,W=q.length;Y<W;Y++)if(I=q[Y],N===I.getAttribute("id"))return I}function D(R){for(var N=M(R,["use","svg:use"]),F=0;N.length&&F<N.length;){var I=N[F],Y=I.getAttribute("xlink:href")||I.getAttribute("href");if(Y===null)return;var W=Y.slice(1),q=I.getAttribute("x")||0,ee=I.getAttribute("y")||0,ie=G(R,W).cloneNode(!0),X=(ie.getAttribute("transform")||"")+" translate("+q+", "+ee+")",V,H=N.length,J,K,te,se,ve=s.svgNS;if(j(ie),/^svg$/i.test(ie.nodeName)){var he=ie.ownerDocument.createElementNS(ve,"g");for(K=0,te=ie.attributes,se=te.length;K<se;K++)J=te.item(K),he.setAttributeNS(ve,J.nodeName,J.nodeValue);for(;ie.firstChild;)he.appendChild(ie.firstChild);ie=he}for(K=0,te=I.attributes,se=te.length;K<se;K++)J=te.item(K),!(J.nodeName==="x"||J.nodeName==="y"||J.nodeName==="xlink:href"||J.nodeName==="href")&&(J.nodeName==="transform"?X=J.nodeValue+" "+X:ie.setAttribute(J.nodeName,J.nodeValue));ie.setAttribute("transform",X),ie.setAttribute("instantiated_by_use","1"),ie.removeAttribute("id"),V=I.parentNode,V.replaceChild(ie,I),N.length===H&&F++}}var E=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function j(R){if(!s.svgViewBoxElementsRegEx.test(R.nodeName))return{};var N=R.getAttribute("viewBox"),F=1,I=1,Y=0,W=0,q,ee,ie,X,V=R.getAttribute("width"),H=R.getAttribute("height"),J=R.getAttribute("x")||0,K=R.getAttribute("y")||0,te=R.getAttribute("preserveAspectRatio")||"",se=!N||!(N=N.match(E)),ve=!V||!H||V==="100%"||H==="100%",he=se&&ve,re={},me="",be=0,_e=0;if(re.width=0,re.height=0,re.toBeParsed=he,se&&(J||K)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(me=" translate("+c(J)+" "+c(K)+") ",ie=(R.getAttribute("transform")||"")+me,R.setAttribute("transform",ie),R.removeAttribute("x"),R.removeAttribute("y")),he)return re;if(se)return re.width=c(V),re.height=c(H),re;if(Y=-parseFloat(N[1]),W=-parseFloat(N[2]),q=parseFloat(N[3]),ee=parseFloat(N[4]),re.minX=Y,re.minY=W,re.viewBoxWidth=q,re.viewBoxHeight=ee,ve?(re.width=q,re.height=ee):(re.width=c(V),re.height=c(H),F=re.width/q,I=re.height/ee),te=s.util.parsePreserveAspectRatioAttribute(te),te.alignX!=="none"&&(te.meetOrSlice==="meet"&&(I=F=F>I?I:F),te.meetOrSlice==="slice"&&(I=F=F>I?F:I),be=re.width-q*F,_e=re.height-ee*F,te.alignX==="Mid"&&(be/=2),te.alignY==="Mid"&&(_e/=2),te.alignX==="Min"&&(be=0),te.alignY==="Min"&&(_e=0)),F===1&&I===1&&Y===0&&W===0&&J===0&&K===0)return re;if((J||K)&&R.parentNode.nodeName!=="#document"&&(me=" translate("+c(J)+" "+c(K)+") "),ie=me+" matrix("+F+" 0 0 "+I+" "+(Y*F+be)+" "+(W*I+_e)+") ",R.nodeName==="svg"){for(X=R.ownerDocument.createElementNS(s.svgNS,"g");R.firstChild;)X.appendChild(R.firstChild);R.appendChild(X)}else X=R,X.removeAttribute("x"),X.removeAttribute("y"),ie=X.getAttribute("transform")+ie;return X.setAttribute("transform",ie),re}function k(R,N){for(;R&&(R=R.parentNode);)if(R.nodeName&&N.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(R,N,F,I){if(R){D(R);var Y=s.Object.__uid++,W,q,ee=j(R),ie=s.util.toArray(R.getElementsByTagName("*"));if(ee.crossOrigin=I&&I.crossOrigin,ee.svgUid=Y,ie.length===0&&s.isLikelyNode){ie=R.selectNodes('//*[name(.)!="svg"]');var X=[];for(W=0,q=ie.length;W<q;W++)X[W]=ie[W];ie=X}var V=ie.filter(function(J){return j(J),s.svgValidTagNamesRegEx.test(J.nodeName.replace("svg:",""))&&!k(J,s.svgInvalidAncestorsRegEx)});if(!V||V&&!V.length){N&&N([],{});return}var H={};ie.filter(function(J){return J.nodeName.replace("svg:","")==="clipPath"}).forEach(function(J){var K=J.getAttribute("id");H[K]=s.util.toArray(J.getElementsByTagName("*")).filter(function(te){return s.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))})}),s.gradientDefs[Y]=s.getGradientDefs(R),s.cssRules[Y]=s.getCSSRules(R),s.clipPaths[Y]=H,s.parseElements(V,function(J,K){N&&(N(J,ee,K,ie),delete s.gradientDefs[Y],delete s.cssRules[Y],delete s.clipPaths[Y])},f(ee),F,I)}};function O(R,N){var F=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],I="xlink:href",Y=N.getAttribute(I).slice(1),W=G(R,Y);if(W&&W.getAttribute(I)&&O(R,W),F.forEach(function(ee){W&&!N.hasAttribute(ee)&&W.hasAttribute(ee)&&N.setAttribute(ee,W.getAttribute(ee))}),!N.children.length)for(var q=W.cloneNode(!0);q.firstChild;)N.appendChild(q.firstChild);N.removeAttribute(I)}var U=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");l(s,{parseFontDeclaration:function(R,N){var F=R.match(U);if(F){var I=F[1],Y=F[3],W=F[4],q=F[5],ee=F[6];I&&(N.fontStyle=I),Y&&(N.fontWeight=isNaN(parseFloat(Y))?Y:parseFloat(Y)),W&&(N.fontSize=c(W)),ee&&(N.fontFamily=ee),q&&(N.lineHeight=q==="normal"?1:q)}},getGradientDefs:function(R){var N=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],F=M(R,N),I,Y=0,W={};for(Y=F.length;Y--;)I=F[Y],I.getAttribute("xlink:href")&&O(R,I),W[I.getAttribute("id")]=I;return W},parseAttributes:function(R,N,F){if(R){var I,Y={},W,q;typeof F>"u"&&(F=R.getAttribute("svgUid")),R.parentNode&&s.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(Y=s.parseAttributes(R.parentNode,N,F));var ee=N.reduce(function(te,se){return I=R.getAttribute(se),I&&(te[se]=I),te},{}),ie=l(Z(R,F),s.parseStyleAttribute(R));ee=l(ee,ie),ie[S]&&R.setAttribute(S,ie[S]),W=q=Y.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,ee[b]&&(ee[b]=W=c(ee[b],q));var X,V,H={};for(var J in ee)X=T(J),V=_(X,ee[J],Y,W),H[X]=V;H&&H.font&&s.parseFontDeclaration(H.font,H);var K=l(Y,H);return s.svgValidParentsRegEx.test(R.nodeName)?K:A(K)}},parseElements:function(R,N,F,I,Y){new s.ElementsParser(R,N,F,I,Y).parse()},parseStyleAttribute:function(R){var N={},F=R.getAttribute("style");return F&&(typeof F=="string"?B(F,N):z(F,N)),N},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var N=[],F,I;for(F=0,I=R.length;F<I;F+=2)N.push({x:parseFloat(R[F]),y:parseFloat(R[F+1])});return N},getCSSRules:function(R){var N=R.getElementsByTagName("style"),F,I,Y={},W;for(F=0,I=N.length;F<I;F++){var q=N[F].textContent;q=q.replace(/\/\*[\s\S]*?\*\//g,""),q.trim()!==""&&(W=q.split("}"),W=W.filter(function(ee){return ee.trim()}),W.forEach(function(ee){var ie=ee.split("{"),X={},V=ie[1].trim(),H=V.split(";").filter(function(se){return se.trim()});for(F=0,I=H.length;F<I;F++){var J=H[F].split(":"),K=J[0].trim(),te=J[1].trim();X[K]=te}ee=ie[0].trim(),ee.split(",").forEach(function(se){se=se.replace(/^svg/i,"").trim(),se!==""&&(Y[se]?s.util.object.extend(Y[se],X):Y[se]=s.util.object.clone(X))})}))}return Y},loadSVGFromURL:function(R,N,F,I){R=R.replace(/^\n\s*/,"").trim(),new s.util.request(R,{method:"get",onComplete:Y});function Y(W){var q=W.responseXML;if(!q||!q.documentElement)return N&&N(null),!1;s.parseSVGDocument(q.documentElement,function(ee,ie,X,V){N&&N(ee,ie,X,V)},F,I)}},loadSVGFromString:function(R,N,F,I){var Y=new s.window.DOMParser,W=Y.parseFromString(R.trim(),"text/xml");s.parseSVGDocument(W.documentElement,function(q,ee,ie,X){N(q,ee,ie,X)},F,I)}})}(e),t.ElementsParser=function(o,s,l,f,a,c){this.elements=o,this.callback=s,this.options=l,this.reviver=f,this.svgUid=l&&l.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(o){o.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var s=this;this.elements.forEach(function(l,f){l.setAttribute("svgUid",s.svgUid),s.createObject(l,f)})},o.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},o.createObject=function(s,l){var f=this.findTag(s);if(f&&f.fromElement)try{f.fromElement(s,this.createCallback(l,s),this.options)}catch(a){t.log(a)}else this.checkIfDone()},o.createCallback=function(s,l){var f=this;return function(a){var c;f.resolveGradient(a,l,"fill"),f.resolveGradient(a,l,"stroke"),a instanceof t.Image&&a._originalElement&&(c=a.parsePreserveAspectRatioAttribute(l)),a._removeTransformMatrix(c),f.resolveClipPath(a,l),f.reviver&&f.reviver(l,a),f.instances[s]=a,f.checkIfDone()}},o.extractPropertyDefinition=function(s,l,f){var a=s[l],c=this.regexUrl;if(c.test(a)){c.lastIndex=0;var d=c.exec(a)[1];return c.lastIndex=0,t[f][this.svgUid][d]}},o.resolveGradient=function(s,l,f){var a=this.extractPropertyDefinition(s,f,"gradientDefs");if(a){var c=l.getAttribute(f+"-opacity"),d=t.Gradient.fromElement(a,s,c,this.options);s.set(f,d)}},o.createClipPathCallback=function(s,l){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,l.push(f)}},o.resolveClipPath=function(s,l){var f=this.extractPropertyDefinition(s,"clipPath","clipPaths"),a,c,d,p,g,h;if(f){p=[],d=t.util.invertTransform(s.calcTransformMatrix());for(var v=f[0].parentNode,x=l;x.parentNode&&x.getAttribute("clip-path")!==s.clipPath;)x=x.parentNode;x.parentNode.appendChild(v);for(var w=0;w<f.length;w++)a=f[w],c=this.findTag(a),c.fromElement(a,this.createClipPathCallback(s,p),this.options);p.length===1?f=p[0]:f=new t.Group(p),g=t.util.multiplyTransformMatrices(d,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,x);var h=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",h.scaleX),f.set("scaleY",h.scaleY),f.angle=h.angle,f.skewX=h.skewX,f.skewY=0,f.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),s.clipPath=f}else delete s.clipPath},o.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(o){var s=o.fabric||(o.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=l;function l(f,a){this.x=f,this.y=a}l.prototype={type:"point",constructor:l,add:function(f){return new l(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new l(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new l(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new l(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new l(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new l(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new l(this.x+(f.x-this.x)*a,this.y+(f.y-this.y)*a)},distanceFrom:function(f){var a=this.x-f.x,c=this.y-f.y;return Math.sqrt(a*a+c*c)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new l(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new l(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,a){return this.x=f,this.y=a,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var a=this.x,c=this.y;this.x=f.x,this.y=f.y,f.x=a,f.y=c},clone:function(){return new l(this.x,this.y)}}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function l(f){this.status=f,this.points=[]}s.Intersection=l,s.Intersection.prototype={constructor:l,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},s.Intersection.intersectLineLine=function(f,a,c,d){var p,g=(d.x-c.x)*(f.y-c.y)-(d.y-c.y)*(f.x-c.x),h=(a.x-f.x)*(f.y-c.y)-(a.y-f.y)*(f.x-c.x),v=(d.y-c.y)*(a.x-f.x)-(d.x-c.x)*(a.y-f.y);if(v!==0){var x=g/v,w=h/v;0<=x&&x<=1&&0<=w&&w<=1?(p=new l("Intersection"),p.appendPoint(new s.Point(f.x+x*(a.x-f.x),f.y+x*(a.y-f.y)))):p=new l}else g===0||h===0?p=new l("Coincident"):p=new l("Parallel");return p},s.Intersection.intersectLinePolygon=function(f,a,c){var d=new l,p=c.length,g,h,v,x;for(x=0;x<p;x++)g=c[x],h=c[(x+1)%p],v=l.intersectLineLine(f,a,g,h),d.appendPoints(v.points);return d.points.length>0&&(d.status="Intersection"),d},s.Intersection.intersectPolygonPolygon=function(f,a){var c=new l,d=f.length,p;for(p=0;p<d;p++){var g=f[p],h=f[(p+1)%d],v=l.intersectLinePolygon(g,h,a);c.appendPoints(v.points)}return c.points.length>0&&(c.status="Intersection"),c},s.Intersection.intersectPolygonRectangle=function(f,a,c){var d=a.min(c),p=a.max(c),g=new s.Point(p.x,d.y),h=new s.Point(d.x,p.y),v=l.intersectLinePolygon(d,g,f),x=l.intersectLinePolygon(g,p,f),w=l.intersectLinePolygon(p,h,f),b=l.intersectLinePolygon(h,d,f),S=new l;return S.appendPoints(v.points),S.appendPoints(x.points),S.appendPoints(w.points),S.appendPoints(b.points),S.points.length>0&&(S.status="Intersection"),S}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function l(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}s.Color=l,s.Color.prototype={_tryParsingColor:function(a){var c;a in l.colorNameMap&&(a=l.colorNameMap[a]),a==="transparent"&&(c=[255,255,255,0]),c||(c=l.sourceFromHex(a)),c||(c=l.sourceFromRgb(a)),c||(c=l.sourceFromHsl(a)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(a,c,d){a/=255,c/=255,d/=255;var p,g,h,v=s.util.array.max([a,c,d]),x=s.util.array.min([a,c,d]);if(h=(v+x)/2,v===x)p=g=0;else{var w=v-x;switch(g=h>.5?w/(2-v-x):w/(v+x),v){case a:p=(c-d)/w+(c<d?6:0);break;case c:p=(d-a)/w+2;break;case d:p=(a-c)/w+4;break}p/=6}return[Math.round(p*360),Math.round(g*100),Math.round(h*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),c,d,p;return c=a[0].toString(16),c=c.length===1?"0"+c:c,d=a[1].toString(16),d=d.length===1?"0"+d:d,p=a[2].toString(16),p=p.length===1?"0"+p:p,c.toUpperCase()+d.toUpperCase()+p.toUpperCase()},toHexa:function(){var a=this.getSource(),c;return c=Math.round(a[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var c=this.getSource();return c[3]=a,this.setSource(c),this},toGrayscale:function(){var a=this.getSource(),c=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),d=a[3];return this.setSource([c,c,c,d]),this},toBlackWhite:function(a){var c=this.getSource(),d=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),p=c[3];return a=a||127,d=Number(d)<Number(a)?0:255,this.setSource([d,d,d,p]),this},overlayWith:function(a){a instanceof l||(a=new l(a));var c=[],d=this.getAlpha(),p=.5,g=this.getSource(),h=a.getSource(),v;for(v=0;v<3;v++)c.push(Math.round(g[v]*(1-p)+h[v]*p));return c[3]=d,this.setSource(c),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(a,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?a+(c-a)*6*d:d<1/2?c:d<2/3?a+(c-a)*(2/3-d)*6:a}s.Color.fromRgb=function(a){return l.fromSource(l.sourceFromRgb(a))},s.Color.sourceFromRgb=function(a){var c=a.match(l.reRGBa);if(c){var d=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),p=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),g=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(d,10),parseInt(p,10),parseInt(g,10),c[4]?parseFloat(c[4]):1]}},s.Color.fromRgba=l.fromRgb,s.Color.fromHsl=function(a){return l.fromSource(l.sourceFromHsl(a))},s.Color.sourceFromHsl=function(a){var c=a.match(l.reHSLa);if(c){var d=(parseFloat(c[1])%360+360)%360/360,p=parseFloat(c[2])/(/%$/.test(c[2])?100:1),g=parseFloat(c[3])/(/%$/.test(c[3])?100:1),h,v,x;if(p===0)h=v=x=g;else{var w=g<=.5?g*(p+1):g+p-g*p,b=g*2-w;h=f(b,w,d+1/3),v=f(b,w,d),x=f(b,w,d-1/3)}return[Math.round(h*255),Math.round(v*255),Math.round(x*255),c[4]?parseFloat(c[4]):1]}},s.Color.fromHsla=l.fromHsl,s.Color.fromHex=function(a){return l.fromSource(l.sourceFromHex(a))},s.Color.sourceFromHex=function(a){if(a.match(l.reHex)){var c=a.slice(a.indexOf("#")+1),d=c.length===3||c.length===4,p=c.length===8||c.length===4,g=d?c.charAt(0)+c.charAt(0):c.substring(0,2),h=d?c.charAt(1)+c.charAt(1):c.substring(2,4),v=d?c.charAt(2)+c.charAt(2):c.substring(4,6),x=p?d?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(g,16),parseInt(h,16),parseInt(v,16),parseFloat((parseInt(x,16)/255).toFixed(2))]}},s.Color.fromSource=function(a){var c=new l;return c.setSource(a),c}}(e),function(o){var s=o.fabric||(o.fabric={}),l=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],a={},c="left",d="top",p="right",g="bottom",h="center",v={top:g,bottom:d,left:p,right:c,center:h},x=s.util.radiansToDegrees,w=Math.sign||function(X){return(X>0)-(X<0)||+X};function b(X,V){var H=X.angle+x(Math.atan2(V.y,V.x))+360;return Math.round(H%360/45)}function S(X,V){var H=V.transform.target,J=H.canvas,K=s.util.object.clone(V);K.target=H,J&&J.fire("object:"+X,K),H.fire(X,V)}function T(X,V){var H=V.canvas,J=H.uniScaleKey,K=X[J];return H.uniformScaling&&!K||!H.uniformScaling&&K}function _(X){return X.originX===h&&X.originY===h}function P(X,V,H){var J=X.lockScalingX,K=X.lockScalingY;return!!(J&&K||!V&&(J||K)&&H||J&&V==="x"||K&&V==="y")}function A(X,V,H){var J="not-allowed",K=T(X,H),te="";if(V.x!==0&&V.y===0?te="x":V.x===0&&V.y!==0&&(te="y"),P(H,te,K))return J;var se=b(H,V);return l[se]+"-resize"}function M(X,V,H){var J="not-allowed";if(V.x!==0&&H.lockSkewingY||V.y!==0&&H.lockSkewingX)return J;var K=b(H,V)%4;return f[K]+"-resize"}function B(X,V,H){return X[H.canvas.altActionKey]?a.skewCursorStyleHandler(X,V,H):a.scaleCursorStyleHandler(X,V,H)}function z(X,V,H){var J=X[H.canvas.altActionKey];if(V.x===0)return J?"skewX":"scaleY";if(V.y===0)return J?"skewY":"scaleX"}function Z(X,V,H){return H.lockRotation?"not-allowed":V.cursorStyle}function L(X,V,H,J){return{e:X,transform:V,pointer:{x:H,y:J}}}function $(X){return function(V,H,J,K){var te=H.target,se=te.getCenterPoint(),ve=te.translateToOriginPoint(se,H.originX,H.originY),he=X(V,H,J,K);return te.setPositionByOrigin(ve,H.originX,H.originY),he}}function Q(X,V){return function(H,J,K,te){var se=V(H,J,K,te);return se&&S(X,L(H,J,K,te)),se}}function G(X,V,H,J,K){var te=X.target,se=te.controls[X.corner],ve=te.canvas.getZoom(),he=te.padding/ve,re=te.toLocalPoint(new s.Point(J,K),V,H);return re.x>=he&&(re.x-=he),re.x<=-he&&(re.x+=he),re.y>=he&&(re.y-=he),re.y<=he&&(re.y+=he),re.x-=se.offsetX,re.y-=se.offsetY,re}function D(X){return X.flipX!==X.flipY}function E(X,V,H,J,K){if(X[V]!==0){var te=X._getTransformedDimensions()[J],se=K/te*X[H];X.set(H,se)}}function j(X,V,H,J){var K=V.target,te=K._getTransformedDimensions(0,K.skewY),se=G(V,V.originX,V.originY,H,J),ve=Math.abs(se.x*2)-te.x,he=K.skewX,re;ve<2?re=0:(re=x(Math.atan2(ve/K.scaleX,te.y/K.scaleY)),V.originX===c&&V.originY===g&&(re=-re),V.originX===p&&V.originY===d&&(re=-re),D(K)&&(re=-re));var me=he!==re;if(me){var be=K._getTransformedDimensions().y;K.set("skewX",re),E(K,"skewY","scaleY","y",be)}return me}function k(X,V,H,J){var K=V.target,te=K._getTransformedDimensions(K.skewX,0),se=G(V,V.originX,V.originY,H,J),ve=Math.abs(se.y*2)-te.y,he=K.skewY,re;ve<2?re=0:(re=x(Math.atan2(ve/K.scaleY,te.x/K.scaleX)),V.originX===c&&V.originY===g&&(re=-re),V.originX===p&&V.originY===d&&(re=-re),D(K)&&(re=-re));var me=he!==re;if(me){var be=K._getTransformedDimensions().x;K.set("skewY",re),E(K,"skewX","scaleX","x",be)}return me}function O(X,V,H,J){var K=V.target,te=K.skewX,se,ve=V.originY;if(K.lockSkewingX)return!1;if(te===0){var he=G(V,h,h,H,J);he.x>0?se=c:se=p}else te>0&&(se=ve===d?c:p),te<0&&(se=ve===d?p:c),D(K)&&(se=se===c?p:c);V.originX=se;var re=Q("skewing",$(j));return re(X,V,H,J)}function U(X,V,H,J){var K=V.target,te=K.skewY,se,ve=V.originX;if(K.lockSkewingY)return!1;if(te===0){var he=G(V,h,h,H,J);he.y>0?se=d:se=g}else te>0&&(se=ve===c?d:g),te<0&&(se=ve===c?g:d),D(K)&&(se=se===d?g:d);V.originY=se;var re=Q("skewing",$(k));return re(X,V,H,J)}function R(X,V,H,J){var K=V,te=K.target,se=te.translateToOriginPoint(te.getCenterPoint(),K.originX,K.originY);if(te.lockRotation)return!1;var ve=Math.atan2(K.ey-se.y,K.ex-se.x),he=Math.atan2(J-se.y,H-se.x),re=x(he-ve+K.theta),me=!0;if(te.snapAngle>0){var be=te.snapAngle,_e=te.snapThreshold||be,Ve=Math.ceil(re/be)*be,Oe=Math.floor(re/be)*be;Math.abs(re-Oe)<_e?re=Oe:Math.abs(re-Ve)<_e&&(re=Ve)}return re<0&&(re=360+re),re%=360,me=te.angle!==re,te.angle=re,me}function N(X,V,H,J,K){K=K||{};var te=V.target,se=te.lockScalingX,ve=te.lockScalingY,he=K.by,re,me,be,_e,Ve=T(X,te),Oe=P(te,he,Ve),bt,Je,di=V.gestureScale;if(Oe)return!1;if(di)me=V.scaleX*di,be=V.scaleY*di;else{if(re=G(V,V.originX,V.originY,H,J),bt=he!=="y"?w(re.x):1,Je=he!=="x"?w(re.y):1,V.signX||(V.signX=bt),V.signY||(V.signY=Je),te.lockScalingFlip&&(V.signX!==bt||V.signY!==Je))return!1;if(_e=te._getTransformedDimensions(),Ve&&!he){var Co=Math.abs(re.x)+Math.abs(re.y),_n=V.original,q2=Math.abs(_e.x*_n.scaleX/te.scaleX)+Math.abs(_e.y*_n.scaleY/te.scaleY),Xg=Co/q2;me=_n.scaleX*Xg,be=_n.scaleY*Xg}else me=Math.abs(re.x*te.scaleX/_e.x),be=Math.abs(re.y*te.scaleY/_e.y);_(V)&&(me*=2,be*=2),V.signX!==bt&&he!=="y"&&(V.originX=v[V.originX],me*=-1,V.signX=bt),V.signY!==Je&&he!=="x"&&(V.originY=v[V.originY],be*=-1,V.signY=Je)}var Q2=te.scaleX,J2=te.scaleY;return he?(he==="x"&&te.set("scaleX",me),he==="y"&&te.set("scaleY",be)):(!se&&te.set("scaleX",me),!ve&&te.set("scaleY",be)),Q2!==te.scaleX||J2!==te.scaleY}function F(X,V,H,J){return N(X,V,H,J)}function I(X,V,H,J){return N(X,V,H,J,{by:"x"})}function Y(X,V,H,J){return N(X,V,H,J,{by:"y"})}function W(X,V,H,J){return X[V.target.canvas.altActionKey]?a.skewHandlerX(X,V,H,J):a.scalingY(X,V,H,J)}function q(X,V,H,J){return X[V.target.canvas.altActionKey]?a.skewHandlerY(X,V,H,J):a.scalingX(X,V,H,J)}function ee(X,V,H,J){var K=V.target,te=G(V,V.originX,V.originY,H,J),se=K.strokeWidth/(K.strokeUniform?K.scaleX:1),ve=_(V)?2:1,he=K.width,re=Math.abs(te.x*ve/K.scaleX)-se;return K.set("width",Math.max(re,0)),he!==re}function ie(X,V,H,J){var K=V.target,te=H-V.offsetX,se=J-V.offsetY,ve=!K.get("lockMovementX")&&K.left!==te,he=!K.get("lockMovementY")&&K.top!==se;return ve&&K.set("left",te),he&&K.set("top",se),(ve||he)&&S("moving",L(X,V,H,J)),ve||he}a.scaleCursorStyleHandler=A,a.skewCursorStyleHandler=M,a.scaleSkewCursorStyleHandler=B,a.rotationWithSnapping=Q("rotating",$(R)),a.scalingEqually=Q("scaling",$(F)),a.scalingX=Q("scaling",$(I)),a.scalingY=Q("scaling",$(Y)),a.scalingYOrSkewingX=W,a.scalingXOrSkewingY=q,a.changeWidth=Q("resizing",$(ee)),a.skewHandlerX=O,a.skewHandlerY=U,a.dragHandler=ie,a.scaleOrSkewActionName=z,a.rotationStyleHandler=Z,a.fireEvent=S,a.wrapWithFixedAnchor=$,a.wrapWithFireEvent=Q,a.getLocalPoint=G,s.controlsUtils=a}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.degreesToRadians,f=s.controlsUtils;function a(d,p,g,h,v){h=h||{};var x=this.sizeX||h.cornerSize||v.cornerSize,w=this.sizeY||h.cornerSize||v.cornerSize,b=typeof h.transparentCorners<"u"?h.transparentCorners:v.transparentCorners,S=b?"stroke":"fill",T=!b&&(h.cornerStrokeColor||v.cornerStrokeColor),_=p,P=g,A;d.save(),d.fillStyle=h.cornerColor||v.cornerColor,d.strokeStyle=h.cornerStrokeColor||v.cornerStrokeColor,x>w?(A=x,d.scale(1,w/x),P=g*x/w):w>x?(A=w,d.scale(x/w,1),_=p*w/x):A=x,d.lineWidth=1,d.beginPath(),d.arc(_,P,A/2,0,2*Math.PI,!1),d[S](),T&&d.stroke(),d.restore()}function c(d,p,g,h,v){h=h||{};var x=this.sizeX||h.cornerSize||v.cornerSize,w=this.sizeY||h.cornerSize||v.cornerSize,b=typeof h.transparentCorners<"u"?h.transparentCorners:v.transparentCorners,S=b?"stroke":"fill",T=!b&&(h.cornerStrokeColor||v.cornerStrokeColor),_=x/2,P=w/2;d.save(),d.fillStyle=h.cornerColor||v.cornerColor,d.strokeStyle=h.cornerStrokeColor||v.cornerStrokeColor,d.lineWidth=1,d.translate(p,g),d.rotate(l(v.angle)),d[S+"Rect"](-_,-P,x,w),T&&d.strokeRect(-_,-P,x,w),d.restore()}f.renderCircleControl=a,f.renderSquareControl=c}(e),function(o){var s=o.fabric||(o.fabric={});function l(f){for(var a in f)this[a]=f[a]}s.Control=l,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,a){return a.cursorStyle},getActionName:function(f,a){return a.actionName},getVisibility:function(f,a){var c=f._controlsVisibility;return c&&typeof c[a]<"u"?c[a]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,a){var c=s.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},a);return c},calcCornerCoords:function(f,a,c,d,p){var g,h,v,x,w=p?this.touchSizeX:this.sizeX,b=p?this.touchSizeY:this.sizeY;if(w&&b&&w!==b){var S=Math.atan2(b,w),T=Math.sqrt(w*w+b*b)/2,_=S-s.util.degreesToRadians(f),P=Math.PI/2-S-s.util.degreesToRadians(f);g=T*s.util.cos(_),h=T*s.util.sin(_),v=T*s.util.cos(P),x=T*s.util.sin(P)}else{var A=w&&b?w:a;T=A*.7071067812;var _=s.util.degreesToRadians(45-f);g=v=T*s.util.cos(_),h=x=T*s.util.sin(_)}return{tl:{x:c-x,y:d-v},tr:{x:c+g,y:d-h},bl:{x:c-g,y:d+h},br:{x:c+x,y:d+v}}},render:function(f,a,c,d,p){switch(d=d||{},d.cornerStyle||p.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,f,a,c,d,p);break;default:s.controlsUtils.renderSquareControl.call(this,f,a,c,d,p)}}}}(e),function(){function o(c,d){var p=c.getAttribute("style"),g=c.getAttribute("offset")||0,h,v,x,w;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,p){var b=p.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),w=b.length;w--;){var S=b[w].split(/\s*:\s*/),T=S[0].trim(),_=S[1].trim();T==="stop-color"?h=_:T==="stop-opacity"&&(x=_)}}return h||(h=c.getAttribute("stop-color")||"rgb(0,0,0)"),x||(x=c.getAttribute("stop-opacity")),h=new t.Color(h),v=h.getAlpha(),x=isNaN(parseFloat(x))?1:parseFloat(x),x*=v*d,{offset:g,color:h.toRgb(),opacity:x}}function s(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function l(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var d,p=this;Object.keys(c).forEach(function(g){p[g]=c[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,d={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(d.r1=c.coords.r1||0,d.r2=c.coords.r2||0),this.coords=d,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var d in c){var p=new t.Color(c[d]);this.colorStops.push({offset:parseFloat(d),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(c){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,d,c),d},toSVG:function(c,v){var p=f(this.coords,!0),g,h,v=v||{},x,w,b=f(this.colorStops,!0),S=p.r1>p.r2,T=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),_=-this.offsetX,P=-this.offsetY,A=!!v.additionalTransform,M=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function($,Q){return $.offset-Q.offset}),M==="objectBoundingBox"?(_/=c.width,P/=c.height):(_+=c.width/2,P+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(_-=c.pathOffset.x,P-=c.pathOffset.y),T[4]-=_,T[5]-=P,w='id="SVGID_'+this.id+'" gradientUnits="'+M+'"',w+=' gradientTransform="'+(A?v.additionalTransform+" ":"")+t.util.matrixToSVG(T)+'" ',this.type==="linear"?x=["<linearGradient ",w,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(x=["<radialGradient ",w,' cx="',S?p.x1:p.x2,'" cy="',S?p.y1:p.y2,'" r="',S?p.r1:p.r2,'" fx="',S?p.x2:p.x1,'" fy="',S?p.y2:p.y1,`">
`]),this.type==="radial"){if(S)for(b=b.concat(),b.reverse(),g=0,h=b.length;g<h;g++)b[g].offset=1-b[g].offset;var B=Math.min(p.r1,p.r2);if(B>0){var z=Math.max(p.r1,p.r2),Z=B/z;for(g=0,h=b.length;g<h;g++)b[g].offset+=Z*(1-b[g].offset)}}for(g=0,h=b.length;g<h;g++){var L=b[g];x.push("<stop ",'offset="',L.offset*100+"%",'" style="stop-color:',L.color,typeof L.opacity<"u"?";stop-opacity: "+L.opacity:";",`"/>
`)}return x.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),x.join("")},toLive:function(c){var d,p=t.util.object.clone(this.coords),g,h;if(this.type){for(this.type==="linear"?d=c.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(d=c.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),g=0,h=this.colorStops.length;g<h;g++){var v=this.colorStops[g].color,x=this.colorStops[g].opacity,w=this.colorStops[g].offset;typeof x<"u"&&(v=new t.Color(v).setAlpha(x).toRgba()),d.addColorStop(w,v)}return d}}}),t.util.object.extend(t.Gradient,{fromElement:function(c,d,p,g){var h=parseFloat(p)/(/%$/.test(p)?100:1);h=h<0?0:h>1?1:h,isNaN(h)&&(h=1);var v=c.getElementsByTagName("stop"),x,w=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=c.getAttribute("gradientTransform")||"",S=[],T,_,P=0,A=0,M;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(x="linear",T=s(c)):(x="radial",T=l(c)),_=v.length;_--;)S.push(o(v[_],h));M=t.parseTransformAttribute(b),a(d,T,g,w),w==="pixels"&&(P=-d.left,A=-d.top);var B=new t.Gradient({id:c.getAttribute("id"),type:x,coords:T,colorStops:S,gradientUnits:w,gradientTransform:M,offsetX:P,offsetY:A});return B}});function a(c,d,p,g){var h,v;Object.keys(d).forEach(function(x){h=d[x],h==="Infinity"?v=1:h==="-Infinity"?v=0:(v=parseFloat(d[x],10),typeof h=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(h)&&(v*=.01,g==="pixels"&&((x==="x1"||x==="x2"||x==="r2")&&(v*=p.viewBoxWidth||p.width),(x==="y1"||x==="y2")&&(v*=p.viewBoxHeight||p.height)))),d[x]=v})}}(),function(){var o=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,l){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){l&&l(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(a,c){f.source=a,l&&l(f,c)},null,this.crossOrigin)}},toObject:function(s){var l=t.Object.NUM_FRACTION_DIGITS,f,a;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),a={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:o(this.offsetX,l),offsetY:o(this.offsetY,l),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,a,s),a},toSVG:function(s){var l=typeof this.source=="function"?this.source():this.source,f=l.width/s.width,a=l.height/s.height,c=this.offsetX/s.width,d=this.offsetY/s.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,d&&(a+=Math.abs(d))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,c&&(f+=Math.abs(c))),l.src?p=l.src:l.toDataURL&&(p=l.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+d+'" width="'+f+'" height="'+a+`">
<image x="0" y="0" width="`+l.width+'" height="'+l.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(s){for(var l in s)this[l]=s[l]},toLive:function(s){var l=this.source;return!l||typeof l.src<"u"&&(!l.complete||l.naturalWidth===0||l.naturalHeight===0)?"":s.createPattern(l,this.repeat)}})}(),function(o){var s=o.fabric||(o.fabric={}),l=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var a in f)this[a]=f[a];this.id=s.Object.__uid++},_parseShadow:function(f){var a=f.trim(),c=s.Shadow.reOffsetsAndBlur.exec(a)||[],d=a.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:d.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var a=40,c=40,d=s.Object.NUM_FRACTION_DIGITS,p=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-f.angle)),g=20,h=new s.Color(this.color);return f.width&&f.height&&(a=l((Math.abs(p.x)+this.blur)/f.width,d)*100+g,c=l((Math.abs(p.y)+this.blur)/f.height,d)*100+g),f.flipX&&(p.x*=-1),f.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+l(this.blur?this.blur/2:0,d)+`"></feGaussianBlur>
	<feOffset dx="`+l(p.x,d)+'" dy="'+l(p.y,d)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+h.toRgb()+'" flood-opacity="'+h.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},a=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==a[c]&&(f[c]=this[c])},this),f}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var o=t.util.object.extend,s=t.util.getElementOffset,l=t.util.removeFromArray,f=t.util.toFixed,a=t.util.transformPoint,c=t.util.invertTransform,d=t.util.getNodeCanvas,p=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(h,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(h,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(h,v){var x=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(h),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,x),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,x),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,x),v.overlayColor&&this.setOverlayColor(v.overlayColor,x),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var h=t.devicePixelRatio;this.__initRetinaScaling(h,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(h,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(h,v,x){v.setAttribute("width",this.width*h),v.setAttribute("height",this.height*h),x.scale(h,h)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(h,v,x){return this.__setBgOverlayImage("overlayImage",h,v,x)},setBackgroundImage:function(h,v,x){return this.__setBgOverlayImage("backgroundImage",h,v,x)},setOverlayColor:function(h,v){return this.__setBgOverlayColor("overlayColor",h,v)},setBackgroundColor:function(h,v){return this.__setBgOverlayColor("backgroundColor",h,v)},__setBgOverlayImage:function(h,v,x,w){return typeof v=="string"?t.util.loadImage(v,function(b,S){if(b){var T=new t.Image(b,w);this[h]=T,T.canvas=this}x&&x(b,S)},this,w&&w.crossOrigin):(w&&v.setOptions(w),this[h]=v,v&&(v.canvas=this),x&&x(v,!1)),this},__setBgOverlayColor:function(h,v,x){return this[h]=v,this._initGradient(v,h),this._initPattern(v,h,x),this},_createCanvasElement:function(){var h=p();if(!h||(h.style||(h.style={}),typeof h.getContext>"u"))throw g;return h},_initOptions:function(h){var v=this.lowerCanvasEl;this._setOptions(h),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(h){h&&h.getContext?this.lowerCanvasEl=h:this.lowerCanvasEl=t.util.getById(h)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(h,v){return this.setDimensions({width:h},v)},setHeight:function(h,v){return this.setDimensions({height:h},v)},setDimensions:function(h,v){var x;v=v||{};for(var w in h)x=h[w],v.cssOnly||(this._setBackstoreDimension(w,h[w]),x+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(w,x);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(h,v){return this.lowerCanvasEl[h]=v,this.upperCanvasEl&&(this.upperCanvasEl[h]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[h]=v),this[h]=v,this},_setCssDimension:function(h,v){return this.lowerCanvasEl.style[h]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[h]=v),this.wrapperEl&&(this.wrapperEl.style[h]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(h){var v=this._activeObject,x=this.backgroundImage,w=this.overlayImage,b,S,T;for(this.viewportTransform=h,S=0,T=this._objects.length;S<T;S++)b=this._objects[S],b.group||b.setCoords(!0);return v&&v.setCoords(),x&&x.setCoords(!0),w&&w.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(h,v){var x=h,w=this.viewportTransform.slice(0);h=a(h,c(this.viewportTransform)),w[0]=v,w[3]=v;var b=a(h,w);return w[4]+=x.x-b.x,w[5]+=x.y-b.y,this.setViewportTransform(w)},setZoom:function(h){return this.zoomToPoint(new t.Point(0,0),h),this},absolutePan:function(h){var v=this.viewportTransform.slice(0);return v[4]=-h.x,v[5]=-h.y,this.setViewportTransform(v)},relativePan:function(h){return this.absolutePan(new t.Point(-h.x-this.viewportTransform[4],-h.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(h){this.stateful&&h.setupState(),h._set("canvas",this),h.setCoords(),this.fire("object:added",{target:h}),h.fire("added")},_onObjectRemoved:function(h){this.fire("object:removed",{target:h}),h.fire("removed"),delete h.canvas},clearContext:function(h){return h.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var h=this.contextContainer;return this.renderCanvas(h,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var h={},v=this.width,x=this.height,w=c(this.viewportTransform);return h.tl=a({x:0,y:0},w),h.br=a({x:v,y:x},w),h.tr=new t.Point(h.br.x,h.tl.y),h.bl=new t.Point(h.tl.x,h.br.y),this.vptCoords=h,h},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(h,v){var x=this.viewportTransform,w=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(h),t.util.setImageSmoothing(h,this.imageSmoothingEnabled),this.fire("before:render",{ctx:h}),this._renderBackground(h),h.save(),h.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(h,v),h.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),w&&(w.canvas=this,w.shouldCache(),w._transformDone=!0,w.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(h)),this._renderOverlay(h),this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.fire("after:render",{ctx:h})},drawClipPathOnCanvas:function(h){var v=this.viewportTransform,x=this.clipPath;h.save(),h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),h.globalCompositeOperation="destination-in",x.transform(h),h.scale(1/x.zoomX,1/x.zoomY),h.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),h.restore()},_renderObjects:function(h,v){var x,w;for(x=0,w=v.length;x<w;++x)v[x]&&v[x].render(h)},_renderBackgroundOrOverlay:function(h,v){var x=this[v+"Color"],w=this[v+"Image"],b=this.viewportTransform,S=this[v+"Vpt"];if(!(!x&&!w)){if(x){h.save(),h.beginPath(),h.moveTo(0,0),h.lineTo(this.width,0),h.lineTo(this.width,this.height),h.lineTo(0,this.height),h.closePath(),h.fillStyle=x.toLive?x.toLive(h,this):x,S&&h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),h.transform(1,0,0,1,x.offsetX||0,x.offsetY||0);var T=x.gradientTransform||x.patternTransform;T&&h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),h.fill(),h.restore()}if(w){h.save();var _=this.skipOffscreen;this.skipOffscreen=S,S&&h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),w.render(h),this.skipOffscreen=_,h.restore()}}},_renderBackground:function(h){this._renderBackgroundOrOverlay(h,"background")},_renderOverlay:function(h){this._renderBackgroundOrOverlay(h,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(h){return this._centerObject(h,new t.Point(this.getCenterPoint().x,h.getCenterPoint().y))},centerObjectV:function(h){return this._centerObject(h,new t.Point(h.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(h){var v=this.getCenterPoint();return this._centerObject(h,v)},viewportCenterObject:function(h){var v=this.getVpCenter();return this._centerObject(h,v)},viewportCenterObjectH:function(h){var v=this.getVpCenter();return this._centerObject(h,new t.Point(v.x,h.getCenterPoint().y)),this},viewportCenterObjectV:function(h){var v=this.getVpCenter();return this._centerObject(h,new t.Point(h.getCenterPoint().x,v.y))},getVpCenter:function(){var h=this.getCenterPoint(),v=c(this.viewportTransform);return a(h,v)},_centerObject:function(h,v){return h.setPositionByOrigin(v,"center","center"),h.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(h){return this.toDatalessObject(h)},toObject:function(h){return this._toObjectMethod("toObject",h)},toDatalessObject:function(h){return this._toObjectMethod("toDatalessObject",h)},_toObjectMethod:function(h,v){var x=this.clipPath,w={version:t.version,objects:this._toObjects(h,v)};return x&&!x.excludeFromExport&&(w.clipPath=this._toObject(this.clipPath,h,v)),o(w,this.__serializeBgOverlay(h,v)),t.util.populateWithProperties(this,w,v),w},_toObjects:function(h,v){return this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){return this._toObject(x,h,v)},this)},_toObject:function(h,v,x){var w;this.includeDefaultValues||(w=h.includeDefaultValues,h.includeDefaultValues=!1);var b=h[v](x);return this.includeDefaultValues||(h.includeDefaultValues=w),b},__serializeBgOverlay:function(h,v){var x={},w=this.backgroundImage,b=this.overlayImage,S=this.backgroundColor,T=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(x.background=S.toObject(v)):S&&(x.background=S),T&&T.toObject?T.excludeFromExport||(x.overlay=T.toObject(v)):T&&(x.overlay=T),w&&!w.excludeFromExport&&(x.backgroundImage=this._toObject(w,h,v)),b&&!b.excludeFromExport&&(x.overlayImage=this._toObject(b,h,v)),x},svgViewportTransformation:!0,toSVG:function(h,v){h||(h={}),h.reviver=v;var x=[];return this._setSVGPreamble(x,h),this._setSVGHeader(x,h),this.clipPath&&x.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(x,"background"),this._setSVGBgOverlayImage(x,"backgroundImage",v),this._setSVGObjects(x,v),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlay"),this._setSVGBgOverlayImage(x,"overlayImage",v),x.push("</svg>"),x.join("")},_setSVGPreamble:function(h,v){v.suppressPreamble||h.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(h,v){var x=v.width||this.width,w=v.height||this.height,b,S='viewBox="0 0 '+this.width+" "+this.height+'" ',T=t.Object.NUM_FRACTION_DIGITS;v.viewBox?S='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,S='viewBox="'+f(-b[4]/b[0],T)+" "+f(-b[5]/b[3],T)+" "+f(this.width/b[0],T)+" "+f(this.height/b[3],T)+'" '),h.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',x,'" ','height="',w,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(h){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(h.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var h=this,v=["background","overlay"].map(function(x){var w=h[x+"Color"];if(w&&w.toLive){var b=h[x+"Vpt"],S=h.viewportTransform,T={width:h.width/(b?S[0]:1),height:h.height/(b?S[3]:1)};return w.toSVG(T,{additionalTransform:b?t.util.matrixToSVG(S):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var h="",v={},x,w,b,S,T,_,P,A,M,B=t.fontPaths,z=[];for(this._objects.forEach(function L($){z.push($),$._objects&&$._objects.forEach(L)}),A=0,M=z.length;A<M;A++)if(x=z[A],w=x.fontFamily,!(x.type.indexOf("text")===-1||v[w]||!B[w])&&(v[w]=!0,!!x.styles)){b=x.styles;for(T in b){S=b[T];for(P in S)_=S[P],w=_.fontFamily,!v[w]&&B[w]&&(v[w]=!0)}}for(var Z in v)h+=[`		@font-face {
`,"			font-family: '",Z,`';
`,"			src: url('",B[Z],`');
`,`		}
`].join("");return h&&(h=['	<style type="text/css">',`<![CDATA[
`,h,"]]>",`</style>
`].join("")),h},_setSVGObjects:function(h,v){var x,w,b,S=this._objects;for(w=0,b=S.length;w<b;w++)x=S[w],!x.excludeFromExport&&this._setSVGObject(h,x,v)},_setSVGObject:function(h,v,x){h.push(v.toSVG(x))},_setSVGBgOverlayImage:function(h,v,x){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&h.push(this[v].toSVG(x))},_setSVGBgOverlayColor:function(h,v){var x=this[v+"Color"],w=this.viewportTransform,b=this.width,S=this.height;if(x)if(x.toLive){var T=x.repeat,_=t.util.invertTransform(w),P=this[v+"Vpt"],A=P?t.util.matrixToSVG(_):"";h.push('<rect transform="'+A+" translate(",b/2,",",S/2,')"',' x="',x.offsetX-b/2,'" y="',x.offsetY-S/2,'" ','width="',T==="repeat-y"||T==="no-repeat"?x.source.width:b,'" height="',T==="repeat-x"||T==="no-repeat"?x.source.height:S,'" fill="url(#SVGID_'+x.id+')"',`></rect>
`)}else h.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',x,'"',`></rect>
`)},sendToBack:function(h){if(!h)return this;var v=this._activeObject,x,w,b;if(h===v&&h.type==="activeSelection")for(b=v._objects,x=b.length;x--;)w=b[x],l(this._objects,w),this._objects.unshift(w);else l(this._objects,h),this._objects.unshift(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(h){if(!h)return this;var v=this._activeObject,x,w,b;if(h===v&&h.type==="activeSelection")for(b=v._objects,x=0;x<b.length;x++)w=b[x],l(this._objects,w),this._objects.push(w);else l(this._objects,h),this._objects.push(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(h,v){if(!h)return this;var x=this._activeObject,w,b,S,T,_,P=0;if(h===x&&h.type==="activeSelection")for(_=x._objects,w=0;w<_.length;w++)b=_[w],S=this._objects.indexOf(b),S>0+P&&(T=S-1,l(this._objects,b),this._objects.splice(T,0,b)),P++;else S=this._objects.indexOf(h),S!==0&&(T=this._findNewLowerIndex(h,S,v),l(this._objects,h),this._objects.splice(T,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(h,v,x){var w,b;if(x)for(w=v,b=v-1;b>=0;--b){var S=h.intersectsWithObject(this._objects[b])||h.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(h);if(S){w=b;break}}else w=v-1;return w},bringForward:function(h,v){if(!h)return this;var x=this._activeObject,w,b,S,T,_,P=0;if(h===x&&h.type==="activeSelection")for(_=x._objects,w=_.length;w--;)b=_[w],S=this._objects.indexOf(b),S<this._objects.length-1-P&&(T=S+1,l(this._objects,b),this._objects.splice(T,0,b)),P++;else S=this._objects.indexOf(h),S!==this._objects.length-1&&(T=this._findNewUpperIndex(h,S,v),l(this._objects,h),this._objects.splice(T,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(h,v,x){var w,b,S;if(x)for(w=v,b=v+1,S=this._objects.length;b<S;++b){var T=h.intersectsWithObject(this._objects[b])||h.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(h);if(T){w=b;break}}else w=v+1;return w},moveTo:function(h,v){return l(this._objects,h),this._objects.splice(v,0,h),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(h){h.dispose&&h.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),o(t.StaticCanvas.prototype,t.Observable),o(t.StaticCanvas.prototype,t.Collection),o(t.StaticCanvas.prototype,t.DataURLExporter),o(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(h){var v=p();if(!v||!v.getContext)return null;var x=v.getContext("2d");if(!x)return null;switch(h){case"setLineDash":return typeof x.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var h=d(this.lowerCanvasEl);return h&&h.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(h){var v=d(this.lowerCanvasEl);return v&&v.createJPEGStream(h)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(o){o.strokeStyle=this.color,o.lineWidth=this.width,o.lineCap=this.strokeLineCap,o.miterLimit=this.strokeMiterLimit,o.lineJoin=this.strokeLineJoin,o.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(o){var s=this.canvas.viewportTransform;o.save(),o.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var o=this.canvas,s=this.shadow,l=o.contextTop,f=o.getZoom();o&&o._isRetinaScaling()&&(f*=t.devicePixelRatio),l.shadowColor=s.color,l.shadowBlur=s.blur*f,l.shadowOffsetX=s.offsetX*f,l.shadowOffsetY=s.offsetY*f}},needsFullRender:function(){var o=new t.Color(this.color);return o.getAlpha()<1||!!this.shadow},_resetShadow:function(){var o=this.canvas.contextTop;o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0},_isOutSideCanvas:function(o){return o.x<0||o.x>this.canvas.getWidth()||o.y<0||o.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(o){this.canvas=o,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(o,s,l){var f=s.midPointFrom(l);return o.quadraticCurveTo(s.x,s.y,f.x,f.y),f},onMouseDown:function(o,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(o),this._captureDrawingPath(o),this._render())},onMouseMove:function(o,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o))&&this._captureDrawingPath(o)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var l=this._points,f=l.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,l[f-2],l[f-1],!0),a.stroke(),a.restore()}},onMouseUp:function(o){return this.canvas._isMainEvent(o.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(o){var s=new t.Point(o.x,o.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(o){return this._points.length>1&&o.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(o),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(o){var s=new t.Point(o.x,o.y);return this._addPoint(s)},_render:function(o){var s,l,f=this._points[0],a=this._points[1];if(o=o||this.canvas.contextTop,this._saveAndTransform(o),o.beginPath(),this._points.length===2&&f.x===a.x&&f.y===a.y){var c=this.width/1e3;f=new t.Point(f.x,f.y),a=new t.Point(a.x,a.y),f.x-=c,a.x+=c}for(o.moveTo(f.x,f.y),s=1,l=this._points.length;s<l;s++)this._drawSegment(o,f,a),f=this._points[s],a=this._points[s+1];o.lineTo(f.x,f.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(o){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(o,s)},_isEmptySVGPath:function(o){var s=t.util.joinPath(o);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(o){var s=new t.Path(o,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(o,s){if(o.length<=2)return o;var l=this.canvas.getZoom(),f=Math.pow(s/l,2),a,c=o.length-1,d=o[0],p=[d],g;for(a=1;a<c-1;a++)g=Math.pow(d.x-o[a].x,2)+Math.pow(d.y-o[a].y,2),g>=f&&(d=o[a],p.push(d));return p.push(o[c]),p},_finalizeAndAddPath:function(){var o=this.canvas.contextTop;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var l=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.requestRenderAll(),l.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:l})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(o){this.canvas=o,this.points=[]},drawDot:function(o){var s=this.addPoint(o),l=this.canvas.contextTop;this._saveAndTransform(l),this.dot(l,s),l.restore()},dot:function(o,s){o.fillStyle=s.fill,o.beginPath(),o.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),o.closePath(),o.fill()},onMouseDown:function(o){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(o)},_render:function(){var o=this.canvas.contextTop,s,l,f=this.points;for(this._saveAndTransform(o),s=0,l=f.length;s<l;s++)this.dot(o,f[s]);o.restore()},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(o),this._render()):this.drawDot(o))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove,s,l;this.canvas.renderOnAddRemove=!1;var f=[];for(s=0,l=this.points.length;s<l;s++){var a=this.points[s],c=new t.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(c.shadow=new t.Shadow(this.shadow)),f.push(c)}var d=new t.Group(f);d.canvas=this.canvas,this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},addPoint:function(o){var s=new t.Point(o.x,o.y),l=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=l,s.fill=f,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(o){this.canvas=o,this.sprayChunks=[]},onMouseDown:function(o){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(o),this.render(this.sprayChunkPoints)},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.addSprayChunk(o),this.render(this.sprayChunkPoints))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],l=0,f=this.sprayChunks.length;l<f;l++)for(var a=this.sprayChunks[l],c=0,d=a.length;c<d;c++){var p=new t.Rect({width:a[c].width,height:a[c].width,left:a[c].x+1,top:a[c].y+1,originX:"center",originY:"center",fill:this.color});s.push(p)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var g=new t.Group(s);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},_getOptimizedRects:function(o){var s={},l,f,a;for(f=0,a=o.length;f<a;f++)l=o[f].left+""+o[f].top,s[l]||(s[l]=o[f]);var c=[];for(l in s)c.push(s[l]);return c},render:function(o){var s=this.canvas.contextTop,l,f;for(s.fillStyle=this.color,this._saveAndTransform(s),l=0,f=o.length;l<f;l++){var a=o[l];typeof a.opacity<"u"&&(s.globalAlpha=a.opacity),s.fillRect(a.x,a.y,a.width,a.width)}s.restore()},_render:function(){var o=this.canvas.contextTop,s,l;for(o.fillStyle=this.color,this._saveAndTransform(o),s=0,l=this.sprayChunks.length;s<l;s++)this.render(this.sprayChunks[s]);o.restore()},addSprayChunk:function(o){this.sprayChunkPoints=[];var s,l,f,a=this.width/2,c;for(c=0;c<this.density;c++){s=t.util.getRandomInt(o.x-a,o.x+a),l=t.util.getRandomInt(o.y-a,o.y+a),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var d=new t.Point(s,l);d.width=f,this.randomOpacity&&(d.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(d)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var o=20,s=5,l=t.util.createCanvasElement(),f=l.getContext("2d");return l.width=l.height=o+s,f.fillStyle=this.color,f.beginPath(),f.arc(o/2,o/2,o/2,0,Math.PI*2,!1),f.closePath(),f.fill(),l},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(o){return o.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle=this.getPattern(o)},createPath:function(o){var s=this.callSuper("createPath",o),l=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-l.x,offsetY:-l.y}),s}}),function(){var o=t.util.getPointer,s=t.util.degreesToRadians,l=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(a,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),c,d,p;if(a.length>0&&!this.preserveObjectStacking){d=[],p=[];for(var g=0,h=this._objects.length;g<h;g++)c=this._objects[g],a.indexOf(c)===-1?d.push(c):p.push(c);a.length>1&&(this._activeObject._objects=p),d.push.apply(d,p)}else d=this._objects;return d},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,c){var d=a.calcTransformMatrix(),p=t.util.invertTransform(d),g=this.restorePointerVpt(c);return t.util.transformPoint(g,p)},isTargetTransparent:function(a,c,d){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var p=this._normalizePointer(a,{x:c,y:d}),g=Math.max(a.cacheTranslationX+p.x*a.zoomX,0),h=Math.max(a.cacheTranslationY+p.y*a.zoomY,0),b=t.util.isTransparent(a._cacheContext,Math.round(g),Math.round(h),this.targetFindTolerance);return b}var v=this.contextCache,x=a.selectionBackgroundColor,w=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(w[0],w[1],w[2],w[3],w[4],w[5]),a.render(v),v.restore(),a.selectionBackgroundColor=x;var b=t.util.isTransparent(v,c,d,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(a){var c=!1;return Array.isArray(this.selectionKey)?c=!!this.selectionKey.find(function(d){return a[d]===!0}):c=a[this.selectionKey],c},_shouldClearSelection:function(a,c){var d=this.getActiveObjects(),p=this._activeObject;return!c||c&&p&&d.length>1&&d.indexOf(c)===-1&&p!==c&&!this._isSelectionKeyPressed(a)||c&&!c.evented||c&&!c.selectable&&p&&p!==c},_shouldCenterTransform:function(a,c,d){if(a){var p;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?p=this.centeredScaling||a.centeredScaling:c==="rotate"&&(p=this.centeredRotation||a.centeredRotation),p?!d:d}},_getOriginFromCorner:function(a,c){var d={x:a.originX,y:a.originY};return c==="ml"||c==="tl"||c==="bl"?d.x="right":(c==="mr"||c==="tr"||c==="br")&&(d.x="left"),c==="tl"||c==="mt"||c==="tr"?d.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(d.y="top"),d},_getActionFromCorner:function(a,c,d,p){if(!c||!a)return"drag";var g=p.controls[c];return g.getActionName(d,g,p)},_setupCurrentTransform:function(a,c,d){if(c){var p=this.getPointer(a),g=c.__corner,h=c.controls[g],v=d&&g?h.getActionHandler(a,c,h):t.controlsUtils.dragHandler,x=this._getActionFromCorner(d,g,a,c),w=this._getOriginFromCorner(c,g),b=a[this.centeredKey],S={target:c,action:x,actionHandler:v,corner:g,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:p.x-c.left,offsetY:p.y-c.top,originX:w.x,originY:w.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:s(c.angle),width:c.width*c.scaleX,shiftKey:a.shiftKey,altKey:b,original:t.util.saveObjectTransform(c)};this._shouldCenterTransform(c,x,b)&&(S.originX="center",S.originY="center"),S.original.originX=w.x,S.original.originY=w.y,this._currentTransform=S,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var c=this._groupSelector,d=new t.Point(c.ex,c.ey),p=t.util.transformPoint(d,this.viewportTransform),g=new t.Point(c.ex+c.left,c.ey+c.top),h=t.util.transformPoint(g,this.viewportTransform),v=Math.min(p.x,h.x),x=Math.min(p.y,h.y),w=Math.max(p.x,h.x),b=Math.max(p.y,h.y),S=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(v,x,w-v,b-x)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,v+=S,x+=S,w-=S,b-=S,t.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(v,x,w-v,b-x))},findTarget:function(a,c){if(!this.skipTargetFind){var d=!0,p=this.getPointer(a,d),g=this._activeObject,h=this.getActiveObjects(),v,x,w=l(a),b=h.length>1&&!c||h.length===1;if(this.targets=[],b&&g._findTargetCorner(p,w)||h.length>1&&!c&&g===this._searchPossibleTargets([g],p))return g;if(h.length===1&&g===this._searchPossibleTargets([g],p))if(this.preserveObjectStacking)v=g,x=this.targets,this.targets=[];else return g;var S=this._searchPossibleTargets(this._objects,p);return a[this.altSelectionKey]&&S&&v&&S!==v&&(S=v,this.targets=x),S}},_checkTarget:function(a,c,d){if(c&&c.visible&&c.evented&&c.containsPoint(a))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var p=this.isTargetTransparent(c,d.x,d.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(a,c){for(var d,p=a.length,g;p--;){var h=a[p],v=h.group?this._normalizePointer(h.group,c):c;if(this._checkTarget(v,h,c)){d=a[p],d.subTargetCheck&&d instanceof t.Group&&(g=this._searchPossibleTargets(d._objects,c),g&&this.targets.push(g));break}}return d},restorePointerVpt:function(a){return t.util.transformPoint(a,t.util.invertTransform(this.viewportTransform))},getPointer:function(a,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var d=o(a),p=this.upperCanvasEl,g=p.getBoundingClientRect(),h=g.width||0,v=g.height||0,x;(!h||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(h=Math.abs(g.right-g.left))),this.calcOffset(),d.x=d.x-this._offset.left,d.y=d.y-this._offset.top,c||(d=this.restorePointerVpt(d));var w=this.getRetinaScaling();return w!==1&&(d.x/=w,d.y/=w),h===0||v===0?x={width:1,height:1}:x={width:p.width/h,height:p.height/v},{x:d.x*x.width,y:d.y*x.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,d=this.upperCanvasEl;d?d.className="":(d=this._createCanvasElement(),this.upperCanvasEl=d),t.util.addClass(d,"upper-canvas "+a),this.wrapperEl.appendChild(d),this._copyCanvasStyle(c,d),this._applyCanvasStyle(d),this.contextTop=d.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var c=this.width||a.width,d=this.height||a.height;t.util.setStyle(a,{position:"absolute",width:c+"px",height:d+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=c,a.height=d,t.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,c){c.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,c){var d=!1,p=this.getActiveObjects(),g=[],h=[];a.forEach(function(v){p.indexOf(v)===-1&&(d=!0,v.fire("deselected",{e:c,target:v}),h.push(v))}),p.forEach(function(v){a.indexOf(v)===-1&&(d=!0,v.fire("selected",{e:c,target:v}),g.push(v))}),a.length>0&&p.length>0?d&&this.fire("selection:updated",{e:c,selected:g,deselected:h}):p.length>0?this.fire("selection:created",{e:c,selected:g}):a.length>0&&this.fire("selection:cleared",{e:c,deselected:h})},setActiveObject:function(a,c){var d=this.getActiveObjects();return this._setActiveObject(a,c),this._fireSelectionEvents(d,c),this},_setActiveObject:function(a,c){return this._activeObject===a||!this._discardActiveObject(c,a)||a.onSelect({e:c})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,c){var d=this._activeObject;if(d){if(d.onDeselect({e:a,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var c=this.getActiveObjects(),d=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:d,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(c,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var c=this._activeObject;c&&c._renderControls(a)},_toObject:function(a,c,d){var p=this._realizeGroupTransformOnObject(a),g=this.callSuper("_toObject",a,c,d);return this._unwindGroupTransformOnObject(a,p),g},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],d={};return c.forEach(function(p){d[p]=a[p]}),t.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),d}else return null},_unwindGroupTransformOnObject:function(a,c){c&&a.set(c)},_setSVGObject:function(a,c,d){var p=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",a,c,d),this._unwindGroupTransformOnObject(c,p)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var o=t.util.addListener,s=t.util.removeListener,l=3,f=2,a=1,c={passive:!1};function d(p,g){return p.button&&p.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(o,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,g){var h=this.upperCanvasEl,v=this._getEventPrefix();p(t.window,"resize",this._onResize),p(h,v+"down",this._onMouseDown),p(h,v+"move",this._onMouseMove,c),p(h,v+"out",this._onMouseOut),p(h,v+"enter",this._onMouseEnter),p(h,"wheel",this._onMouseWheel),p(h,"contextmenu",this._onContextMenu),p(h,"dblclick",this._onDoubleClick),p(h,"dragover",this._onDragOver),p(h,"dragenter",this._onDragEnter),p(h,"dragleave",this._onDragLeave),p(h,"drop",this._onDrop),this.enablePointerEvents||p(h,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](h,"gesture",this._onGesture),eventjs[g](h,"drag",this._onDrag),eventjs[g](h,"orientation",this._onOrientationChange),eventjs[g](h,"shake",this._onShake),eventjs[g](h,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var p=this._getEventPrefix();s(t.document,p+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,c),s(t.document,p+"move",this._onMouseMove,c),s(t.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,g){this.__onTransformGesture&&this.__onTransformGesture(p,g)},_onDrag:function(p,g){this.__onDrag&&this.__onDrag(p,g)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:p}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:p});var h=this;this._hoveredTargets.forEach(function(v){h.fire("mouse:out",{target:v,e:p}),v&&v.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,g){this.__onOrientationChange&&this.__onOrientationChange(p,g)},_onShake:function(p,g){this.__onShake&&this.__onShake(p,g)},_onLongPress:function(p,g){this.__onLongPress&&this.__onLongPress(p,g)},_onDragOver:function(p){p.preventDefault();var g=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(g,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var g=p.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();o(t.document,"touchend",this._onTouchEnd,c),o(t.document,"touchmove",this._onMouseMove,c),s(g,h+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();s(g,h+"move",this._onMouseMove,c),o(t.document,h+"up",this._onMouseUp),o(t.document,h+"move",this._onMouseMove,c)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,c),s(t.document,"touchmove",this._onMouseMove,c);var h=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){o(h.upperCanvasEl,g+"down",h._onMouseDown),h._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();this._isMainEvent(p)&&(s(t.document,h+"up",this._onMouseUp),s(t.document,h+"move",this._onMouseMove,c),o(g,h+"move",this._onMouseMove,c))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var g=this._activeObject;return!!g!=!!p||g&&p&&g!==p?!0:(g&&g.isEditing,!1)},__onMouseUp:function(p){var g,h=this._currentTransform,v=this._groupSelector,x=!1,w=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(p),g=this._target,this._handleEvent(p,"up:before"),d(p,l)){this.fireRightClick&&this._handleEvent(p,"up",l,w);return}if(d(p,f)){this.fireMiddleClick&&this._handleEvent(p,"up",f,w),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(h&&(this._finalizeCurrentTransform(p),x=h.actionPerformed),!w){var b=g===this._activeObject;this._maybeGroupObjects(p),x||(x=this._shouldRender(g)||!b&&g===this._activeObject)}var S,T;if(g){if(S=g._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,p),x=!0;else{var _=g.controls[S],P=_&&_.getMouseUpHandler(p,g,_);P&&(T=this.getPointer(p),P(p,h,T.x,T.y))}g.isMoving=!1}if(h&&(h.target!==g||h.corner!==S)){var A=h.target&&h.target.controls[h.corner],M=A&&A.getMouseUpHandler(p,g,_);T=T||this.getPointer(p),M&&M(p,h,T.x,T.y)}this._setCursorFromEvent(p,g),this._handleEvent(p,"up",a,w),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),x?this.requestRenderAll():w||this.renderTop()}},_simpleEventHandler:function(p,g){var h=this.findTarget(g),v=this.targets,x={e:g,target:h,subTargets:v};if(this.fire(p,x),h&&h.fire(p,x),!v)return h;for(var w=0;w<v.length;w++)v[w].fire(p,x);return h},_handleEvent:function(p,g,h,v){var x=this._target,w=this.targets||[],b={e:p,target:x,subTargets:w,button:h||a,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(b.currentTarget=this.findTarget(p),b.currentSubTargets=this.targets),this.fire("mouse:"+g,b),x&&x.fire("mouse"+g,b);for(var S=0;S<w.length;S++)w[S].fire("mouse"+g,b)},_finalizeCurrentTransform:function(p){var g=this._currentTransform,h=g.target,v={e:p,target:h,transform:g,action:g.action};h._scaling&&(h._scaling=!1),h.setCoords(),(g.actionPerformed||this.stateful&&h.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var g=this.getPointer(p);this.freeDrawingBrush.onMouseDown(g,{e:p,pointer:g}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var g=this.getPointer(p);this.freeDrawingBrush.onMouseMove(g,{e:p,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var g=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:g}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var g=this._target;if(d(p,l)){this.fireRightClick&&this._handleEvent(p,"down",l);return}if(d(p,f)){this.fireMiddleClick&&this._handleEvent(p,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var h=this._pointer;this._previousPointer=h;var v=this._shouldRender(g),x=this._shouldGroup(p,g);if(this._shouldClearSelection(p,g)?this.discardActiveObject(p):x&&(this._handleGrouping(p,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var w=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,p);var b=g._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p));if(g.__corner=b,g===this._activeObject&&(b||!x)){this._setupCurrentTransform(p,g,w);var S=g.controls[b],h=this.getPointer(p),T=S&&S.getMouseDownHandler(p,g,S);T&&T(p,this._currentTransform,h.x,h.y)}}this._handleEvent(p,"down"),(v||x)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:p,transform:g})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var g,h;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var v=this._groupSelector;v?(h=this._absolutePointer,v.left=h.x-v.ex,v.top=h.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(g=this.findTarget(p)||null,this._setCursorFromEvent(p,g),this._fireOverOutEvents(g,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,g){var h=this._hoveredTarget,v=this._hoveredTargets,x=this.targets,w=Math.max(v.length,x.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:h,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<w;b++)this.fireSyntheticInOutEvents(x[b],g,{oldTarget:v[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,g){var h=this._draggedoverTarget,v=this._hoveredTargets,x=this.targets,w=Math.max(v.length,x.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:h,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<w;b++)this.fireSyntheticInOutEvents(x[b],g,{oldTarget:v[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,g,h){var v,x,w=h.oldTarget,b,S,T=w!==p,_=h.canvasEvtIn,P=h.canvasEvtOut;T&&(v={e:g,target:p,previousTarget:w},x={e:g,target:w,nextTarget:p}),S=p&&T,b=w&&T,b&&(P&&this.fire(P,x),w.fire(h.evtOut,x)),S&&(_&&this.fire(_,v),p.fire(h.evtIn,v))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var g=this.getPointer(p),h=this._currentTransform;h.reset=!1,h.shiftKey=p.shiftKey,h.altKey=p[this.centeredKey],this._performTransformAction(p,h,g),h.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,g,h){var v=h.x,x=h.y,w=g.action,b=!1,S=g.actionHandler;S&&(b=S(p,g,v,x)),w==="drag"&&b&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||b},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(p,g){if(!g)return this.setCursor(this.defaultCursor),!1;var h=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,x=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(p,!0));x?this.setCursor(this.getCornerCursor(x,g,p)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(w){h=w.hoverCursor||h}),this.setCursor(h))},getCornerCursor:function(p,g,h){var v=g.controls[p];return v.cursorStyleHandler(h,v,g)}})}(),function(){var o=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(l,f){var a=this._activeObject;return a&&this._isSelectionKeyPressed(l)&&f&&f.selectable&&this.selection&&(a!==f||a.type==="activeSelection")&&!f.onSelect({e:l})},_handleGrouping:function(l,f){var a=this._activeObject;a.__corner||f===a&&(f=this.findTarget(l,!0),!f||!f.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(f,l):this._createActiveSelection(f,l))},_updateActiveSelection:function(l,f){var a=this._activeObject,c=a._objects.slice(0);a.contains(l)?(a.removeWithUpdate(l),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),f)):(a.addWithUpdate(l),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,f)},_createActiveSelection:function(l,f){var a=this.getActiveObjects(),c=this._createGroup(l);this._hoveredTarget=c,this._setActiveObject(c,f),this._fireSelectionEvents(a,f)},_createGroup:function(l){var f=this._objects,a=f.indexOf(this._activeObject)<f.indexOf(l),c=a?[this._activeObject,l]:[l,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(l){var f=this._collectObjects(l),a;f.length===1?this.setActiveObject(f[0],l):f.length>1&&(a=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(a,l))},_collectObjects:function(l){for(var f=[],a,c=this._groupSelector.ex,d=this._groupSelector.ey,p=c+this._groupSelector.left,g=d+this._groupSelector.top,h=new t.Point(o(c,p),o(d,g)),v=new t.Point(s(c,p),s(d,g)),x=!this.selectionFullyContained,w=c===p&&d===g,b=this._objects.length;b--&&(a=this._objects[b],!(!(!a||!a.selectable||!a.visible)&&(x&&a.intersectsWithRect(h,v,!0)||a.isContainedWithinRect(h,v,!0)||x&&a.containsPoint(h,null,!0)||x&&a.containsPoint(v,null,!0))&&(f.push(a),w))););return f.length>1&&(f=f.filter(function(S){return!S.onSelect({e:l})})),f},_maybeGroupObjects:function(l){this.selection&&this._groupSelector&&this._groupSelectedObjects(l),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(o){o||(o={});var s=o.format||"png",l=o.quality||1,f=(o.multiplier||1)*(o.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(f,o);return t.util.toDataURL(a,s,l)},toCanvasElement:function(o,s){o=o||1,s=s||{};var l=(s.width||this.width)*o,f=(s.height||this.height)*o,a=this.getZoom(),c=this.width,d=this.height,p=a*o,g=this.viewportTransform,h=(g[4]-(s.left||0))*o,v=(g[5]-(s.top||0))*o,x=this.interactive,w=[p,0,0,p,h,v],b=this.enableRetinaScaling,S=t.util.createCanvasElement(),T=this.contextTop;return S.width=l,S.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=w,this.width=l,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=g,this.width=c,this.height=d,this.calcViewportBoundaries(),this.interactive=x,this.enableRetinaScaling=b,this.contextTop=T,S}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(o,s,l){if(o){var f=typeof o=="string"?JSON.parse(o):t.util.object.clone(o),a=this,c=f.clipPath,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(p){a.clear(),a._setBgOverlay(f,function(){c?a._enlivenObjects([c],function(g){a.clipPath=g[0],a.__setupCanvas.call(a,f,p,d,s)}):a.__setupCanvas.call(a,f,p,d,s)})},l),this}},__setupCanvas:function(o,s,l,f){var a=this;s.forEach(function(c,d){a.insertAt(c,d)}),this.renderOnAddRemove=l,delete o.objects,delete o.backgroundImage,delete o.overlayImage,delete o.background,delete o.overlay,this._setOptions(o),this.renderAll(),f&&f()},_setBgOverlay:function(o,s){var l={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!o.backgroundImage&&!o.overlayImage&&!o.background&&!o.overlay){s&&s();return}var f=function(){l.backgroundImage&&l.overlayImage&&l.backgroundColor&&l.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",o.backgroundImage,l,f),this.__setBgOverlay("overlayImage",o.overlayImage,l,f),this.__setBgOverlay("backgroundColor",o.background,l,f),this.__setBgOverlay("overlayColor",o.overlay,l,f)},__setBgOverlay:function(o,s,l,f){var a=this;if(!s){l[o]=!0,f&&f();return}o==="backgroundImage"||o==="overlayImage"?t.util.enlivenObjects([s],function(c){a[o]=c[0],l[o]=!0,f&&f()}):this["set"+t.util.string.capitalize(o,!0)](s,function(){l[o]=!0,f&&f()})},_enlivenObjects:function(o,s,l){if(!o||o.length===0){s&&s([]);return}t.util.enlivenObjects(o,function(f){s&&s(f)},null,l)},_toDataURL:function(o,s){this.clone(function(l){s(l.toDataURL(o))})},_toDataURLWithMultiplier:function(o,s,l){this.clone(function(f){l(f.toDataURLWithMultiplier(o,s))})},clone:function(o,s){var l=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(f){f.loadFromJSON(l,function(){o&&o(f)})})},cloneWithoutData:function(o){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var l=new t.Canvas(s);this.backgroundImage?(l.setBackgroundImage(this.backgroundImage.src,function(){l.renderAll(),o&&o(l)}),l.backgroundImageOpacity=this.backgroundImageOpacity,l.backgroundImageStretch=this.backgroundImageStretch):o&&o(l)}}),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.util.object.clone,a=s.util.toFixed,c=s.util.string.capitalize,d=s.util.degreesToRadians,p=!s.isLikelyNode,g=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(h){h&&this.setOptions(h)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(h){var v=s.perfLimitSizeTotal,x=h.width,w=h.height,b=s.maxCacheSideLimit,S=s.minCacheSideLimit;if(x<=b&&w<=b&&x*w<=v)return x<S&&(h.width=S),w<S&&(h.height=S),h;var T=x/w,_=s.util.limitDimsByArea(T,v),P=s.util.capValue,A=P(S,_.x,b),M=P(S,_.y,b);return x>A&&(h.zoomX/=x/A,h.width=A,h.capped=!0),w>M&&(h.zoomY/=w/M,h.height=M,h.capped=!0),h},_getCacheCanvasDimensions:function(){var h=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),x=v.x*h.scaleX/this.scaleX,w=v.y*h.scaleY/this.scaleY;return{width:Math.ceil(x+g),height:Math.ceil(w+g),zoomX:h.scaleX,zoomY:h.scaleY,x,y:w}},_updateCacheCanvas:function(){var h=this.canvas;if(this.noScaleCache&&h&&h._currentTransform){var v=h._currentTransform.target,x=h._currentTransform.action;if(this===v&&x.slice&&x.slice(0,5)==="scale")return!1}var w=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),S=b.width,T=b.height,_,P,A=b.zoomX,M=b.zoomY,B=S!==this.cacheWidth||T!==this.cacheHeight,z=this.zoomX!==A||this.zoomY!==M,Z=B||z;return Z?(B?(w.width=S,w.height=T):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,w.width,w.height)),_=b.x/2,P=b.y/2,this.cacheTranslationX=Math.round(w.width/2-_)+_,this.cacheTranslationY=Math.round(w.height/2-P)+P,this.cacheWidth=S,this.cacheHeight=T,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(A,M),this.zoomX=A,this.zoomY=M,!0):!1},setOptions:function(h){this._setOptions(h),this._initGradient(h.fill,"fill"),this._initGradient(h.stroke,"stroke"),this._initPattern(h.fill,"fill"),this._initPattern(h.stroke,"stroke")},transform:function(h){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&h===this.canvas.contextTop,x=this.calcTransformMatrix(!v);h.transform(x[0],x[1],x[2],x[3],x[4],x[5])},toObject:function(h){var v=s.Object.NUM_FRACTION_DIGITS,x={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:a(this.left,v),top:a(this.top,v),width:a(this.width,v),height:a(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,v),scaleX:a(this.scaleX,v),scaleY:a(this.scaleY,v),angle:a(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,v),skewY:a(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(x.clipPath=this.clipPath.toObject(h),x.clipPath.inverted=this.clipPath.inverted,x.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,x,h),this.includeDefaultValues||(x=this._removeDefaultValues(x)),x},toDatalessObject:function(h){return this.toObject(h)},_removeDefaultValues:function(h){var v=s.util.getKlass(h.type).prototype,x=v.stateProperties;return x.forEach(function(w){w==="left"||w==="top"||(h[w]===v[w]&&delete h[w],Array.isArray(h[w])&&Array.isArray(v[w])&&h[w].length===0&&v[w].length===0&&delete h[w])}),h},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var h=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(h.scaleX),scaleY:Math.abs(h.scaleY)}},getTotalObjectScaling:function(){var h=this.getObjectScaling(),v=h.scaleX,x=h.scaleY;if(this.canvas){var w=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();v*=w*b,x*=w*b}return{scaleX:v,scaleY:x}},getObjectOpacity:function(){var h=this.opacity;return this.group&&(h*=this.group.getObjectOpacity()),h},_set:function(h,v){var x=h==="scaleX"||h==="scaleY",w=this[h]!==v,b=!1;return x&&(v=this._constrainScale(v)),h==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):h==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):h==="shadow"&&v&&!(v instanceof s.Shadow)?v=new s.Shadow(v):h==="dirty"&&this.group&&this.group.set("dirty",v),this[h]=v,w&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(h)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(h)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(h){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(h.save(),this._setupCompositeOperation(h),this.drawSelectionBackground(h),this.transform(h),this._setOpacity(h),this._setShadow(h,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(h)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(h),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),h.restore())},renderCache:function(h){h=h||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,h.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(h,v){if(h.save(),v.inverted?h.globalCompositeOperation="destination-out":h.globalCompositeOperation="destination-in",v.absolutePositioned){var x=s.util.invertTransform(this.calcTransformMatrix());h.transform(x[0],x[1],x[2],x[3],x[4],x[5])}v.transform(h),h.scale(1/v.zoomX,1/v.zoomY),h.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),h.restore()},drawObject:function(h,v){var x=this.fill,w=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(h)):this._renderBackground(h),this._render(h),this._drawClipPath(h,this.clipPath),this.fill=x,this.stroke=w},_drawClipPath:function(h,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(h,v))},drawCacheOnCanvas:function(h){h.scale(1/this.zoomX,1/this.zoomY),h.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(h){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!h&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!h){var v=this.cacheWidth/this.zoomX,x=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-x/2,v,x)}return!0}return!1},_renderBackground:function(h){if(this.backgroundColor){var v=this._getNonTransformedDimensions();h.fillStyle=this.backgroundColor,h.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(h)}},_setOpacity:function(h){this.group&&!this.group._transformDone?h.globalAlpha=this.getObjectOpacity():h.globalAlpha*=this.opacity},_setStrokeStyles:function(h,v){var x=v.stroke;x&&(h.lineWidth=v.strokeWidth,h.lineCap=v.strokeLineCap,h.lineDashOffset=v.strokeDashOffset,h.lineJoin=v.strokeLineJoin,h.miterLimit=v.strokeMiterLimit,x.toLive?x.gradientUnits==="percentage"||x.gradientTransform||x.patternTransform?this._applyPatternForTransformedGradient(h,x):(h.strokeStyle=x.toLive(h,this),this._applyPatternGradientTransform(h,x)):h.strokeStyle=v.stroke)},_setFillStyles:function(h,v){var x=v.fill;x&&(x.toLive?(h.fillStyle=x.toLive(h,this),this._applyPatternGradientTransform(h,v.fill)):h.fillStyle=x)},_setClippingProperties:function(h){h.globalAlpha=1,h.strokeStyle="transparent",h.fillStyle="#000000"},_setLineDash:function(h,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),h.setLineDash(v))},_renderControls:function(h,v){var x=this.getViewportTransform(),w=this.calcTransformMatrix(),b,S,T;v=v||{},S=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,T=typeof v.hasControls<"u"?v.hasControls:this.hasControls,w=s.util.multiplyTransformMatrices(x,w),b=s.util.qrDecompose(w),h.save(),h.translate(b.translateX,b.translateY),h.lineWidth=1*this.borderScaleFactor,this.group||(h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),h.rotate(d(this.group?b.angle:this.angle)),v.forActiveSelection||this.group?S&&this.drawBordersInGroup(h,b,v):S&&this.drawBorders(h,v),T&&this.drawControls(h,v),h.restore()},_setShadow:function(h){if(this.shadow){var v=this.shadow,x=this.canvas,w,b=x&&x.viewportTransform[0]||1,S=x&&x.viewportTransform[3]||1;v.nonScaling?w={scaleX:1,scaleY:1}:w=this.getObjectScaling(),x&&x._isRetinaScaling()&&(b*=s.devicePixelRatio,S*=s.devicePixelRatio),h.shadowColor=v.color,h.shadowBlur=v.blur*s.browserShadowBlurConstant*(b+S)*(w.scaleX+w.scaleY)/4,h.shadowOffsetX=v.offsetX*b*w.scaleX,h.shadowOffsetY=v.offsetY*S*w.scaleY}},_removeShadow:function(h){this.shadow&&(h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0)},_applyPatternGradientTransform:function(h,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var x=v.gradientTransform||v.patternTransform,w=-this.width/2+v.offsetX||0,b=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?h.transform(this.width,0,0,this.height,w,b):h.transform(1,0,0,1,w,b),x&&h.transform(x[0],x[1],x[2],x[3],x[4],x[5]),{offsetX:w,offsetY:b}},_renderPaintInOrder:function(h){this.paintFirst==="stroke"?(this._renderStroke(h),this._renderFill(h)):(this._renderFill(h),this._renderStroke(h))},_render:function(){},_renderFill:function(h){this.fill&&(h.save(),this._setFillStyles(h,this),this.fillRule==="evenodd"?h.fill("evenodd"):h.fill(),h.restore())},_renderStroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(h),h.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();h.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&h.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(h,this.strokeDashArray),this._setStrokeStyles(h,this),h.stroke(),h.restore()}},_applyPatternForTransformedGradient:function(h,v){var x=this._limitCacheSize(this._getCacheCanvasDimensions()),w=s.util.createCanvasElement(),b,S=this.canvas.getRetinaScaling(),T=x.x/this.scaleX/S,_=x.y/this.scaleY/S;w.width=Math.ceil(T),w.height=Math.ceil(_),b=w.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(T,0),b.lineTo(T,_),b.lineTo(0,_),b.closePath(),b.translate(T/2,_/2),b.scale(x.zoomX/this.scaleX/S,x.zoomY/this.scaleY/S),this._applyPatternGradientTransform(b,v),b.fillStyle=v.toLive(h),b.fill(),h.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),h.scale(S*this.scaleX/x.zoomX,S*this.scaleY/x.zoomY),h.strokeStyle=b.createPattern(w,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var h=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",h.scaleX),this.set("scaleY",h.scaleY),this.angle=h.angle,this.skewX=h.skewX,this.skewY=0}},_removeTransformMatrix:function(h){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=s.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,h&&(this.scaleX*=h.scaleX,this.scaleY*=h.scaleY,this.cropX=h.cropX,this.cropY=h.cropY,v.x+=h.offsetLeft,v.y+=h.offsetTop,this.width=h.width,this.height=h.height),this.setPositionByOrigin(v,"center","center")},clone:function(h,v){var x=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(x,h):s.Object._fromObject("Object",x,h)},cloneAsImage:function(h,v){var x=this.toCanvasElement(v);return h&&h(new s.Image(x)),this},toCanvasElement:function(h){h||(h={});var v=s.util,x=v.saveObjectTransform(this),w=this.group,b=this.shadow,S=Math.abs,T=(h.multiplier||1)*(h.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,h.withoutTransform&&v.resetObjectTransform(this),h.withoutShadow&&(this.shadow=null);var _=s.util.createCanvasElement(),P=this.getBoundingRect(!0,!0),A=this.shadow,M,B={x:0,y:0},z,Z,L;A&&(z=A.blur,A.nonScaling?M={scaleX:1,scaleY:1}:M=this.getObjectScaling(),B.x=2*Math.round(S(A.offsetX)+z)*S(M.scaleX),B.y=2*Math.round(S(A.offsetY)+z)*S(M.scaleY)),Z=P.width+B.x,L=P.height+B.y,_.width=Math.ceil(Z),_.height=Math.ceil(L);var $=new s.StaticCanvas(_,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});h.format==="jpeg"&&($.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point($.width/2,$.height/2),"center","center");var Q=this.canvas;$.add(this);var G=$.toCanvasElement(T||1,h);return this.shadow=b,this.set("canvas",Q),w&&(this.group=w),this.set(x).setCoords(),$._objects=[],$.dispose(),$=null,G},toDataURL:function(h){return h||(h={}),s.util.toDataURL(this.toCanvasElement(h),h.format||"png",h.quality||1)},isType:function(h){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===h},complexity:function(){return 1},toJSON:function(h){return this.toObject(h)},rotate:function(h){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",h),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(h,v){v=v||this.canvas.getPointer(h);var x=new s.Point(v.x,v.y),w=this._getLeftTopCoords();return this.angle&&(x=s.util.rotatePoint(x,w,d(-this.angle))),{x:x.x-w.x,y:x.y-w.y}},_setupCompositeOperation:function(h){this.globalCompositeOperation&&(h.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),l(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(h,v,x,w){var b=s[h];v=f(v,!0),s.util.enlivenPatterns([v.fill,v.stroke],function(S){typeof S[0]<"u"&&(v.fill=S[0]),typeof S[1]<"u"&&(v.stroke=S[1]),s.util.enlivenObjectEnlivables(v,v,function(){var T=w?new b(v[w],v):new b(v);x&&x(T)})})},s.Object.__uid=0)}(e),function(){var o=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},l={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,a,c,d,p){var g=f.x,h=f.y,v,x,w;return typeof a=="string"?a=s[a]:a-=.5,typeof d=="string"?d=s[d]:d-=.5,v=d-a,typeof c=="string"?c=l[c]:c-=.5,typeof p=="string"?p=l[p]:p-=.5,x=p-c,(v||x)&&(w=this._getTransformedDimensions(),g=f.x+v*w.x,h=f.y+x*w.y),new t.Point(g,h)},translateToCenterPoint:function(f,a,c){var d=this.translateToGivenOrigin(f,a,c,"center","center");return this.angle?t.util.rotatePoint(d,f,o(this.angle)):d},translateToOriginPoint:function(f,a,c){var d=this.translateToGivenOrigin(f,"center","center",a,c);return this.angle?t.util.rotatePoint(d,f,o(this.angle)):d},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,a){var c=this.getCenterPoint();return this.translateToOriginPoint(c,f,a)},toLocalPoint:function(f,a,c){var d=this.getCenterPoint(),p,g;return typeof a<"u"&&typeof c<"u"?p=this.translateToGivenOrigin(d,"center","center",a,c):p=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,d,-o(this.angle))),g.subtractEquals(p)},setPositionByOrigin:function(f,a,c){var d=this.translateToCenterPoint(f,a,c),p=this.translateToOriginPoint(d,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(f){var a=o(this.angle),c=this.getScaledWidth(),d=t.util.cos(a)*c,p=t.util.sin(a)*c,g,h;typeof this.originX=="string"?g=s[this.originX]:g=this.originX-.5,typeof f=="string"?h=s[f]:h=f-.5,this.left+=d*(h-g),this.top+=p*(h-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function o(c){return[new t.Point(c.tl.x,c.tl.y),new t.Point(c.tr.x,c.tr.y),new t.Point(c.br.x,c.br.y),new t.Point(c.bl.x,c.bl.y)]}var s=t.util,l=s.degreesToRadians,f=s.multiplyTransformMatrices,a=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,d){return d?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,d){return o(this._getCoords(c,d))},intersectsWithRect:function(c,d,p,g){var h=this.getCoords(p,g),v=t.Intersection.intersectPolygonRectangle(h,c,d);return v.status==="Intersection"},intersectsWithObject:function(c,d,p){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(d,p),c.getCoords(d,p));return g.status==="Intersection"||c.isContainedWithinObject(this,d,p)||this.isContainedWithinObject(c,d,p)},isContainedWithinObject:function(c,d,p){for(var g=this.getCoords(d,p),h=d?c.aCoords:c.lineCoords,v=0,x=c._getImageLines(h);v<4;v++)if(!c.containsPoint(g[v],x))return!1;return!0},isContainedWithinRect:function(c,d,p,g){var h=this.getBoundingRect(p,g);return h.left>=c.x&&h.left+h.width<=d.x&&h.top>=c.y&&h.top+h.height<=d.y},containsPoint:function(c,v,p,g){var h=this._getCoords(p,g),v=v||this._getImageLines(h),x=this._findCrossPoints(c,v);return x!==0&&x%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,g=this.getCoords(!0,c);return g.some(function(h){return h.x<=p.x&&h.x>=d.x&&h.y<=p.y&&h.y>=d.y})||this.intersectsWithRect(d,p,!0,c)?!0:this._containsCenterOfCanvas(d,p,c)},_containsCenterOfCanvas:function(c,d,p){var g={x:(c.x+d.x)/2,y:(c.y+d.y)/2};return!!this.containsPoint(g,null,!0,p)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(d,p,!0,c))return!0;var g=this.getCoords(!0,c).every(function(h){return(h.x>=p.x||h.x<=d.x)&&(h.y>=p.y||h.y<=d.y)});return g&&this._containsCenterOfCanvas(d,p,c)},_getImageLines:function(c){var d={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return d},_findCrossPoints:function(c,d){var p,g,h,v,x,w=0,b;for(var S in d)if(b=d[S],!(b.o.y<c.y&&b.d.y<c.y)&&!(b.o.y>=c.y&&b.d.y>=c.y)&&(b.o.x===b.d.x&&b.o.x>=c.x?x=b.o.x:(p=0,g=(b.d.y-b.o.y)/(b.d.x-b.o.x),h=c.y-p*c.x,v=b.o.y-g*b.o.x,x=-(h-v)/(p-g)),x>=c.x&&(w+=1),w===2))break;return w},getBoundingRect:function(c,d){var p=this.getCoords(c,d);return s.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,d){var p=this.getBoundingRect(d).width/this.getScaledWidth();return this.scale(c/this.width/p)},scaleToHeight:function(c,d){var p=this.getBoundingRect(d).height/this.getScaledHeight();return this.scale(c/this.height/p)},calcLineCoords:function(){var c=this.getViewportTransform(),d=this.padding,p=l(this.angle),g=s.cos(p),h=s.sin(p),v=g*d,x=h*d,w=v+x,b=v-x,S=this.calcACoords(),T={tl:a(S.tl,c),tr:a(S.tr,c),bl:a(S.bl,c),br:a(S.br,c)};return d&&(T.tl.x-=b,T.tl.y-=w,T.tr.x+=w,T.tr.y-=b,T.bl.x-=w,T.bl.y+=b,T.br.x+=b,T.br.y+=w),T},calcOCoords:function(){var c=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),p=this.getViewportTransform(),g=f(p,d),h=f(g,c),h=f(h,[1/p[0],0,0,1/p[3],0,0]),v=this._calculateCurrentDimensions(),x={};return this.forEachControl(function(w,b,S){x[b]=w.positionHandler(v,h,S)}),x},calcACoords:function(){var c=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),p=f(d,c),g=this._getTransformedDimensions(),h=g.x/2,v=g.y/2;return{tl:a({x:-h,y:-v},p),tr:a({x:h,y:-v},p),bl:a({x:-h,y:v},p),br:a({x:h,y:v},p)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var d="_",p="";return!c&&this.group&&(p=this.group.transformMatrixKey(c)+d),p+this.top+d+this.left+d+this.scaleX+d+this.scaleY+d+this.skewX+d+this.skewY+d+this.angle+d+this.originX+d+this.originY+d+this.width+d+this.height+d+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var d=this.calcOwnMatrix();if(c||!this.group)return d;var p=this.transformMatrixKey(c),g=this.matrixCache||(this.matrixCache={});return g.key===p?g.value:(this.group&&(d=f(this.group.calcTransformMatrix(!1),d)),g.key=p,g.value=d,d)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),d=this.ownMatrixCache||(this.ownMatrixCache={});if(d.key===c)return d.value;var p=this._calcTranslateMatrix(),g={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return d.key=c,d.value=s.composeMatrix(g),d.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth,d=this.width+c,p=this.height+c;return{x:d,y:p}},_getTransformedDimensions:function(c,d){typeof c>"u"&&(c=this.skewX),typeof d>"u"&&(d=this.skewY);var p,g,h,v=c===0&&d===0;if(this.strokeUniform?(g=this.width,h=this.height):(p=this._getNonTransformedDimensions(),g=p.x,h=p.y),v)return this._finalizeDimensions(g*this.scaleX,h*this.scaleY);var x=s.sizeAfterTransform(g,h,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:d});return this._finalizeDimensions(x.x,x.y)},_finalizeDimensions:function(c,d){return this.strokeUniform?{x:c+this.strokeWidth,y:d+this.strokeWidth}:{x:c,y:d}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),d=this._getTransformedDimensions(),p=a(d,c,!0);return p.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(o){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,o):this.canvas&&this.canvas.sendBackwards(this,o),this},bringForward:function(o){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,o):this.canvas&&this.canvas.bringForward(this,o),this},moveTo:function(o){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,o):this.canvas&&this.canvas.moveTo(this,o),this}}),function(){function o(l,f){if(f){if(f.toLive)return l+": url(#SVGID_"+f.id+"); ";var a=new t.Color(f),c=l+": "+a.toRgb()+"; ",d=a.getAlpha();return d!==1&&(c+=l+"-opacity: "+d.toString()+"; "),c}else return l+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(l){var f=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",d=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",x=this.visible?"":" visibility: hidden;",w=l?"":this.getSvgFilter(),b=o("fill",this.fill),S=o("stroke",this.stroke);return[S,"stroke-width: ",a,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",d,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",h,"; ",b,"fill-rule: ",f,"; ","opacity: ",v,";",w,x].join("")},getSvgSpanStyles:function(l,f){var a="; ",d=l.fontFamily?"font-family: "+(l.fontFamily.indexOf("'")===-1&&l.fontFamily.indexOf('"')===-1?"'"+l.fontFamily+"'":l.fontFamily)+a:"",c=l.strokeWidth?"stroke-width: "+l.strokeWidth+a:"",d=d,p=l.fontSize?"font-size: "+l.fontSize+"px"+a:"",g=l.fontStyle?"font-style: "+l.fontStyle+a:"",h=l.fontWeight?"font-weight: "+l.fontWeight+a:"",v=l.fill?o("fill",l.fill):"",x=l.stroke?o("stroke",l.stroke):"",w=this.getSvgTextDecoration(l),b=l.deltaY?"baseline-shift: "+-l.deltaY+"; ":"";return w&&(w="text-decoration: "+w+a),[x,c,d,p,g,h,w,v,b,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(l){return["overline","underline","line-through"].filter(function(f){return l[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(l,f){var a=l?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+t.util.matrixToSVG(a);return c+(f||"")+'" '},_setSVGBg:function(l){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;l.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,f),'" y="',s(-this.height/2,f),'" width="',s(this.width,f),'" height="',s(this.height,f),`"></rect>
`)}},toSVG:function(l){return this._createBaseSVGMarkup(this._toSVG(l),{reviver:l})},toClipPathSVG:function(l){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(l),{reviver:l})},_createBaseClipPathSVGMarkup:function(l,f){f=f||{};var a=f.reviver,c=f.additionalTransform||"",d=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),p=l.indexOf("COMMON_PARTS");return l[p]=d,a?a(l.join("")):l.join("")},_createBaseSVGMarkup:function(l,f){f=f||{};var a=f.noStyle,c=f.reviver,d=a?"":'style="'+this.getSvgStyles()+'" ',p=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,x=this.stroke,w=this.fill,b=this.shadow,S,T=[],_,P=l.indexOf("COMMON_PARTS"),A=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,_='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(c)+`</clipPath>
`),v&&T.push("<g ",p,this.getSvgCommons(),` >
`),T.push("<g ",this.getSvgTransform(!1),v?"":p+this.getSvgCommons(),` >
`),S=[d,h,a?"":this.addPaintOrder()," ",A?'transform="'+A+'" ':""].join(""),l[P]=S,w&&w.toLive&&T.push(w.toSVG(this)),x&&x.toLive&&T.push(x.toSVG(this)),b&&T.push(b.toSVG(this)),g&&T.push(_),T.push(l.join("")),T.push(`</g>
`),v&&T.push(`</g>
`),c?c(T.join("")):T.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var o=t.util.object.extend,s="stateProperties";function l(a,c,d){var p={},g=!0;d.forEach(function(h){p[h]=a[h]}),o(a[c],p,g)}function f(a,c,d){if(a===c)return!0;if(Array.isArray(a)){if(!Array.isArray(c)||a.length!==c.length)return!1;for(var p=0,g=a.length;p<g;p++)if(!f(a[p],c[p]))return!1;return!0}else if(a&&typeof a=="object"){var h=Object.keys(a),v;if(!c||typeof c!="object"||!d&&h.length!==Object.keys(c).length)return!1;for(var p=0,g=h.length;p<g;p++)if(v=h[p],!(v==="canvas"||v==="group")&&!f(a[v],c[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(a){a=a||s;var c="_"+a;return Object.keys(this[c]).length<this[a].length?!0:!f(this[c],this,!0)},saveState:function(a){var c=a&&a.propertySet||s,d="_"+c;return this[d]?(l(this,d,this[c]),a&&a.stateProperties&&l(this,d,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var c=a.propertySet||s;return a.propertySet=c,this["_"+c]={},this.saveState(a),this}})}(),function(){var o=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,l){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=s.x,a=s.y,c,d,p=Object.keys(this.oCoords),g=p.length-1,h;for(this.__corner=0;g>=0;g--)if(h=p[g],!!this.isControlVisible(h)&&(d=this._getImageLines(l?this.oCoords[h].touchCorner:this.oCoords[h].corner),c=this._findCrossPoints({x:f,y:a},d),c!==0&&c%2===1))return this.__corner=h,h;return!1},forEachControl:function(s){for(var l in this.controls)s(this.controls[l],l,this)},_setCornerCoords:function(){var s=this.oCoords;for(var l in s){var f=this.controls[l];s[l].corner=f.calcCornerCoords(this.angle,this.cornerSize,s[l].x,s[l].y,!1),s[l].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,s[l].x,s[l].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var l=this.getCenterPoint(),f=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return s.translate(l.x,l.y),s.scale(1/a[0],1/a[3]),s.rotate(o(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-f.x/2,-f.y/2,f.x,f.y),s.restore(),this},drawBorders:function(s,l){l=l||{};var f=this._calculateCurrentDimensions(),a=this.borderScaleFactor,c=f.x+a,d=f.y+a,p=typeof l.hasControls<"u"?l.hasControls:this.hasControls,g=!1;return s.save(),s.strokeStyle=l.borderColor||this.borderColor,this._setLineDash(s,l.borderDashArray||this.borderDashArray),s.strokeRect(-c/2,-d/2,c,d),p&&(s.beginPath(),this.forEachControl(function(h,v,x){h.withConnection&&h.getVisibility(x,v)&&(g=!0,s.moveTo(h.x*c,h.y*d),s.lineTo(h.x*c+h.offsetX,h.y*d+h.offsetY))}),g&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,l,f){f=f||{};var a=t.util.sizeAfterTransform(this.width,this.height,l),c=this.strokeWidth,d=this.strokeUniform,p=this.borderScaleFactor,g=a.x+c*(d?this.canvas.getZoom():l.scaleX)+p,h=a.y+c*(d?this.canvas.getZoom():l.scaleY)+p;return s.save(),this._setLineDash(s,f.borderDashArray||this.borderDashArray),s.strokeStyle=f.borderColor||this.borderColor,s.strokeRect(-g/2,-h/2,g,h),s.restore(),this},drawControls:function(s,l){l=l||{},s.save();var f=1,a,c;return this.canvas&&(f=this.canvas.getRetinaScaling()),s.setTransform(f,0,0,f,0,0),s.strokeStyle=s.fillStyle=l.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=l.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,l.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(d,p,g){c=g.oCoords[p],d.getVisibility(g,p)&&(a&&(c=t.util.transformPoint(c,a)),d.render(s,c.x,c.y,l,g))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,l){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=l,this},setControlsVisibility:function(s){s||(s={});for(var l in s)this.setControlVisible(l,s[l]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(o,s){s=s||{};var l=function(){},f=s.onComplete||l,a=s.onChange||l,c=this;return t.util.animate({target:this,startValue:o.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(d){o.set("left",d),c.requestRenderAll(),a()},onComplete:function(){o.setCoords(),f()}})},fxCenterObjectV:function(o,s){s=s||{};var l=function(){},f=s.onComplete||l,a=s.onChange||l,c=this;return t.util.animate({target:this,startValue:o.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(d){o.set("top",d),c.requestRenderAll(),a()},onComplete:function(){o.setCoords(),f()}})},fxRemove:function(o,s){s=s||{};var l=function(){},f=s.onComplete||l,a=s.onChange||l,c=this;return t.util.animate({target:this,startValue:o.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(d){o.set("opacity",d),c.requestRenderAll(),a()},onComplete:function(){c.remove(o),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var o=[],s,l,f=[];for(s in arguments[0])o.push(s);for(var a=0,c=o.length;a<c;a++)s=o[a],l=a!==c-1,f.push(this._animate(s,arguments[0][s],arguments[1],l));return f}else return this._animate.apply(this,arguments)},_animate:function(o,s,l,f){var a=this,c;s=s.toString(),l?l=t.util.object.clone(l):l={},~o.indexOf(".")&&(c=o.split("."));var d=a.colorProperties.indexOf(o)>-1||c&&a.colorProperties.indexOf(c[1])>-1,p=c?this.get(c[0])[c[1]]:this.get(o);"from"in l||(l.from=p),d||(~s.indexOf("=")?s=p+parseFloat(s.replace("=","")):s=parseFloat(s));var g={target:this,startValue:l.from,endValue:s,byValue:l.by,easing:l.easing,duration:l.duration,abort:l.abort&&function(h,v,x){return l.abort.call(a,h,v,x)},onChange:function(h,v,x){c?a[c[0]][c[1]]=h:a.set(o,h),!f&&l.onChange&&l.onChange(h,v,x)},onComplete:function(h,v,x){f||(a.setCoords(),l.onComplete&&l.onComplete(h,v,x))}};return d?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(d,p){d||(d=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",d[0]),this.set("y1",d[1]),this.set("x2",d[2]),this.set("y2",d[3]),this._setWidthHeight(p)},_setWidthHeight:function(d){d||(d={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in d?d.left:this._getLeftToOriginX(),this.top="top"in d?d.top:this._getTopToOriginY()},_set:function(d,p){return this.callSuper("_set",d,p),typeof a[d]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(d){d.beginPath();var p=this.calcLinePoints();d.moveTo(p.x1,p.y1),d.lineTo(p.x2,p.y2),d.lineWidth=this.strokeWidth;var g=d.strokeStyle;d.strokeStyle=this.stroke||d.fillStyle,this.stroke&&this._renderStroke(d),d.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(d){return l(this.callSuper("toObject",d),this.calcLinePoints())},_getNonTransformedDimensions:function(){var d=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(d.y-=this.strokeWidth),this.height===0&&(d.x-=this.strokeWidth)),d},calcLinePoints:function(){var d=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,g=d*this.width*.5,h=p*this.height*.5,v=d*this.width*-.5,x=p*this.height*-.5;return{x1:g,x2:v,y1:h,y2:x}},_toSVG:function(){var d=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(d,p,g){g=g||{};var h=s.parseAttributes(d,s.Line.ATTRIBUTE_NAMES),v=[h.x1||0,h.y1||0,h.x2||0,h.y2||0];p(new s.Line(v,l(h,g)))},s.Line.fromObject=function(d,p){function g(v){delete v.points,p&&p(v)}var h=f(d,!0);h.points=[d.x1,d.y1,d.x2,d.y2],s.Object._fromObject("Line",h,g,"points")};function c(d,p){var g=d.origin,h=d.axis1,v=d.axis2,x=d.dimension,w=p.nearest,b=p.center,S=p.farthest;return function(){switch(this.get(g)){case w:return Math.min(this.get(h),this.get(v));case b:return Math.min(this.get(h),this.get(v))+.5*this.get(x);case S:return Math.max(this.get(h),this.get(v))}}}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,c){return this.callSuper("_set",a,c),a==="radius"&&this.setRadius(c),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,c=0,d=0,p=(this.endAngle-this.startAngle)%360;if(p===0)a=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+d+'" ','r="',this.radius,`" />
`];else{var g=l(this.startAngle),h=l(this.endAngle),v=this.radius,x=s.util.cos(g)*v,w=s.util.sin(g)*v,b=s.util.cos(h)*v,S=s.util.sin(h)*v,T=p>180?"1":"0";a=['<path d="M '+x+" "+w," A "+v+" "+v," 0 ",+T+" 1"," "+b+" "+S,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,l(this.startAngle),l(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(a,c){var d=s.parseAttributes(a,s.Circle.ATTRIBUTE_NAMES);if(!f(d))throw new Error("value of `r` attribute is required and can not be negative");d.left=(d.left||0)-d.radius,d.top=(d.top||0)-d.radius,c(new s.Circle(d))};function f(a){return"radius"in a&&a.radius>=0}s.Circle.fromObject=function(a,c){s.Object._fromObject("Circle",a,c)}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(l){var f=this.width/2,a=this.height/2;l.beginPath(),l.moveTo(-f,a),l.lineTo(0,-a),l.lineTo(f,a),l.closePath(),this._renderPaintInOrder(l)},_toSVG:function(){var l=this.width/2,f=this.height/2,a=[-l+" "+f,"0 "+-f,l+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),s.Triangle.fromObject=function(l,f){return s.Object._fromObject("Triangle",l,f)}}(e),function(o){var s=o.fabric||(o.fabric={}),l=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,a){switch(this.callSuper("_set",f,a),f){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,l,!1),f.restore(),this._renderPaintInOrder(f)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(f,a){var c=s.parseAttributes(f,s.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,a(new s.Ellipse(c))},s.Ellipse.fromObject=function(f,a){s.Object._fromObject("Ellipse",f,a)}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var a=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,d=this.width,p=this.height,g=-this.width/2,h=-this.height/2,v=a!==0||c!==0,x=1-.5522847498;f.beginPath(),f.moveTo(g+a,h),f.lineTo(g+d-a,h),v&&f.bezierCurveTo(g+d-x*a,h,g+d,h+x*c,g+d,h+c),f.lineTo(g+d,h+p-c),v&&f.bezierCurveTo(g+d,h+p-x*c,g+d-x*a,h+p,g+d-a,h+p),f.lineTo(g+a,h+p),v&&f.bezierCurveTo(g+x*a,h+p,g,h+p-x*c,g,h+p-c),f.lineTo(g,h+c),v&&f.bezierCurveTo(g,h+x*c,g+x*a,h,g+a,h),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(f,a,c){if(!f)return a(null);c=c||{};var d=s.parseAttributes(f,s.Rect.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0,d.height=d.height||0,d.width=d.width||0;var p=new s.Rect(l(c?s.util.object.clone(c):{},d));p.visible=p.visible&&p.width>0&&p.height>0,a(p)},s.Rect.fromObject=function(f,a){return s.Object._fromObject("Rect",f,a)}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.util.array.min,a=s.util.array.max,c=s.util.toFixed,d=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(p,g){g=g||{},this.points=p||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return d(this.points,this,!0)},_setPositionDimensions:function(p){var g=this._calcDimensions(p),h,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,p.fromSVG||(h=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?g.left:h.x),typeof p.top>"u"&&(this.top=p.fromSVG?g.top:h.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(p,"x")||0,h=f(p,"y")||0,v=a(p,"x")||0,x=a(p,"y")||0,w=v-g,b=x-h;return{left:g,top:h,width:w,height:b}},toObject:function(p){return l(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],g=this.pathOffset.x,h=this.pathOffset.y,v=s.Object.NUM_FRACTION_DIGITS,x=0,w=this.points.length;x<w;x++)p.push(c(this.points[x].x-g,v),",",c(this.points[x].y-h,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var g,h=this.points.length,v=this.pathOffset.x,x=this.pathOffset.y;if(!h||isNaN(this.points[h-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-v,this.points[0].y-x);for(var w=0;w<h;w++)g=this.points[w],p.lineTo(g.x-v,g.y-x);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(p){return function(g,h,v){if(!g)return h(null);v||(v={});var x=s.parsePointsAttribute(g.getAttribute("points")),w=s.parseAttributes(g,s[p].ATTRIBUTE_NAMES);w.fromSVG=!0,h(new s[p](x,l(w,v)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(p,g){return s.Object._fromObject("Polyline",p,g,"points")}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return l(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(f,a){s.Object._fromObject("Polygon",f,a,"points")}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.array.min,f=s.util.array.max,a=s.util.object.extend,c=s.util.object.clone,d=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(p,g){g=c(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(p||[],g)},_setPath:function(p,g){this.path=s.util.makePathSimpler(Array.isArray(p)?p:s.util.parsePath(p)),s.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(p){var g,h=0,v=0,x=0,w=0,b=0,S=0,T=-this.pathOffset.x,_=-this.pathOffset.y;p.beginPath();for(var P=0,A=this.path.length;P<A;++P)switch(g=this.path[P],g[0]){case"L":x=g[1],w=g[2],p.lineTo(x+T,w+_);break;case"M":x=g[1],w=g[2],h=x,v=w,p.moveTo(x+T,w+_);break;case"C":x=g[5],w=g[6],b=g[3],S=g[4],p.bezierCurveTo(g[1]+T,g[2]+_,b+T,S+_,x+T,w+_);break;case"Q":p.quadraticCurveTo(g[1]+T,g[2]+_,g[3]+T,g[4]+_),x=g[3],w=g[4],b=g[1],S=g[2];break;case"z":case"Z":x=h,w=v,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return a(this.callSuper("toObject",p),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(p){var g=this.toObject(["sourcePath"].concat(p));return g.sourcePath&&delete g.path,g},_toSVG:function(){var p=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=s.Object.NUM_FRACTION_DIGITS;return" translate("+d(-this.pathOffset.x,p)+", "+d(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},toSVG:function(p){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],g=[],h,v=0,x=0,w=0,b=0,S,T=0,_=this.path.length;T<_;++T){switch(h=this.path[T],h[0]){case"L":w=h[1],b=h[2],S=[];break;case"M":w=h[1],b=h[2],v=w,x=b,S=[];break;case"C":S=s.util.getBoundsOfCurve(w,b,h[1],h[2],h[3],h[4],h[5],h[6]),w=h[5],b=h[6];break;case"Q":S=s.util.getBoundsOfCurve(w,b,h[1],h[2],h[1],h[2],h[3],h[4]),w=h[3],b=h[4];break;case"z":case"Z":w=v,b=x;break}S.forEach(function(L){p.push(L.x),g.push(L.y)}),p.push(w),g.push(b)}var P=l(p)||0,A=l(g)||0,M=f(p)||0,B=f(g)||0,z=M-P,Z=B-A;return{left:P,top:A,width:z,height:Z}}}),s.Path.fromObject=function(p,g){if(typeof p.sourcePath=="string"){var h=p.sourcePath;s.loadSVGFromURL(h,function(v){var x=v[0];x.setOptions(p),p.clipPath?s.util.enlivenObjects([p.clipPath],function(w){x.clipPath=w[0],g&&g(x)}):g&&g(x)})}else s.Object._fromObject("Path",p,g,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(p,g,h){var v=s.parseAttributes(p,s.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new s.Path(v.d,a(v,h)))}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.array.min,f=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,c,d){c=c||{},this._objects=[],d&&this.callSuper("initialize",c),this._objects=a||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(d)this._updateObjectsACoords();else{var g=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,c=this._objects.length;c--;)this._objects[c].setCoords(a)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),d=this._objects.length;d--;)this._updateObjectCoords(this._objects[d],c)},_updateObjectCoords:function(a,c){var d=a.left,p=a.top,g=!0;a.set({left:d-c.x,top:p-c.y}),a.group=this,a.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var c=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),a&&(c&&s.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,c){var d=this._objects.length;if(this.useSetOnGroup)for(;d--;)this._objects[d].setOnGroup(a,c);if(a==="canvas")for(;d--;)this._objects[d]._set(a,c);s.Object.prototype._set.call(this,a,c)},toObject:function(a){var c=this.includeDefaultValues,d=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var h=g.includeDefaultValues;g.includeDefaultValues=c;var v=g.toObject(a);return g.includeDefaultValues=h,v}),p=s.Object.prototype.toObject.call(this,a);return p.objects=d,p},toDatalessObject:function(a){var c,d=this.sourcePath;if(d)c=d;else{var p=this.includeDefaultValues;c=this._objects.map(function(h){var v=h.includeDefaultValues;h.includeDefaultValues=p;var x=h.toDatalessObject(a);return h.includeDefaultValues=v,x})}var g=s.Object.prototype.toDatalessObject.call(this,a);return g.objects=c,g},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=s.Object.prototype.shouldCache.call(this);if(a){for(var c=0,d=this._objects.length;c<d;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,c=this._objects.length;a<c;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var c=0,d=this._objects.length;c<d;c++)this._objects[c].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var c=0,d=this._objects.length;c<d;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-g/2,p,g)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(c){s.util.addTransformToObject(c,a),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var a=this._objects,c=this.canvas;this._objects=[];var d=this.toObject();delete d.objects;var p=new s.ActiveSelection([]);return p.set(d),p.type="activeSelection",c.remove(this),a.forEach(function(g){g.group=p,g.dirty=!0,c.add(g)}),p.canvas=c,p._objects=a,c._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(c){c.setCoords(a)}),this},_calcBounds:function(a){for(var c=[],d=[],p,g,h,v=["tr","br","bl","tl"],x=0,w=this._objects.length,b,S=v.length;x<w;++x){for(p=this._objects[x],h=p.calcACoords(),b=0;b<S;b++)g=v[b],c.push(h[g].x),d.push(h[g].y);p.aCoords=h}this._getBounds(c,d,a)},_getBounds:function(a,c,d){var p=new s.Point(l(a),l(c)),g=new s.Point(f(a),f(c)),h=p.y||0,v=p.x||0,x=g.x-p.x||0,w=g.y-p.y||0;this.width=x,this.height=w,d||this.setPositionByOrigin({x:v,y:h},"left","top")},_toSVG:function(a){for(var c=["<g ","COMMON_PARTS",` >
`],d=0,p=this._objects.length;d<p;d++)c.push("		",this._objects[d].toSVG(a));return c.push(`</g>
`),c},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),c].join("")},toClipPathSVG:function(a){for(var c=[],d=0,p=this._objects.length;d<p;d++)c.push("	",this._objects[d].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(c,{reviver:a})}}),s.Group.fromObject=function(a,c){var d=a.objects,p=s.util.object.clone(a,!0);if(delete p.objects,typeof d=="string"){s.loadSVGFromURL(d,function(g){var h=s.util.groupSVGElements(g,a,d),v=p.clipPath;delete p.clipPath,h.set(p),v?s.util.enlivenObjects([v],function(x){h.clipPath=x[0],c&&c(h)}):c&&c(h)});return}s.util.enlivenObjects(d,function(g){s.util.enlivenObjectEnlivables(a,p,function(){c&&c(new s.Group(g,p,!0))})})})}(e),function(o){var s=o.fabric||(o.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(l,f){f=f||{},this._objects=l||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var l=this._objects.concat();this._objects=[];var f=s.Object.prototype.toObject.call(this),a=new s.Group([]);if(delete f.type,a.set(f),l.forEach(function(d){d.canvas.remove(d),d.group=a}),a._objects=l,!this.canvas)return a;var c=this.canvas;return c.add(a),c._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(l,f,a){l.save(),l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var c=0,d=this._objects.length;c<d;c++)this._objects[c]._renderControls(l,a);this.callSuper("_renderControls",l,f),l.restore()}}),s.ActiveSelection.fromObject=function(l,f){s.util.enlivenObjects(l.objects,function(a){delete l.objects,f&&f(new s.ActiveSelection(a,l,!0))})})}(e),function(o){var s=t.util.object.extend;if(o.fabric||(o.fabric={}),o.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(l,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(l,f)},getElement:function(){return this._element||{}},setElement:function(l,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=l,this._originalElement=l,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(l){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(l)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var l=this.getElement();return{width:l.naturalWidth||l.width,height:l.naturalHeight||l.height}},_stroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,a=this.height/2;l.beginPath(),l.moveTo(-f,-a),l.lineTo(f,-a),l.lineTo(f,a),l.lineTo(-f,a),l.lineTo(-f,-a),l.closePath()}},toObject:function(l){var f=[];this.filters.forEach(function(c){c&&f.push(c.toObject())});var a=s(this.callSuper("toObject",["cropX","cropY"].concat(l)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var l=[],f=[],a,c=this._element,d=-this.width/2,p=-this.height/2,g="",h="";if(!c)return[];if(this.hasCrop()){var v=t.Object.__uid++;l.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+d+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(h='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',d-this.cropX,'" y="',p-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,h,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var x=this.fill;this.fill=null,a=["	<rect ",'x="',d,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=x}return this.paintFirst!=="fill"?l=l.concat(a,f):l=l.concat(f,a),l},getSrc:function(l){var f=l?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(l,f,a){return t.util.loadImage(l,function(c,d){this.setElement(c,a),this._setWidthHeight(),f&&f(this,d)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var l=this.resizeFilter,f=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),c=a.scaleX,d=a.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!l||c>f&&d>f){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=d;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),h=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=p.width,x=p.height;g.width=v,g.height=x,this._element=g,this._lastScaleX=l.scaleX=c,this._lastScaleY=l.scaleY=d,t.filterBackend.applyFilters([l],p,v,x,this._element,h),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(l){if(l=l||this.filters||[],l=l.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),l.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,a=f.naturalWidth||f.width,c=f.naturalHeight||f.height;if(this._element===this._originalElement){var d=t.util.createCanvasElement();d.width=a,d.height=c,this._element=d,this._filteredEl=d}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,c),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(l,this._originalElement,a,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(l){t.util.setImageSmoothing(l,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(l),this._renderPaintInOrder(l)},drawCacheOnCanvas:function(l){t.util.setImageSmoothing(l,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,l)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(l){var f=this._element;if(f){var a=this._filterScalingX,c=this._filterScalingY,d=this.width,p=this.height,g=Math.min,h=Math.max,v=h(this.cropX,0),x=h(this.cropY,0),w=f.naturalWidth||f.width,b=f.naturalHeight||f.height,S=v*a,T=x*c,_=g(d*a,w-S),P=g(p*c,b-T),A=-d/2,M=-p/2,B=g(d,w/a-v),z=g(p,b/c-x);f&&l.drawImage(f,S,T,_,P,A,M,B,z)}},_needsResize:function(){var l=this.getTotalObjectScaling();return l.scaleX!==this._lastScaleX||l.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(l,f){this.setElement(t.util.getById(l),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(l){l||(l={}),this.setOptions(l),this._setWidthHeight(l)},_initFilters:function(l,f){l&&l.length?t.util.enlivenObjects(l,function(a){f&&f(a)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(l){l||(l={});var f=this.getElement();this.width=l.width||f.naturalWidth||f.width||0,this.height=l.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var l=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,a=this._element.height,c=1,d=1,p=0,g=0,h=0,v=0,x,w=this.width,b=this.height,S={width:w,height:b};return l&&(l.alignX!=="none"||l.alignY!=="none")?(l.meetOrSlice==="meet"&&(c=d=t.util.findScaleToFit(this._element,S),x=(w-f*c)/2,l.alignX==="Min"&&(p=-x),l.alignX==="Max"&&(p=x),x=(b-a*d)/2,l.alignY==="Min"&&(g=-x),l.alignY==="Max"&&(g=x)),l.meetOrSlice==="slice"&&(c=d=t.util.findScaleToCover(this._element,S),x=f-w/c,l.alignX==="Mid"&&(h=x/2),l.alignX==="Max"&&(h=x),x=a-b/d,l.alignY==="Mid"&&(v=x/2),l.alignY==="Max"&&(v=x),f=w/c,a=b/d)):(c=w/f,d=b/a),{width:f,height:a,scaleX:c,scaleY:d,offsetLeft:p,offsetTop:g,cropX:h,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(l,f){var a=t.util.object.clone(l);t.util.loadImage(a.src,function(c,d){if(d){f&&f(null,!0);return}t.Image.prototype._initFilters.call(a,a.filters,function(p){a.filters=p||[],t.Image.prototype._initFilters.call(a,[a.resizeFilter],function(g){a.resizeFilter=g[0],t.util.enlivenObjectEnlivables(a,a,function(){var h=new t.Image(c,a);f(h,!1)})})})},null,a.crossOrigin)},t.Image.fromURL=function(l,f,a){t.util.loadImage(l,function(c,d){f&&f(new t.Image(c,a),d)},null,a&&a.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(l,f,a){var c=t.parseAttributes(l,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(c["xlink:href"],f,s(a?t.util.object.clone(a):{},c))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var o=this.angle%360;return o>0?Math.round((o-1)/90)*90:Math.round(o/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(o){o=o||{};var s=function(){},l=o.onComplete||s,f=o.onChange||s,a=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){a.rotate(c),f()},onComplete:function(){a.setCoords(),l()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(o){return o.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(o){return o.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function o(l,f){var a="precision "+f+` float;
void main(){}`,c=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(c,a),l.compileShader(c),!!l.getShaderParameter(c,l.COMPILE_STATUS)}t.isWebglSupported=function(l){if(t.isLikelyNode)return!1;l=l||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),a=f.getContext("webgl")||f.getContext("experimental-webgl"),c=!1;if(a){t.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),c=t.maxTextureSize>=l;for(var d=["highp","mediump","lowp"],p=0;p<3;p++)if(o(a,d[p])){t.webGlPrecision=d[p];break}}return this.isSupported=c,c},t.WebglFilterBackend=s;function s(l){l&&l.tileSize&&(this.tileSize=l.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(l,f){this.dispose(),this.createWebGLCanvas(l,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(l,f)},chooseFastestCopyGLTo2DMethod:function(l,f){var a=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var d=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(a&&c&&d&&p){var g=t.util.createCanvasElement(),h=new ArrayBuffer(l*f*4);if(t.forceGLPutImageData){this.imageBuffer=h,this.copyGLTo2D=m;return}var v={imageBuffer:h,destinationWidth:l,destinationHeight:f,targetCanvas:g},x,w,b;g.width=l,g.height=f,x=window.performance.now(),u.call(v,this.gl,v),w=window.performance.now()-x,x=window.performance.now(),m.call(v,this.gl,v),b=window.performance.now()-x,w>b?(this.imageBuffer=h,this.copyGLTo2D=m):this.copyGLTo2D=u}},createWebGLCanvas:function(l,f){var a=t.util.createCanvasElement();a.width=l,a.height=f;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},d=a.getContext("webgl",c);d||(d=a.getContext("experimental-webgl",c)),d&&(d.clearColor(0,0,0,0),this.canvas=a,this.gl=d)},applyFilters:function(l,f,a,c,d,p){var g=this.gl,h;p&&(h=this.getCachedTexture(p,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:a,sourceHeight:c,destinationWidth:a,destinationHeight:c,context:g,sourceTexture:this.createTexture(g,a,c,!h&&f),targetTexture:this.createTexture(g,a,c),originalTexture:h||this.createTexture(g,a,c,!h&&f),passes:l.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:d},x=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,x),l.forEach(function(w){w&&w.applyTo(v)}),i(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(x),d.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(l,f,a,c,d){var p=l.createTexture();return l.bindTexture(l.TEXTURE_2D,p),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,d||l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,d||l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),c?l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,c):l.texImage2D(l.TEXTURE_2D,0,l.RGBA,f,a,0,l.RGBA,l.UNSIGNED_BYTE,null),p},getCachedTexture:function(l,f){if(this.textureCache[l])return this.textureCache[l];var a=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[l]=a,a},evictCachesForKey:function(l){this.textureCache[l]&&(this.gl.deleteTexture(this.textureCache[l]),delete this.textureCache[l])},copyGLTo2D:u,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var l=this.gl,f={renderer:"",vendor:""};if(!l)return f;var a=l.getExtension("WEBGL_debug_renderer_info");if(a){var c=l.getParameter(a.UNMASKED_RENDERER_WEBGL),d=l.getParameter(a.UNMASKED_VENDOR_WEBGL);c&&(f.renderer=c.toLowerCase()),d&&(f.vendor=d.toLowerCase())}return this.gpuInfo=f,f}}}();function i(o){var s=o.targetCanvas,l=s.width,f=s.height,a=o.destinationWidth,c=o.destinationHeight;(l!==a||f!==c)&&(s.width=a,s.height=c)}function u(o,s){var l=o.canvas,f=s.targetCanvas,a=f.getContext("2d");a.translate(0,f.height),a.scale(1,-1);var c=l.height-f.height;a.drawImage(l,0,c,f.width,f.height,0,0,f.width,f.height)}function m(o,s){var l=s.targetCanvas,f=l.getContext("2d"),a=s.destinationWidth,c=s.destinationHeight,d=a*c*4,p=new Uint8Array(this.imageBuffer,0,d),g=new Uint8ClampedArray(this.imageBuffer,0,d);o.readPixels(0,0,a,c,o.RGBA,o.UNSIGNED_BYTE,p);var h=new ImageData(g,a,c);f.putImageData(h,0,0)}(function(){var o=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:o,dispose:o,clearWebGLCaches:o,resources:{},applyFilters:function(l,f,a,c,d){var p=d.getContext("2d");p.drawImage(f,0,0,a,c);var g=p.getImageData(0,0,a,c),h=p.getImageData(0,0,a,c),v={sourceWidth:a,sourceHeight:c,imageData:g,originalEl:f,originalImageData:h,canvasEl:d,ctx:p,filterBackend:this};return l.forEach(function(x){x.applyTo(v)}),(v.imageData.width!==a||v.imageData.height!==c)&&(d.width=v.imageData.width,d.height=v.imageData.height),p.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(o){o&&this.setOptions(o)},setOptions:function(o){for(var s in o)this[s]=o[s]},createProgram:function(o,s,l){s=s||this.fragmentSource,l=l||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(f,l),o.compileShader(f),!o.getShaderParameter(f,o.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+o.getShaderInfoLog(f));var a=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(a,s),o.compileShader(a),!o.getShaderParameter(a,o.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+o.getShaderInfoLog(a));var c=o.createProgram();if(o.attachShader(c,f),o.attachShader(c,a),o.linkProgram(c),!o.getProgramParameter(c,o.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+o.getProgramInfoLog(c));var d=this.getAttributeLocations(o,c),p=this.getUniformLocations(o,c)||{};return p.uStepW=o.getUniformLocation(c,"uStepW"),p.uStepH=o.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:d,uniformLocations:p}},getAttributeLocations:function(o,s){return{aPosition:o.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(o,s,l){var f=s.aPosition,a=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,a),o.enableVertexAttribArray(f),o.vertexAttribPointer(f,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,l,o.STATIC_DRAW)},_setupFrameBuffer:function(o){var s=o.context,l,f;o.passes>1?(l=o.destinationWidth,f=o.destinationHeight,(o.sourceWidth!==l||o.sourceHeight!==f)&&(s.deleteTexture(o.targetTexture),o.targetTexture=o.filterBackend.createTexture(s,l,f)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(o){o.passes--,o.pass++;var s=o.targetTexture;o.targetTexture=o.sourceTexture,o.sourceTexture=s},isNeutralState:function(){var o=this.mainParameter,s=t.Image.filters[this.type].prototype;if(o)if(Array.isArray(s[o])){for(var l=s[o].length;l--;)if(this[o][l]!==s[o][l])return!1;return!0}else return s[o]===this[o];else return!1},applyTo:function(o){o.webgl?(this._setupFrameBuffer(o),this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},retrieveShader:function(o){return o.programCache.hasOwnProperty(this.type)||(o.programCache[this.type]=this.createProgram(o.context)),o.programCache[this.type]},applyToWebGL:function(o){var s=o.context,l=this.retrieveShader(o);o.pass===0&&o.originalTexture?s.bindTexture(s.TEXTURE_2D,o.originalTexture):s.bindTexture(s.TEXTURE_2D,o.sourceTexture),s.useProgram(l.program),this.sendAttributeData(s,l.attributeLocations,o.aPosition),s.uniform1f(l.uniformLocations.uStepW,1/o.sourceWidth),s.uniform1f(l.uniformLocations.uStepH,1/o.sourceHeight),this.sendUniformData(s,l.uniformLocations),s.viewport(0,0,o.destinationWidth,o.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(o,s,l){o.activeTexture(l),o.bindTexture(o.TEXTURE_2D,s),o.activeTexture(o.TEXTURE0)},unbindAdditionalTexture:function(o,s){o.activeTexture(s),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(o){this[this.mainParameter]=o},sendUniformData:function(){},createHelpLayer:function(o){if(!o.helpLayer){var s=document.createElement("canvas");s.width=o.sourceWidth,s.height=o.sourceHeight,o.helpLayer=s}},toObject:function(){var o={type:this.type},s=this.mainParameter;return s&&(o[s]=this[s]),o},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(o,s){var l=new t.Image.filters[o.type](o);return s&&s(l),l},function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.ColorMatrix=f(l.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var c=a.imageData,d=c.data,p=d.length,g=this.matrix,h,v,x,w,b,S=this.colorsOnly;for(b=0;b<p;b+=4)h=d[b],v=d[b+1],x=d[b+2],S?(d[b]=h*g[0]+v*g[1]+x*g[2]+g[4]*255,d[b+1]=h*g[5]+v*g[6]+x*g[7]+g[9]*255,d[b+2]=h*g[10]+v*g[11]+x*g[12]+g[14]*255):(w=d[b+3],d[b]=h*g[0]+v*g[1]+x*g[2]+w*g[3]+g[4]*255,d[b+1]=h*g[5]+v*g[6]+x*g[7]+w*g[8]+g[9]*255,d[b+2]=h*g[10]+v*g[11]+x*g[12]+w*g[13]+g[14]*255,d[b+3]=h*g[15]+v*g[16]+x*g[17]+w*g[18]+g[19]*255)},getUniformLocations:function(a,c){return{uColorMatrix:a.getUniformLocation(c,"uColorMatrix"),uConstants:a.getUniformLocation(c,"uConstants")}},sendUniformData:function(a,c){var d=this.matrix,p=[d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]],g=[d[4],d[9],d[14],d[19]];a.uniformMatrix4fv(c.uColorMatrix,!1,p),a.uniform4fv(c.uConstants,g)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Brightness=f(l.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var c=a.imageData,d=c.data,p,g=d.length,h=Math.round(this.brightness*255);for(p=0;p<g;p+=4)d[p]=d[p]+h,d[p+1]=d[p+1]+h,d[p+2]=d[p+2]+h}},getUniformLocations:function(a,c){return{uBrightness:a.getUniformLocation(c,"uBrightness")}},sendUniformData:function(a,c){a.uniform1f(c.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.Image.filters,a=s.util.createClass;f.Convolute=a(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var d=Math.sqrt(this.matrix.length),p=this.type+"_"+d+"_"+(this.opaque?1:0),g=this.fragmentSource[p];return c.programCache.hasOwnProperty(p)||(c.programCache[p]=this.createProgram(c.context,g)),c.programCache[p]},applyTo2d:function(c){var d=c.imageData,p=d.data,g=this.matrix,h=Math.round(Math.sqrt(g.length)),v=Math.floor(h/2),x=d.width,w=d.height,b=c.ctx.createImageData(x,w),S=b.data,T=this.opaque?1:0,_,P,A,M,B,z,Z,L,$,Q,G,D,E;for(G=0;G<w;G++)for(Q=0;Q<x;Q++){for(B=(G*x+Q)*4,_=0,P=0,A=0,M=0,E=0;E<h;E++)for(D=0;D<h;D++)Z=G+E-v,z=Q+D-v,!(Z<0||Z>=w||z<0||z>=x)&&(L=(Z*x+z)*4,$=g[E*h+D],_+=p[L]*$,P+=p[L+1]*$,A+=p[L+2]*$,T||(M+=p[L+3]*$));S[B]=_,S[B+1]=P,S[B+2]=A,T?S[B+3]=p[B+3]:S[B+3]=M}c.imageData=b},getUniformLocations:function(c,d){return{uMatrix:c.getUniformLocation(d,"uMatrix"),uOpaque:c.getUniformLocation(d,"uOpaque"),uHalfSize:c.getUniformLocation(d,"uHalfSize"),uSize:c.getUniformLocation(d,"uSize")}},sendUniformData:function(c,d){c.uniform1fv(d.uMatrix,this.matrix)},toObject:function(){return l(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Grayscale=f(l.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var c=a.imageData,d=c.data,p,g=d.length,h,v=this.mode;for(p=0;p<g;p+=4)v==="average"?h=(d[p]+d[p+1]+d[p+2])/3:v==="lightness"?h=(Math.min(d[p],d[p+1],d[p+2])+Math.max(d[p],d[p+1],d[p+2]))/2:v==="luminosity"&&(h=.21*d[p]+.72*d[p+1]+.07*d[p+2]),d[p]=h,d[p+1]=h,d[p+2]=h},retrieveShader:function(a){var c=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(c)){var d=this.fragmentSource[this.mode];a.programCache[c]=this.createProgram(a.context,d)}return a.programCache[c]},getUniformLocations:function(a,c){return{uMode:a.getUniformLocation(c,"uMode")}},sendUniformData:function(a,c){var d=1;a.uniform1i(c.uMode,d)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Invert=f(l.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var c=a.imageData,d=c.data,p,g=d.length;for(p=0;p<g;p+=4)d[p]=255-d[p],d[p+1]=255-d[p+1],d[p+2]=255-d[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,c){return{uInvert:a.getUniformLocation(c,"uInvert")}},sendUniformData:function(a,c){a.uniform1i(c.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.Image.filters,a=s.util.createClass;f.Noise=a(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var d=c.imageData,p=d.data,g,h=p.length,v=this.noise,x;for(g=0,h=p.length;g<h;g+=4)x=(.5-Math.random())*v,p[g]+=x,p[g+1]+=x,p[g+2]+=x}},getUniformLocations:function(c,d){return{uNoise:c.getUniformLocation(d,"uNoise"),uSeed:c.getUniformLocation(d,"uSeed")}},sendUniformData:function(c,d){c.uniform1f(d.uNoise,this.noise/255),c.uniform1f(d.uSeed,Math.random())},toObject:function(){return l(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Pixelate=f(l.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var c=a.imageData,d=c.data,p=c.height,g=c.width,h,v,x,w,b,S,T,_,P,A,M;for(v=0;v<p;v+=this.blocksize)for(x=0;x<g;x+=this.blocksize)for(h=v*4*g+x*4,w=d[h],b=d[h+1],S=d[h+2],T=d[h+3],A=Math.min(v+this.blocksize,p),M=Math.min(x+this.blocksize,g),_=v;_<A;_++)for(P=x;P<M;P++)h=_*4*g+P*4,d[h]=w,d[h+1]=b,d[h+2]=S,d[h+3]=T},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,c){return{uBlocksize:a.getUniformLocation(c,"uBlocksize"),uStepW:a.getUniformLocation(c,"uStepW"),uStepH:a.getUniformLocation(c,"uStepH")}},sendUniformData:function(a,c){a.uniform1f(c.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.extend,f=s.Image.filters,a=s.util.createClass;f.RemoveColor=a(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var d=c.imageData,p=d.data,g,h=this.distance*255,v,x,w,b=new s.Color(this.color).getSource(),S=[b[0]-h,b[1]-h,b[2]-h],T=[b[0]+h,b[1]+h,b[2]+h];for(g=0;g<p.length;g+=4)v=p[g],x=p[g+1],w=p[g+2],v>S[0]&&x>S[1]&&w>S[2]&&v<T[0]&&x<T[1]&&w<T[2]&&(p[g+3]=0)},getUniformLocations:function(c,d){return{uLow:c.getUniformLocation(d,"uLow"),uHigh:c.getUniformLocation(d,"uHigh")}},sendUniformData:function(c,d){var p=new s.Color(this.color).getSource(),g=parseFloat(this.distance),h=[0+p[0]/255-g,0+p[1]/255-g,0+p[2]/255-g,1],v=[p[0]/255+g,p[1]/255+g,p[2]/255+g,1];c.uniform4fv(d.uLow,h),c.uniform4fv(d.uHigh,v)},toObject:function(){return l(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in a)l[c]=f(l.ColorMatrix,{type:c,matrix:a[c],mainParameter:!1,colorsOnly:!0}),s.Image.filters[c].fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric,l=s.Image.filters,f=s.util.createClass;l.BlendColor=f(l.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var c=this.type+"_"+this.mode,d;return a.programCache.hasOwnProperty(c)||(d=this.buildSource(this.mode),a.programCache[c]=this.createProgram(a.context,d)),a.programCache[c]},applyTo2d:function(a){var c=a.imageData,d=c.data,p=d.length,g,h,v,x,w,b,S,T=1-this.alpha;S=new s.Color(this.color).getSource(),g=S[0]*this.alpha,h=S[1]*this.alpha,v=S[2]*this.alpha;for(var _=0;_<p;_+=4)switch(x=d[_],w=d[_+1],b=d[_+2],this.mode){case"multiply":d[_]=x*g/255,d[_+1]=w*h/255,d[_+2]=b*v/255;break;case"screen":d[_]=255-(255-x)*(255-g)/255,d[_+1]=255-(255-w)*(255-h)/255,d[_+2]=255-(255-b)*(255-v)/255;break;case"add":d[_]=x+g,d[_+1]=w+h,d[_+2]=b+v;break;case"diff":case"difference":d[_]=Math.abs(x-g),d[_+1]=Math.abs(w-h),d[_+2]=Math.abs(b-v);break;case"subtract":d[_]=x-g,d[_+1]=w-h,d[_+2]=b-v;break;case"darken":d[_]=Math.min(x,g),d[_+1]=Math.min(w,h),d[_+2]=Math.min(b,v);break;case"lighten":d[_]=Math.max(x,g),d[_+1]=Math.max(w,h),d[_+2]=Math.max(b,v);break;case"overlay":d[_]=g<128?2*x*g/255:255-2*(255-x)*(255-g)/255,d[_+1]=h<128?2*w*h/255:255-2*(255-w)*(255-h)/255,d[_+2]=v<128?2*b*v/255:255-2*(255-b)*(255-v)/255;break;case"exclusion":d[_]=g+x-2*g*x/255,d[_+1]=h+w-2*h*w/255,d[_+2]=v+b-2*v*b/255;break;case"tint":d[_]=g+x*T,d[_+1]=h+w*T,d[_+2]=v+b*T}},getUniformLocations:function(a,c){return{uColor:a.getUniformLocation(c,"uColor")}},sendUniformData:function(a,c){var d=new s.Color(this.color).getSource();d[0]=this.alpha*d[0]/255,d[1]=this.alpha*d[1]/255,d[2]=this.alpha*d[2]/255,d[3]=this.alpha,a.uniform4fv(c.uColor,d)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric,l=s.Image.filters,f=s.util.createClass;l.BlendImage=f(l.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var c=this.type+"_"+this.mode,d=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(c)||(a.programCache[c]=this.createProgram(a.context,d)),a.programCache[c]},applyToWebGL:function(a){var c=a.context,d=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(c,d,c.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(a,c){return a.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var a=this.image,c=a._element.width,d=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/c,-a.top/d,1]},applyTo2d:function(a){var c=a.imageData,d=a.filterBackend.resources,p=c.data,g=p.length,h=c.width,v=c.height,x,w,b,S,T,_,P,A,M,B,z=this.image,Z;d.blendImage||(d.blendImage=s.util.createCanvasElement()),M=d.blendImage,B=M.getContext("2d"),M.width!==h||M.height!==v?(M.width=h,M.height=v):B.clearRect(0,0,h,v),B.setTransform(z.scaleX,0,0,z.scaleY,z.left,z.top),B.drawImage(z._element,0,0,h,v),Z=B.getImageData(0,0,h,v).data;for(var L=0;L<g;L+=4)switch(T=p[L],_=p[L+1],P=p[L+2],A=p[L+3],x=Z[L],w=Z[L+1],b=Z[L+2],S=Z[L+3],this.mode){case"multiply":p[L]=T*x/255,p[L+1]=_*w/255,p[L+2]=P*b/255,p[L+3]=A*S/255;break;case"mask":p[L+3]=S;break}},getUniformLocations:function(a,c){return{uTransformMatrix:a.getUniformLocation(c,"uTransformMatrix"),uImage:a.getUniformLocation(c,"uImage")}},sendUniformData:function(a,c){var d=this.calculateMatrix();a.uniform1i(c.uImage,1),a.uniformMatrix3fv(c.uTransformMatrix,!1,d)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(a,c){s.Image.fromObject(a.image,function(d){var p=s.util.object.clone(a);p.image=d,c(new s.Image.filters.BlendImage(p))})}}(e),function(o){var s=o.fabric||(o.fabric={}),l=Math.pow,f=Math.floor,a=Math.sqrt,c=Math.abs,d=Math.round,p=Math.sin,g=Math.ceil,h=s.Image.filters,v=s.util.createClass;h.Resize=v(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(x,w){return{uDelta:x.getUniformLocation(w,"uDelta"),uTaps:x.getUniformLocation(w,"uTaps")}},sendUniformData:function(x,w){x.uniform2fv(w.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(w.uTaps,this.taps)},retrieveShader:function(x){var w=this.getFilterWindow(),b=this.type+"_"+w;if(!x.programCache.hasOwnProperty(b)){var S=this.generateShader(w);x.programCache[b]=this.createProgram(x.context,S)}return x.programCache[b]},getFilterWindow:function(){var x=this.tempScale;return Math.ceil(this.lanczosLobes/x)},getTaps:function(){for(var x=this.lanczosCreate(this.lanczosLobes),w=this.tempScale,b=this.getFilterWindow(),S=new Array(b),T=1;T<=b;T++)S[T-1]=x(T*w);return S},generateShader:function(S){for(var w=new Array(S),b=this.fragmentSourceTOP,S,T=1;T<=S;T++)w[T-1]=T+".0 * uDelta";return b+="uniform float uTaps["+S+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,w.forEach(function(_,P){b+="  color += texture2D(uTexture, vTexCoord + "+_+") * uTaps["+P+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+_+") * uTaps["+P+`];
`,b+="  sum += 2.0 * uTaps["+P+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(x){x.webgl?(x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceHeight=x.destinationHeight):this.applyTo2d(x)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(x){return function(w){if(w>=x||w<=-x)return 0;if(w<11920929e-14&&w>-11920929e-14)return 1;w*=Math.PI;var b=w/x;return p(w)/w*p(b)/b}},applyTo2d:function(x){var w=x.imageData,b=this.scaleX,S=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/S;var T=w.width,_=w.height,P=d(T*b),A=d(_*S),M;this.resizeType==="sliceHack"?M=this.sliceByTwo(x,T,_,P,A):this.resizeType==="hermite"?M=this.hermiteFastResize(x,T,_,P,A):this.resizeType==="bilinear"?M=this.bilinearFiltering(x,T,_,P,A):this.resizeType==="lanczos"&&(M=this.lanczosResize(x,T,_,P,A)),x.imageData=M},sliceByTwo:function(x,w,b,S,T){var _=x.imageData,P=.5,A=!1,M=!1,B=w*P,z=b*P,Z=s.filterBackend.resources,L,$,Q=0,G=0,D=w,E=0;for(Z.sliceByTwo||(Z.sliceByTwo=document.createElement("canvas")),L=Z.sliceByTwo,(L.width<w*1.5||L.height<b)&&(L.width=w*1.5,L.height=b),$=L.getContext("2d"),$.clearRect(0,0,w*1.5,b),$.putImageData(_,0,0),S=f(S),T=f(T);!A||!M;)w=B,b=z,S<f(B*P)?B=f(B*P):(B=S,A=!0),T<f(z*P)?z=f(z*P):(z=T,M=!0),$.drawImage(L,Q,G,w,b,D,E,B,z),Q=D,G=E,E+=z;return $.getImageData(Q,G,S,T)},lanczosResize:function(x,w,b,S,T){function _(k){var O,U,R,N,F,I,Y,W,q,ee,ie;for(E.x=(k+.5)*z,j.x=f(E.x),O=0;O<T;O++){for(E.y=(O+.5)*Z,j.y=f(E.y),F=0,I=0,Y=0,W=0,q=0,U=j.x-Q;U<=j.x+Q;U++)if(!(U<0||U>=w)){ee=f(1e3*c(U-E.x)),D[ee]||(D[ee]={});for(var X=j.y-G;X<=j.y+G;X++)X<0||X>=b||(ie=f(1e3*c(X-E.y)),D[ee][ie]||(D[ee][ie]=B(a(l(ee*L,2)+l(ie*$,2))/1e3)),R=D[ee][ie],R>0&&(N=(X*w+U)*4,F+=R,I+=R*P[N],Y+=R*P[N+1],W+=R*P[N+2],q+=R*P[N+3]))}N=(O*S+k)*4,M[N]=I/F,M[N+1]=Y/F,M[N+2]=W/F,M[N+3]=q/F}return++k<S?_(k):A}var P=x.imageData.data,A=x.ctx.createImageData(S,T),M=A.data,B=this.lanczosCreate(this.lanczosLobes),z=this.rcpScaleX,Z=this.rcpScaleY,L=2/this.rcpScaleX,$=2/this.rcpScaleY,Q=g(z*this.lanczosLobes/2),G=g(Z*this.lanczosLobes/2),D={},E={},j={};return _(0)},bilinearFiltering:function(x,w,b,S,T){var _,P,A,M,B,z,Z,L,$,Q,G,D,E=0,j,k=this.rcpScaleX,O=this.rcpScaleY,U=4*(w-1),R=x.imageData,N=R.data,F=x.ctx.createImageData(S,T),I=F.data;for(Z=0;Z<T;Z++)for(L=0;L<S;L++)for(B=f(k*L),z=f(O*Z),$=k*L-B,Q=O*Z-z,j=4*(z*w+B),G=0;G<4;G++)_=N[j+G],P=N[j+4+G],A=N[j+U+G],M=N[j+U+4+G],D=_*(1-$)*(1-Q)+P*$*(1-Q)+A*Q*(1-$)+M*$*Q,I[E++]=D;return F},hermiteFastResize:function(x,w,b,S,T){for(var _=this.rcpScaleX,P=this.rcpScaleY,A=g(_/2),M=g(P/2),B=x.imageData,z=B.data,Z=x.ctx.createImageData(S,T),L=Z.data,$=0;$<T;$++)for(var Q=0;Q<S;Q++){for(var G=(Q+$*S)*4,D=0,E=0,j=0,k=0,O=0,U=0,R=0,N=($+.5)*P,F=f($*P);F<($+1)*P;F++)for(var I=c(N-(F+.5))/M,Y=(Q+.5)*_,W=I*I,q=f(Q*_);q<(Q+1)*_;q++){var ee=c(Y-(q+.5))/A,ie=a(W+ee*ee);ie>1&&ie<-1||(D=2*ie*ie*ie-3*ie*ie+1,D>0&&(ee=4*(q+F*w),R+=D*z[ee+3],j+=D,z[ee+3]<255&&(D=D*z[ee+3]/250),k+=D*z[ee],O+=D*z[ee+1],U+=D*z[ee+2],E+=D))}L[G]=k/E,L[G+1]=O/E,L[G+2]=U/E,L[G+3]=R/j}return Z},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Contrast=f(l.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var c=a.imageData,d,g,p=c.data,g=p.length,h=Math.floor(this.contrast*255),v=259*(h+255)/(255*(259-h));for(d=0;d<g;d+=4)p[d]=v*(p[d]-128)+128,p[d+1]=v*(p[d+1]-128)+128,p[d+2]=v*(p[d+2]-128)+128}},getUniformLocations:function(a,c){return{uContrast:a.getUniformLocation(c,"uContrast")}},sendUniformData:function(a,c){a.uniform1f(c.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Saturation=f(l.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var c=a.imageData,d=c.data,p=d.length,g=-this.saturation,h,v;for(h=0;h<p;h+=4)v=Math.max(d[h],d[h+1],d[h+2]),d[h]+=v!==d[h]?(v-d[h])*g:0,d[h+1]+=v!==d[h+1]?(v-d[h+1])*g:0,d[h+2]+=v!==d[h+2]?(v-d[h+2])*g:0}},getUniformLocations:function(a,c){return{uSaturation:a.getUniformLocation(c,"uSaturation")}},sendUniformData:function(a,c){a.uniform1f(c.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Vibrance=f(l.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var c=a.imageData,d=c.data,p=d.length,g=-this.vibrance,h,v,x,w;for(h=0;h<p;h+=4)v=Math.max(d[h],d[h+1],d[h+2]),x=(d[h]+d[h+1]+d[h+2])/3,w=Math.abs(v-x)*2/255*g,d[h]+=v!==d[h]?(v-d[h])*w:0,d[h+1]+=v!==d[h+1]?(v-d[h+1])*w:0,d[h+2]+=v!==d[h+2]?(v-d[h+2])*w:0}},getUniformLocations:function(a,c){return{uVibrance:a.getUniformLocation(c,"uVibrance")}},sendUniformData:function(a,c){a.uniform1f(c.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Blur=f(l.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var c=a.filterBackend.resources,d,p,g=a.imageData.width,h=a.imageData.height;c.blurLayer1||(c.blurLayer1=s.util.createCanvasElement(),c.blurLayer2=s.util.createCanvasElement()),d=c.blurLayer1,p=c.blurLayer2,(d.width!==g||d.height!==h)&&(p.width=d.width=g,p.height=d.height=h);var v=d.getContext("2d"),x=p.getContext("2d"),w=15,b,S,T,_,P=this.blur*.06*.5;for(v.putImageData(a.imageData,0,0),x.clearRect(0,0,g,h),_=-w;_<=w;_++)b=(Math.random()-.5)/4,S=_/w,T=P*S*g+b,x.globalAlpha=1-Math.abs(S),x.drawImage(d,T,b),v.drawImage(p,0,0),x.globalAlpha=1,x.clearRect(0,0,p.width,p.height);for(_=-w;_<=w;_++)b=(Math.random()-.5)/4,S=_/w,T=P*S*h+b,x.globalAlpha=1-Math.abs(S),x.drawImage(d,b,T),v.drawImage(p,0,0),x.globalAlpha=1,x.clearRect(0,0,p.width,p.height);a.ctx.drawImage(d,0,0);var A=a.ctx.getImageData(0,0,d.width,d.height);return v.globalAlpha=1,v.clearRect(0,0,d.width,d.height),A},getUniformLocations:function(a,c){return{delta:a.getUniformLocation(c,"uDelta")}},sendUniformData:function(a,c){var d=this.chooseRightDelta();a.uniform2fv(c.delta,d)},chooseRightDelta:function(){var a=1,c=[0,0],d;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),d=a*this.blur*.12,this.horizontal?c[0]=d:c[1]=d,c}}),l.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Gamma=f(l.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],l.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var c=a.imageData,d=c.data,p=this.gamma,g=d.length,h=1/p[0],v=1/p[1],x=1/p[2],w;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),w=0,g=256;w<g;w++)this.rVals[w]=Math.pow(w/255,h)*255,this.gVals[w]=Math.pow(w/255,v)*255,this.bVals[w]=Math.pow(w/255,x)*255;for(w=0,g=d.length;w<g;w+=4)d[w]=this.rVals[d[w]],d[w+1]=this.gVals[d[w+1]],d[w+2]=this.bVals[d[w+2]]},getUniformLocations:function(a,c){return{uGamma:a.getUniformLocation(c,"uGamma")}},sendUniformData:function(a,c){a.uniform3fv(c.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.Composed=f(l.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(a)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(a,c){var d=a.subFilters||[],p=d.map(function(h){return new s.Image.filters[h.type](h)}),g=new s.Image.filters.Composed({subFilters:p});return c&&c(g),g}}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.Image.filters,f=s.util.createClass;l.HueRotation=f(l.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,c=s.util.cos(a),d=s.util.sin(a),p=1/3,g=Math.sqrt(p)*d,h=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+h/3,this.matrix[1]=p*h-g,this.matrix[2]=p*h+g,this.matrix[5]=p*h+g,this.matrix[6]=c+p*h,this.matrix[7]=p*h-g,this.matrix[10]=p*h-g,this.matrix[11]=p*h+g,this.matrix[12]=c+p*h},isNeutralState:function(a){return this.calculateMatrix(),l.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),l.BaseFilter.prototype.applyTo.call(this,a)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),l=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(f),cacheProperties:s.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,c){this.styles=c?c.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=s.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var a=this.getHeightOfLine(0)*1.1;this.width=this.path.width+a,this.height=this.path.height+a}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var a,c,d,p,g,h,v,x=0,w=this._textLines.length;x<w;x++)if(!(this.textAlign!=="justify"&&(x===w-1||this.isEndOfWrapping(x)))&&(p=0,g=this._textLines[x],c=this.getLineWidth(x),c<this.width&&(v=this.textLines[x].match(this._reSpacesAndTabs)))){d=v.length,a=(this.width-c)/d;for(var b=0,S=g.length;b<=S;b++)h=this.__charBounds[x][b],this._reSpaceAndTab.test(g[b])?(h.width+=a,h.kernedWidth+=a,h.left+=p,p+=a):h.left+=p}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return a.width+=c*a.zoomX,a.height+=c*a.zoomY,a},_render:function(a){var c=this.path;c&&!c.isNotVisible()&&c._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,c,d){if(a.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(c,d)},calcTextWidth:function(){for(var a=this.getLineWidth(0),c=1,d=this._textLines.length;c<d;c++){var p=this.getLineWidth(c);p>a&&(a=p)}return a},_renderTextLine:function(a,c,d,p,g,h){this._renderChars(a,c,d,p,g,h)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,d,p=a.fillStyle,g,h,v=this._getLeftOffset(),x=this._getTopOffset(),w=0,b=0,S,T,_=this.path,P,A=0,M=this._textLines.length;A<M;A++){if(c=this.getHeightOfLine(A),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){x+=c;continue}g=this._textLines[A],d=this._getLineLeftOffset(A),b=0,w=0,h=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(var B=0,z=g.length;B<z;B++)S=this.__charBounds[A][B],T=this.getValueOfPropertyAt(A,B,"textBackgroundColor"),_?(a.save(),a.translate(S.renderLeft,S.renderTop),a.rotate(S.angle),a.fillStyle=T,T&&a.fillRect(-S.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),S.width,c/this.lineHeight),a.restore()):T!==h?(P=v+d+w,this.direction==="rtl"&&(P=this.width-P-b),a.fillStyle=h,h&&a.fillRect(P,x,b,c/this.lineHeight),w=S.left,b=S.width,h=T):b+=S.kernedWidth;T&&!_&&(P=v+d+w,this.direction==="rtl"&&(P=this.width-P-b),a.fillStyle=T,a.fillRect(P,x,b,c/this.lineHeight)),x+=c}a.fillStyle=p,this._removeShadow(a)}},getFontCache:function(a){var c=a.fontFamily.toLowerCase();s.charWidthsCache[c]||(s.charWidthsCache[c]={});var d=s.charWidthsCache[c],p=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return d[p]||(d[p]={}),d[p]},_measureChar:function(a,c,d,p){var g=this.getFontCache(c),h=this._getFontDeclaration(c),v=this._getFontDeclaration(p),x=d+a,w=h===v,b,S,T,_=c.fontSize/this.CACHE_FONT_SIZE,P;if(d&&g[d]!==void 0&&(T=g[d]),g[a]!==void 0&&(P=b=g[a]),w&&g[x]!==void 0&&(S=g[x],P=S-T),b===void 0||T===void 0||S===void 0){var A=this.getMeasuringContext();this._setTextStyles(A,c,!0)}return b===void 0&&(P=b=A.measureText(a).width,g[a]=b),T===void 0&&w&&d&&(T=A.measureText(d).width,g[d]=T),w&&S===void 0&&(S=A.measureText(x).width,g[x]=S,P=S-T),{width:b*_,kernedWidth:P*_}},getHeightOfChar:function(a,c){return this.getValueOfPropertyAt(a,c,"fontSize")},measureLine:function(a){var c=this._measureLine(a);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(a){var c=0,d,p,g=this._textLines[a],h,v,x=0,w=new Array(g.length),b=0,S,T,_=this.path,P=this.pathSide==="right";for(this.__charBounds[a]=w,d=0;d<g.length;d++)p=g[d],v=this._getGraphemeBox(p,a,d,h),w[d]=v,c+=v.kernedWidth,h=p;if(w[d]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},_){switch(T=_.segmentsInfo[_.segmentsInfo.length-1].length,S=s.util.getPointOnPath(_.path,0,_.segmentsInfo),S.x+=_.pathOffset.x,S.y+=_.pathOffset.y,this.textAlign){case"left":b=P?T-c:0;break;case"center":b=(T-c)/2;break;case"right":b=P?0:T-c;break}for(b+=this.pathStartOffset*(P?-1:1),d=P?g.length-1:0;P?d>=0:d<g.length;P?d--:d++)v=w[d],b>T?b%=T:b<0&&(b+=T),this._setGraphemeOnPath(b,v,S),b+=v.kernedWidth}return{width:c,numOfSpaces:x}},_setGraphemeOnPath:function(a,c,d){var p=a+c.kernedWidth/2,g=this.path,h=s.util.getPointOnPath(g.path,p,g.segmentsInfo);c.renderLeft=h.x-d.x,c.renderTop=h.y-d.y,c.angle=h.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,c,d,p,g){var h=this.getCompleteStyleDeclaration(c,d),v=p?this.getCompleteStyleDeclaration(c,d-1):{},x=this._measureChar(a,h,p,v),w=x.kernedWidth,b=x.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),b+=S,w+=S);var T={width:b,left:0,height:h.fontSize,kernedWidth:w,deltaY:h.deltaY};if(d>0&&!g){var _=this.__charBounds[c][d-1];T.left=_.left+_.width+x.kernedWidth-x.width}return T},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var c=this._textLines[a],d=this.getHeightOfChar(a,0),p=1,g=c.length;p<g;p++)d=Math.max(this.getHeightOfChar(a,p),d);return this.__lineHeights[a]=d*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,c=0,d=0,p=this._textLines.length;d<p;d++)a=this.getHeightOfLine(d),c+=d===p-1?a/this.lineHeight:a;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,c){a.save();for(var d=0,p=this._getLeftOffset(),g=this._getTopOffset(),h=0,v=this._textLines.length;h<v;h++){var x=this.getHeightOfLine(h),w=x/this.lineHeight,b=this._getLineLeftOffset(h);this._renderTextLine(c,a,this._textLines[h],p+b,g+d+w,h),d+=x}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,c,d,p,g,h){var v=this.getHeightOfLine(h),x=this.textAlign.indexOf("justify")!==-1,w,b,S="",T,_=0,P,A=this.path,M=!x&&this.charSpacing===0&&this.isEmptyStyles(h)&&!A,B=this.direction==="ltr",z=this.direction==="ltr"?1:-1,Z,L=c.canvas.getAttribute("dir");if(c.save(),L!==this.direction&&(c.canvas.setAttribute("dir",B?"ltr":"rtl"),c.direction=B?"ltr":"rtl",c.textAlign=B?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,M){this._renderChar(a,c,h,0,d.join(""),p,g,v),c.restore();return}for(var $=0,Q=d.length-1;$<=Q;$++)P=$===Q||this.charSpacing||A,S+=d[$],T=this.__charBounds[h][$],_===0?(p+=z*(T.kernedWidth-T.width),_+=T.width):_+=T.kernedWidth,x&&!P&&this._reSpaceAndTab.test(d[$])&&(P=!0),P||(w=w||this.getCompleteStyleDeclaration(h,$),b=this.getCompleteStyleDeclaration(h,$+1),P=s.util.hasStyleChanged(w,b,!1)),P&&(A?(c.save(),c.translate(T.renderLeft,T.renderTop),c.rotate(T.angle),this._renderChar(a,c,h,$,S,-_/2,0,v),c.restore()):(Z=p,this._renderChar(a,c,h,$,S,Z,g,v)),S="",w=b,p+=z*_,_=0);c.restore()},_applyPatternGradientTransformText:function(a){var c=s.util.createCanvasElement(),d,p=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return c.width=p,c.height=g,d=c.getContext("2d"),d.beginPath(),d.moveTo(0,0),d.lineTo(p,0),d.lineTo(p,g),d.lineTo(0,g),d.closePath(),d.translate(p/2,g/2),d.fillStyle=a.toLive(d),this._applyPatternGradientTransform(d,a),d.fill(),d.createPattern(c,"no-repeat")},handleFiller:function(a,c,d){var p,g;return d.toLive?d.gradientUnits==="percentage"||d.gradientTransform||d.patternTransform?(p=-this.width/2,g=-this.height/2,a.translate(p,g),a[c]=this._applyPatternGradientTransformText(d),{offsetX:p,offsetY:g}):(a[c]=d.toLive(a,this),this._applyPatternGradientTransform(a,d)):(a[c]=d,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,c){return a.lineWidth=c.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",c.stroke)},_setFillStyles:function(a,c){return this.handleFiller(a,"fillStyle",c.fill)},_renderChar:function(a,c,d,p,g,h,v){var x=this._getStyleDeclaration(d,p),w=this.getCompleteStyleDeclaration(d,p),b=a==="fillText"&&w.fill,S=a==="strokeText"&&w.stroke&&w.strokeWidth,T,_;!S&&!b||(c.save(),b&&(T=this._setFillStyles(c,w)),S&&(_=this._setStrokeStyles(c,w)),c.font=this._getFontDeclaration(w),x&&x.textBackgroundColor&&this._removeShadow(c),x&&x.deltaY&&(v+=x.deltaY),b&&c.fillText(g,h-T.offsetX,v-T.offsetY),S&&c.strokeText(g,h-_.offsetX,v-_.offsetY),c.restore())},setSuperscript:function(a,c){return this._setScript(a,c,this.superscript)},setSubscript:function(a,c){return this._setScript(a,c,this.subscript)},_setScript:function(a,c,d){var p=this.get2DCursorLocation(a,!0),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),h=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),v={fontSize:g*d.size,deltaY:h+g*d.baseline};return this.setSelectionStyles(v,a,c),this},_getLineLeftOffset:function(a){var c=this.getLineWidth(a),d=this.width-c,p=this.textAlign,g=this.direction,v,h=0,v=this.isEndOfWrapping(a);return p==="justify"||p==="justify-center"&&!v||p==="justify-right"&&!v||p==="justify-left"&&!v?0:(p==="center"&&(h=d/2),p==="right"&&(h=d),p==="justify-center"&&(h=d/2),p==="justify-right"&&(h=d),g==="rtl"&&(h-=d),h)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var c=this.measureLine(a),d=c.width;return this.__lineWidths[a]=d,d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,c,d){var p=this._getStyleDeclaration(a,c);return p&&typeof p[d]<"u"?p[d]:this[d]},_renderTextDecoration:function(a,c){if(!(!this[c]&&!this.styleHas(c))){a.save(),(c==="overline"||c==="linethrough")&&this._removeShadow(a);for(var d,p,g,h,v,x,w,b,S=this._getLeftOffset(),T=this._getTopOffset(),_,P,A,M,B,z,Z,L,$=this.path,Q=this._getWidthOfCharSpacing(),G=this.offsets[c],D=0,E=this._textLines.length;D<E;D++){if(d=this.getHeightOfLine(D),!this[c]&&!this.styleHas(c,D)){T+=d;continue}w=this._textLines[D],z=d/this.lineHeight,h=this._getLineLeftOffset(D),P=0,A=0,b=this.getValueOfPropertyAt(D,0,c),L=this.getValueOfPropertyAt(D,0,"fill"),_=T+z*(1-this._fontSizeFraction),p=this.getHeightOfChar(D,0),v=this.getValueOfPropertyAt(D,0,"deltaY");for(var j=0,k=w.length;j<k;j++)if(M=this.__charBounds[D][j],B=this.getValueOfPropertyAt(D,j,c),Z=this.getValueOfPropertyAt(D,j,"fill"),g=this.getHeightOfChar(D,j),x=this.getValueOfPropertyAt(D,j,"deltaY"),$&&B&&Z)a.save(),a.fillStyle=L,a.translate(M.renderLeft,M.renderTop),a.rotate(M.angle),a.fillRect(-M.kernedWidth/2,G*g+x,M.kernedWidth,this.fontSize/15),a.restore();else if((B!==b||Z!==L||g!==p||x!==v)&&A>0){var O=S+h+P;this.direction==="rtl"&&(O=this.width-O-A),b&&L&&(a.fillStyle=L,a.fillRect(O,_+G*p+v,A,this.fontSize/15)),P=M.left,A=M.width,b=B,L=Z,p=g,v=x}else A+=M.kernedWidth;var O=S+h+P;this.direction==="rtl"&&(O=this.width-O-A),a.fillStyle=Z,B&&Z&&a.fillRect(O,_+G*p+v,A-Q,this.fontSize/15),T+=d}a.restore()}},_getFontDeclaration:function(a,c){var d=a||this,p=this.fontFamily,g=s.Text.genericFonts.indexOf(p.toLowerCase())>-1,h=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||g?d.fontFamily:'"'+d.fontFamily+'"';return[s.isLikelyNode?d.fontWeight:d.fontStyle,s.isLikelyNode?d.fontStyle:d.fontWeight,c?this.CACHE_FONT_SIZE+"px":d.fontSize+"px",h].join(" ")},render:function(a){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a)))},_splitTextIntoLines:function(a){for(var c=a.split(this._reNewline),d=new Array(c.length),p=[`
`],g=[],h=0;h<c.length;h++)d[h]=s.util.string.graphemeSplit(c[h]),g=g.concat(d[h],p);return g.pop(),{_unwrappedLines:d,lines:c,graphemeText:g,graphemeLines:d}},toObject:function(a){var c=f.concat(a),d=this.callSuper("toObject",c);return d.styles=s.util.stylesToArray(this.styles,this.text),d.path&&(d.path=this.path.toObject()),d},set:function(a,c){this.callSuper("set",a,c);var d=!1,p=!1;if(typeof a=="object")for(var g in a)g==="path"&&this.setPathInfo(),d=d||this._dimensionAffectingProps.indexOf(g)!==-1,p=p||g==="path";else d=this._dimensionAffectingProps.indexOf(a)!==-1,p=a==="path";return p&&this.setPathInfo(),d&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(a,c,d){if(!a)return c(null);var p=s.parseAttributes(a,s.Text.ATTRIBUTE_NAMES),g=p.textAnchor||"left";if(d=s.util.object.extend(d?l(d):{},p),d.top=d.top||0,d.left=d.left||0,p.textDecoration){var h=p.textDecoration;h.indexOf("underline")!==-1&&(d.underline=!0),h.indexOf("overline")!==-1&&(d.overline=!0),h.indexOf("line-through")!==-1&&(d.linethrough=!0),delete d.textDecoration}"dx"in p&&(d.left+=p.dx),"dy"in p&&(d.top+=p.dy),"fontSize"in d||(d.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in a?v=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(v=a.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var x=d.strokeWidth;d.strokeWidth=0;var w=new s.Text(v,d),b=w.getScaledHeight()/w.height,S=(w.height+w.strokeWidth)*w.lineHeight-w.height,T=S*b,_=w.getScaledHeight()+T,P=0;g==="center"&&(P=w.getScaledWidth()/2),g==="right"&&(P=w.getScaledWidth()),w.set({left:w.left-P,top:w.top-(_-w.fontSize*(.07+w._fontSizeFraction))/w.lineHeight,strokeWidth:typeof x<"u"?x:1}),c(w)},s.Text.fromObject=function(a,c){var d=l(a),p=a.path;return delete d.path,s.Object._fromObject("Text",d,function(g){g.styles=s.util.stylesFromArray(a.styles,a.text),p?s.Object._fromObject("Path",p,function(h){g.set("path",h),c(g)},"path"):c(g)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(o){if(!this.styles||typeof o<"u"&&!this.styles[o])return!0;var s=typeof o>"u"?this.styles:{line:this.styles[o]};for(var l in s)for(var f in s[l])for(var a in s[l][f])return!1;return!0},styleHas:function(o,s){if(!this.styles||!o||o===""||typeof s<"u"&&!this.styles[s])return!1;var l=typeof s>"u"?this.styles:{0:this.styles[s]};for(var f in l)for(var a in l[f])if(typeof l[f][a][o]<"u")return!0;return!1},cleanStyle:function(o){if(!this.styles||!o||o==="")return!1;var s=this.styles,l=0,f,a,c=!0,d=0,p;for(var g in s){f=0;for(var h in s[g]){var p=s[g][h],v=p.hasOwnProperty(o);l++,v?(a?p[o]!==a&&(c=!1):a=p[o],p[o]===this[o]&&delete p[o]):c=!1,Object.keys(p).length!==0?f++:delete s[g][h]}f===0&&delete s[g]}for(var x=0;x<this._textLines.length;x++)d+=this._textLines[x].length;c&&l===d&&(this[o]=a,this.removeStyle(o))},removeStyle:function(o){if(!(!this.styles||!o||o==="")){var s=this.styles,l,f,a;for(f in s){l=s[f];for(a in l)delete l[a][o],Object.keys(l[a]).length===0&&delete l[a];Object.keys(l).length===0&&delete s[f]}}},_extendStyles:function(o,s){var l=this.get2DCursorLocation(o);this._getLineStyle(l.lineIndex)||this._setLineStyle(l.lineIndex),this._getStyleDeclaration(l.lineIndex,l.charIndex)||this._setStyleDeclaration(l.lineIndex,l.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(l.lineIndex,l.charIndex),s)},get2DCursorLocation:function(o,s){typeof o>"u"&&(o=this.selectionStart);for(var l=s?this._unwrappedTextLines:this._textLines,f=l.length,a=0;a<f;a++){if(o<=l[a].length)return{lineIndex:a,charIndex:o};o-=l[a].length+this.missingNewlineOffset(a,s)}return{lineIndex:a-1,charIndex:l[a-1].length<o?l[a-1].length:o}},getSelectionStyles:function(o,s,l){typeof o>"u"&&(o=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||o);for(var f=[],a=o;a<s;a++)f.push(this.getStyleAtPosition(a,l));return f},getStyleAtPosition:function(o,s){var l=this.get2DCursorLocation(o),f=s?this.getCompleteStyleDeclaration(l.lineIndex,l.charIndex):this._getStyleDeclaration(l.lineIndex,l.charIndex);return f||{}},setSelectionStyles:function(o,s,l){typeof s>"u"&&(s=this.selectionStart||0),typeof l>"u"&&(l=this.selectionEnd||s);for(var f=s;f<l;f++)this._extendStyles(f,o);return this._forceClearCache=!0,this},_getStyleDeclaration:function(o,s){var l=this.styles&&this.styles[o];return l?l[s]:null},getCompleteStyleDeclaration:function(o,s){for(var l=this._getStyleDeclaration(o,s)||{},f={},a,c=0;c<this._styleProperties.length;c++)a=this._styleProperties[c],f[a]=typeof l[a]>"u"?this[a]:l[a];return f},_setStyleDeclaration:function(o,s,l){this.styles[o][s]=l},_deleteStyleDeclaration:function(o,s){delete this.styles[o][s]},_getLineStyle:function(o){return!!this.styles[o]},_setLineStyle:function(o){this.styles[o]={}},_deleteLineStyle:function(o){delete this.styles[o]}})}(),function(){function o(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,l){this.callSuper("initialize",s,l),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,l){this[s]!==l&&(this._fireSelectionChanged(),this[s]=l),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var l=this.canvas.contextTop,f=this.canvas.viewportTransform;l.save(),l.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(l),this._clearTextArea(l),s||l.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),l=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,l):this.renderSelection(s,l),l.restore()}},_clearTextArea:function(s){var l=this.width+4,f=this.height+4;s.clearRect(-l/2,-f/2,l,f)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var l=this._getLeftOffset(),f=this._getTopOffset(),a=this._getCursorBoundariesOffsets(s);return{left:l,top:f,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var l,f,a,c=0,d=0,p,g=this.get2DCursorLocation(s);a=g.charIndex,f=g.lineIndex;for(var h=0;h<f;h++)c+=this.getHeightOfLine(h);l=this._getLineLeftOffset(f);var v=this.__charBounds[f][a];return v&&(d=v.left),this.charSpacing!==0&&a===this._textLines[f].length&&(d-=this._getWidthOfCharSpacing()),p={top:c,left:l+(d>0?d:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(s,l){var f=this.get2DCursorLocation(),a=f.lineIndex,c=f.charIndex>0?f.charIndex-1:0,d=this.getValueOfPropertyAt(a,c,"fontSize"),p=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/p,h=s.topOffset,v=this.getValueOfPropertyAt(a,c,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-d*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,l),l.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,c,"fill"),l.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,l.fillRect(s.left+s.leftOffset-g/2,h+s.top+v,g,d)},renderSelection:function(s,l){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,d=this.get2DCursorLocation(f),p=this.get2DCursorLocation(a),g=d.lineIndex,h=p.lineIndex,v=d.charIndex<0?0:d.charIndex,x=p.charIndex<0?0:p.charIndex,w=g;w<=h;w++){var b=this._getLineLeftOffset(w)||0,S=this.getHeightOfLine(w),T=0,_=0,P=0;if(w===g&&(_=this.__charBounds[g][v].left),w>=g&&w<h)P=c&&!this.isEndOfWrapping(w)?this.width:this.getLineWidth(w)||5;else if(w===h)if(x===0)P=this.__charBounds[h][x].left;else{var A=this._getWidthOfCharSpacing();P=this.__charBounds[h][x-1].left+this.__charBounds[h][x-1].width-A}T=S,(this.lineHeight<1||w===h&&this.lineHeight>1)&&(S/=this.lineHeight);var M=s.left+b+_,B=P-_,z=S,Z=0;this.inCompositionMode?(l.fillStyle=this.compositionColor||"black",z=1,Z=S):l.fillStyle=this.selectionColor,this.direction==="rtl"&&(M=this.width-M-B),l.fillRect(M,s.top+s.topOffset+Z,B,z),s.topOffset+=T}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),l=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c:l}}}),t.IText.fromObject=function(s,l){var f=t.util.stylesFromArray(s.styles,s.text),a=Object.assign({},s,{styles:f});if(delete a.path,o(a),a.styles)for(var c in a.styles)for(var d in a.styles[c])o(a.styles[c][d]);t.Object._fromObject("IText",a,function(p){s.path?t.Object._fromObject("Path",s.path,function(g){p.set("path",g),l(p)},"path"):l(p)},"text")}}(),function(){var o=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var l=s.canvas;l&&(l._hasITextHandlers||(l._hasITextHandlers=!0,s._initCanvasHandlers(l)),l._iTextInstances=l._iTextInstances||[],l._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var l=s.canvas;l&&(l._iTextInstances=l._iTextInstances||[],t.util.removeFromArray(l._iTextInstances,s),l._iTextInstances.length===0&&(l._hasITextHandlers=!1,s._removeCanvasHandlers(l)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(l){l.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,l,f,a){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",l,{duration:f,onComplete:function(){c.isAborted||s[a]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var l=this,f=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){l._tick()},f)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,l=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&l&&l.clearContext(l.contextTop||l.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var l=0,f=s-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)l++,f--;for(;/\S/.test(this._text[f])&&f>-1;)l++,f--;return s-l},findWordBoundaryRight:function(s){var l=0,f=s;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)l++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)l++,f++;return s+l},findLineBoundaryLeft:function(s){for(var l=0,f=s-1;!/\n/.test(this._text[f])&&f>-1;)l++,f--;return s-l},findLineBoundaryRight:function(s){for(var l=0,f=s;!/\n/.test(this._text[f])&&f<this._text.length;)l++,f++;return s+l},searchWordBoundary:function(s,l){for(var f=this._text,a=this._reSpace.test(f[s])?s-1:s,c=f[a],d=t.reNonWord;!d.test(c)&&a>0&&a<f.length;)a+=l,c=f[a];return d.test(c)&&(a+=l===1?0:1),a},selectWord:function(s){s=s||this.selectionStart;var l=this.searchWordBoundary(s,-1),f=this.searchWordBoundary(s,1);this.selectionStart=l,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var l=this.findLineBoundaryLeft(s),f=this.findLineBoundaryRight(s);return this.selectionStart=l,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(l){l.selected=!1,l.isEditing&&l.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var l=this.getSelectionStartFromPointer(s.e),f=this.selectionStart,a=this.selectionEnd;(l!==this.__selectionStartOnMouseDown||f===a)&&(f===l||a===l)||(l>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=l):(this.selectionStart=l,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,l,f){var a=f.slice(0,s),c=t.util.string.graphemeSplit(a).length;if(s===l)return{selectionStart:c,selectionEnd:c};var d=f.slice(s,l),p=t.util.string.graphemeSplit(d).length;return{selectionStart:c,selectionEnd:c+p}},fromGraphemeToStringSelection:function(s,l,f){var a=f.slice(0,s),c=a.join("").length;if(s===l)return{selectionStart:c,selectionEnd:c};var d=f.slice(s,l),p=d.join("").length;return{selectionStart:c,selectionEnd:c+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,l=this._getCursorBoundaries(s),f=this.get2DCursorLocation(s),a=f.lineIndex,c=f.charIndex,d=this.getValueOfPropertyAt(a,c,"fontSize")*this.lineHeight,p=l.leftOffset,g=this.calcTransformMatrix(),h={x:l.left+p,y:l.top+l.topOffset+d},v=this.canvas.getRetinaScaling(),x=this.canvas.upperCanvasEl,w=x.width/v,b=x.height/v,S=w-d,T=b-d,_=x.clientWidth/w,P=x.clientHeight/b;return h=t.util.transformPoint(h,g),h=t.util.transformPoint(h,this.canvas.viewportTransform),h.x*=_,h.y*=P,h.x<0&&(h.x=0),h.x>S&&(h.x=S),h.y<0&&(h.y=0),h.y>T&&(h.y=T),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:d+"px",charHeight:d}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,l=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,l&&(l.blur&&l.blur(),l.parentNode&&l.parentNode.removeChild(l)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,l){var f=this.get2DCursorLocation(s,!0),a=this.get2DCursorLocation(l,!0),c=f.lineIndex,d=f.charIndex,p=a.lineIndex,g=a.charIndex,h,v;if(c!==p){if(this.styles[c])for(h=d;h<this._unwrappedTextLines[c].length;h++)delete this.styles[c][h];if(this.styles[p])for(h=g;h<this._unwrappedTextLines[p].length;h++)v=this.styles[p][h],v&&(this.styles[c]||(this.styles[c]={}),this.styles[c][d+h-g]=v);for(h=c+1;h<=p;h++)delete this.styles[h];this.shiftLineStyles(p,c-p)}else if(this.styles[c]){v=this.styles[c];var x=g-d,w,b;for(h=d;h<g;h++)delete v[h];for(b in this.styles[c])w=parseInt(b,10),w>=g&&(v[w-x]=v[b],delete v[b])}},shiftLineStyles:function(s,l){var f=o(this.styles);for(var a in this.styles){var c=parseInt(a,10);c>s&&(this.styles[c+l]=f[c],f[c-l]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,l,f,a){var c,d={},p=!1,g=this._unwrappedTextLines[s].length,h=g===l;f||(f=1),this.shiftLineStyles(s,f),this.styles[s]&&(c=this.styles[s][l===0?l:l-1]);for(var v in this.styles[s]){var x=parseInt(v,10);x>=l&&(p=!0,d[x-l]=this.styles[s][v],h&&l===0||delete this.styles[s][v])}var w=!1;for(p&&!h&&(this.styles[s+f]=d,w=!0),(w||g>l)&&f--;f>0;)a&&a[f-1]?this.styles[s+f]={0:o(a[f-1])}:c?this.styles[s+f]={0:o(c)}:delete this.styles[s+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(s,l,f,a){this.styles||(this.styles={});var c=this.styles[s],d=c?o(c):{};f||(f=1);for(var p in d){var g=parseInt(p,10);g>=l&&(c[g+f]=d[g],d[g-f]||delete c[g])}if(this._forceClearCache=!0,a){for(;f--;)Object.keys(a[f]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][l+f]=o(a[f]));return}if(c)for(var h=c[l?l-1:1];h&&f--;)this.styles[s][l+f]=o(h)},insertNewStyleBlock:function(s,l,f){for(var a=this.get2DCursorLocation(l,!0),c=[0],d=0,p=0;p<s.length;p++)s[p]===`
`?(d++,c[d]=0):c[d]++;c[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,c[0],f),f=f&&f.slice(c[0]+1)),d&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+c[0],d);for(var p=1;p<d;p++)c[p]>0?this.insertCharStyleObject(a.lineIndex+p,0,c[p],f):f&&this.styles[a.lineIndex+p]&&f[0]&&(this.styles[a.lineIndex+p][0]=f[0]),f=f&&f.slice(c[p]+1);c[p]>0&&this.insertCharStyleObject(a.lineIndex+p,0,c[p],f)},setSelectionStartEndWithShift:function(s,l,f){f<=s?(l===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=f):f>s&&f<l?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(l===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=l),this.selectionEnd=f)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(o){if(this.canvas){this.__newClickTime=+new Date;var s=o.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",o),this._stopEvent(o.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(o){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===o.x&&this.__lastPointer.y===o.y},_stopEvent:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(o){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(o.e))},tripleClickHandler:function(o){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(o.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(o.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(o){if(this.__isMousedown=!1,!(!this.editable||this.group||o.transform&&o.transform.actionPerformed||o.e.button&&o.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(o.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(o){var s=this.getSelectionStartFromPointer(o),l=this.selectionStart,f=this.selectionEnd;o.shiftKey?this.setSelectionStartEndWithShift(l,f,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(o){for(var s=this.getLocalPointer(o),l=0,f=0,a=0,c=0,d=0,p,g,h=0,v=this._textLines.length;h<v&&a<=s.y;h++)a+=this.getHeightOfLine(h)*this.scaleY,d=h,h>0&&(c+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));p=this._getLineLeftOffset(d),f=p*this.scaleX,g=this._textLines[d],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+f);for(var x=0,w=g.length;x<w&&(l=f,f+=this.__charBounds[d][x].kernedWidth*this.scaleX,f<=s.x);x++)c++;return this._getNewSelectionStartFromOffset(s,l,f,c,w)},_getNewSelectionStartFromOffset:function(o,s,l,f,a){var c=o.x-s,d=l-o.x,p=d>c||d<0?0:1,g=f+p;return this.flipX&&(g=a-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var o=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+o.top+"; left: "+o.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+o.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(o){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(o.keyCode in s)this[s[o.keyCode]](o);else if(o.keyCode in this.ctrlKeysMapDown&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapDown[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),o.keyCode>=33&&o.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(o){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(o.keyCode in this.ctrlKeysMapUp&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapUp[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(o){var s=this.fromPaste;if(this.fromPaste=!1,o&&o.stopPropagation(),!!this.isEditing){var l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,a=l.length,c,d,p=a-f,g=this.selectionStart,h=this.selectionEnd,v=g!==h,x,w,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),T=g>S.selectionStart;v?(c=this._text.slice(g,h),p+=h-g):a<f&&(T?c=this._text.slice(h+p,h):c=this._text.slice(g,g-p)),d=l.slice(S.selectionEnd-p,S.selectionEnd),c&&c.length&&(d.length&&(x=this.getSelectionStyles(g,g+1,!1),x=d.map(function(){return x[0]})),v?(w=g,b=h):T?(w=h-c.length,b=h):(w=h,b=h+c.length),this.removeStyleFromTo(w,b)),d.length&&(s&&d.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(x=t.copiedTextStyle),this.insertNewStyleBlock(d,g,x)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(o){this.compositionStart=o.target.selectionStart,this.compositionEnd=o.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(o){return o&&o.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(o,s){var l=this._getLineLeftOffset(o),f;return s>0&&(f=this.__charBounds[o][s-1],l+=f.left+f.width),l},getDownCursorOffset:function(o,s){var l=this._getSelectionForOffset(o,s),f=this.get2DCursorLocation(l),a=f.lineIndex;if(a===this._textLines.length-1||o.metaKey||o.keyCode===34)return this._text.length-l;var c=f.charIndex,d=this._getWidthBeforeCursor(a,c),p=this._getIndexOnLine(a+1,d),g=this._textLines[a].slice(c);return g.length+p+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(o,s){return o.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(o,s){var l=this._getSelectionForOffset(o,s),f=this.get2DCursorLocation(l),a=f.lineIndex;if(a===0||o.metaKey||o.keyCode===33)return-l;var c=f.charIndex,d=this._getWidthBeforeCursor(a,c),p=this._getIndexOnLine(a-1,d),g=this._textLines[a].slice(0,c),h=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+p-g.length+(1-h)},_getIndexOnLine:function(o,s){for(var l=this._textLines[o],f=this._getLineLeftOffset(o),a=f,c=0,d,p,g=0,h=l.length;g<h;g++)if(d=this.__charBounds[o][g].width,a+=d,a>s){p=!0;var v=a-d,x=a,w=Math.abs(v-s),b=Math.abs(x-s);c=b<w?g:g-1;break}return p||(c=l.length-1),c},moveCursorDown:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",o)},moveCursorUp:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",o)},_moveCursorUpOrDown:function(o,s){var l="get"+o+"CursorOffset",f=this[l](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(o){var s=this._selectionDirection==="left"?this.selectionStart+o:this.selectionEnd+o;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),o!==0},moveCursorWithoutShift:function(o){return o<0?(this.selectionStart+=o,this.selectionEnd=this.selectionStart):(this.selectionEnd+=o,this.selectionStart=this.selectionEnd),o!==0},moveCursorLeft:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",o)},_move:function(o,s,l){var f;if(o.altKey)f=this["findWordBoundary"+l](this[s]);else if(o.metaKey||o.keyCode===35||o.keyCode===36)f=this["findLineBoundary"+l](this[s]);else return this[s]+=l==="Left"?-1:1,!0;if(typeof f<"u"&&this[s]!==f)return this[s]=f,!0},_moveLeft:function(o,s){return this._move(o,s,"Left")},_moveRight:function(o,s){return this._move(o,s,"Right")},moveCursorLeftWithoutShift:function(o){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(o,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(o){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(o,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(o,"selectionStart")},moveCursorRight:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",o)},_moveCursorLeftOrRight:function(o,s){var l="moveCursor"+o+"With";this._currentCursorOpacity=1,s.shiftKey?l+="Shift":l+="outShift",this[l](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(o){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(o,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(o,"selectionEnd")},moveCursorRightWithoutShift:function(o){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(o,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(o,s){typeof s>"u"&&(s=o+1),this.removeStyleFromTo(o,s),this._text.splice(o,s-o),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(o,s,l,f){typeof f>"u"&&(f=l),f>l&&this.removeStyleFromTo(l,f);var a=t.util.string.graphemeSplit(o);this.insertNewStyleBlock(a,l,s),this._text=[].concat(this._text.slice(0,l),a,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var o=t.util.toFixed,s=t.util.radiansToDegrees,l=t.util.calcRotateMatrix,f=t.util.transformPoint,a=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(c){var d=this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0}),p=this.path;return p?d+p._createBaseSVGMarkup(p._toSVG(),{reviver:c,withShadow:!0}):d},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var d=!0,p=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",p?'text-decoration="'+p+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,d){var p=[],g=[],h=c,v;this._setSVGBg(g);for(var x=0,w=this._textLines.length;x<w;x++)v=this._getLineLeftOffset(x),(this.textBackgroundColor||this.styleHas("textBackgroundColor",x))&&this._setSVGTextLineBg(g,x,d+v,h),this._setSVGTextLineText(p,x,d+v,h),h+=this.getHeightOfLine(x);return{textSpans:p,textBgRects:g}},_createTextCharSpan:function(c,d,p,g,h){var v=c!==c.trim()||c.match(a),x=this.getSvgSpanStyles(d,v),w=x?'style="'+x+'"':"",b=d.deltaY,S="",T=t.Object.NUM_FRACTION_DIGITS,_="";if(b&&(S=' dy="'+o(b,T)+'" '),h.renderLeft!==void 0){var P=h.angle;_=' rotate="'+o(s(P),t.Object.NUM_FRACTION_DIGITS)+'" ';var A=h.width/2,M=l({angle:s(P)});M[4]=h.renderLeft,M[5]=h.renderTop;var B=f({x:-A,y:0},M);p=B.x,g=B.y}return['<tspan x="',o(p,T),'" y="',o(g,T),'" ',S,w,_,">",t.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,d,p,g){var h=this.getHeightOfLine(d),v=this.textAlign.indexOf("justify")!==-1,x,w,b="",S,T,_=0,P=this._textLines[d],A;g+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var M=0,B=P.length-1;M<=B;M++)A=M===B||this.charSpacing||this.path,b+=P[M],S=this.__charBounds[d][M],_===0?(p+=S.kernedWidth-S.width,_+=S.width):_+=S.kernedWidth,v&&!A&&this._reSpaceAndTab.test(P[M])&&(A=!0),A||(x=x||this.getCompleteStyleDeclaration(d,M),w=this.getCompleteStyleDeclaration(d,M+1),A=t.util.hasStyleChanged(x,w,!0)),A&&(T=this._getStyleDeclaration(d,M)||{},c.push(this._createTextCharSpan(b,T,p,g,S)),b="",x=w,p+=_,_=0)},_pushTextBgRect:function(c,d,p,g,h,v){var x=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(d),' x="',o(p,x),'" y="',o(g,x),'" width="',o(h,x),'" height="',o(v,x),`"></rect>
`)},_setSVGTextLineBg:function(c,d,p,g){for(var h=this._textLines[d],v=this.getHeightOfLine(d)/this.lineHeight,x=0,w=0,b,S,T=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),_=0,P=h.length;_<P;_++)b=this.__charBounds[d][_],S=this.getValueOfPropertyAt(d,_,"textBackgroundColor"),S!==T?(T&&this._pushTextBgRect(c,T,p+w,g,x,v),w=b.left,x=b.width,T=S):x+=b.kernedWidth;S&&this._pushTextBgRect(c,S,p+w,g,x,v)},_getFillAttributes:function(c){var d=c&&typeof c=="string"?new t.Color(c):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+c+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var d=0,p=0,g=0;g<c;g++)d+=this.getHeightOfLine(g);return p=this.getHeightOfLine(g),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*p/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var d=t.Object.prototype.getSvgStyles.call(this,c);return d+" white-space: pre;"}})}(),function(o){var s=o.fabric||(o.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(l){for(var f=0,a=0,c=0,d={},p=0;p<l.graphemeLines.length;p++)l.graphemeText[c]===`
`&&p>0?(a=0,c++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(l.graphemeText[c])&&p>0&&(a++,c++),d[p]={line:f,offset:a},c+=l.graphemeLines[p].length,a+=l.graphemeLines[p].length;return d},styleHas:function(l,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[f];a&&(f=a.line)}return s.Text.prototype.styleHas.call(this,l,f)},isEmptyStyles:function(l){if(!this.styles)return!0;var f=0,a=l+1,c,d,p=!1,g=this._styleMap[l],h=this._styleMap[l+1];g&&(l=g.line,f=g.offset),h&&(a=h.line,p=a===l,c=h.offset),d=typeof l>"u"?this.styles:{line:this.styles[l]};for(var v in d)for(var x in d[v])if(x>=f&&(!p||x<c))for(var w in d[v][x])return!1;return!0},_getStyleDeclaration:function(l,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[l];if(!a)return null;l=a.line,f=a.offset+f}return this.callSuper("_getStyleDeclaration",l,f)},_setStyleDeclaration:function(l,f,a){var c=this._styleMap[l];l=c.line,f=c.offset+f,this.styles[l][f]=a},_deleteStyleDeclaration:function(l,f){var a=this._styleMap[l];l=a.line,f=a.offset+f,delete this.styles[l][f]},_getLineStyle:function(l){var f=this._styleMap[l];return!!this.styles[f.line]},_setLineStyle:function(l){var f=this._styleMap[l];this.styles[f.line]={}},_wrapText:function(l,f){var a=[],c;for(this.isWrapping=!0,c=0;c<l.length;c++)a=a.concat(this._wrapLine(l[c],c,f));return this.isWrapping=!1,a},_measureWord:function(l,f,a){var c=0,d,p=!0;a=a||0;for(var g=0,h=l.length;g<h;g++){var v=this._getGraphemeBox(l[g],f,g+a,d,p);c+=v.kernedWidth,d=l[g]}return c},_wrapLine:function(l,f,a,M){var d=0,p=this.splitByGrapheme,g=[],h=[],v=p?s.util.string.graphemeSplit(l):l.split(this._wordJoiners),x="",w=0,b=p?"":" ",S=0,T=0,_=0,P=!0,A=this._getWidthOfCharSpacing(),M=M||0;v.length===0&&v.push([]),a-=M;for(var B=0;B<v.length;B++)x=p?v[B]:s.util.string.graphemeSplit(v[B]),S=this._measureWord(x,f,w),w+=x.length,d+=T+S-A,d>a&&!P?(g.push(h),h=[],d=S,P=!0):d+=A,!P&&!p&&h.push(b),h=h.concat(x),T=p?0:this._measureWord([b],f,w),w++,P=!1,S>_&&(_=S);return B&&g.push(h),_+M>this.dynamicMinWidth&&(this.dynamicMinWidth=_-A+M),g},isEndOfWrapping:function(l){return!this._styleMap[l+1]||this._styleMap[l+1].line!==this._styleMap[l].line},missingNewlineOffset:function(l,f){return this.splitByGrapheme&&!f?this.isEndOfWrapping(l)?1:0:1},_splitTextIntoLines:function(l){for(var f=s.Text.prototype._splitTextIntoLines.call(this,l),a=this._wrapText(f.lines,this.width),c=new Array(a.length),d=0;d<a.length;d++)c[d]=a[d].join("");return f.lines=c,f.graphemeLines=a,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var l={};for(var f in this._styleMap)this._textLines[f]&&(l[this._styleMap[f].line]=1);for(var f in this.styles)l[f]||delete this.styles[f]},toObject:function(l){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(l))}}),s.Textbox.fromObject=function(l,f){var a=s.util.stylesFromArray(l.styles,l.text),c=Object.assign({},l,{styles:a});return delete c.path,s.Object._fromObject("Textbox",c,function(d){l.path?s.Object._fromObject("Path",l.path,function(p){d.set("path",p),f(d)},"path"):f(d)},"text")}}(e),function(){var o=t.controlsUtils,s=o.scaleSkewCursorStyleHandler,l=o.scaleCursorStyleHandler,f=o.scalingEqually,a=o.scalingYOrSkewingX,c=o.scalingXOrSkewingY,d=o.scaleOrSkewActionName,p=t.Object.prototype.controls;if(p.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:c,getActionName:d}),p.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:c,getActionName:d}),p.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:a,getActionName:d}),p.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:a,getActionName:d}),p.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:l,actionHandler:f}),p.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:l,actionHandler:f}),p.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:l,actionHandler:f}),p.br=new t.Control({x:.5,y:.5,cursorStyleHandler:l,actionHandler:f}),p.mtr=new t.Control({x:0,y:-.5,actionHandler:o.rotationWithSnapping,cursorStyleHandler:o.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=p.mtr,g.tr=p.tr,g.br=p.br,g.tl=p.tl,g.bl=p.bl,g.mt=p.mt,g.mb=p.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(os);var t6=Symbol.for("react.lazy"),cu=Hi[" use ".trim().toString()];function n6(e){return typeof e=="object"&&e!==null&&"then"in e}function d2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===t6&&"_payload"in e&&n6(e._payload)}function r6(e){const t=i6(e),n=C.forwardRef((r,i)=>{let{children:u,...m}=r;d2(u)&&typeof cu=="function"&&(u=cu(u._payload));const o=C.Children.toArray(u),s=o.find(o6);if(s){const l=s.props.children,f=o.map(a=>a===s?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:a);return y.jsx(t,{...m,ref:i,children:C.isValidElement(l)?C.cloneElement(l,void 0,f):null})}return y.jsx(t,{...m,ref:i,children:u})});return n.displayName=`${e}.Slot`,n}function i6(e){const t=C.forwardRef((n,r)=>{let{children:i,...u}=n;if(d2(i)&&typeof cu=="function"&&(i=cu(i._payload)),C.isValidElement(i)){const m=l6(i),o=a6(u,i.props);return i.type!==C.Fragment&&(o.ref=r?si(r,m):m),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s6=Symbol("radix.slottable");function o6(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s6}function a6(e,t){const n={...t};for(const r in t){const i=e[r],u=t[r];/^on[A-Z]/.test(r)?i&&u?n[r]=(...o)=>{const s=u(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...u}:r==="className"&&(n[r]=[i,u].filter(Boolean).join(" "))}return{...e,...n}}function l6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var c6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],u6=c6.reduce((e,t)=>{const n=r6(`Primitive.${t}`),r=C.forwardRef((i,u)=>{const{asChild:m,...o}=i,s=m?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),d6="Separator",L0="horizontal",f6=["horizontal","vertical"],f2=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=L0,...i}=e,u=h6(r)?r:L0,o=n?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return y.jsx(u6.div,{"data-orientation":u,...o,...i,ref:t})});f2.displayName=d6;function h6(e){return f6.includes(e)}var h2=f2;const It=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>y.jsx(h2,{ref:i,decorative:n,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));It.displayName=h2.displayName;const p2=C.forwardRef((e,t)=>{const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null),u=C.useRef(null),[m,o]=C.useState("pencil"),[s,l]=C.useState("#800000"),[f,a]=C.useState(3);C.useImperativeHandle(t,()=>({getData:()=>r.current?{json:JSON.stringify(r.current.toJSON()),image:r.current.toDataURL({format:"png",quality:.8})}:null})),C.useEffect(()=>{if(!n.current||!i.current)return;const v=new os.fabric.Canvas(n.current,{width:i.current.offsetWidth,height:i.current.offsetHeight,backgroundColor:"#ffffff",isDrawingMode:!0});r.current=v,v.freeDrawingBrush.color=s,v.freeDrawingBrush.width=f;const x=()=>{i.current&&r.current&&r.current.setDimensions({width:i.current.offsetWidth,height:i.current.offsetHeight})};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),v.dispose()}},[]),C.useEffect(()=>{if(!r.current)return;const v=r.current;v.isDrawingMode=m==="pencil",v.freeDrawingBrush&&(v.freeDrawingBrush.color=s,v.freeDrawingBrush.width=f),v.defaultCursor=m==="select"?"default":"crosshair"},[m,s,f]);const c=()=>{var x;const v=new os.fabric.Rect({left:100,top:100,fill:"transparent",stroke:s,strokeWidth:f,width:150,height:100,rx:4,ry:4});(x=r.current)==null||x.add(v),o("select")},d=()=>{var x;const v=new os.fabric.Circle({left:100,top:100,fill:"transparent",stroke:s,strokeWidth:f,radius:50});(x=r.current)==null||x.add(v),o("select")},p=()=>{var x,w;const v=new os.fabric.IText("Anotao tcnica...",{left:100,top:100,fontFamily:"Inter",fontSize:20,fill:s});(x=r.current)==null||x.add(v),(w=r.current)==null||w.setActiveObject(v),v.enterEditing(),v.selectAll(),o("select")},g=v=>{var b;const x=(b=v.target.files)==null?void 0:b[0];if(!x||!r.current)return;const w=new FileReader;w.onload=S=>{var _;const T=(_=S.target)==null?void 0:_.result;os.fabric.Image.fromURL(T,P=>{var A,M,B,z;P.scaleToWidth(200),(A=r.current)==null||A.add(P),(M=r.current)==null||M.centerObject(P),(B=r.current)==null||B.setActiveObject(P),(z=r.current)==null||z.renderAll()})},w.readAsDataURL(x),o("select")},h=()=>{const v=r.current;v&&v._objects.length>0&&v.remove(v._objects[v._objects.length-1])};return y.jsxs("div",{className:"flex flex-col h-full bg-background border-r",children:[y.jsxs("div",{className:"flex items-center gap-1 p-3 bg-secondary/20 border-b",children:[y.jsx(de,{variant:m==="select"?"default":"ghost",size:"icon",onClick:()=>o("select"),className:"h-10 w-10 rounded-xl",children:y.jsx(WO,{size:20})}),y.jsx(de,{variant:m==="pencil"?"default":"ghost",size:"icon",onClick:()=>o("pencil"),className:"h-10 w-10 rounded-xl",children:y.jsx($O,{size:20})}),y.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),y.jsx(de,{variant:"ghost",size:"icon",onClick:c,className:"h-10 w-10 rounded-xl",children:y.jsx(GO,{size:20})}),y.jsx(de,{variant:"ghost",size:"icon",onClick:d,className:"h-10 w-10 rounded-xl",children:y.jsx(U1,{size:20})}),y.jsx(de,{variant:"ghost",size:"icon",onClick:p,className:"h-10 w-10 rounded-xl",children:y.jsx(bh,{size:20})}),y.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},className:"h-10 w-10 rounded-xl",children:y.jsx(RO,{size:20})}),y.jsx("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:g}),y.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),y.jsx("div",{className:"flex items-center gap-2 px-2",children:["#800000","#000000","#2563eb","#16a34a","#d97706"].map(v=>y.jsx("button",{onClick:()=>l(v),className:ae("w-6 h-6 rounded-full border-2 border-white shadow-sm transition-all",s===v?"scale-125 ring-2 ring-primary/20":"hover:scale-110"),style:{backgroundColor:v}},v))}),y.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),y.jsx(de,{variant:"ghost",size:"icon",onClick:h,className:"h-10 w-10 rounded-xl",children:y.jsx(qO,{size:20})}),y.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=r.current)==null?void 0:v.clear()},className:"h-10 w-10 rounded-xl text-destructive hover:bg-destructive/10 ms-auto",children:y.jsx(pm,{size:20})})]}),y.jsx("div",{ref:i,className:"flex-1 bg-white relative overflow-hidden",children:y.jsx("canvas",{ref:n})})]})});p2.displayName="SketchCanvas";function m2({isOpen:e,onClose:t,onSuccess:n,parentRecord:r}){var Z;const[i,u]=C.useState([]),[m,o]=C.useState([]),[s,l]=C.useState((r==null?void 0:r.projectId)||""),[f,a]=C.useState((r==null?void 0:r.clientId)||""),[c,d]=C.useState((r==null?void 0:r.natureza)||"TECNICO"),[p,g]=C.useState("MEDIA"),[h,v]=C.useState([]),[x,w]=C.useState(!1),[b,S]=C.useState(null),T=C.useRef(null);C.useEffect(()=>{e&&_()},[e,r]);const _=async()=>{try{const[L,$]=await Promise.all([fetch(_t("/api/projects")),fetch(_t("/api/clients"))]);L.ok&&u(await L.ok?await L.json():[]),$.ok&&o(await $.ok?await $.json():[])}catch(L){console.error("Error fetching data for RegistroModal",L)}},P=L=>{const $={id:Math.random().toString(36).substr(2,9),type:L,content:""};v([...h,$]),S(h.length)},A=L=>{const $=[...h];$.splice(L,1),v($),b===L&&S(null)},M=(L,$)=>{const Q=[...h];Q[L].content=$,v(Q)},B=()=>{if(T.current&&b!==null){const L=T.current.getData();if(L){const $=[...h];$[b].content=L.image,$[b].sketchData=L.json,v($),S(null),Ne.success("Esboo capturado com sucesso")}}},z=async()=>{if(!s&&!f){Ne.error("Selecione uma Obra ou Cliente");return}if(h.length===0){Ne.error("Adicione pelo menos um item ao registro");return}w(!0);try{const $={authorId:"clt0000000000000000000000",projectId:s||null,clientId:f||null,natureza:c,prioridade:p,parentId:(r==null?void 0:r.id)||null,items:h.map(G=>({type:G.type,content:G.type==="ESBOCO"?G.sketchData:G.content}))};(await fetch(_t("/api/records"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).ok?(Ne.success("Registro criado com sucesso"),v([]),n==null||n(),t()):Ne.error("Erro ao salvar registro")}catch{Ne.error("Erro de conexo com o servidor")}finally{w(!1)}};return y.jsx(ai,{open:e,onOpenChange:t,children:y.jsxs(pr,{className:"max-w-4xl h-[90vh] flex flex-col p-0 overflow-hidden bg-background border-none shadow-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-secondary/5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-primary/10 p-2 rounded-xl",children:y.jsx(zn,{className:"text-primary",size:24})}),y.jsxs("div",{children:[y.jsx(mr,{className:"text-xl font-bold",children:"Novo Registro Tcnico"}),r&&y.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[y.jsx(Ca,{size:12}),y.jsxs("span",{children:["Reviso do Registro ",y.jsx("strong",{children:r.refCodigo})]})]})]})]}),y.jsx(de,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",children:y.jsx(mm,{size:20})})]}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsxs("div",{className:"w-1/3 border-r bg-muted/20 flex flex-col",children:[y.jsx(l2,{className:"flex-1 p-6",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx(zt,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Contexto"}),y.jsxs(so,{value:s,onValueChange:l,children:[y.jsx(Ui,{className:"rounded-xl border-none bg-background shadow-sm",children:y.jsx(oo,{placeholder:"Selecionar Obra"})}),y.jsx($i,{children:i.map(L=>y.jsx(en,{value:L.id,children:L.nome},L.id))})]}),y.jsxs(so,{value:c,onValueChange:d,children:[y.jsx(Ui,{className:"rounded-xl border-none bg-background shadow-sm",children:y.jsx(oo,{placeholder:"Natureza"})}),y.jsx($i,{children:["TECNICO","ORCAMENTO","FINANCEIRO","VISTORIA","RECLAMACAO"].map(L=>y.jsx(en,{value:L,children:L},L))})]})]}),y.jsx(It,{}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs(zt,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:["Contedo (",h.length,")"]})}),h.length===0?y.jsxs("div",{className:"text-center py-8 px-4 border-2 border-dashed rounded-2xl bg-background/50",children:[y.jsx(IO,{className:"mx-auto mb-2 text-muted-foreground",size:24}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione itens usando os botes abaixo para compor o registro."})]}):y.jsx("div",{className:"space-y-2",children:h.map((L,$)=>y.jsxs("div",{className:ae("group p-3 rounded-xl border transition-all cursor-pointer",b===$?"border-primary bg-primary/5 shadow-md":"bg-background hover:border-muted-foreground/30"),onClick:()=>S($),children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[L.type==="TEXTO"&&y.jsx(bh,{size:14,className:"text-blue-500"}),L.type==="ESBOCO"&&y.jsx(Yr,{size:14,className:"text-purple-500"}),L.type==="FOTO"&&y.jsx(zd,{size:14,className:"text-orange-500"}),y.jsx("span",{className:"text-xs font-medium",children:L.type})]}),y.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:Q=>{Q.stopPropagation(),A($)},children:y.jsx(pm,{size:12})})]}),y.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 italic",children:L.content||"Sem contedo..."})]},L.id))})]})]})}),y.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("TEXTO"),className:"rounded-xl gap-2 text-xs",children:[y.jsx(bh,{size:14})," Texto"]}),y.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("ESBOCO"),className:"rounded-xl gap-2 text-xs",children:[y.jsx(Yr,{size:14})," Esboo"]}),y.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("FOTO"),className:"rounded-xl gap-2 text-xs",children:[y.jsx(zd,{size:14})," Foto"]})]})})]}),y.jsx("div",{className:"flex-1 bg-background relative flex flex-col shadow-inner",children:b!==null?y.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs(Re,{variant:"outline",className:"px-3 py-1 rounded-lg",children:["Item #",b+1,": ",h[b].type]}),h[b].type==="ESBOCO"&&y.jsxs(de,{size:"sm",onClick:B,className:"gap-2 rounded-xl",children:[y.jsx(YO,{size:16})," Capturar Esboo"]})]}),y.jsxs("div",{className:"flex-1 overflow-hidden rounded-2xl border shadow-sm",children:[h[b].type==="TEXTO"&&y.jsx(u2,{placeholder:"Descreva aqui os detalhes tcnicos...",className:"h-full w-full border-none resize-none p-6 text-lg focus-visible:ring-0",value:h[b].content,onChange:L=>M(b,L.target.value)}),h[b].type==="ESBOCO"&&y.jsx(p2,{ref:T}),h[b].type==="FOTO"&&y.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-muted/10",children:y.jsxs("div",{className:"w-full max-w-sm aspect-video border-2 border-dashed rounded-3xl flex flex-col items-center justify-center gap-4 bg-background",children:[y.jsx("div",{className:"bg-primary/5 p-6 rounded-full",children:y.jsx(zd,{className:"text-primary/40",size:48})}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"font-medium",children:"Webcam or File"}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Integrao com cmera de campo"})]}),y.jsx(tt,{placeholder:"URL da imagem (simulao)",className:"max-w-[250px] mt-4",value:h[b].content,onChange:L=>M(b,L.target.value)})]})})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-primary/5 rounded-full flex items-center justify-center mb-6",children:y.jsx(Ca,{className:"text-primary/20",size:48})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Composio do Registro"}),y.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Selecione um item da lista lateral para editar ou adicione um novo elemento para compor seu relatrio tcnico de campo."})]})})]}),y.jsxs("div",{className:"p-6 border-t flex items-center justify-between bg-background",children:[y.jsx("div",{className:"flex items-center gap-6",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-bold",children:"Obra Selecionada"}),y.jsx("span",{className:"text-sm font-medium",children:((Z=i.find(L=>L.id===s))==null?void 0:Z.nome)||"Nenhuma selecionada"})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(de,{variant:"ghost",onClick:t,className:"rounded-xl",children:"Cancelar"}),y.jsx(de,{onClick:z,disabled:x||h.length===0,className:"rounded-xl px-8 shadow-lg shadow-primary/20",children:x?"Salvando...":"Finalizar Registro"})]})]})]})})}function F0(){go();const{registros:e,fetchRegistros:t}=vE(),[n,r]=C.useState(!1),[i,u]=C.useState(null);C.useEffect(()=>{t()},[]);const m=e.slice(0,5);return y.jsxs("div",{className:"flex flex-col h-[calc(100vh-64px)] bg-secondary/20 overflow-y-auto",children:[y.jsx("div",{className:"max-w-4xl mx-auto w-full px-6 pt-12 pb-8 text-center",children:y.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-background rounded-[40px] p-12 shadow-2xl shadow-black/5 border border-border/50 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 blur-3xl -mr-20 -mt-20 group-hover:bg-primary/10 transition-colors"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h1",{className:"text-4xl font-extrabold tracking-tighter mb-4 text-foreground/90",children:"O que vamos capturar hoje?"}),y.jsx("p",{className:"text-muted-foreground text-lg mb-10 max-w-lg mx-auto leading-relaxed",children:"Transforme observaes de campo em registros estruturados e esboos tcnicos timbrados em segundos."}),y.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:y.jsxs(de,{onClick:()=>{u(null),r(!0)},className:"h-16 px-10 rounded-2xl bg-primary hover:bg-primary/90 text-lg font-bold gap-3 shadow-xl shadow-primary/20 active:scale-95 transition-all w-full sm:w-auto",children:[y.jsx(zn,{className:"w-6 h-6"}),"Novo Registro de Campo"]})})]})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto w-full px-6 grid grid-cols-1 sm:grid-cols-3 gap-6 mb-12",children:[y.jsx(ye,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:y.jsxs(xe,{className:"p-6 flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:y.jsx(cr,{size:22})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Em Triagem"}),y.jsx("p",{className:"text-xl font-bold tracking-tighter",children:e.filter(o=>o.status==="TRIAGEM").length})]})]})}),y.jsx(ye,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:y.jsxs(xe,{className:"p-6 flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center text-blue-500",children:y.jsx(Ou,{size:22})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Produtividade"}),y.jsx("p",{className:"text-xl font-bold tracking-tighter",children:"85%"})]})]})}),y.jsx(ye,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:y.jsxs(xe,{className:"p-6 flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:y.jsx(qa,{size:22})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Pendncias"}),y.jsx("p",{className:"text-xl font-bold tracking-tighter",children:"04"})]})]})})]}),y.jsxs("div",{className:"max-w-4xl mx-auto w-full px-6 pb-20",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-bold tracking-tighter",children:"Registros Recentes"}),y.jsxs(de,{variant:"ghost",size:"sm",className:"text-xs font-bold gap-1 text-primary hover:text-primary hover:bg-primary/5",children:["Ver Todos ",y.jsx(Qs,{size:14})]})]}),y.jsx("div",{className:"space-y-4",children:m.map((o,s)=>{var l;return y.jsxs(Qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"bg-background rounded-3xl p-5 border border-border/40 shadow-lg shadow-black/5 flex items-center justify-between group hover:border-primary/30 transition-all cursor-pointer",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:ae("w-12 h-12 rounded-2xl flex items-center justify-center",o.type==="ESBOCO"?"bg-primary/10 text-primary":"bg-secondary text-muted-foreground"),children:o.type==="ESBOCO"?y.jsx(Yr,{size:20}):y.jsx(G1,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold tracking-tight text-foreground/80 line-clamp-1",children:o.texto||"Sem descrio"}),y.jsxs("p",{className:"text-xs text-muted-foreground font-medium flex items-center gap-2",children:[o.criadoEm&&!isNaN(new Date(o.criadoEm).getTime())?ti(new Date(o.criadoEm),"dd 'de' MMM, HH:mm",{locale:io}):"Data indisponvel",y.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),(l=o.author)==null?void 0:l.nome]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(de,{variant:"ghost",size:"sm",className:"text-[10px] h-8 rounded-lg gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:f=>{f.stopPropagation(),u(o),r(!0)},children:[y.jsx(Ca,{size:14})," Reviso"]}),y.jsx(Re,{variant:"outline",className:"text-[10px] font-bold h-6 rounded-lg bg-secondary/50 border-none uppercase tracking-tighter",children:o.status}),y.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:y.jsx(Qs,{size:16,className:"text-muted-foreground"})})]})]},o.id)})})]}),y.jsx(m2,{isOpen:n,onClose:()=>r(!1),onSuccess:t,parentRecord:i})]})}function p6({record:e,isOpen:t,onClose:n}){var r,i,u;return e?y.jsx(ai,{open:t,onOpenChange:n,children:y.jsxs(pr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[y.jsx(li,{children:y.jsxs(mr,{className:"flex items-center gap-3",children:[e.type==="ESBOCO"?y.jsx(Yr,{className:"w-5 h-5 text-purple-500"}):y.jsx(cr,{className:"w-5 h-5 text-blue-500"}),"Detalhes do Registro"]})}),y.jsxs("div",{className:"space-y-6 py-4",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(Re,{variant:"outline",className:"font-mono text-xs",children:["#",e.id.slice(-8).toUpperCase()]}),y.jsx(Re,{className:e.prioridade==="CRITICA"?"bg-red-500":e.prioridade==="ALTA"?"bg-orange-500":e.prioridade==="MEDIA"?"bg-yellow-500":"bg-blue-500",children:e.prioridade}),y.jsx(Re,{variant:"secondary",children:e.type})]}),y.jsx("p",{className:"text-sm text-muted-foreground",children:ti(new Date(e.criadoEm),"dd 'de' MMMM 'de' yyyy 's' HH:mm",{locale:io})})]}),y.jsx(Re,{className:e.status==="RASCUNHO"?"bg-slate-500":e.status==="EM_TRIAGEM"?"bg-yellow-500":e.status==="CLASSIFICADO"?"bg-blue-500":e.status==="PRIORIZADO"?"bg-purple-500":e.status==="CONVERTIDO"?"bg-green-500":"bg-gray-500",children:e.status})]}),y.jsx(It,{}),y.jsx(ye,{children:y.jsxs(xe,{className:"pt-6",children:[y.jsx("h4",{className:"font-bold mb-2",children:"Contedo"}),y.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.texto||"Sem texto descritivo"})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:y.jsx(Au,{className:"w-5 h-5 text-primary"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Autor"}),y.jsx("p",{className:"font-semibold",children:(r=e.author)==null?void 0:r.nome})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:y.jsx(lr,{className:"w-5 h-5 text-green-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Obra"}),y.jsx("p",{className:"font-semibold",children:((i=e.project)==null?void 0:i.nome)||"No vinculado"})]})]})})})]}),e.sketch&&y.jsxs(y.Fragment,{children:[y.jsx(It,{}),y.jsx(ye,{children:y.jsxs(xe,{className:"pt-6",children:[y.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[y.jsx(Yr,{size:16}),"Esboo Tcnico"]}),e.sketch.imageUrl&&e.sketch.imageUrl!=="data:image/png;base64,placeholder"?y.jsx("img",{src:e.sketch.imageUrl,alt:"Preview do esboo",className:"w-full rounded-lg border"}):y.jsxs("div",{className:"bg-secondary/20 rounded-lg p-8 text-center",children:[y.jsx(Yr,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dados do canvas salvos  ",((u=JSON.parse(e.sketch.dataJson).objects)==null?void 0:u.length)||0," objetos"]})]})]})})]}),e.documents&&e.documents.length>0&&y.jsxs(y.Fragment,{children:[y.jsx(It,{}),y.jsx(ye,{children:y.jsxs(xe,{className:"pt-6",children:[y.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[y.jsx(cr,{size:16}),"Documentos Gerados (",e.documents.length,")"]}),y.jsx("div",{className:"space-y-2",children:e.documents.map(m=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/20 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-sm",children:m.tipo}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:["Verso ",m.versao,"  ",ti(new Date(m.criadoEm),"dd/MM/yyyy HH:mm",{locale:io})]})]}),y.jsx(Re,{variant:"secondary",children:m.status})]},m.id))})]})})]})]}),y.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:y.jsx(de,{variant:"outline",onClick:n,children:"Fechar"})})]})}):null}const ss=[{id:"REGISTRO",title:"Registro",icon:qa,color:"bg-slate-500/10 text-slate-600",borderColor:"border-slate-300"},{id:"TRIAGEM",title:"Triagem",icon:qr,color:"bg-yellow-500/10 text-yellow-600",borderColor:"border-yellow-300"},{id:"CLASSIFICACAO",title:"Classificao",icon:BO,color:"bg-blue-500/10 text-blue-600",borderColor:"border-blue-300"},{id:"ORDENACAO",title:"Ordenao",icon:Ou,color:"bg-purple-500/10 text-purple-600",borderColor:"border-purple-300"},{id:"VALIDACAO",title:"Validao",icon:XO,color:"bg-orange-500/10 text-orange-600",borderColor:"border-orange-300"},{id:"DISTRIBUICAO",title:"Distribuio",icon:Q1,color:"bg-green-500/10 text-green-600",borderColor:"border-green-300"}];function m6(){const{registros:e,fetchRegistros:t,updateRegistroStatus:n}=vE(),[r,i]=C.useState(null),[u,m]=C.useState(!1),[o,s]=C.useState(!1),[l,f]=C.useState(null),[a,c]=C.useState([]),[d,p]=C.useState([]),[g,h]=C.useState(null),[v,x]=C.useState("forward"),[w,b]=C.useState(!1),[S,T]=C.useState(null),[_,P]=C.useState([{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}]);C.useEffect(()=>{t(),A()},[]);const A=async()=>{try{const[E,j]=await Promise.all([fetch(_t("/api/professionals")),fetch(_t("/api/projects"))]);E.ok&&c(await E.json()),j.ok&&p(await j.json())}catch(E){console.error("Context data error",E)}},M=e.map(E=>({...E,revisionsCount:e.filter(j=>j.parentId===E.id).length})),B=E=>{T(E),P([{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}]),b(!0)},z=E=>{i(E),m(!0)},Z=E=>ss.findIndex(j=>j.id===E),L=async(E,j)=>{const k=Z(E.status),O=j==="forward"?k+1:k-1;if(O<0||O>=ss.length)return;const U=ss[O].id;x(j),h(E.id),await new Promise(R=>setTimeout(R,100)),await n(E.id,U),setTimeout(()=>{h(null),Ne.success(` ${ss[O].title}`)},150)},$=()=>{P([..._,{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}])},Q=E=>{P(_.filter((j,k)=>k!==E))},G=(E,j,k)=>{const O=[..._];O[E]={...O[E],[j]:k},P(O)},D=async()=>{if(S)try{const E=_.filter(j=>j.titulo&&j.professionalId&&j.valorPrevisto);if(E.length===0){Ne.error("Add at least one valid activity");return}for(const j of E)await fetch(_t(`/api/records/${S.id}/convert`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:j.titulo,descricao:j.descricao||`Derived from ${S.refCodigo}`,projectId:S.projectId,professionalId:j.professionalId,valorPrevisto:parseFloat(j.valorPrevisto)})});Ne.success(`${E.length} activities created!`),b(!1),t()}catch{Ne.error("Error creating activities")}};return y.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-secondary/5 to-background overflow-hidden",children:[y.jsxs("div",{className:"p-4 lg:p-6 border-b bg-background/95 backdrop-blur-sm shrink-0 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Workspace Profissional"}),y.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Fluxo de Triagem, Validao e Distribuio"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs(de,{variant:"outline",className:"rounded-xl gap-2 shadow-sm",children:[y.jsx(PO,{size:16})," Arquivo"]}),y.jsxs(de,{className:"rounded-xl gap-2 shadow-lg shadow-primary/10",children:[y.jsx(zn,{size:16})," Novo Registro"]})]})]}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsxs("aside",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b bg-background/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[y.jsx(Ca,{size:14})," Revises & Verses"]}),y.jsx(Re,{className:"bg-primary/10 text-primary border-none",children:"LIVE"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(qr,{size:14,className:"absolute left-3 top-2.5 text-muted-foreground"}),y.jsx(tt,{placeholder:"Buscar por Cdigo...",className:"pl-9 h-9 rounded-xl border-none shadow-sm bg-background"})]})]}),y.jsx(xf,{className:"flex-1 p-4",children:y.jsx("div",{className:"space-y-3",children:M.filter(E=>E.isInicial).map(E=>y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:ae("p-3 rounded-2xl bg-background border shadow-sm cursor-pointer hover:border-primary/30 transition-all",(r==null?void 0:r.id)===E.id?"border-primary/50 ring-1 ring-primary/50":""),onClick:()=>z(E),children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:"text-[10px] font-mono font-bold",children:E.refCodigo}),E.revisionsCount>0&&y.jsxs(Re,{variant:"secondary",className:"text-[8px] h-4 px-1",children:["+",E.revisionsCount," REVS"]})]}),y.jsx("p",{className:"text-xs font-medium line-clamp-1",children:E.texto||"Registro de Campo"}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsx(Re,{variant:"outline",className:"text-[8px] px-1 h-4",children:E.natureza}),y.jsx("span",{className:"text-[9px] text-muted-foreground",children:new Date(E.criadoEm).toLocaleDateString()})]})]}),e.filter(j=>j.parentId===E.id).map(j=>y.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-primary/20 flex items-center gap-2 py-1",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30"}),y.jsxs("div",{className:"flex-1 p-2 rounded-xl bg-background/50 border border-muted text-[10px] cursor-pointer hover:bg-background",onClick:()=>z(j),children:[y.jsx("span",{className:"font-bold",children:j.refCodigo})," - ",j.status]})]},j.id))]},E.id))})})]}),y.jsx("main",{className:"flex-1 overflow-x-auto p-4 lg:p-6 bg-secondary/5 h-full",children:y.jsx("div",{className:"flex gap-4 h-full min-h-[600px]",children:ss.map(E=>{const j=e.filter(O=>O.status===E.id),k=E.icon;return y.jsxs("div",{className:"flex-shrink-0 w-72 flex flex-col h-full bg-background/40 rounded-3xl border border-dashed border-muted-foreground/20 p-3 shadow-inner",children:[y.jsxs("div",{className:ae("rounded-2xl p-3 mb-4 flex items-center justify-between shadow-sm",E.color),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-xl bg-background/50 backdrop-blur-sm",children:y.jsx(k,{size:18})}),y.jsx("h3",{className:"font-extrabold text-xs uppercase tracking-tighter",children:E.title})]}),y.jsx(Re,{variant:"secondary",className:"rounded-lg h-6 px-2",children:j.length})]}),y.jsx(xf,{className:"flex-1",children:y.jsx(el,{mode:"popLayout",children:j.map(O=>{var U,R,N;return y.jsx(Qe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"mb-3",children:y.jsxs(ye,{className:ae("rounded-2xl hover:shadow-xl transition-all border-none shadow-md cursor-pointer group relative overflow-hidden",(r==null?void 0:r.id)===O.id?"ring-2 ring-primary":""),onClick:()=>z(O),children:[y.jsx("div",{className:ae("absolute top-0 left-0 bottom-0 w-1",O.prioridade==="CRITICA"?"bg-red-500":O.prioridade==="ALTA"?"bg-orange-500":"bg-primary/20")}),y.jsxs(xe,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-[10px] font-mono font-black text-primary bg-primary/5 px-2 py-0.5 rounded-lg",children:O.refCodigo}),!O.isInicial&&y.jsx(Re,{className:"text-[8px] h-4 bg-purple-500/20 text-purple-600 border-none",children:"REVISO"})]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 rounded-lg hover:bg-secondary",disabled:Z(O.status)===0,onClick:F=>{F.stopPropagation(),L(O,"backward")},children:y.jsx(W1,{size:14})}),y.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 rounded-lg hover:bg-secondary",disabled:Z(O.status)===ss.length-1,onClick:F=>{F.stopPropagation(),L(O,"forward")},children:y.jsx(Qs,{size:14})})]})]}),y.jsx("h4",{className:"font-bold text-sm tracking-tight mb-2 line-clamp-2",children:O.texto||"Anlise Tcnica de Campo"}),y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"flex -space-x-2",children:y.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border-2 border-background flex items-center justify-center overflow-hidden",children:y.jsx(QO,{size:10})})}),y.jsx("span",{className:"text-[10px] font-medium text-muted-foreground truncate max-w-[80px]",children:(U=O.author)==null?void 0:U.nome}),y.jsxs("div",{className:"ml-auto flex items-center gap-1 text-[9px] font-bold text-muted-foreground",children:[y.jsx(lr,{size:10}),y.jsx("span",{className:"truncate max-w-[60px]",children:(R=O.project)==null?void 0:R.nome})]})]}),y.jsx(It,{className:"mb-3 opacity-50"}),y.jsxs("div",{className:"flex items-center justify-between pt-1",children:[y.jsx(Re,{variant:"outline",className:"text-[9px] h-5 rounded-md border-muted-foreground/20",children:O.natureza||"GERAL"}),O.status==="DISTRIBUICAO"&&y.jsxs(de,{size:"sm",className:"h-6 rounded-lg text-[9px] gap-1 px-3 shadow-lg shadow-primary/20",onClick:F=>{F.stopPropagation(),B(O)},children:["Distribuir ",y.jsx(B1,{size:10})]}),O.status!=="DISTRIBUICAO"&&((N=O.documents)!=null&&N.length)?y.jsxs(de,{variant:"ghost",size:"sm",className:"h-6 rounded-lg text-[9px] gap-1",onClick:F=>{F.stopPropagation(),window.open(_t(`/api/records/${O.id}/pdf-view`),"_blank")},children:[y.jsx(cr,{size:10})," PDF"]}):null]})]})]})},O.id)})})})]},E.id)})})})]}),y.jsx(p6,{record:r,isOpen:u,onClose:()=>m(!1)}),y.jsx(m2,{isOpen:o,onClose:()=>s(!1),parentRecord:l,onSuccess:t}),y.jsx(ai,{open:w,onOpenChange:b,children:y.jsxs(pr,{className:"max-w-4xl h-[85vh] flex flex-col p-0 overflow-hidden bg-background border-none shadow-2xl",children:[y.jsx(li,{className:"p-6 border-b bg-secondary/5",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:y.jsx(Q1,{className:"text-primary",size:24})}),y.jsxs("div",{children:[y.jsx(mr,{className:"text-xl font-bold",children:"Distribuio Profissional"}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original: ",S==null?void 0:S.refCodigo," - ",S==null?void 0:S.natureza]})]})]})}),y.jsx(xf,{className:"flex-1 p-6 bg-muted/10",children:y.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[y.jsxs(g6,{className:"bg-primary/5 border-primary/20 rounded-2xl",children:[y.jsx(_O,{className:"h-4 w-4 text-primary"}),y.jsx(v6,{className:"text-xs text-primary/80",children:"Converta este registro em atividades executveis. Profissionais so filtrados por categoria de servio."})]}),_.map((E,j)=>y.jsxs(ye,{className:"rounded-3xl border-none shadow-lg overflow-hidden",children:[y.jsxs("div",{className:"p-4 bg-background border-b flex justify-between items-center",children:[y.jsxs("span",{className:"font-bold text-sm",children:["Escopo #",j+1]}),_.length>1&&y.jsx(de,{size:"icon",variant:"ghost",onClick:()=>Q(j),className:"h-8 w-8 text-destructive",children:y.jsx(pm,{size:16})})]}),y.jsxs(xe,{className:"p-6 space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"O que ser feito?"}),y.jsx(tt,{placeholder:"Ex: Instalao de pontos eltricos conforme esboo",value:E.titulo,onChange:k=>G(j,"titulo",k.target.value),className:"rounded-xl"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Profissional Especializado"}),y.jsxs(so,{value:E.professionalId,onValueChange:k=>G(j,"professionalId",k),children:[y.jsx(Ui,{className:"rounded-xl",children:y.jsx(oo,{placeholder:"Selecionar"})}),y.jsx($i,{children:a.map(k=>y.jsx(en,{value:k.id,children:k.nome},k.id))})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Verba Prevista (R$)"}),y.jsx(tt,{type:"number",value:E.valorPrevisto,onChange:k=>G(j,"valorPrevisto",k.target.value),className:"rounded-xl"})]})]})]})]},j)),y.jsxs(de,{variant:"outline",className:"w-full h-12 rounded-2xl border-dashed border-2 gap-2",onClick:$,children:[y.jsx(zn,{size:16})," Adicionar Novo Desdobramento (Sub-Atividade)"]})]})}),y.jsxs(wo,{className:"p-6 border-t bg-background",children:[y.jsx(de,{variant:"ghost",onClick:()=>b(!1),className:"rounded-xl",children:"Cancelar"}),y.jsx(de,{onClick:D,className:"rounded-xl px-10 shadow-lg shadow-primary/20",children:"Confirmar Distribuio & Gerar Atividades"})]})]})})]})}function g6({children:e,className:t,...n}){return y.jsx("div",{role:"alert",className:ae("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",t),...n,children:e})}function v6({children:e,className:t,...n}){return y.jsx("div",{className:ae("text-sm [&_p]:leading-relaxed",t),...n,children:e})}function xf({children:e,className:t}){return y.jsx("div",{className:ae("overflow-y-auto scrollbar-thin scrollbar-thumb-primary/10",t),children:e})}function y6({data:e,columns:t,viewModes:n=["table","grid","kanban"],defaultView:r="table",searchPlaceholder:i="Buscar...",onItemClick:u,onAddClick:m,isLoading:o,kanbanProperty:s,kanbanColumns:l}){const[f,a]=C.useState(r),[c,d]=C.useState(""),p=e.filter(g=>JSON.stringify(g).toLowerCase().includes(c.toLowerCase()));return y.jsxs("div",{className:"flex flex-col h-full bg-background",children:[y.jsxs("div",{className:"p-4 border-b border-border flex flex-wrap items-center justify-between gap-4 bg-background/50 backdrop-blur-sm sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-[300px]",children:[y.jsxs("div",{className:"relative flex-1 max-w-md",children:[y.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),y.jsx(tt,{value:c,onChange:g=>d(g.target.value),placeholder:i,className:"pl-10 h-10 bg-secondary/30 border-none focus-visible:ring-primary"})]}),y.jsx(de,{variant:"outline",size:"icon",className:"h-10 w-10 shrink-0",children:y.jsx(AO,{size:18})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg mr-2",children:[n.includes("table")&&y.jsx(de,{variant:f==="table"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a("table"),children:y.jsx(H1,{size:16})}),n.includes("grid")&&y.jsx(de,{variant:f==="grid"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a("grid"),children:y.jsx($1,{size:16})}),n.includes("kanban")&&y.jsx(de,{variant:f==="kanban"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a("kanban"),children:y.jsx(LO,{size:16})})]}),m&&y.jsxs(de,{onClick:m,className:"h-10 gap-2",children:[y.jsx(zn,{size:18}),y.jsx("span",{className:"hidden sm:inline",children:"Adicionar"})]})]})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 content-scrollbar",children:o?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),y.jsx("p",{className:"text-muted-foreground animate-pulse",children:"Carregando dados..."})]}):p.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2",children:[y.jsx(qr,{size:48,className:"opacity-20"}),y.jsx("p",{children:"Nenhum item encontrado"})]}):y.jsxs(el,{mode:"wait",children:[f==="table"&&y.jsx(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"min-w-full overflow-x-auto rounded-xl border border-border",children:y.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-secondary/30",children:[t.map(g=>y.jsx("th",{className:"px-4 py-3 font-semibold text-muted-foreground first:rounded-tl-xl last:rounded-tr-xl",children:g.header},g.key)),y.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),y.jsx("tbody",{children:p.map(g=>y.jsxs("tr",{onClick:()=>u==null?void 0:u(g),className:"border-b border-border hover:bg-secondary/20 cursor-pointer transition-colors",children:[t.map(h=>{var v;return y.jsx("td",{className:"px-4 py-4 truncate",style:{width:h.width},children:h.render?h.render(g):(v=g[h.key])==null?void 0:v.toString()},h.key)}),y.jsx("td",{className:"px-4 py-4 text-right",children:y.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-secondary",children:y.jsx(fy,{size:16})})})]},g.id))})]})},"table"),f==="grid"&&y.jsx(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:p.map(g=>{var h;return y.jsxs("div",{onClick:()=>u==null?void 0:u(g),className:"group bg-card hover:bg-secondary/20 border border-border rounded-xl p-4 cursor-pointer transition-all hover:shadow-lg hover:-translate-y-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t[0].render?t[0].render(g):y.jsx("h3",{className:"font-bold text-lg line-clamp-1",children:(h=g[t[0].key])==null?void 0:h.toString()}),y.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(fy,{size:16})})]}),y.jsx("div",{className:"space-y-3",children:t.slice(1).map(v=>{var x;return y.jsxs("div",{className:"text-sm flex justify-between items-center",children:[y.jsx("span",{className:"text-muted-foreground",children:v.header}),y.jsx("span",{className:"font-medium truncate max-w-[150px]",children:v.render?v.render(g):(x=g[v.key])==null?void 0:x.toString()})]},v.key)})})]},g.id)})},"grid"),f==="kanban"&&s&&l&&y.jsx(Qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex gap-6 overflow-x-auto pb-4 h-[calc(100vh-250px)]",children:l.map(g=>{const h=p.filter(v=>v[s]===g.value);return y.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center justify-between px-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color||"var(--primary)"}}),y.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:g.label}),y.jsx("span",{className:"text-xs bg-secondary px-2 py-0.5 rounded-full font-bold",children:h.length})]}),y.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:y.jsx(zn,{size:16})})]}),y.jsx("div",{className:"flex-1 flex flex-col gap-3 overflow-y-auto pr-2 custom-scrollbar",children:h.map(v=>{var x;return y.jsxs("div",{onClick:()=>u==null?void 0:u(v),className:"bg-card border border-border hover:border-primary/50 rounded-xl p-4 shadow-sm cursor-pointer transition-all hover:shadow-md",children:[y.jsx("h4",{className:"font-bold text-sm mb-3 line-clamp-2",children:(x=v[t[0].key])==null?void 0:x.toString()}),y.jsx("div",{className:"flex flex-wrap gap-2",children:t.slice(1,4).map(w=>{var b;return y.jsx("div",{className:"text-[10px] bg-secondary/50 px-2 py-1 rounded-md text-muted-foreground uppercase font-bold",children:w.render?w.render(v):(b=v[w.key])==null?void 0:b.toString()},w.key)})})]},v.id)})})]},g.value)})},"kanban")]})})]})}function x6({activities:e,onActivityClick:t}){const[n,r]=C.useState(new Date),i=Ez(n),u=Tz(n),m=_z({start:i,end:u}),o=i.getDay(),l=[...Array(o).fill(null),...m],f=p=>e.filter(g=>g.dataFim?bE(new Date(g.dataFim),p):!1),a=()=>r(PW(n,1)),c=()=>r(yE(n,1)),d=()=>r(new Date);return y.jsxs("div",{className:"h-full flex flex-col bg-background",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-secondary/20",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(fm,{className:"w-5 h-5 text-primary"}),y.jsx("h2",{className:"text-xl font-bold",children:ti(n,"MMMM yyyy",{locale:io})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(de,{variant:"outline",size:"sm",onClick:d,className:"gap-2",children:[y.jsx(qa,{size:14}),"Hoje"]}),y.jsx(de,{variant:"outline",size:"icon",onClick:a,children:y.jsx(W1,{size:16})}),y.jsx(de,{variant:"outline",size:"icon",onClick:c,children:y.jsx(Qs,{size:16})})]})]}),y.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[y.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(p=>y.jsx("div",{className:"text-center text-xs font-bold text-muted-foreground py-2",children:p},p))}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:l.map((p,g)=>{if(!p)return y.jsx("div",{className:"aspect-square"},`empty-${g}`);const h=f(p),v=_W(p,n),x=EW(p);return y.jsx(ye,{className:ae("aspect-square overflow-hidden transition-all hover:shadow-lg cursor-pointer",!v&&"opacity-40",x&&"ring-2 ring-primary"),children:y.jsxs(xe,{className:"p-2 h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:ae("text-sm font-bold",x&&"text-primary"),children:ti(p,"d")}),h.length>0&&y.jsx(Re,{variant:"secondary",className:"h-4 px-1 text-[9px]",children:h.length})]}),y.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar",children:[h.slice(0,3).map(w=>y.jsx("div",{onClick:()=>t==null?void 0:t(w),className:ae("text-[9px] px-1.5 py-0.5 rounded truncate font-medium",w.status==="PLANEJADO"&&"bg-blue-500/20 text-blue-700",w.status==="EM_EXECUCAO"&&"bg-yellow-500/20 text-yellow-700",w.status==="CONCLUIDO"&&"bg-green-500/20 text-green-700",w.status==="BLOQUEADO"&&"bg-red-500/20 text-red-700"),children:w.titulo},w.id)),h.length>3&&y.jsxs("div",{className:"text-[8px] text-muted-foreground text-center",children:["+",h.length-3," mais"]})]})]})},p.toISOString())})})]})]})}function w6(){const[e,t]=C.useState([]),[n,r]=C.useState(!0),[i,u]=C.useState("kanban");C.useEffect(()=>{m()},[]);const m=async()=>{r(!0);try{const a=await fetch(_t("/api/activities"));if(a.ok){const c=await a.json();t(c)}}catch(a){console.error(a)}finally{r(!1)}},o=[{key:"titulo",header:"Atividade",render:a=>{var c;return y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm tracking-tight",children:a.titulo}),y.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider",children:((c=a.project)==null?void 0:c.nome)||"Sem Obra"})]})}},{key:"assignments",header:"Responsvel",render:a=>{var d,p;const c=(p=(d=a.assignments)==null?void 0:d[0])==null?void 0:p.professional;return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:y.jsx(Au,{size:12})}),y.jsx("span",{className:"text-xs font-semibold",children:(c==null?void 0:c.nome)||"No designado"})]})}},{key:"dataFim",header:"Prazo",render:a=>y.jsx("span",{className:"text-xs font-medium",children:a.dataFim?ti(new Date(a.dataFim),"dd MMM yyyy",{locale:io}):"-"})},{key:"valor",header:"Investimento",render:a=>{var c,d;return y.jsxs("span",{className:"text-xs font-bold text-primary",children:["R$ ",(((d=(c=a.assignments)==null?void 0:c[0])==null?void 0:d.valorPrevisto)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}},{key:"status",header:"Status",render:a=>{const c={PLANEJADO:"bg-blue-500/10 text-blue-600",EM_EXECUCAO:"bg-yellow-500/10 text-yellow-600",CONCLUIDO:"bg-green-500/10 text-green-600",BLOQUEADO:"bg-red-500/10 text-red-600"};return y.jsx(Re,{className:b6("border-none shadow-none text-[9px] h-5 tracking-tight uppercase font-bold",c[a.status]||"bg-secondary"),children:a.status})}}],s=[{value:"PLANEJADO",label:"Planejado",color:"#3B82F6"},{value:"EM_EXECUCAO",label:"Em Execuo",color:"#F59E0B"},{value:"CONCLUIDO",label:"Concludo",color:"#10B981"},{value:"BLOQUEADO",label:"Bloqueado",color:"#EF4444"}],l=e.reduce((a,c)=>{var d,p;return a+(((p=(d=c.assignments)==null?void 0:d[0])==null?void 0:p.valorPrevisto)||0)},0),f=e.filter(a=>a.status==="EM_EXECUCAO").length;return y.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-secondary/10",children:[y.jsxs("div",{className:"p-4 lg:p-6 grid grid-cols-1 md:grid-cols-3 gap-4 shrink-0",children:[y.jsxs(ye,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent group-hover:opacity-100 transition-opacity"}),y.jsx(xe,{className:"pt-6 relative",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:y.jsx(qa,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Previsto (Investimento)"}),y.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:["R$ ",l.toLocaleString("pt-BR")]})]})]})})]}),y.jsxs(ye,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-transparent group-hover:opacity-100 transition-opacity"}),y.jsx(xe,{className:"pt-6 relative",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:y.jsx(Ka,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Atividades em Curso"}),y.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:[f," Tarefas"]})]})]})})]}),y.jsxs(ye,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-transparent group-hover:opacity-100 transition-opacity"}),y.jsx(xe,{className:"pt-6 relative",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-green-500/10 flex items-center justify-center text-green-500",children:y.jsx(Os,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"SLA de Entrega"}),y.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:["94% ",y.jsx("span",{className:"text-[10px] text-muted-foreground font-normal",children:"Sazonal"})]})]})]})})]})]}),y.jsxs("div",{className:"flex-1 min-h-0 bg-background rounded-t-[40px] border-t border-border/50 shadow-2xl overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-secondary/10",children:[y.jsx("h3",{className:"font-bold",children:"Visualizao"}),y.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[y.jsxs(de,{variant:i==="kanban"?"secondary":"ghost",size:"sm",onClick:()=>u("kanban"),className:"gap-2",children:[y.jsx($1,{size:14}),"Kanban"]}),y.jsxs(de,{variant:i==="dataview"?"secondary":"ghost",size:"sm",onClick:()=>u("dataview"),className:"gap-2",children:[y.jsx(H1,{size:14}),"Lista"]}),y.jsxs(de,{variant:i==="calendar"?"secondary":"ghost",size:"sm",onClick:()=>u("calendar"),className:"gap-2",children:[y.jsx(fm,{size:14}),"Calendrio"]})]})]}),y.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:i==="calendar"?y.jsx(x6,{activities:e,onActivityClick:a=>console.log("Activity clicked",a)}):y.jsx(y6,{data:e,columns:o,kanbanProperty:"status",kanbanColumns:s,isLoading:n,searchPlaceholder:"Buscar por atividade, profissional ou projeto...",onAddClick:()=>console.log("Adicionar Atividade"),onItemClick:a=>console.log("Click item",a),defaultView:i==="kanban"?"kanban":"table",viewModes:["table","grid","kanban"]})})]})]})}function b6(...e){return e.filter(Boolean).join(" ")}function C6(e,t=[]){let n=[];function r(u,m){const o=C.createContext(m);o.displayName=u+"Context";const s=n.length;n=[...n,m];const l=a=>{var v;const{scope:c,children:d,...p}=a,g=((v=c==null?void 0:c[e])==null?void 0:v[s])||o,h=C.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:h,children:d})};l.displayName=u+"Provider";function f(a,c){var g;const d=((g=c==null?void 0:c[e])==null?void 0:g[s])||o,p=C.useContext(d);if(p)return p;if(m!==void 0)return m;throw new Error(`\`${a}\` must be used within \`${u}\``)}return[l,f]}const i=()=>{const u=n.map(m=>C.createContext(m));return function(o){const s=(o==null?void 0:o[e])||u;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,S6(i,...t)]}function S6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const m=r.reduce((o,{useScope:s,scopeName:l})=>{const a=s(u)[`__scope${l}`];return{...o,...a}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:m}),[m])}};return n.scopeName=t.scopeName,n}var T6=Symbol.for("react.lazy"),uu=Hi[" use ".trim().toString()];function _6(e){return typeof e=="object"&&e!==null&&"then"in e}function g2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===T6&&"_payload"in e&&_6(e._payload)}function E6(e){const t=P6(e),n=C.forwardRef((r,i)=>{let{children:u,...m}=r;g2(u)&&typeof uu=="function"&&(u=uu(u._payload));const o=C.Children.toArray(u),s=o.find(N6);if(s){const l=s.props.children,f=o.map(a=>a===s?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:a);return y.jsx(t,{...m,ref:i,children:C.isValidElement(l)?C.cloneElement(l,void 0,f):null})}return y.jsx(t,{...m,ref:i,children:u})});return n.displayName=`${e}.Slot`,n}function P6(e){const t=C.forwardRef((n,r)=>{let{children:i,...u}=n;if(g2(i)&&typeof uu=="function"&&(i=uu(i._payload)),C.isValidElement(i)){const m=O6(i),o=k6(u,i.props);return i.type!==C.Fragment&&(o.ref=r?si(r,m):m),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j6=Symbol("radix.slottable");function N6(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j6}function k6(e,t){const n={...t};for(const r in t){const i=e[r],u=t[r];/^on[A-Z]/.test(r)?i&&u?n[r]=(...o)=>{const s=u(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...u}:r==="className"&&(n[r]=[i,u].filter(Boolean).join(" "))}return{...e,...n}}function O6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var A6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],v2=A6.reduce((e,t)=>{const n=E6(`Primitive.${t}`),r=C.forwardRef((i,u)=>{const{asChild:m,...o}=i,s=m?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(s,{...o,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),$g="Progress",Hg=100,[M6,R8]=C6($g),[R6,D6]=M6($g),y2=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:u=I6,...m}=e;(i||i===0)&&!B0(i)&&console.error(L6(`${i}`,"Progress"));const o=B0(i)?i:Hg;r!==null&&!V0(r,o)&&console.error(F6(`${r}`,"Progress"));const s=V0(r,o)?r:null,l=du(s)?u(s,o):void 0;return y.jsx(R6,{scope:n,value:s,max:o,children:y.jsx(v2.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":du(s)?s:void 0,"aria-valuetext":l,role:"progressbar","data-state":b2(s,o),"data-value":s??void 0,"data-max":o,...m,ref:t})})});y2.displayName=$g;var x2="ProgressIndicator",w2=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=D6(x2,n);return y.jsx(v2.div,{"data-state":b2(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});w2.displayName=x2;function I6(e,t){return`${Math.round(e/t*100)}%`}function b2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function du(e){return typeof e=="number"}function B0(e){return du(e)&&!isNaN(e)&&e>0}function V0(e,t){return du(e)&&!isNaN(e)&&e<=t&&e>=0}function L6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Hg}\`.`}function F6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Hg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var C2=y2,B6=w2;const Ts=C.forwardRef(({className:e,value:t,...n},r)=>y.jsx(C2,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:y.jsx(B6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ts.displayName=C2.displayName;function V6(){const[e,t]=C.useState(null),[n,r]=C.useState(!0);C.useEffect(()=>{i()},[]);const i=async()=>{try{const m=await fetch(_t("/api/dashboard/ceo"));m.ok&&t(await m.json())}catch(m){console.error("Dashboard error:",m)}finally{r(!1)}};if(n)return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})});const u={totalInvestment:458750,activeProjects:5,teamMembers:12,tasksCompleted:87,tasksTotal:120,documentsGenerated:34,criticalIssues:3,pendingApprovals:7,efficiency:94,slaCompliance:96,budgetUtilization:78,clientSatisfaction:4.8};return y.jsxs("div",{className:"h-full overflow-y-auto bg-gradient-to-br from-secondary/5 via-background to-primary/5",children:[y.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b p-4 lg:p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Dashboard Executivo"}),y.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Viso estratgica completa do sistema"})]}),y.jsx(Re,{variant:"outline",className:"text-xs",children:"Atualizado agora"})]})}),y.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:y.jsx(ye,{className:"border-l-4 border-l-blue-500 hover:shadow-xl transition-all",children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Investimento Total"}),y.jsxs("p",{className:"text-3xl font-bold tracking-tighter",children:["R$ ",u.totalInvestment.toLocaleString("pt-BR")]}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[y.jsx(Ou,{size:12}),y.jsx("span",{children:"+12% vs ms anterior"})]})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center",children:y.jsx(wh,{className:"w-6 h-6 text-blue-600"})})]})})})}),y.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:y.jsx(ye,{className:"border-l-4 border-l-green-500 hover:shadow-xl transition-all",children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Obras Ativas"}),y.jsx("p",{className:"text-3xl font-bold tracking-tighter",children:u.activeProjects}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[y.jsx(Os,{size:12}),y.jsx("span",{children:"100% operacionais"})]})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/10 flex items-center justify-center",children:y.jsx(lr,{className:"w-6 h-6 text-green-600"})})]})})})}),y.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:y.jsx(ye,{className:"border-l-4 border-l-purple-500 hover:shadow-xl transition-all",children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Equipe Total"}),y.jsx("p",{className:"text-3xl font-bold tracking-tighter",children:u.teamMembers}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[y.jsx(vn,{size:12}),y.jsx("span",{children:"8 internos + 4 externos"})]})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center",children:y.jsx(vn,{className:"w-6 h-6 text-purple-600"})})]})})})}),y.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:y.jsx(ye,{className:"border-l-4 border-l-orange-500 hover:shadow-xl transition-all",children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Taxa de Concluso"}),y.jsxs("p",{className:"text-3xl font-bold tracking-tighter",children:[Math.round(u.tasksCompleted/u.tasksTotal*100),"%"]}),y.jsx(Ts,{value:u.tasksCompleted/u.tasksTotal*100,className:"h-1.5"})]}),y.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:y.jsx(KO,{className:"w-6 h-6 text-orange-600"})})]})})})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(cr,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),y.jsx("p",{className:"text-2xl font-bold",children:u.documentsGenerated}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Documentos"})]})}),y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(dy,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),y.jsx("p",{className:"text-2xl font-bold",children:u.criticalIssues}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Crticos"})]})}),y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(qa,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),y.jsx("p",{className:"text-2xl font-bold",children:u.pendingApprovals}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pendentes"})]})}),y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(J1,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),y.jsxs("p",{className:"text-2xl font-bold",children:[u.efficiency,"%"]}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Eficincia"})]})}),y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(Os,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),y.jsxs("p",{className:"text-2xl font-bold",children:[u.slaCompliance,"%"]}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"SLA"})]})}),y.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:y.jsxs(xe,{className:"pt-6 text-center",children:[y.jsx(xh,{className:"w-8 h-8 mx-auto mb-2 text-indigo-500"}),y.jsxs("p",{className:"text-2xl font-bold",children:[u.budgetUtilization,"%"]}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Budget"})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center gap-2",children:[y.jsx(Ka,{size:16}),"Progresso de Tarefas"]})}),y.jsxs(xe,{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-xs text-muted-foreground",children:"Concludas"}),y.jsxs("span",{className:"text-sm font-bold",children:[u.tasksCompleted,"/",u.tasksTotal]})]}),y.jsx(Ts,{value:u.tasksCompleted/u.tasksTotal*100,className:"h-2"})]}),y.jsx(It,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:" Em dia"}),y.jsx("span",{className:"text-xs font-bold",children:"78"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:" Atrasadas"}),y.jsx("span",{className:"text-xs font-bold",children:"9"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:" Crticas"}),y.jsx("span",{className:"text-xs font-bold",children:u.criticalIssues})]})]})]})]}),y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center gap-2",children:[y.jsx(wh,{size:16}),"Status Oramentrio"]})}),y.jsxs(xe,{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-xs text-muted-foreground",children:"Utilizado"}),y.jsxs("span",{className:"text-sm font-bold",children:["R$ ",(u.totalInvestment*.78).toLocaleString("pt-BR")]})]}),y.jsx(Ts,{value:u.budgetUtilization,className:"h-2"})]}),y.jsx(It,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:"Previsto Total"}),y.jsxs("span",{className:"text-xs font-bold",children:["R$ ",u.totalInvestment.toLocaleString("pt-BR")]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:"Disponvel"}),y.jsxs("span",{className:"text-xs font-bold text-green-600",children:["R$ ",(u.totalInvestment*.22).toLocaleString("pt-BR")]})]})]})]})]}),y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center gap-2",children:[y.jsx(vn,{size:16}),"Satisfao Cliente"]})}),y.jsxs(xe,{className:"space-y-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-5xl font-bold text-primary",children:u.clientSatisfaction}),y.jsx("div",{className:"flex items-center justify-center gap-0.5 mt-2",children:[...Array(5)].map((m,o)=>y.jsx("span",{className:o<Math.floor(u.clientSatisfaction)?"text-yellow-500":"text-gray-300",children:""},o))}),y.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mdia geral"})]}),y.jsx(It,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:"Reviews positivos"}),y.jsx("span",{className:"text-xs font-bold text-green-600",children:"96%"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs",children:"NPS Score"}),y.jsx("span",{className:"text-xs font-bold",children:"+72"})]})]})]})]})]}),y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center justify-between",children:[y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(yh,{size:16}),"Atividades Recentes"]}),y.jsx(Re,{variant:"secondary",className:"text-xs",children:"ltimas 24h"})]})}),y.jsx(xe,{children:y.jsx("div",{className:"space-y-3",children:[{action:"Documento gerado",item:"Plano de Prioridades #1234",time:"2h atrs",icon:cr,color:"text-blue-500"},{action:"Atividade concluda",item:"Impermeabilizao Laje 12",time:"4h atrs",icon:Os,color:"text-green-500"},{action:"Novo registro",item:"Esboo fachada frontal",time:"6h atrs",icon:dy,color:"text-yellow-500"},{action:"Profissional designado",item:"Joo Silva  Atividade #567",time:"8h atrs",icon:vn,color:"text-purple-500"}].map((m,o)=>{const s=m.icon;return y.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg bg-secondary/50 flex items-center justify-center shrink-0 ${m.color}`,children:y.jsx(s,{size:16})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-semibold truncate",children:m.action}),y.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m.item})]}),y.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:m.time})]},o)})})})]}),(e==null?void 0:e.topProjects)&&e.topProjects.length>0&&y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center gap-2",children:[y.jsx(lr,{size:16}),"Top Projetos por Atividade"]})}),y.jsx(xe,{children:y.jsx("div",{className:"space-y-3",children:e.topProjects.map((m,o)=>{var s;return y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Re,{className:"w-6 h-6 flex items-center justify-center shrink-0",children:o+1}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-semibold",children:m.nome}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx(Ts,{value:Math.random()*100,className:"h-1.5 flex-1"}),y.jsxs("span",{className:"text-xs text-muted-foreground",children:[((s=m._count)==null?void 0:s.activities)||0," atividades"]})]})]})]},m.id)})})})]})]})]})}function z6(){const[e,t]=C.useState("ALL"),[n,r]=C.useState([]),[i,u]=C.useState(!1),[m,o]=C.useState(!1),[s,l]=C.useState({nome:"",tipo:"INTERNO",documento:"",contatos:""});C.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await fetch("http://localhost:4000/api/professionals");d.ok&&r(await d.json())}catch(d){console.error(d)}},a=async()=>{if(!s.nome){Ne.error("O nome  obrigatrio");return}o(!0);try{(await fetch("http://localhost:4000/api/professionals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(Ne.success("Profissional cadastrado com sucesso!"),u(!1),l({nome:"",tipo:"INTERNO",documento:"",contatos:""}),f())}catch{Ne.error("Erro ao salvar profissional")}finally{o(!1)}},c=n.filter(d=>e==="ALL"||d.tipo===e);return y.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Equipe & Profissionais"}),y.jsx("p",{className:"text-muted-foreground font-medium",children:"Gesto de colaboradores internos e prestadores externos"})]}),y.jsxs(de,{onClick:()=>u(!0),className:"rounded-2xl h-12 px-6 gap-2 font-bold shadow-lg shadow-primary/20",children:[y.jsx(zn,{size:20})," Adicionar Profissional"]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-8",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),y.jsx(tt,{placeholder:"Buscar por nome, especialidade ou documento...",className:"pl-12 h-12 rounded-2xl bg-background shadow-sm border-border/50"})]}),y.jsxs("div",{className:"flex p-1 bg-secondary/50 rounded-2xl border",children:[y.jsx("button",{onClick:()=>t("ALL"),className:ae("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="ALL"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Todos"}),y.jsx("button",{onClick:()=>t("INTERNO"),className:ae("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="INTERNO"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Internos"}),y.jsx("button",{onClick:()=>t("EXTERNO"),className:ae("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="EXTERNO"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Externos"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map((d,p)=>y.jsx(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:p*.05},children:y.jsx(ye,{className:"rounded-3xl border-border/50 shadow-xl shadow-black/5 bg-background hover:border-primary/30 transition-all group",children:y.jsxs(xe,{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Cg,{className:"w-14 h-14 border-2 border-primary/10 rounded-2xl",children:y.jsx(Sg,{className:"bg-primary/5 text-primary text-lg font-bold",children:d.nome.charAt(0)})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold tracking-tight",children:d.nome}),y.jsxs("p",{className:"text-xs text-muted-foreground font-semibold flex items-center gap-1",children:[y.jsx(Ka,{size:12})," ",d.tipo==="INTERNO"?"Equipe VERC":"Prestador Externo"]})]})]}),y.jsx(Re,{className:ae("border-none uppercase text-[9px] font-bold",d.tipo==="INTERNO"?"bg-blue-500/10 text-blue-600":"bg-orange-500/10 text-orange-600"),children:d.tipo})]}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(X1,{size:14,className:"opacity-60"}),y.jsx("span",{className:"font-medium truncate",children:d.contatos||"Sem contato"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(q1,{size:14,className:"opacity-60"}),y.jsx("span",{className:"font-medium",children:d.documento||"Sem registro"})]})]}),y.jsxs("div",{className:"pt-4 border-t border-border flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Tarefas Ativas"}),y.jsx("p",{className:"font-bold",children:(d.assignments||[]).length.toString().padStart(2,"0")})]}),y.jsx(de,{variant:"ghost",size:"sm",className:"rounded-xl text-primary font-bold",children:"Ver Perfil"})]})]})})},d.id))}),y.jsx(ai,{open:i,onOpenChange:u,children:y.jsxs(pr,{className:"rounded-[2rem] max-w-lg p-8",children:[y.jsx(li,{children:y.jsx(mr,{className:"text-2xl font-bold tracking-tighter",children:"Novo Profissional"})}),y.jsxs("div",{className:"space-y-6 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Nome Completo"}),y.jsx(tt,{placeholder:"Ex: Joo da Silva",className:"h-12 rounded-2xl",value:s.nome,onChange:d=>l({...s,nome:d.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Tipo"}),y.jsxs(so,{value:s.tipo,onValueChange:d=>l({...s,tipo:d}),children:[y.jsx(Ui,{className:"h-12 rounded-2xl",children:y.jsx(oo,{})}),y.jsxs($i,{className:"rounded-xl",children:[y.jsx(en,{value:"INTERNO",children:"Interno"}),y.jsx(en,{value:"EXTERNO",children:"Externo"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Documento (CPF/CNPJ)"}),y.jsx(tt,{placeholder:"000.000.000-00",className:"h-12 rounded-2xl",value:s.documento,onChange:d=>l({...s,documento:d.target.value})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Contatos (Email/Tel)"}),y.jsx(tt,{placeholder:"email@exemplo.com",className:"h-12 rounded-2xl",value:s.contatos,onChange:d=>l({...s,contatos:d.target.value})})]})]}),y.jsxs(wo,{className:"pt-4",children:[y.jsx(de,{variant:"ghost",onClick:()=>u(!1),className:"rounded-2xl h-12 font-bold",children:"Cancelar"}),y.jsx(de,{disabled:m,onClick:a,className:"rounded-2xl h-12 px-8 font-bold shadow-lg shadow-primary/20",children:m?"Salvando...":"Cadastrar Profissional"})]})]})})]})}var wf="rovingFocusGroup.onEntryFocus",W6={bubbles:!1,cancelable:!0},ul="RovingFocusGroup",[hp,S2,U6]=Ha(ul),[$6,T2]=Nt(ul,[U6]),[H6,Y6]=$6(ul),_2=C.forwardRef((e,t)=>y.jsx(hp.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(hp.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(X6,{...e,ref:t})})}));_2.displayName=ul;var X6=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:u,currentTabStopId:m,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:s,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...a}=e,c=C.useRef(null),d=pe(t,c),p=xo(u),[g,h]=ar({prop:m,defaultProp:o??null,onChange:s,caller:ul}),[v,x]=C.useState(!1),w=Pe(l),b=S2(n),S=C.useRef(!1),[T,_]=C.useState(0);return C.useEffect(()=>{const P=c.current;if(P)return P.addEventListener(wf,w),()=>P.removeEventListener(wf,w)},[w]),y.jsx(H6,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:C.useCallback(P=>h(P),[h]),onItemShiftTab:C.useCallback(()=>x(!0),[]),onFocusableItemAdd:C.useCallback(()=>_(P=>P+1),[]),onFocusableItemRemove:C.useCallback(()=>_(P=>P-1),[]),children:y.jsx(ue.div,{tabIndex:v||T===0?-1:0,"data-orientation":r,...a,ref:d,style:{outline:"none",...e.style},onMouseDown:lt(e.onMouseDown,()=>{S.current=!0}),onFocus:lt(e.onFocus,P=>{const A=!S.current;if(P.target===P.currentTarget&&A&&!v){const M=new CustomEvent(wf,W6);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const B=b().filter(Q=>Q.focusable),z=B.find(Q=>Q.active),Z=B.find(Q=>Q.id===g),$=[z,Z,...B].filter(Boolean).map(Q=>Q.ref.current);j2($,f)}}S.current=!1}),onBlur:lt(e.onBlur,()=>x(!1))})})}),E2="RovingFocusGroupItem",P2=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:u,children:m,...o}=e,s=wn(),l=u||s,f=Y6(E2,n),a=f.currentTabStopId===l,c=S2(n),{onFocusableItemAdd:d,onFocusableItemRemove:p,currentTabStopId:g}=f;return C.useEffect(()=>{if(r)return d(),()=>p()},[r,d,p]),y.jsx(hp.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:y.jsx(ue.span,{tabIndex:a?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:lt(e.onMouseDown,h=>{r?f.onItemFocus(l):h.preventDefault()}),onFocus:lt(e.onFocus,()=>f.onItemFocus(l)),onKeyDown:lt(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){f.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const v=q6(h,f.orientation,f.dir);if(v!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let w=c().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const b=w.indexOf(h.currentTarget);w=f.loop?Q6(w,b+1):w.slice(b+1)}setTimeout(()=>j2(w))}}),children:typeof m=="function"?m({isCurrentTabStop:a,hasTabStop:g!=null}):m})})});P2.displayName=E2;var G6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q6(e,t,n){const r=K6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G6[r]}function j2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Q6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var J6=_2,Z6=P2,cd="Tabs",[e8,D8]=Nt(cd,[T2]),N2=T2(),[t8,Yg]=e8(cd),k2=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:u,orientation:m="horizontal",dir:o,activationMode:s="automatic",...l}=e,f=xo(o),[a,c]=ar({prop:r,onChange:i,defaultProp:u??"",caller:cd});return y.jsx(t8,{scope:n,baseId:wn(),value:a,onValueChange:c,orientation:m,dir:f,activationMode:s,children:y.jsx(ue.div,{dir:f,"data-orientation":m,...l,ref:t})})});k2.displayName=cd;var O2="TabsList",A2=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,u=Yg(O2,n),m=N2(n);return y.jsx(J6,{asChild:!0,...m,orientation:u.orientation,dir:u.dir,loop:r,children:y.jsx(ue.div,{role:"tablist","aria-orientation":u.orientation,...i,ref:t})})});A2.displayName=O2;var M2="TabsTrigger",R2=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...u}=e,m=Yg(M2,n),o=N2(n),s=L2(m.baseId,r),l=F2(m.baseId,r),f=r===m.value;return y.jsx(Z6,{asChild:!0,...o,focusable:!i,active:f,children:y.jsx(ue.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":l,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:s,...u,ref:t,onMouseDown:lt(e.onMouseDown,a=>{!i&&a.button===0&&a.ctrlKey===!1?m.onValueChange(r):a.preventDefault()}),onKeyDown:lt(e.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&m.onValueChange(r)}),onFocus:lt(e.onFocus,()=>{const a=m.activationMode!=="manual";!f&&!i&&a&&m.onValueChange(r)})})})});R2.displayName=M2;var D2="TabsContent",I2=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:u,...m}=e,o=Yg(D2,n),s=L2(o.baseId,r),l=F2(o.baseId,r),f=r===o.value,a=C.useRef(f);return C.useEffect(()=>{const c=requestAnimationFrame(()=>a.current=!1);return()=>cancelAnimationFrame(c)},[]),y.jsx(Dm,{present:i||f,children:({present:c})=>y.jsx(ue.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":s,hidden:!c,id:l,tabIndex:0,...m,ref:t,style:{...e.style,animationDuration:a.current?"0s":void 0},children:c&&u})})});I2.displayName=D2;function L2(e,t){return`${e}-trigger-${t}`}function F2(e,t){return`${e}-content-${t}`}var n8=k2,B2=A2,V2=R2,z2=I2;const r8=n8,W2=C.forwardRef(({className:e,...t},n)=>y.jsx(B2,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));W2.displayName=B2.displayName;const hc=C.forwardRef(({className:e,...t},n)=>y.jsx(V2,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));hc.displayName=V2.displayName;const pc=C.forwardRef(({className:e,...t},n)=>y.jsx(z2,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pc.displayName=z2.displayName;function i8({project:e,isOpen:t,onClose:n}){var v;const[r,i]=C.useState(null),[u,m]=C.useState(!1);C.useEffect(()=>{t&&e&&o()},[t,e]);const o=async()=>{if(e){m(!0);try{const[x,w]=await Promise.all([fetch(_t(`/api/activities?projectId=${e.id}`)),fetch(_t(`/api/records?projectId=${e.id}`))]),b=x.ok?await x.json():[],S=w.ok?await w.json():[];i({...e,activities:b.filter(T=>T.projectId===e.id),records:S.filter(T=>T.projectId===e.id)})}catch(x){console.error("Error fetching project details:",x)}finally{m(!1)}}};if(!e)return null;const s=(r==null?void 0:r.activities)||[],l=(r==null?void 0:r.records)||[],f=s.length,a=s.filter(x=>x.status==="CONCLUIDO").length,c=s.filter(x=>x.status==="EM_EXECUCAO").length,d=f>0?a/f*100:0,p=s.reduce((x,w)=>{var b,S;return x+(((S=(b=w.assignments)==null?void 0:b[0])==null?void 0:S.valorPrevisto)||0)},0),g=l.filter(x=>x.type==="ESBOCO"),h=l.reduce((x,w)=>{var b;return x+(((b=w.documents)==null?void 0:b.length)||0)},0);return y.jsx(ai,{open:t,onOpenChange:n,children:y.jsxs(pr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[y.jsx(li,{children:y.jsxs(mr,{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:y.jsx(lr,{className:"w-5 h-5 text-primary"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold",children:e.nome}),y.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:e.endereco||"Endereo no informado"})]})]})}),u?y.jsx("div",{className:"flex items-center justify-center py-12",children:y.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})}):y.jsxs("div",{className:"space-y-6 py-4",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[y.jsx(ye,{children:y.jsx(xe,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-md bg-green-500/10 flex items-center justify-center shrink-0",children:y.jsx(Os,{className:"w-5 h-5 text-green-600"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Progresso"}),y.jsxs("p",{className:"text-lg font-bold",children:[Math.round(d),"%"]})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-md bg-blue-500/10 flex items-center justify-center shrink-0",children:y.jsx(yh,{className:"w-5 h-5 text-blue-600"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Atividades"}),y.jsx("p",{className:"text-lg font-bold",children:f})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-md bg-purple-500/10 flex items-center justify-center shrink-0",children:y.jsx(wh,{className:"w-5 h-5 text-purple-600"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Investimento"}),y.jsxs("p",{className:"text-lg font-bold truncate",children:["R$ ",p.toLocaleString("pt-BR")]})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-md bg-orange-500/10 flex items-center justify-center shrink-0",children:y.jsx(Yr,{className:"w-5 h-5 text-orange-600"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Esboos"}),y.jsx("p",{className:"text-lg font-bold",children:g.length})]})]})})})]}),y.jsxs(ye,{children:[y.jsx(Pr,{children:y.jsxs(jr,{className:"text-sm flex items-center gap-2",children:[y.jsx(Ou,{size:16}),"Viso Geral do Progresso"]})}),y.jsxs(xe,{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-semibold",children:"Status da Obra"}),y.jsx(Re,{children:e.status})]}),y.jsx(Ts,{value:d,className:"h-2"})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Concludas"}),y.jsx("p",{className:"text-2xl font-bold text-green-600",children:a})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Em Execuo"}),y.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Planejadas"}),y.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f-a-c})]})]})]})]}),y.jsxs(r8,{defaultValue:"activities",className:"w-full",children:[y.jsxs(W2,{className:"grid w-full grid-cols-3",children:[y.jsxs(hc,{value:"activities",children:["Atividades (",f,")"]}),y.jsxs(hc,{value:"records",children:["Registros (",l.length,")"]}),y.jsx(hc,{value:"info",children:"Informaes"})]}),y.jsx(pc,{value:"activities",className:"space-y-2 mt-4",children:s.length===0?y.jsx(ye,{className:"border-dashed",children:y.jsxs(xe,{className:"flex flex-col items-center justify-center py-8",children:[y.jsx(yh,{size:32,className:"opacity-20 mb-2"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma atividade cadastrada"})]})}):y.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto",children:s.map(x=>{var w,b,S;return y.jsx(ye,{className:"hover:shadow-md transition-shadow",children:y.jsxs(xe,{className:"p-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold text-sm truncate",children:x.titulo}),y.jsx("p",{className:"text-xs text-muted-foreground truncate",children:x.descricao||"Sem descrio"})]}),y.jsx(Re,{className:`text-[9px] h-5 shrink-0 ${x.status==="CONCLUIDO"?"bg-green-500":x.status==="EM_EXECUCAO"?"bg-yellow-500":x.status==="BLOQUEADO"?"bg-red-500":"bg-blue-500"}`,children:x.status})]}),y.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[y.jsxs("span",{children:[" R$ ",((S=(b=(w=x.assignments)==null?void 0:w[0])==null?void 0:b.valorPrevisto)==null?void 0:S.toLocaleString("pt-BR"))||"0"]}),x.dataFim&&y.jsxs("span",{children:[" ",ti(new Date(x.dataFim),"dd/MM/yyyy")]})]})]})},x.id)})})}),y.jsx(pc,{value:"records",className:"space-y-2 mt-4",children:l.length===0?y.jsx(ye,{className:"border-dashed",children:y.jsxs(xe,{className:"flex flex-col items-center justify-center py-8",children:[y.jsx(cr,{size:32,className:"opacity-20 mb-2"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum registro encontrado"})]})}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:l.map(x=>y.jsx(ye,{className:"hover:shadow-md transition-shadow",children:y.jsx(xe,{className:"p-3",children:y.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[x.type==="ESBOCO"?y.jsx(Yr,{className:"w-4 h-4 text-purple-500 shrink-0"}):y.jsx(cr,{className:"w-4 h-4 text-blue-500 shrink-0"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-xs font-semibold line-clamp-2",children:x.texto}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx(Re,{variant:"outline",className:"text-[8px] h-4",children:x.type}),y.jsx(Re,{className:"text-[8px] h-4",children:x.prioridade})]})]})]})})},x.id))})}),y.jsx(pc,{value:"info",className:"mt-4",children:y.jsx(ye,{children:y.jsxs(xe,{className:"pt-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Cliente"}),y.jsx("p",{className:"font-semibold",children:((v=e.client)==null?void 0:v.nome)||"No vinculado"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),y.jsx(Re,{children:e.status})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Data de Criao"}),y.jsx("p",{className:"font-semibold",children:ti(new Date(e.criadoEm),"dd 'de' MMMM 'de' yyyy",{locale:io})})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Documentos Gerados"}),y.jsxs("p",{className:"font-semibold",children:[h," arquivo(s)"]})]})]}),y.jsx(It,{}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Resumo Financeiro"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-3 bg-secondary/20 rounded-md",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Investimento Previsto"}),y.jsxs("p",{className:"text-xl font-bold",children:["R$ ",p.toLocaleString("pt-BR")]})]}),y.jsxs("div",{className:"p-3 bg-secondary/20 rounded-md",children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Custo mdio/atividade"}),y.jsxs("p",{className:"text-xl font-bold",children:["R$ ",f>0?Math.round(p/f).toLocaleString("pt-BR"):"0"]})]})]})]})]})})})]})]})]})})}function s8(){const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,u]=C.useState(!1),[m,o]=C.useState(null),[s,l]=C.useState(!1),[f,a]=C.useState({nome:"",endereco:"",clientId:""}),[c,d]=C.useState(!1);C.useEffect(()=>{p()},[]);const p=async()=>{try{const[v,x]=await Promise.all([fetch(_t("/api/projects")),fetch(_t("/api/clients"))]);v.ok&&t(await v.json()),x.ok&&r(await x.json())}catch{Ne.error("Erro ao carregar dados")}},g=async v=>{v.preventDefault(),d(!0);try{if(!(await fetch(_t("/api/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,status:"ATIVA"})})).ok)throw new Error("Erro ao criar obra");Ne.success("Obra criada com sucesso!"),u(!1),a({nome:"",endereco:"",clientId:""}),p()}catch(x){Ne.error(x.message)}finally{d(!1)}},h=v=>{o(v),l(!0)};return y.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-secondary/5 to-background",children:[y.jsx("div",{className:"p-4 lg:p-6 border-b bg-background/95 backdrop-blur-sm shrink-0",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Obras"}),y.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gerencie todos os projetos ativos"})]}),y.jsxs(de,{onClick:()=>u(!0),className:"gap-2",children:[y.jsx(zn,{size:16}),"Nova Obra"]})]})}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 flex items-center justify-center",children:y.jsx(lr,{className:"w-6 h-6 text-primary"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Obras"}),y.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-md bg-green-500/10 flex items-center justify-center",children:y.jsx(Os,{className:"w-6 h-6 text-green-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Ativas"}),y.jsx("p",{className:"text-2xl font-bold",children:e.filter(v=>v.status==="ATIVA").length})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-md bg-blue-500/10 flex items-center justify-center",children:y.jsx(vn,{className:"w-6 h-6 text-blue-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes"}),y.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})}),y.jsx(ye,{children:y.jsx(xe,{className:"pt-6",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-md bg-purple-500/10 flex items-center justify-center",children:y.jsx(xh,{className:"w-6 h-6 text-purple-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Em Execuo"}),y.jsx("p",{className:"text-2xl font-bold",children:e.filter(v=>v.status==="ATIVA").length})]})]})})})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(el,{mode:"popLayout",children:e.map((v,x)=>{var w;return y.jsx(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:x*.03},children:y.jsx(ye,{className:"hover:shadow-lg transition-all cursor-pointer group",children:y.jsxs(xe,{className:"p-4 space-y-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-bold text-lg truncate",children:v.nome}),y.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[y.jsx(VO,{size:10}),v.endereco||"Endereo no informado"]})]}),y.jsx(Re,{variant:"secondary",children:v.status})]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[y.jsx(vn,{size:12}),y.jsx("span",{children:((w=v.client)==null?void 0:w.nome)||"Sem cliente"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[y.jsx(fm,{size:12}),y.jsxs("span",{children:["Criado em ",new Date(v.criadoEm).toLocaleDateString("pt-BR")]})]}),y.jsxs(de,{className:"w-full gap-2 mt-2",variant:"outline",onClick:()=>h(v),children:[y.jsx(xh,{size:14}),"Gerenciar"]})]})})},v.id)})})})]}),y.jsx(ai,{open:i,onOpenChange:u,children:y.jsxs(pr,{children:[y.jsx(li,{children:y.jsx(mr,{children:"Nova Obra"})}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Nome da Obra *"}),y.jsx(tt,{value:f.nome,onChange:v=>a({...f,nome:v.target.value}),placeholder:"Ex: Edifcio Horizonte",required:!0,className:"mt-1"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Endereo"}),y.jsx(tt,{value:f.endereco,onChange:v=>a({...f,endereco:v.target.value}),placeholder:"Ex: Av. Paulista, 1000",className:"mt-1"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Cliente *"}),y.jsxs(so,{value:f.clientId,onValueChange:v=>a({...f,clientId:v}),children:[y.jsx(Ui,{className:"mt-1",children:y.jsx(oo,{placeholder:"Selecione um cliente"})}),y.jsx($i,{children:n.map(v=>y.jsx(en,{value:v.id,children:v.nome},v.id))})]})]}),y.jsxs(wo,{children:[y.jsx(de,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),y.jsx(de,{type:"submit",disabled:c,children:c?"Salvando...":"Criar Obra"})]})]})]})}),y.jsx(i8,{project:m,isOpen:s,onClose:()=>l(!1)})]})}function o8(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var ud="Switch",[a8,I8]=Nt(ud),[l8,c8]=a8(ud),U2=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:u,required:m,disabled:o,value:s="on",onCheckedChange:l,form:f,...a}=e,[c,d]=C.useState(null),p=pe(t,w=>d(w)),g=C.useRef(!1),h=c?f||!!c.closest("form"):!0,[v,x]=ar({prop:i,defaultProp:u??!1,onChange:l,caller:ud});return y.jsxs(l8,{scope:n,checked:v,disabled:o,children:[y.jsx(ue.button,{type:"button",role:"switch","aria-checked":v,"aria-required":m,"data-state":X2(v),"data-disabled":o?"":void 0,disabled:o,value:s,...a,ref:p,onClick:o8(e.onClick,w=>{x(b=>!b),h&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),h&&y.jsx(Y2,{control:c,bubbles:!g.current,name:r,value:s,checked:v,required:m,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});U2.displayName=ud;var $2="SwitchThumb",H2=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=c8($2,n);return y.jsx(ue.span,{"data-state":X2(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});H2.displayName=$2;var u8="SwitchBubbleInput",Y2=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},u)=>{const m=C.useRef(null),o=pe(m,u),s=dP(n),l=Iu(t);return C.useEffect(()=>{const f=m.current;if(!f)return;const a=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(a,"checked").set;if(s!==n&&d){const p=new Event("click",{bubbles:r});d.call(f,n),f.dispatchEvent(p)}},[s,n,r]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y2.displayName=u8;function X2(e){return e?"checked":"unchecked"}var G2=U2,d8=H2;const K2=C.forwardRef(({className:e,...t},n)=>y.jsx(G2,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:y.jsx(d8,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));K2.displayName=G2.displayName;function f8(){const{user:e,logout:t}=go(),[n,r]=C.useState([]),[i,u]=C.useState(!1),[m,o]=C.useState(!1),[s,l]=C.useState({nome:"",email:"",role:"USUARIO_PADRAO",senhaHash:"123456"});C.useEffect(()=>{((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="CEO")&&f()},[e]);const f=async()=>{try{const p=await fetch("http://localhost:4000/api/users");p.ok&&r(await p.json())}catch(p){console.error(p)}},a=async()=>{if(!s.nome||!s.email)return Ne.error("Nome e Email so obrigatrios");o(!0);try{(await fetch("http://localhost:4000/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(Ne.success("Usurio criado com sucesso!"),u(!1),l({nome:"",email:"",role:"USUARIO_PADRAO",senhaHash:"123456"}),f())}catch{Ne.error("Erro ao criar usurio")}finally{o(!1)}},d=[{title:"Conta & Perfil",icon:Au,items:[{label:"Informaes Pessoais",description:(e==null?void 0:e.nome)||"Carregando...",action:"Editar"},{label:"Segurana & Autenticao",description:"Senha e chaves de acesso",action:"Gerenciar"}]},{title:"Administrao do Sistema",icon:q1,isAdmin:!0,items:[{label:"Gesto de Usurios",description:`${n.length} usurios cadastrados no VERCFLOW`,action:"Ver Lista",onClick:()=>u(!0)},{label:"Logs de Atividade",description:"Auditoria de alteraes globais",action:"Acessar"}]},{title:"Sistema & Visual",icon:EO,items:[{label:"Tema Dark Mode",description:"Exclusivo VERCFLOW Glass",type:"toggle",value:!0},{label:"Notificaes Push",description:"Alertas de obra em tempo real",type:"toggle",value:!0}]}].filter(p=>!p.isAdmin||(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="CEO");return y.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto custom-scrollbar",children:[y.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[y.jsxs("div",{className:"mb-10 text-center lg:text-left flex flex-col lg:flex-row justify-between items-end gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Configuraes"}),y.jsx("p",{className:"text-muted-foreground font-medium",children:"Controle total da sua experincia e do ecossistema VERCFLOW"})]}),y.jsxs(Re,{variant:"outline",className:"rounded-full px-4 py-1.5 border-primary/20 bg-primary/5 text-primary font-bold",children:["Sesso como: ",e==null?void 0:e.role]})]}),y.jsxs("div",{className:"space-y-8",children:[d.map((p,g)=>y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2 px-2",children:[y.jsx(p.icon,{size:18,className:"text-primary"}),y.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-50",children:p.title})]}),y.jsxs(ye,{className:"rounded-[2rem] border-border/50 shadow-xl shadow-black/5 bg-background overflow-hidden relative isolate",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-50 -z-10"}),y.jsx(xe,{className:"p-0",children:p.items.map((h,v)=>y.jsxs(le.Fragment,{children:[y.jsxs("div",{onClick:h.onClick,className:"p-6 flex items-center justify-between hover:bg-secondary/20 transition-colors group cursor-pointer",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"font-bold tracking-tight",children:h.label}),y.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),h.type==="toggle"?y.jsx(K2,{defaultChecked:h.value}):y.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[h.action,y.jsx(Qs,{size:16})]})]}),v<p.items.length-1&&y.jsx(It,{className:"opacity-50"})]},v))})]})]},g)),y.jsx("div",{className:"pt-6 pb-20",children:y.jsxs(de,{onClick:t,variant:"destructive",className:"w-full h-14 rounded-2xl font-bold gap-2 shadow-lg shadow-destructive/20 hover:scale-[1.01] transition-transform",children:[y.jsx(Y1,{size:20})," Encerrar Sesso"]})})]})]}),y.jsx(ai,{open:i,onOpenChange:u,children:y.jsxs(pr,{className:"rounded-[2.5rem] max-w-2xl p-0 overflow-hidden border-none shadow-2xl",children:[y.jsx("div",{className:"bg-primary/5 p-8 border-b",children:y.jsx(li,{children:y.jsxs(mr,{className:"text-2xl font-bold tracking-tighter flex items-center gap-2",children:[y.jsx(vn,{className:"text-primary"})," Gesto de Usurios"]})})}),y.jsxs("div",{className:"p-8 space-y-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[y.jsxs("div",{className:"space-y-6 bg-secondary/20 p-6 rounded-3xl border border-border/50",children:[y.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Cadastrar Novo Usurio"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx(bf,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Nome"}),y.jsx(tt,{placeholder:"Nome do usurio",className:"rounded-xl h-11",value:s.nome,onChange:p=>l({...s,nome:p.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx(bf,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Email"}),y.jsx(tt,{placeholder:"email@vercflow.com",className:"rounded-xl h-11",value:s.email,onChange:p=>l({...s,email:p.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx(bf,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Papel (Role)"}),y.jsxs(so,{value:s.role,onValueChange:p=>l({...s,role:p}),children:[y.jsx(Ui,{className:"rounded-xl h-11",children:y.jsx(oo,{})}),y.jsxs($i,{className:"rounded-xl",children:[y.jsx(en,{value:"CEO",children:"CEO / Proprietrio"}),y.jsx(en,{value:"ADMIN",children:"Administrador"}),y.jsx(en,{value:"GESTOR",children:"Gestor de Obras"}),y.jsx(en,{value:"USUARIO_CAMPO",children:"Equipe de Campo"}),y.jsx(en,{value:"EXTERNO",children:"Colaborador Externo"})]})]})]}),y.jsx("div",{className:"flex items-end",children:y.jsxs(de,{onClick:a,disabled:m,className:"w-full h-11 rounded-xl font-bold gap-2",children:[y.jsx(zn,{size:18})," Criar Usurio"]})})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Usurios Ativos"}),y.jsx("div",{className:"space-y-3",children:n.map(p=>{var g;return y.jsxs("div",{className:"p-4 bg-background border rounded-2xl flex items-center justify-between group hover:border-primary/30 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary",children:(g=p.nome)==null?void 0:g.charAt(0)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm",children:p.nome}),y.jsx("p",{className:"text-xs text-muted-foreground",children:p.email})]})]}),y.jsx(Re,{className:"bg-secondary text-foreground border-none font-bold text-[10px]",children:p.role})]},p.id)})})]})]}),y.jsx(wo,{className:"p-6 bg-secondary/10 border-t",children:y.jsx(de,{variant:"ghost",className:"rounded-xl",onClick:()=>u(!1),children:"Fechar Gerenciador"})})]})})]})}const bf=({children:e,className:t})=>y.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t}`,children:e});function h8(){const[e,t]=C.useState([]),[n,r]=C.useState(!1),[i,u]=C.useState(!1),[m,o]=C.useState({nome:"",documento:"",contatos:""});C.useEffect(()=>{s()},[]);const s=async()=>{try{const f=await fetch("http://localhost:4000/api/clients");f.ok&&t(await f.json())}catch(f){console.error(f)}},l=async()=>{if(!m.nome)return Ne.error("O nome do cliente  obrigatrio");u(!0);try{(await fetch("http://localhost:4000/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok&&(Ne.success("Cliente cadastrado com sucesso!"),r(!1),o({nome:"",documento:"",contatos:""}),s())}catch{Ne.error("Erro ao salvar cliente")}finally{u(!1)}};return y.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto custom-scrollbar",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Gesto de Clientes"}),y.jsx("p",{className:"text-muted-foreground font-medium",children:"Base de contratantes e parceiros comerciais"})]}),y.jsxs(de,{onClick:()=>r(!0),className:"rounded-2xl h-12 px-6 gap-2 font-bold shadow-lg shadow-primary/20",children:[y.jsx(zn,{size:20})," Novo Cliente"]})]}),y.jsxs("div",{className:"relative max-w-xl mb-8",children:[y.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),y.jsx(tt,{placeholder:"Buscar cliente por nome ou CNPJ...",className:"pl-12 h-14 rounded-2xl bg-background border-border/50 shadow-xl shadow-black/5"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-20",children:e.map((f,a)=>y.jsx(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:a*.05},children:y.jsx(ye,{className:"rounded-3xl border-border/50 shadow-xl shadow-black/5 bg-background hover:border-primary/30 transition-all group overflow-hidden",children:y.jsxs(xe,{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary font-bold text-xl",children:f.nome.charAt(0)}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold tracking-tight",children:f.nome}),y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:f.documento||"CNPJ NO INFORMADO"})]})]}),y.jsx(de,{variant:"ghost",size:"icon",className:"rounded-xl",children:y.jsx(zO,{size:18})})]}),y.jsxs("div",{className:"space-y-3 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(X1,{size:14,className:"opacity-60"}),y.jsx("span",{className:"font-medium truncate",children:f.contatos||"Sem e-mail cadastrado"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(lr,{size:14,className:"opacity-60"}),y.jsx("span",{className:"font-medium",children:"Ativo no VERCFLOW"})]})]}),y.jsx(de,{className:"w-full h-11 rounded-xl bg-secondary hover:bg-primary hover:text-white font-bold transition-all",children:"Ver Portflio de Obras"})]})})},f.id))}),y.jsx(ai,{open:n,onOpenChange:r,children:y.jsxs(pr,{className:"rounded-[2rem] max-w-md p-8",children:[y.jsx(li,{children:y.jsx(mr,{className:"text-2xl font-bold tracking-tighter",children:"Cadastrar Cliente"})}),y.jsxs("div",{className:"space-y-6 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Razo Social / Nome"}),y.jsx(tt,{placeholder:"Ex: Construtora Horizonte S.A",value:m.nome,onChange:f=>o({...m,nome:f.target.value}),className:"h-12 rounded-xl"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"CNPJ / CPF"}),y.jsx(tt,{placeholder:"00.000.000/0001-00",value:m.documento,onChange:f=>o({...m,documento:f.target.value}),className:"h-12 rounded-xl"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(zt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Contatos Corporativos"}),y.jsx(tt,{placeholder:"email@cliente.com.br",value:m.contatos,onChange:f=>o({...m,contatos:f.target.value}),className:"h-12 rounded-xl"})]})]}),y.jsxs(wo,{className:"gap-3",children:[y.jsx(de,{variant:"ghost",onClick:()=>r(!1),className:"rounded-xl h-12",children:"Cancelar"}),y.jsx(de,{onClick:l,disabled:i,className:"rounded-xl h-12 px-8 font-bold shadow-lg shadow-primary/20",children:i?"Salvando...":"Salvar Cliente"})]})]})})]})}const p8=()=>{const[e,t]=C.useState("captura"),n=()=>{switch(e){case"captura":return y.jsx(F0,{});case"triagem":return y.jsx(m6,{});case"atividades":return y.jsx(w6,{});case"dashboard":return y.jsx(V6,{});case"equipe":return y.jsx(z6,{});case"obras":return y.jsx(s8,{});case"clientes":return y.jsx(h8,{});case"config":return y.jsx(f8,{});default:return y.jsx(F0,{})}};return y.jsx(hz,{activeTab:e,onTabChange:t,children:n()})};function m8(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,u]=C.useState(!1),{login:m}=go(),o=async s=>{s.preventDefault(),u(!0);try{await m(e,n),Ne.success("Bem-vindo ao VERCFLOW!")}catch(l){Ne.error(l.message||"Erro ao entrar")}finally{u(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary/30 p-4",children:y.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:y.jsxs(ye,{className:"w-full max-w-md shadow-xl border-border/50 bg-background/80 backdrop-blur-md",children:[y.jsxs(Pr,{className:"text-center space-y-2",children:[y.jsx("div",{className:"mx-auto w-12 h-12 bg-primary rounded-xl flex items-center justify-center shadow-lg shadow-primary/20",children:y.jsx("span",{className:"text-white font-bold text-2xl tracking-tighter",children:"V"})}),y.jsx(jr,{className:"text-2xl font-bold tracking-tight",children:"VERCFLOW"}),y.jsx(_E,{children:"Acesso restrito a usurios da construtora"})]}),y.jsx(xe,{children:y.jsxs("form",{onSubmit:o,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"E-mail"}),y.jsx(tt,{type:"email",placeholder:"usuario@vercflow.com",value:e,onChange:s=>t(s.target.value),className:"bg-secondary/50 border-border/50 h-12 rounded-xl",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"Senha"}),y.jsx(tt,{type:"password",placeholder:"",value:n,onChange:s=>r(s.target.value),className:"bg-secondary/50 border-border/50 h-12 rounded-xl",required:!0})]}),y.jsx(de,{type:"submit",className:"w-full h-12 text-lg font-semibold rounded-xl bg-primary hover:bg-primary/90 transition-all",disabled:i,children:i?"Entrando...":"Entrar"})]})})]})})})}const g8=()=>{const e=Wu();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),y.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},v8=new pD,y8=()=>{const{isAuthenticated:e}=go();return y.jsx(gD,{client:v8,children:y.jsx(uI,{children:y.jsxs(VR,{children:[y.jsx(MA,{}),y.jsx(eM,{}),y.jsx(lI,{children:y.jsxs(sI,{children:[y.jsx(oc,{path:"/login",element:e?y.jsx(Wy,{to:"/"}):y.jsx(m8,{})}),y.jsx(oc,{path:"/",element:e?y.jsx(p8,{}):y.jsx(Wy,{to:"/login"})}),y.jsx(oc,{path:"*",element:y.jsx(g8,{})})]})})]})})})};u1(document.getElementById("root")).render(y.jsx(y8,{}));
