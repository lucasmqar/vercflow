var cx=e=>{throw TypeError(e)};var Df=(e,t,n)=>t.has(e)||cx("Cannot "+n);var re=(e,t,n)=>(Df(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?cx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,r)=>(Df(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),wt=(e,t,n)=>(Df(e,t,"access private method"),n);var oc=(e,t,n,r)=>({set _(i){Se(e,t,i,n)},get _(){return re(e,t,r)}});function wD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function GS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var YS={exports:{}},yd={},XS={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),CD=Symbol.for("react.portal"),TD=Symbol.for("react.fragment"),ED=Symbol.for("react.strict_mode"),_D=Symbol.for("react.profiler"),PD=Symbol.for("react.provider"),ND=Symbol.for("react.context"),jD=Symbol.for("react.forward_ref"),OD=Symbol.for("react.suspense"),AD=Symbol.for("react.memo"),DD=Symbol.for("react.lazy"),ux=Symbol.iterator;function kD(e){return e===null||typeof e!="object"?null:(e=ux&&e[ux]||e["@@iterator"],typeof e=="function"?e:null)}var KS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qS=Object.assign,QS={};function Io(e,t,n){this.props=e,this.context=t,this.refs=QS,this.updater=n||KS}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JS(){}JS.prototype=Io.prototype;function og(e,t,n){this.props=e,this.context=t,this.refs=QS,this.updater=n||KS}var ag=og.prototype=new JS;ag.constructor=og;qS(ag,Io.prototype);ag.isPureReactComponent=!0;var dx=Array.isArray,ZS=Object.prototype.hasOwnProperty,lg={current:null},eC={key:!0,ref:!0,__self:!0,__source:!0};function tC(e,t,n){var r,i={},a=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(a=""+t.key),t)ZS.call(t,r)&&!eC.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Dl,type:e,key:a,ref:h,props:i,_owner:lg.current}}function RD(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function MD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fx=/\/+/g;function kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MD(""+e.key):t.toString(36)}function Uc(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(a){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Dl:case CD:h=!0}}if(h)return h=e,i=i(h),e=r===""?"."+kf(h,0):r,dx(i)?(n="",e!=null&&(n=e.replace(fx,"$&/")+"/"),Uc(i,t,n,"",function(c){return c})):i!=null&&(cg(i)&&(i=RD(i,n+(!i.key||h&&h.key===i.key?"":(""+i.key).replace(fx,"$&/")+"/")+e)),t.push(i)),1;if(h=0,r=r===""?".":r+":",dx(e))for(var o=0;o<e.length;o++){a=e[o];var s=r+kf(a,o);h+=Uc(a,t,n,s,i)}else if(s=kD(e),typeof s=="function")for(e=s.call(e),o=0;!(a=e.next()).done;)a=a.value,s=r+kf(a,o++),h+=Uc(a,t,n,s,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function ac(e,t,n){if(e==null)return e;var r=[],i=0;return Uc(e,r,"","",function(a){return t.call(n,a,i++)}),r}function ID(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},$c={transition:null},LD={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:$c,ReactCurrentOwner:lg};function nC(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ac,forEach:function(e,t,n){ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!cg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Io;Ee.Fragment=TD;Ee.Profiler=_D;Ee.PureComponent=og;Ee.StrictMode=ED;Ee.Suspense=OD;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;Ee.act=nC;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qS({},e.props),i=e.key,a=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,h=lg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(s in t)ZS.call(t,s)&&!eC.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&o!==void 0?o[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){o=Array(s);for(var c=0;c<s;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Dl,type:e.type,key:i,ref:a,props:r,_owner:h}};Ee.createContext=function(e){return e={$$typeof:ND,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PD,_context:e},e.Consumer=e};Ee.createElement=tC;Ee.createFactory=function(e){var t=tC.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:jD,render:e}};Ee.isValidElement=cg;Ee.lazy=function(e){return{$$typeof:DD,_payload:{_status:-1,_result:e},_init:ID}};Ee.memo=function(e,t){return{$$typeof:AD,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=$c.transition;$c.transition={};try{e()}finally{$c.transition=t}};Ee.unstable_act=nC;Ee.useCallback=function(e,t){return Lt.current.useCallback(e,t)};Ee.useContext=function(e){return Lt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Lt.current.useEffect(e,t)};Ee.useId=function(){return Lt.current.useId()};Ee.useImperativeHandle=function(e,t,n){return Lt.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Lt.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return Lt.current.useReducer(e,t,n)};Ee.useRef=function(e){return Lt.current.useRef(e)};Ee.useState=function(e){return Lt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return Lt.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return Lt.current.useTransition()};Ee.version="18.3.1";XS.exports=Ee;var w=XS.exports;const ae=GS(w),ps=wD({__proto__:null,default:ae},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD=w,BD=Symbol.for("react.element"),VD=Symbol.for("react.fragment"),zD=Object.prototype.hasOwnProperty,WD=FD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UD={key:!0,ref:!0,__self:!0,__source:!0};function rC(e,t,n){var r,i={},a=null,h=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)zD.call(t,r)&&!UD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:BD,type:e,key:a,ref:h,props:i,_owner:WD.current}}yd.Fragment=VD;yd.jsx=rC;yd.jsxs=rC;YS.exports=yd;var v=YS.exports,iC={exports:{}},on={},sC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,_){var N=M.length;M.push(_);e:for(;0<N;){var O=N-1>>>1,D=M[O];if(0<i(D,_))M[O]=_,M[N]=D,N=O;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var _=M[0],N=M.pop();if(N!==_){M[0]=N;e:for(var O=0,D=M.length,$=D>>>1;O<$;){var R=2*(O+1)-1,j=M[R],F=R+1,I=M[F];if(0>i(j,N))F<D&&0>i(I,j)?(M[O]=I,M[F]=N,O=F):(M[O]=j,M[R]=N,O=R);else if(F<D&&0>i(I,N))M[O]=I,M[F]=N,O=F;else break e}}return _}function i(M,_){var N=M.sortIndex-_.sortIndex;return N!==0?N:M.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var h=Date,o=h.now();e.unstable_now=function(){return h.now()-o}}var s=[],c=[],f=1,l=null,u=3,d=!1,m=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=M)r(c),_.sortIndex=_.expirationTime,t(s,_);else break;_=n(c)}}function S(M){if(g=!1,b(M),!m)if(n(s)!==null)m=!0,J(C);else{var _=n(c);_!==null&&G(S,_.startTime-M)}}function C(M,_){m=!1,g&&(g=!1,y(P),P=-1),d=!0;var N=u;try{for(b(_),l=n(s);l!==null&&(!(l.expirationTime>_)||M&&!B());){var O=l.callback;if(typeof O=="function"){l.callback=null,u=l.priorityLevel;var D=O(l.expirationTime<=_);_=e.unstable_now(),typeof D=="function"?l.callback=D:l===n(s)&&r(s),b(_)}else r(s);l=n(s)}if(l!==null)var $=!0;else{var R=n(c);R!==null&&G(S,R.startTime-_),$=!1}return $}finally{l=null,u=N,d=!1}}var T=!1,E=null,P=-1,k=5,A=-1;function B(){return!(e.unstable_now()-A<k)}function z(){if(E!==null){var M=e.unstable_now();A=M;var _=!0;try{_=E(!0,M)}finally{_?q():(T=!1,E=null)}}else T=!1}var q;if(typeof x=="function")q=function(){x(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=z,q=function(){W.postMessage(null)}}else q=function(){p(z,0)};function J(M){E=M,T||(T=!0,q())}function G(M,_){P=p(function(){M(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,J(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(M){switch(u){case 1:case 2:case 3:var _=3;break;default:_=u}var N=u;u=_;try{return M()}finally{u=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,_){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var N=u;u=M;try{return _()}finally{u=N}},e.unstable_scheduleCallback=function(M,_,N){var O=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=N+D,M={id:f++,callback:_,priorityLevel:M,startTime:N,expirationTime:D,sortIndex:-1},N>O?(M.sortIndex=N,t(c,M),n(s)===null&&M===n(c)&&(g?(y(P),P=-1):g=!0,G(S,N-O))):(M.sortIndex=D,t(s,M),m||d||(m=!0,J(C))),M},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(M){var _=u;return function(){var N=u;u=_;try{return M.apply(this,arguments)}finally{u=N}}}})(oC);sC.exports=oC;var $D=sC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HD=w,rn=$D;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aC=new Set,Ua={};function ms(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for(Ua[e]=t,e=0;e<t.length;e++)aC.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,GD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},px={};function YD(e){return np.call(px,e)?!0:np.call(hx,e)?!1:GD.test(e)?px[e]=!0:(hx[e]=!0,!1)}function XD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KD(e,t,n,r){if(t===null||typeof t>"u"||XD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,i,a,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=h}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var ug=/[\-:]([a-z])/g;function dg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ug,dg);bt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ug,dg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ug,dg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function fg(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KD(t,n,i,r)&&(n=null),r||i===null?YD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=HD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Os=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),uC=Symbol.for("react.offscreen"),mx=Symbol.iterator;function ta(e){return e===null||typeof e!="object"?null:(e=mx&&e[mx]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Rf;function va(e){if(Rf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rf=t&&t[1]||""}return`
`+Rf+e}var Mf=!1;function If(e,t){if(!e||Mf)return"";Mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),h=i.length-1,o=a.length-1;1<=h&&0<=o&&i[h]!==a[o];)o--;for(;1<=h&&0<=o;h--,o--)if(i[h]!==a[o]){if(h!==1||o!==1)do if(h--,o--,0>o||i[h]!==a[o]){var s=`
`+i[h].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=h&&0<=o);break}}}finally{Mf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?va(e):""}function qD(e){switch(e.tag){case 5:return va(e.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return e=If(e.type,!1),e;case 11:return e=If(e.type.render,!1),e;case 1:return e=If(e.type,!0),e;default:return""}}function op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case As:return"Fragment";case Os:return"Portal";case rp:return"Profiler";case hg:return"StrictMode";case ip:return"Suspense";case sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cC:return(e.displayName||"Context")+".Consumer";case lC:return(e._context.displayName||"Context")+".Provider";case pg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mg:return t=e.displayName||null,t!==null?t:op(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return op(e(t))}catch{}}return null}function QD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(t);case 8:return t===hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JD(e){var t=dC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,a.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=JD(e))}function fC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ap(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hC(e,t){t=t.checked,t!=null&&fg(e,"checked",t,!1)}function lp(e,t){hC(e,t);var n=pi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cp(e,t.type,n):t.hasOwnProperty("defaultValue")&&cp(e,t.type,pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cp(e,t,n){(t!=="number"||fu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ya=Array.isArray;function Xs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(ya(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pi(n)}}function pC(e,t){var n=pi(t.value),r=pi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,gC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZD=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(e){ZD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pa[t]=Pa[e]})});function vC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pa.hasOwnProperty(e)&&Pa[e]?(""+t).trim():t+"px"}function yC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ek=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(e,t){if(t){if(ek[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function gg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mp=null,Ks=null,qs=null;function bx(e){if(e=Ml(e)){if(typeof mp!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Cd(t),mp(e.stateNode,e.type,t))}}function xC(e){Ks?qs?qs.push(e):qs=[e]:Ks=e}function bC(){if(Ks){var e=Ks,t=qs;if(qs=Ks=null,bx(e),t)for(e=0;e<t.length;e++)bx(t[e])}}function wC(e,t){return e(t)}function SC(){}var Lf=!1;function CC(e,t,n){if(Lf)return e(t,n);Lf=!0;try{return wC(e,t,n)}finally{Lf=!1,(Ks!==null||qs!==null)&&(SC(),bC())}}function Ha(e,t){var n=e.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var gp=!1;if(wr)try{var na={};Object.defineProperty(na,"passive",{get:function(){gp=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{gp=!1}function tk(e,t,n,r,i,a,h,o,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Na=!1,hu=null,pu=!1,vp=null,nk={onError:function(e){Na=!0,hu=e}};function rk(e,t,n,r,i,a,h,o,s){Na=!1,hu=null,tk.apply(nk,arguments)}function ik(e,t,n,r,i,a,h,o,s){if(rk.apply(this,arguments),Na){if(Na){var c=hu;Na=!1,hu=null}else throw Error(le(198));pu||(pu=!0,vp=c)}}function gs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function TC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wx(e){if(gs(e)!==e)throw Error(le(188))}function sk(e){var t=e.alternate;if(!t){if(t=gs(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return wx(i),e;if(a===r)return wx(i),t;a=a.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=a;else{for(var h=!1,o=i.child;o;){if(o===n){h=!0,n=i,r=a;break}if(o===r){h=!0,r=i,n=a;break}o=o.sibling}if(!h){for(o=a.child;o;){if(o===n){h=!0,n=a,r=i;break}if(o===r){h=!0,r=a,n=i;break}o=o.sibling}if(!h)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function EC(e){return e=sk(e),e!==null?_C(e):null}function _C(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_C(e);if(t!==null)return t;e=e.sibling}return null}var PC=rn.unstable_scheduleCallback,Sx=rn.unstable_cancelCallback,ok=rn.unstable_shouldYield,ak=rn.unstable_requestPaint,tt=rn.unstable_now,lk=rn.unstable_getCurrentPriorityLevel,vg=rn.unstable_ImmediatePriority,NC=rn.unstable_UserBlockingPriority,mu=rn.unstable_NormalPriority,ck=rn.unstable_LowPriority,jC=rn.unstable_IdlePriority,xd=null,er=null;function uk(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(xd,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:hk,dk=Math.log,fk=Math.LN2;function hk(e){return e>>>=0,e===0?32:31-(dk(e)/fk|0)|0}var dc=64,fc=4194304;function xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,h=n&268435455;if(h!==0){var o=h&~i;o!==0?r=xa(o):(a&=h,a!==0&&(r=xa(a)))}else h=n&~i,h!==0?r=xa(h):a!==0&&(r=xa(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mn(t),i=1<<n,r|=e[n],t&=~i;return r}function pk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var h=31-Mn(a),o=1<<h,s=i[h];s===-1?(!(o&n)||o&r)&&(i[h]=pk(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}function yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OC(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function Ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=n}function gk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mn(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function yg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fe=0;function AC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DC,xg,kC,RC,MC,xp=!1,hc=[],ni=null,ri=null,ii=null,Ga=new Map,Ya=new Map,Ur=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cx(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(t.pointerId)}}function ra(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ml(t),t!==null&&xg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yk(e,t,n,r,i){switch(t){case"focusin":return ni=ra(ni,e,t,n,r,i),!0;case"dragenter":return ri=ra(ri,e,t,n,r,i),!0;case"mouseover":return ii=ra(ii,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ga.set(a,ra(Ga.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ya.set(a,ra(Ya.get(a)||null,e,t,n,r,i)),!0}return!1}function IC(e){var t=Vi(e.target);if(t!==null){var n=gs(t);if(n!==null){if(t=n.tag,t===13){if(t=TC(n),t!==null){e.blockedOn=t,MC(e.priority,function(){kC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return t=Ml(n),t!==null&&xg(t),e.blockedOn=n,!1;t.shift()}return!0}function Tx(e,t,n){Hc(e)&&n.delete(t)}function xk(){xp=!1,ni!==null&&Hc(ni)&&(ni=null),ri!==null&&Hc(ri)&&(ri=null),ii!==null&&Hc(ii)&&(ii=null),Ga.forEach(Tx),Ya.forEach(Tx)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,xp||(xp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,xk)))}function Xa(e){function t(i){return ia(i,e)}if(0<hc.length){ia(hc[0],e);for(var n=1;n<hc.length;n++){var r=hc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ni!==null&&ia(ni,e),ri!==null&&ia(ri,e),ii!==null&&ia(ii,e),Ga.forEach(t),Ya.forEach(t),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)IC(n),n.blockedOn===null&&Ur.shift()}var Qs=Or.ReactCurrentBatchConfig,vu=!0;function bk(e,t,n,r){var i=Fe,a=Qs.transition;Qs.transition=null;try{Fe=1,bg(e,t,n,r)}finally{Fe=i,Qs.transition=a}}function wk(e,t,n,r){var i=Fe,a=Qs.transition;Qs.transition=null;try{Fe=4,bg(e,t,n,r)}finally{Fe=i,Qs.transition=a}}function bg(e,t,n,r){if(vu){var i=bp(e,t,n,r);if(i===null)Xf(e,t,r,yu,n),Cx(e,r);else if(yk(i,e,t,n,r))r.stopPropagation();else if(Cx(e,r),t&4&&-1<vk.indexOf(e)){for(;i!==null;){var a=Ml(i);if(a!==null&&DC(a),a=bp(e,t,n,r),a===null&&Xf(e,t,r,yu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Xf(e,t,r,null,n)}}var yu=null;function bp(e,t,n,r){if(yu=null,e=gg(r),e=Vi(e),e!==null)if(t=gs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=TC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yu=e,null}function LC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case vg:return 1;case NC:return 4;case mu:case ck:return 16;case jC:return 536870912;default:return 16}default:return 16}}var Zr=null,wg=null,Gc=null;function FC(){if(Gc)return Gc;var e,t=wg,n=t.length,r,i="value"in Zr?Zr.value:Zr.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===i[a-r];r++);return Gc=i.slice(e,1<r?1-r:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pc(){return!0}function Ex(){return!1}function an(e){function t(n,r,i,a,h){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=h,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pc:Ex,this.isPropagationStopped=Ex,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=an(Lo),Rl=Ke({},Lo,{view:0,detail:0}),Sk=an(Rl),Bf,Vf,sa,bd=Ke({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(Bf=e.screenX-sa.screenX,Vf=e.screenY-sa.screenY):Vf=Bf=0,sa=e),Bf)},movementY:function(e){return"movementY"in e?e.movementY:Vf}}),_x=an(bd),Ck=Ke({},bd,{dataTransfer:0}),Tk=an(Ck),Ek=Ke({},Rl,{relatedTarget:0}),zf=an(Ek),_k=Ke({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=an(_k),Nk=Ke({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jk=an(Nk),Ok=Ke({},Lo,{data:0}),Px=an(Ok),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kk[e])?!!t[e]:!1}function Cg(){return Rk}var Mk=Ke({},Rl,{key:function(e){if(e.key){var t=Ak[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ik=an(Mk),Lk=Ke({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=an(Lk),Fk=Ke({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),Bk=an(Fk),Vk=Ke({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=an(Vk),Wk=Ke({},bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=an(Wk),$k=[9,13,27,32],Tg=wr&&"CompositionEvent"in window,ja=null;wr&&"documentMode"in document&&(ja=document.documentMode);var Hk=wr&&"TextEvent"in window&&!ja,BC=wr&&(!Tg||ja&&8<ja&&11>=ja),jx=" ",Ox=!1;function VC(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function Gk(e,t){switch(e){case"compositionend":return zC(t);case"keypress":return t.which!==32?null:(Ox=!0,jx);case"textInput":return e=t.data,e===jx&&Ox?null:e;default:return null}}function Yk(e,t){if(Ds)return e==="compositionend"||!Tg&&VC(e,t)?(e=FC(),Gc=wg=Zr=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BC&&t.locale!=="ko"?null:t.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xk[e.type]:t==="textarea"}function WC(e,t,n,r){xC(r),t=xu(t,"onChange"),0<t.length&&(n=new Sg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oa=null,Ka=null;function Kk(e){ZC(e,0)}function wd(e){var t=Ms(e);if(fC(t))return e}function qk(e,t){if(e==="change")return t}var UC=!1;if(wr){var Wf;if(wr){var Uf="oninput"in document;if(!Uf){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Uf=typeof Dx.oninput=="function"}Wf=Uf}else Wf=!1;UC=Wf&&(!document.documentMode||9<document.documentMode)}function kx(){Oa&&(Oa.detachEvent("onpropertychange",$C),Ka=Oa=null)}function $C(e){if(e.propertyName==="value"&&wd(Ka)){var t=[];WC(t,Ka,e,gg(e)),CC(Kk,t)}}function Qk(e,t,n){e==="focusin"?(kx(),Oa=t,Ka=n,Oa.attachEvent("onpropertychange",$C)):e==="focusout"&&kx()}function Jk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wd(Ka)}function Zk(e,t){if(e==="click")return wd(t)}function eR(e,t){if(e==="input"||e==="change")return wd(t)}function tR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:tR;function qa(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!np.call(t,i)||!Ln(e[i],t[i]))return!1}return!0}function Rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mx(e,t){var n=Rx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function HC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GC(){for(var e=window,t=fu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fu(e.document)}return t}function Eg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nR(e){var t=GC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HC(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Mx(n,a);var h=Mx(n,r);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rR=wr&&"documentMode"in document&&11>=document.documentMode,ks=null,wp=null,Aa=null,Sp=!1;function Ix(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||ks==null||ks!==fu(r)||(r=ks,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&qa(Aa,r)||(Aa=r,r=xu(wp,"onSelect"),0<r.length&&(t=new Sg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ks)))}function mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},$f={},YC={};wr&&(YC=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Sd(e){if($f[e])return $f[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YC)return $f[e]=t[n];return e}var XC=Sd("animationend"),KC=Sd("animationiteration"),qC=Sd("animationstart"),QC=Sd("transitionend"),JC=new Map,Lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){JC.set(e,t),ms(t,[e])}for(var Hf=0;Hf<Lx.length;Hf++){var Gf=Lx[Hf],iR=Gf.toLowerCase(),sR=Gf[0].toUpperCase()+Gf.slice(1);Si(iR,"on"+sR)}Si(XC,"onAnimationEnd");Si(KC,"onAnimationIteration");Si(qC,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(QC,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Fx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ik(r,t,void 0,e),e.currentTarget=null}function ZC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var h=r.length-1;0<=h;h--){var o=r[h],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;Fx(i,o,c),a=s}else for(h=0;h<r.length;h++){if(o=r[h],s=o.instance,c=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;Fx(i,o,c),a=s}}}if(pu)throw e=vp,pu=!1,vp=null,e}function ze(e,t){var n=t[Pp];n===void 0&&(n=t[Pp]=new Set);var r=e+"__bubble";n.has(r)||(e1(t,e,2,!1),n.add(r))}function Yf(e,t,n){var r=0;t&&(r|=4),e1(n,e,r,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Qa(e){if(!e[gc]){e[gc]=!0,aC.forEach(function(n){n!=="selectionchange"&&(oR.has(n)||Yf(n,!1,e),Yf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,Yf("selectionchange",!1,t))}}function e1(e,t,n,r){switch(LC(t)){case 1:var i=bk;break;case 4:i=wk;break;default:i=bg}n=i.bind(null,t,n,e),i=void 0,!gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xf(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var s=h.tag;if((s===3||s===4)&&(s=h.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;h=h.return}for(;o!==null;){if(h=Vi(o),h===null)return;if(s=h.tag,s===5||s===6){r=a=h;continue e}o=o.parentNode}}r=r.return}CC(function(){var c=a,f=gg(n),l=[];e:{var u=JC.get(e);if(u!==void 0){var d=Sg,m=e;switch(e){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":d=Ik;break;case"focusin":m="focus",d=zf;break;case"focusout":m="blur",d=zf;break;case"beforeblur":case"afterblur":d=zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Bk;break;case XC:case KC:case qC:d=Pk;break;case QC:d=zk;break;case"scroll":d=Sk;break;case"wheel":d=Uk;break;case"copy":case"cut":case"paste":d=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Nx}var g=(t&4)!==0,p=!g&&e==="scroll",y=g?u!==null?u+"Capture":null:u;g=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Ha(x,y),S!=null&&g.push(Ja(x,S,b)))),p)break;x=x.return}0<g.length&&(u=new d(u,m,null,n,f),l.push({event:u,listeners:g}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",u&&n!==pp&&(m=n.relatedTarget||n.fromElement)&&(Vi(m)||m[Sr]))break e;if((d||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?Vi(m):null,m!==null&&(p=gs(m),m!==p||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(g=_x,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Nx,S="onPointerLeave",y="onPointerEnter",x="pointer"),p=d==null?u:Ms(d),b=m==null?u:Ms(m),u=new g(S,x+"leave",d,n,f),u.target=p,u.relatedTarget=b,S=null,Vi(f)===c&&(g=new g(y,x+"enter",m,n,f),g.target=b,g.relatedTarget=p,S=g),p=S,d&&m)t:{for(g=d,y=m,x=0,b=g;b;b=Cs(b))x++;for(b=0,S=y;S;S=Cs(S))b++;for(;0<x-b;)g=Cs(g),x--;for(;0<b-x;)y=Cs(y),b--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Cs(g),y=Cs(y)}g=null}else g=null;d!==null&&Bx(l,u,d,g,!1),m!==null&&p!==null&&Bx(l,p,m,g,!0)}}e:{if(u=c?Ms(c):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var C=qk;else if(Ax(u))if(UC)C=eR;else{C=Jk;var T=Qk}else(d=u.nodeName)&&d.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=Zk);if(C&&(C=C(e,c))){WC(l,C,n,f);break e}T&&T(e,u,c),e==="focusout"&&(T=u._wrapperState)&&T.controlled&&u.type==="number"&&cp(u,"number",u.value)}switch(T=c?Ms(c):window,e){case"focusin":(Ax(T)||T.contentEditable==="true")&&(ks=T,wp=c,Aa=null);break;case"focusout":Aa=wp=ks=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,Ix(l,n,f);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Ix(l,n,f)}var E;if(Tg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ds?VC(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(BC&&n.locale!=="ko"&&(Ds||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ds&&(E=FC()):(Zr=f,wg="value"in Zr?Zr.value:Zr.textContent,Ds=!0)),T=xu(c,P),0<T.length&&(P=new Px(P,e,null,n,f),l.push({event:P,listeners:T}),E?P.data=E:(E=zC(n),E!==null&&(P.data=E)))),(E=Hk?Gk(e,n):Yk(e,n))&&(c=xu(c,"onBeforeInput"),0<c.length&&(f=new Px("onBeforeInput","beforeinput",null,n,f),l.push({event:f,listeners:c}),f.data=E))}ZC(l,t)})}function Ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ha(e,n),a!=null&&r.unshift(Ja(e,a,i)),a=Ha(e,t),a!=null&&r.push(Ja(e,a,i))),e=e.return}return r}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bx(e,t,n,r,i){for(var a=t._reactName,h=[];n!==null&&n!==r;){var o=n,s=o.alternate,c=o.stateNode;if(s!==null&&s===r)break;o.tag===5&&c!==null&&(o=c,i?(s=Ha(n,a),s!=null&&h.unshift(Ja(n,s,o))):i||(s=Ha(n,a),s!=null&&h.push(Ja(n,s,o)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var aR=/\r\n?/g,lR=/\u0000|\uFFFD/g;function Vx(e){return(typeof e=="string"?e:""+e).replace(aR,`
`).replace(lR,"")}function vc(e,t,n){if(t=Vx(t),Vx(e)!==t&&n)throw Error(le(425))}function bu(){}var Cp=null,Tp=null;function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(e){return zx.resolve(null).then(e).catch(dR)}:_p;function dR(e){setTimeout(function(){throw e})}function Kf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xa(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Fo,Za="__reactProps$"+Fo,Sr="__reactContainer$"+Fo,Pp="__reactEvents$"+Fo,fR="__reactListeners$"+Fo,hR="__reactHandles$"+Fo;function Vi(e){var t=e[Kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wx(e);e!==null;){if(n=e[Kn])return n;e=Wx(e)}return t}e=n,n=e.parentNode}return null}function Ml(e){return e=e[Kn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Cd(e){return e[Za]||null}var Np=[],Is=-1;function Ci(e){return{current:e}}function We(e){0>Is||(e.current=Np[Is],Np[Is]=null,Is--)}function Be(e,t){Is++,Np[Is]=e.current,e.current=t}var mi={},Pt=Ci(mi),Ut=Ci(!1),ts=mi;function go(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $t(e){return e=e.childContextTypes,e!=null}function wu(){We(Ut),We(Pt)}function Ux(e,t,n){if(Pt.current!==mi)throw Error(le(168));Be(Pt,t),Be(Ut,n)}function t1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,QD(e)||"Unknown",i));return Ke({},n,r)}function Su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,ts=Pt.current,Be(Pt,e),Be(Ut,Ut.current),!0}function $x(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=t1(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,We(Ut),We(Pt),Be(Pt,e)):We(Ut),Be(Ut,n)}var pr=null,Td=!1,qf=!1;function n1(e){pr===null?pr=[e]:pr.push(e)}function pR(e){Td=!0,n1(e)}function Ti(){if(!qf&&pr!==null){qf=!0;var e=0,t=Fe;try{var n=pr;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pr=null,Td=!1}catch(i){throw pr!==null&&(pr=pr.slice(e+1)),PC(vg,Ti),i}finally{Fe=t,qf=!1}}return null}var Ls=[],Fs=0,Cu=null,Tu=0,fn=[],hn=0,ns=null,gr=1,vr="";function Ri(e,t){Ls[Fs++]=Tu,Ls[Fs++]=Cu,Cu=e,Tu=t}function r1(e,t,n){fn[hn++]=gr,fn[hn++]=vr,fn[hn++]=ns,ns=e;var r=gr;e=vr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var a=32-Mn(t)+i;if(30<a){var h=i-i%5;a=(r&(1<<h)-1).toString(32),r>>=h,i-=h,gr=1<<32-Mn(t)+i|n<<i|r,vr=a+e}else gr=1<<a|n<<i|r,vr=e}function _g(e){e.return!==null&&(Ri(e,1),r1(e,1,0))}function Pg(e){for(;e===Cu;)Cu=Ls[--Fs],Ls[Fs]=null,Tu=Ls[--Fs],Ls[Fs]=null;for(;e===ns;)ns=fn[--hn],fn[hn]=null,vr=fn[--hn],fn[hn]=null,gr=fn[--hn],fn[hn]=null}var Jt=null,Kt=null,He=!1,kn=null;function i1(e,t){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:gr,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Kt=null,!0):!1;default:return!1}}function jp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Op(e){if(He){var t=Kt;if(t){var n=t;if(!Hx(e,t)){if(jp(e))throw Error(le(418));t=si(n.nextSibling);var r=Jt;t&&Hx(e,t)?i1(r,n):(e.flags=e.flags&-4097|2,He=!1,Jt=e)}}else{if(jp(e))throw Error(le(418));e.flags=e.flags&-4097|2,He=!1,Jt=e}}}function Gx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function yc(e){if(e!==Jt)return!1;if(!He)return Gx(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ep(e.type,e.memoizedProps)),t&&(t=Kt)){if(jp(e))throw s1(),Error(le(418));for(;t;)i1(e,t),t=si(t.nextSibling)}if(Gx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=si(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Jt?si(e.stateNode.nextSibling):null;return!0}function s1(){for(var e=Kt;e;)e=si(e.nextSibling)}function vo(){Kt=Jt=null,He=!1}function Ng(e){kn===null?kn=[e]:kn.push(e)}var mR=Or.ReactCurrentBatchConfig;function oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(h){var o=i.refs;h===null?delete o[a]:o[a]=h},t._stringRef=a,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function xc(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yx(e){var t=e._init;return t(e._payload)}function o1(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=ci(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function h(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,b,S){return x===null||x.tag!==6?(x=rh(b,y.mode,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function s(y,x,b,S){var C=b.type;return C===As?f(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&Yx(C)===x.type)?(S=i(x,b.props),S.ref=oa(y,x,b),S.return=y,S):(S=eu(b.type,b.key,b.props,null,y.mode,S),S.ref=oa(y,x,b),S.return=y,S)}function c(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=ih(b,y.mode,S),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function f(y,x,b,S,C){return x===null||x.tag!==7?(x=Qi(b,y.mode,S,C),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rh(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lc:return b=eu(x.type,x.key,x.props,null,y.mode,b),b.ref=oa(y,null,x),b.return=y,b;case Os:return x=ih(x,y.mode,b),x.return=y,x;case zr:var S=x._init;return l(y,S(x._payload),b)}if(ya(x)||ta(x))return x=Qi(x,y.mode,b,null),x.return=y,x;xc(y,x)}return null}function u(y,x,b,S){var C=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return b.key===C?s(y,x,b,S):null;case Os:return b.key===C?c(y,x,b,S):null;case zr:return C=b._init,u(y,x,C(b._payload),S)}if(ya(b)||ta(b))return C!==null?null:f(y,x,b,S,null);xc(y,b)}return null}function d(y,x,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,o(x,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lc:return y=y.get(S.key===null?b:S.key)||null,s(x,y,S,C);case Os:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,C);case zr:var T=S._init;return d(y,x,b,T(S._payload),C)}if(ya(S)||ta(S))return y=y.get(b)||null,f(x,y,S,C,null);xc(x,S)}return null}function m(y,x,b,S){for(var C=null,T=null,E=x,P=x=0,k=null;E!==null&&P<b.length;P++){E.index>P?(k=E,E=null):k=E.sibling;var A=u(y,E,b[P],S);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(y,E),x=a(A,x,P),T===null?C=A:T.sibling=A,T=A,E=k}if(P===b.length)return n(y,E),He&&Ri(y,P),C;if(E===null){for(;P<b.length;P++)E=l(y,b[P],S),E!==null&&(x=a(E,x,P),T===null?C=E:T.sibling=E,T=E);return He&&Ri(y,P),C}for(E=r(y,E);P<b.length;P++)k=d(E,y,P,b[P],S),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?P:k.key),x=a(k,x,P),T===null?C=k:T.sibling=k,T=k);return e&&E.forEach(function(B){return t(y,B)}),He&&Ri(y,P),C}function g(y,x,b,S){var C=ta(b);if(typeof C!="function")throw Error(le(150));if(b=C.call(b),b==null)throw Error(le(151));for(var T=C=null,E=x,P=x=0,k=null,A=b.next();E!==null&&!A.done;P++,A=b.next()){E.index>P?(k=E,E=null):k=E.sibling;var B=u(y,E,A.value,S);if(B===null){E===null&&(E=k);break}e&&E&&B.alternate===null&&t(y,E),x=a(B,x,P),T===null?C=B:T.sibling=B,T=B,E=k}if(A.done)return n(y,E),He&&Ri(y,P),C;if(E===null){for(;!A.done;P++,A=b.next())A=l(y,A.value,S),A!==null&&(x=a(A,x,P),T===null?C=A:T.sibling=A,T=A);return He&&Ri(y,P),C}for(E=r(y,E);!A.done;P++,A=b.next())A=d(E,y,P,A.value,S),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?P:A.key),x=a(A,x,P),T===null?C=A:T.sibling=A,T=A);return e&&E.forEach(function(z){return t(y,z)}),He&&Ri(y,P),C}function p(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===As&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:e:{for(var C=b.key,T=x;T!==null;){if(T.key===C){if(C=b.type,C===As){if(T.tag===7){n(y,T.sibling),x=i(T,b.props.children),x.return=y,y=x;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zr&&Yx(C)===T.type){n(y,T.sibling),x=i(T,b.props),x.ref=oa(y,T,b),x.return=y,y=x;break e}n(y,T);break}else t(y,T);T=T.sibling}b.type===As?(x=Qi(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=eu(b.type,b.key,b.props,null,y.mode,S),S.ref=oa(y,x,b),S.return=y,y=S)}return h(y);case Os:e:{for(T=b.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=ih(b,y.mode,S),x.return=y,y=x}return h(y);case zr:return T=b._init,p(y,x,T(b._payload),S)}if(ya(b))return m(y,x,b,S);if(ta(b))return g(y,x,b,S);xc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,b),x.return=y,y=x):(n(y,x),x=rh(b,y.mode,S),x.return=y,y=x),h(y)):n(y,x)}return p}var yo=o1(!0),a1=o1(!1),Eu=Ci(null),_u=null,Bs=null,jg=null;function Og(){jg=Bs=_u=null}function Ag(e){var t=Eu.current;We(Eu),e._currentValue=t}function Ap(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t){_u=e,jg=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(jg!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(_u===null)throw Error(le(308));Bs=e,_u.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var zi=null;function Dg(e){zi===null?zi=[e]:zi.push(e)}function l1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Dg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cr(e,r)}function Cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wr=!1;function kg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cr(e,n)}return i=r.interleaved,i===null?(t.next=t,Dg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cr(e,n)}function Xc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yg(e,n)}}function Xx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=h:a=a.next=h,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pu(e,t,n,r){var i=e.updateQueue;Wr=!1;var a=i.firstBaseUpdate,h=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var s=o,c=s.next;s.next=null,h===null?a=c:h.next=c,h=s;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==h&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=s))}if(a!==null){var l=i.baseState;h=0,f=c=s=null,o=a;do{var u=o.lane,d=o.eventTime;if((r&u)===u){f!==null&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(u=t,d=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){l=m.call(d,l,u);break e}l=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,u=typeof m=="function"?m.call(d,l,u):m,u==null)break e;l=Ke({},l,u);break e;case 2:Wr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=d,s=l):f=f.next=d,h|=u;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;u=o,o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(f===null&&(s=l),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);is|=h,e.lanes=h,e.memoizedState=l}}function Kx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Il={},tr=Ci(Il),el=Ci(Il),tl=Ci(Il);function Wi(e){if(e===Il)throw Error(le(174));return e}function Rg(e,t){switch(Be(tl,t),Be(el,e),Be(tr,Il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dp(t,e)}We(tr),Be(tr,t)}function xo(){We(tr),We(el),We(tl)}function u1(e){Wi(tl.current);var t=Wi(tr.current),n=dp(t,e.type);t!==n&&(Be(el,e),Be(tr,n))}function Mg(e){el.current===e&&(We(tr),We(el))}var Ge=Ci(0);function Nu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qf=[];function Ig(){for(var e=0;e<Qf.length;e++)Qf[e]._workInProgressVersionPrimary=null;Qf.length=0}var Kc=Or.ReactCurrentDispatcher,Jf=Or.ReactCurrentBatchConfig,rs=0,Xe=null,at=null,dt=null,ju=!1,Da=!1,nl=0,gR=0;function St(){throw Error(le(321))}function Lg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Fg(e,t,n,r,i,a){if(rs=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kc.current=e===null||e.memoizedState===null?bR:wR,e=n(r,i),Da){a=0;do{if(Da=!1,nl=0,25<=a)throw Error(le(301));a+=1,dt=at=null,t.updateQueue=null,Kc.current=SR,e=n(r,i)}while(Da)}if(Kc.current=Ou,t=at!==null&&at.next!==null,rs=0,dt=at=Xe=null,ju=!1,t)throw Error(le(300));return e}function Bg(){var e=nl!==0;return nl=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Xe.memoizedState=dt=e:dt=dt.next=e,dt}function Cn(){if(at===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=dt===null?Xe.memoizedState:dt.next;if(t!==null)dt=t,at=e;else{if(e===null)throw Error(le(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?Xe.memoizedState=dt=e:dt=dt.next=e}return dt}function rl(e,t){return typeof t=="function"?t(e):t}function Zf(e){var t=Cn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=at,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var h=i.next;i.next=a.next,a.next=h}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=h=null,s=null,c=a;do{var f=c.lane;if((rs&f)===f)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var l={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(o=s=l,h=r):s=s.next=l,Xe.lanes|=f,is|=f}c=c.next}while(c!==null&&c!==a);s===null?h=r:s.next=o,Ln(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Xe.lanes|=a,is|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eh(e){var t=Cn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do a=e(a,h.action),h=h.next;while(h!==i);Ln(a,t.memoizedState)||(Wt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function d1(){}function f1(e,t){var n=Xe,r=Cn(),i=t(),a=!Ln(r.memoizedState,i);if(a&&(r.memoizedState=i,Wt=!0),r=r.queue,Vg(m1.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,il(9,p1.bind(null,n,r,i,t),void 0,null),ht===null)throw Error(le(349));rs&30||h1(n,t,i)}return i}function h1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function p1(e,t,n,r){t.value=n,t.getSnapshot=r,g1(t)&&v1(e)}function m1(e,t,n){return n(function(){g1(t)&&v1(e)})}function g1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function v1(e){var t=Cr(e,1);t!==null&&In(t,e,1,-1)}function qx(e){var t=Hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=xR.bind(null,Xe,e),[t.memoizedState,e]}function il(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function y1(){return Cn().memoizedState}function qc(e,t,n,r){var i=Hn();Xe.flags|=e,i.memoizedState=il(1|t,n,void 0,r===void 0?null:r)}function Ed(e,t,n,r){var i=Cn();r=r===void 0?null:r;var a=void 0;if(at!==null){var h=at.memoizedState;if(a=h.destroy,r!==null&&Lg(r,h.deps)){i.memoizedState=il(t,n,a,r);return}}Xe.flags|=e,i.memoizedState=il(1|t,n,a,r)}function Qx(e,t){return qc(8390656,8,e,t)}function Vg(e,t){return Ed(2048,8,e,t)}function x1(e,t){return Ed(4,2,e,t)}function b1(e,t){return Ed(4,4,e,t)}function w1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S1(e,t,n){return n=n!=null?n.concat([e]):null,Ed(4,4,w1.bind(null,t,e),n)}function zg(){}function C1(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function T1(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function E1(e,t,n){return rs&21?(Ln(n,t)||(n=OC(),Xe.lanes|=n,is|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function vR(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=Jf.transition;Jf.transition={};try{e(!1),t()}finally{Fe=n,Jf.transition=r}}function _1(){return Cn().memoizedState}function yR(e,t,n){var r=li(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P1(e))N1(t,n);else if(n=l1(e,t,n,r),n!==null){var i=Mt();In(n,e,r,i),j1(n,t,r)}}function xR(e,t,n){var r=li(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P1(e))N1(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var h=t.lastRenderedState,o=a(h,n);if(i.hasEagerState=!0,i.eagerState=o,Ln(o,h)){var s=t.interleaved;s===null?(i.next=i,Dg(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=l1(e,t,i,r),n!==null&&(i=Mt(),In(n,e,r,i),j1(n,t,r))}}function P1(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function N1(e,t){Da=ju=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yg(e,n)}}var Ou={readContext:Sn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},bR={readContext:Sn,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Qx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qc(4194308,4,w1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return qc(4,2,e,t)},useMemo:function(e,t){var n=Hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yR.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:qx,useDebugValue:zg,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=qx(!1),t=e[0];return e=vR.bind(null,e[1]),Hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Hn();if(He){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),ht===null)throw Error(le(349));rs&30||h1(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Qx(m1.bind(null,r,a,e),[e]),r.flags|=2048,il(9,p1.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Hn(),t=ht.identifierPrefix;if(He){var n=vr,r=gr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wR={readContext:Sn,useCallback:C1,useContext:Sn,useEffect:Vg,useImperativeHandle:S1,useInsertionEffect:x1,useLayoutEffect:b1,useMemo:T1,useReducer:Zf,useRef:y1,useState:function(){return Zf(rl)},useDebugValue:zg,useDeferredValue:function(e){var t=Cn();return E1(t,at.memoizedState,e)},useTransition:function(){var e=Zf(rl)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:d1,useSyncExternalStore:f1,useId:_1,unstable_isNewReconciler:!1},SR={readContext:Sn,useCallback:C1,useContext:Sn,useEffect:Vg,useImperativeHandle:S1,useInsertionEffect:x1,useLayoutEffect:b1,useMemo:T1,useReducer:eh,useRef:y1,useState:function(){return eh(rl)},useDebugValue:zg,useDeferredValue:function(e){var t=Cn();return at===null?t.memoizedState=e:E1(t,at.memoizedState,e)},useTransition:function(){var e=eh(rl)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:d1,useSyncExternalStore:f1,useId:_1,unstable_isNewReconciler:!1};function Nn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _d={isMounted:function(e){return(e=e._reactInternals)?gs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),i=li(e),a=yr(r,i);a.payload=t,n!=null&&(a.callback=n),t=oi(e,a,i),t!==null&&(In(t,e,i,r),Xc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),i=li(e),a=yr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=oi(e,a,i),t!==null&&(In(t,e,i,r),Xc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=li(e),i=yr(n,r);i.tag=2,t!=null&&(i.callback=t),t=oi(e,i,r),t!==null&&(In(t,e,r,n),Xc(t,e,r))}};function Jx(e,t,n,r,i,a,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,h):t.prototype&&t.prototype.isPureReactComponent?!qa(n,r)||!qa(i,a):!0}function O1(e,t,n){var r=!1,i=mi,a=t.contextType;return typeof a=="object"&&a!==null?a=Sn(a):(i=$t(t)?ts:Pt.current,r=t.contextTypes,a=(r=r!=null)?go(e,i):mi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_d,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Zx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function kp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Sn(a):(a=$t(t)?ts:Pt.current,i.context=go(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Dp(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_d.enqueueReplaceState(i,i.state,null),Pu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bo(e,t){try{var n="",r=t;do n+=qD(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function th(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function A1(e,t,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Du||(Du=!0,$p=r),Rp(e,t)},n}function D1(e,t,n){n=yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Rp(e,t),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function e0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new CR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=LR.bind(null,e,t,n),t.then(e,e))}function t0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function n0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yr(-1,1),t.tag=2,oi(n,t,1))),n.lanes|=1),e)}var TR=Or.ReactCurrentOwner,Wt=!1;function Dt(e,t,n,r){t.child=e===null?a1(t,null,n,r):yo(t,e.child,n,r)}function r0(e,t,n,r,i){n=n.render;var a=t.ref;return Js(t,i),r=Fg(e,t,n,r,a,i),n=Bg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tr(e,t,i)):(He&&n&&_g(t),t.flags|=1,Dt(e,t,r,i),t.child)}function i0(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Kg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,k1(e,t,a,r,i)):(e=eu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var h=a.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(h,r)&&e.ref===t.ref)return Tr(e,t,i)}return t.flags|=1,e=ci(a,r),e.ref=t.ref,e.return=t,t.child=e}function k1(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(qa(a,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Tr(e,t,i)}return Mp(e,t,n,r,i)}function R1(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(zs,Gt),Gt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(zs,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Be(zs,Gt),Gt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Be(zs,Gt),Gt|=r;return Dt(e,t,i,n),t.child}function M1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mp(e,t,n,r,i){var a=$t(n)?ts:Pt.current;return a=go(t,a),Js(t,i),n=Fg(e,t,n,r,a,i),r=Bg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tr(e,t,i)):(He&&r&&_g(t),t.flags|=1,Dt(e,t,n,i),t.child)}function s0(e,t,n,r,i){if($t(n)){var a=!0;Su(t)}else a=!1;if(Js(t,i),t.stateNode===null)Qc(e,t),O1(t,n,r),kp(t,n,r,i),r=!0;else if(e===null){var h=t.stateNode,o=t.memoizedProps;h.props=o;var s=h.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sn(c):(c=$t(n)?ts:Pt.current,c=go(t,c));var f=n.getDerivedStateFromProps,l=typeof f=="function"||typeof h.getSnapshotBeforeUpdate=="function";l||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==r||s!==c)&&Zx(t,h,r,c),Wr=!1;var u=t.memoizedState;h.state=u,Pu(t,r,h,i),s=t.memoizedState,o!==r||u!==s||Ut.current||Wr?(typeof f=="function"&&(Dp(t,n,f,r),s=t.memoizedState),(o=Wr||Jx(t,n,o,r,u,s,c))?(l||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),h.props=r,h.state=s,h.context=c,r=o):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,c1(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Nn(t.type,o),h.props=c,l=t.pendingProps,u=h.context,s=n.contextType,typeof s=="object"&&s!==null?s=Sn(s):(s=$t(n)?ts:Pt.current,s=go(t,s));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==l||u!==s)&&Zx(t,h,r,s),Wr=!1,u=t.memoizedState,h.state=u,Pu(t,r,h,i);var m=t.memoizedState;o!==l||u!==m||Ut.current||Wr?(typeof d=="function"&&(Dp(t,n,d,r),m=t.memoizedState),(c=Wr||Jx(t,n,c,r,u,m,s)||!1)?(f||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,m,s),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,m,s)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),h.props=r,h.state=m,h.context=s,r=c):(typeof h.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Ip(e,t,n,r,a,i)}function Ip(e,t,n,r,i,a){M1(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return i&&$x(t,n,!1),Tr(e,t,a);r=t.stateNode,TR.current=t;var o=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=yo(t,e.child,null,a),t.child=yo(t,null,o,a)):Dt(e,t,o,a),t.memoizedState=r.state,i&&$x(t,n,!0),t.child}function I1(e){var t=e.stateNode;t.pendingContext?Ux(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ux(e,t.context,!1),Rg(e,t.containerInfo)}function o0(e,t,n,r,i){return vo(),Ng(i),t.flags|=256,Dt(e,t,n,r),t.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function Fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function L1(e,t,n){var r=t.pendingProps,i=Ge.current,a=!1,h=(t.flags&128)!==0,o;if((o=h)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ge,i&1),e===null)return Op(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,a?(r=t.mode,a=t.child,h={mode:"hidden",children:h},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=h):a=jd(h,r,0,null),e=Qi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fp(n),t.memoizedState=Lp,e):Wg(t,h));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ER(e,t,h,r,o,i,n);if(a){a=r.fallback,h=t.mode,i=e.child,o=i.sibling;var s={mode:"hidden",children:r.children};return!(h&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=ci(i,s),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ci(o,a):(a=Qi(a,h,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,h=e.child.memoizedState,h=h===null?Fp(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},a.memoizedState=h,a.childLanes=e.childLanes&~n,t.memoizedState=Lp,r}return a=e.child,e=a.sibling,r=ci(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wg(e,t){return t=jd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bc(e,t,n,r){return r!==null&&Ng(r),yo(t,e.child,null,n),e=Wg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ER(e,t,n,r,i,a,h){if(n)return t.flags&256?(t.flags&=-257,r=th(Error(le(422))),bc(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jd({mode:"visible",children:r.children},i,0,null),a=Qi(a,i,h,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&yo(t,e.child,null,h),t.child.memoizedState=Fp(h),t.memoizedState=Lp,a);if(!(t.mode&1))return bc(e,t,h,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(le(419)),r=th(a,r,void 0),bc(e,t,h,r)}if(o=(h&e.childLanes)!==0,Wt||o){if(r=ht,r!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|h)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cr(e,i),In(r,e,i,-1))}return Xg(),r=th(Error(le(421))),bc(e,t,h,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=FR.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Kt=si(i.nextSibling),Jt=t,He=!0,kn=null,e!==null&&(fn[hn++]=gr,fn[hn++]=vr,fn[hn++]=ns,gr=e.id,vr=e.overflow,ns=t),t=Wg(t,r.children),t.flags|=4096,t)}function a0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ap(e.return,t,n)}function nh(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function F1(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Dt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a0(e,n,t);else if(e.tag===19)a0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Nu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Nu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nh(t,!0,n,null,a);break;case"together":nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _R(e,t,n){switch(t.tag){case 3:I1(t),vo();break;case 5:u1(t);break;case 1:$t(t.type)&&Su(t);break;case 4:Rg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Be(Eu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?L1(e,t,n):(Be(Ge,Ge.current&1),e=Tr(e,t,n),e!==null?e.sibling:null);Be(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return F1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,R1(e,t,n)}return Tr(e,t,n)}var B1,Bp,V1,z1;B1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};V1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wi(tr.current);var a=null;switch(n){case"input":i=ap(e,i),r=ap(e,r),a=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),a=[];break;case"textarea":i=up(e,i),r=up(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bu)}fp(n,r);var h;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(h in o)o.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ua.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var s=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&s!==o&&(s!=null||o!=null))if(c==="style")if(o){for(h in o)!o.hasOwnProperty(h)||s&&s.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in s)s.hasOwnProperty(h)&&o[h]!==s[h]&&(n||(n={}),n[h]=s[h])}else n||(a||(a=[]),a.push(c,n)),n=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,o=o?o.__html:void 0,s!=null&&o!==s&&(a=a||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&ze("scroll",e),a||o===s||(a=[])):(a=a||[]).push(c,s))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};z1=function(e,t,n,r){n!==r&&(t.flags|=4)};function aa(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PR(e,t,n){var r=t.pendingProps;switch(Pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return $t(t.type)&&wu(),Ct(t),null;case 3:return r=t.stateNode,xo(),We(Ut),We(Pt),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(Yp(kn),kn=null))),Bp(e,t),Ct(t),null;case 5:Mg(t);var i=Wi(tl.current);if(n=t.type,e!==null&&t.stateNode!=null)V1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return Ct(t),null}if(e=Wi(tr.current),yc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Kn]=t,r[Za]=a,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<ba.length;i++)ze(ba[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":gx(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":yx(r,a),ze("invalid",r)}fp(n,a),i=null;for(var h in a)if(a.hasOwnProperty(h)){var o=a[h];h==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&vc(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&vc(r.textContent,o,e),i=["children",""+o]):Ua.hasOwnProperty(h)&&o!=null&&h==="onScroll"&&ze("scroll",r)}switch(n){case"input":cc(r),vx(r,a,!0);break;case"textarea":cc(r),xx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Kn]=t,e[Za]=r,B1(e,t,!1,!1),t.stateNode=e;e:{switch(h=hp(n,r),n){case"dialog":ze("cancel",e),ze("close",e),i=r;break;case"iframe":case"object":case"embed":ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<ba.length;i++)ze(ba[i],e);i=r;break;case"source":ze("error",e),i=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=r;break;case"details":ze("toggle",e),i=r;break;case"input":gx(e,r),i=ap(e,r),ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),ze("invalid",e);break;case"textarea":yx(e,r),i=up(e,r),ze("invalid",e);break;default:i=r}fp(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="style"?yC(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&gC(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&$a(e,s):typeof s=="number"&&$a(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ua.hasOwnProperty(a)?s!=null&&a==="onScroll"&&ze("scroll",e):s!=null&&fg(e,a,s,h))}switch(n){case"input":cc(e),vx(e,r,!1);break;case"textarea":cc(e),xx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Xs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Xs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)z1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Wi(tl.current),Wi(tr.current),yc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kn]=t,(a=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:vc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=t,t.stateNode=r}return Ct(t),null;case 13:if(We(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Kt!==null&&t.mode&1&&!(t.flags&128))s1(),vo(),t.flags|=98560,a=!1;else if(a=yc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(le(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(le(317));a[Kn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),a=!1}else kn!==null&&(Yp(kn),kn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?lt===0&&(lt=3):Xg())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return xo(),Bp(e,t),e===null&&Qa(t.stateNode.containerInfo),Ct(t),null;case 10:return Ag(t.type._context),Ct(t),null;case 17:return $t(t.type)&&wu(),Ct(t),null;case 19:if(We(Ge),a=t.memoizedState,a===null)return Ct(t),null;if(r=(t.flags&128)!==0,h=a.rendering,h===null)if(r)aa(a,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Nu(e),h!==null){for(t.flags|=128,aa(a,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,h=a.alternate,h===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,e=h.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ge,Ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&tt()>wo&&(t.flags|=128,r=!0,aa(a,!1),t.lanes=4194304)}else{if(!r)if(e=Nu(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),aa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!He)return Ct(t),null}else 2*tt()-a.renderingStartTime>wo&&n!==1073741824&&(t.flags|=128,r=!0,aa(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(n=a.last,n!==null?n.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tt(),t.sibling=null,n=Ge.current,Be(Ge,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Yg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function NR(e,t){switch(Pg(t),t.tag){case 1:return $t(t.type)&&wu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xo(),We(Ut),We(Pt),Ig(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mg(t),null;case 13:if(We(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ge),null;case 4:return xo(),null;case 10:return Ag(t.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var wc=!1,Et=!1,jR=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Vp(e,t,n){try{n()}catch(r){Je(e,t,r)}}var l0=!1;function OR(e,t){if(Cp=vu,e=GC(),Eg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var h=0,o=-1,s=-1,c=0,f=0,l=e,u=null;t:for(;;){for(var d;l!==n||i!==0&&l.nodeType!==3||(o=h+i),l!==a||r!==0&&l.nodeType!==3||(s=h+r),l.nodeType===3&&(h+=l.nodeValue.length),(d=l.firstChild)!==null;)u=l,l=d;for(;;){if(l===e)break t;if(u===n&&++c===i&&(o=h),u===a&&++f===r&&(s=h),(d=l.nextSibling)!==null)break;l=u,u=l.parentNode}l=d}n=o===-1||s===-1?null:{start:o,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:e,selectionRange:n},vu=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,p=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nn(t.type,g),p);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(S){Je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return m=l0,l0=!1,m}function ka(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vp(t,n,a)}i=i.next}while(i!==r)}}function Pd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function W1(e){var t=e.alternate;t!==null&&(e.alternate=null,W1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[Za],delete t[Pp],delete t[fR],delete t[hR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U1(e){return e.tag===5||e.tag===3||e.tag===4}function c0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bu));else if(r!==4&&(e=e.child,e!==null))for(Wp(e,t,n),e=e.sibling;e!==null;)Wp(e,t,n),e=e.sibling}function Up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Up(e,t,n),e=e.sibling;e!==null;)Up(e,t,n),e=e.sibling}var gt=null,Dn=!1;function Rr(e,t,n){for(n=n.child;n!==null;)$1(e,t,n),n=n.sibling}function $1(e,t,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(xd,n)}catch{}switch(n.tag){case 5:Et||Vs(n,t);case 6:var r=gt,i=Dn;gt=null,Rr(e,t,n),gt=r,Dn=i,gt!==null&&(Dn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Dn?(e=gt,n=n.stateNode,e.nodeType===8?Kf(e.parentNode,n):e.nodeType===1&&Kf(e,n),Xa(e)):Kf(gt,n.stateNode));break;case 4:r=gt,i=Dn,gt=n.stateNode.containerInfo,Dn=!0,Rr(e,t,n),gt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,h=a.destroy;a=a.tag,h!==void 0&&(a&2||a&4)&&Vp(n,t,h),i=i.next}while(i!==r)}Rr(e,t,n);break;case 1:if(!Et&&(Vs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Je(n,t,o)}Rr(e,t,n);break;case 21:Rr(e,t,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Rr(e,t,n),Et=r):Rr(e,t,n);break;default:Rr(e,t,n)}}function u0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jR),t.forEach(function(r){var i=BR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,h=t,o=h;e:for(;o!==null;){switch(o.tag){case 5:gt=o.stateNode,Dn=!1;break e;case 3:gt=o.stateNode.containerInfo,Dn=!0;break e;case 4:gt=o.stateNode.containerInfo,Dn=!0;break e}o=o.return}if(gt===null)throw Error(le(160));$1(a,h,i),gt=null,Dn=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(c){Je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H1(t,e),t=t.sibling}function H1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),$n(e),r&4){try{ka(3,e,e.return),Pd(3,e)}catch(g){Je(e,e.return,g)}try{ka(5,e,e.return)}catch(g){Je(e,e.return,g)}}break;case 1:En(t,e),$n(e),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(En(t,e),$n(e),r&512&&n!==null&&Vs(n,n.return),e.flags&32){var i=e.stateNode;try{$a(i,"")}catch(g){Je(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,h=n!==null?n.memoizedProps:a,o=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&hC(i,a),hp(o,h);var c=hp(o,a);for(h=0;h<s.length;h+=2){var f=s[h],l=s[h+1];f==="style"?yC(i,l):f==="dangerouslySetInnerHTML"?gC(i,l):f==="children"?$a(i,l):fg(i,f,l,c)}switch(o){case"input":lp(i,a);break;case"textarea":pC(i,a);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Xs(i,!!a.multiple,d,!1):u!==!!a.multiple&&(a.defaultValue!=null?Xs(i,!!a.multiple,a.defaultValue,!0):Xs(i,!!a.multiple,a.multiple?[]:"",!1))}i[Za]=a}catch(g){Je(e,e.return,g)}}break;case 6:if(En(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Je(e,e.return,g)}}break;case 3:if(En(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(g){Je(e,e.return,g)}break;case 4:En(t,e),$n(e);break;case 13:En(t,e),$n(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Hg=tt())),r&4&&u0(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(c=Et)||f,En(t,e),Et=c):En(t,e),$n(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(fe=e,f=e.child;f!==null;){for(l=fe=f;fe!==null;){switch(u=fe,d=u.child,u.tag){case 0:case 11:case 14:case 15:ka(4,u,u.return);break;case 1:Vs(u,u.return);var m=u.stateNode;if(typeof m.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Je(r,n,g)}}break;case 5:Vs(u,u.return);break;case 22:if(u.memoizedState!==null){f0(l);continue}}d!==null?(d.return=u,fe=d):f0(l)}f=f.sibling}e:for(f=null,l=e;;){if(l.tag===5){if(f===null){f=l;try{i=l.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=l.stateNode,s=l.memoizedProps.style,h=s!=null&&s.hasOwnProperty("display")?s.display:null,o.style.display=vC("display",h))}catch(g){Je(e,e.return,g)}}}else if(l.tag===6){if(f===null)try{l.stateNode.nodeValue=c?"":l.memoizedProps}catch(g){Je(e,e.return,g)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:En(t,e),$n(e),r&4&&u0(e);break;case 21:break;default:En(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(U1(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($a(i,""),r.flags&=-33);var a=c0(e);Up(e,a,i);break;case 3:case 4:var h=r.stateNode.containerInfo,o=c0(e);Wp(e,o,h);break;default:throw Error(le(161))}}catch(s){Je(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AR(e,t,n){fe=e,G1(e)}function G1(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var i=fe,a=i.child;if(i.tag===22&&r){var h=i.memoizedState!==null||wc;if(!h){var o=i.alternate,s=o!==null&&o.memoizedState!==null||Et;o=wc;var c=Et;if(wc=h,(Et=s)&&!c)for(fe=i;fe!==null;)h=fe,s=h.child,h.tag===22&&h.memoizedState!==null?h0(i):s!==null?(s.return=h,fe=s):h0(i);for(;a!==null;)fe=a,G1(a),a=a.sibling;fe=i,wc=o,Et=c}d0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,fe=a):d0(e)}}function d0(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||Pd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Kx(t,a,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kx(t,h,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var l=f.dehydrated;l!==null&&Xa(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Et||t.flags&512&&zp(t)}catch(u){Je(t,t.return,u)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function f0(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function h0(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pd(4,t)}catch(s){Je(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Je(t,i,s)}}var a=t.return;try{zp(t)}catch(s){Je(t,a,s)}break;case 5:var h=t.return;try{zp(t)}catch(s){Je(t,h,s)}}}catch(s){Je(t,t.return,s)}if(t===e){fe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,fe=o;break}fe=t.return}}var DR=Math.ceil,Au=Or.ReactCurrentDispatcher,Ug=Or.ReactCurrentOwner,yn=Or.ReactCurrentBatchConfig,je=0,ht=null,st=null,xt=0,Gt=0,zs=Ci(0),lt=0,sl=null,is=0,Nd=0,$g=0,Ra=null,zt=null,Hg=0,wo=1/0,fr=null,Du=!1,$p=null,ai=null,Sc=!1,ei=null,ku=0,Ma=0,Hp=null,Jc=-1,Zc=0;function Mt(){return je&6?tt():Jc!==-1?Jc:Jc=tt()}function li(e){return e.mode&1?je&2&&xt!==0?xt&-xt:mR.transition!==null?(Zc===0&&(Zc=OC()),Zc):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:LC(e.type)),e):1}function In(e,t,n,r){if(50<Ma)throw Ma=0,Hp=null,Error(le(185));kl(e,n,r),(!(je&2)||e!==ht)&&(e===ht&&(!(je&2)&&(Nd|=n),lt===4&&$r(e,xt)),Ht(e,r),n===1&&je===0&&!(t.mode&1)&&(wo=tt()+500,Td&&Ti()))}function Ht(e,t){var n=e.callbackNode;mk(e,t);var r=gu(e,e===ht?xt:0);if(r===0)n!==null&&Sx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sx(n),t===1)e.tag===0?pR(p0.bind(null,e)):n1(p0.bind(null,e)),uR(function(){!(je&6)&&Ti()}),n=null;else{switch(AC(r)){case 1:n=vg;break;case 4:n=NC;break;case 16:n=mu;break;case 536870912:n=jC;break;default:n=mu}n=eT(n,Y1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y1(e,t){if(Jc=-1,Zc=0,je&6)throw Error(le(327));var n=e.callbackNode;if(Zs()&&e.callbackNode!==n)return null;var r=gu(e,e===ht?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ru(e,r);else{t=r;var i=je;je|=2;var a=K1();(ht!==e||xt!==t)&&(fr=null,wo=tt()+500,qi(e,t));do try{MR();break}catch(o){X1(e,o)}while(!0);Og(),Au.current=a,je=i,st!==null?t=0:(ht=null,xt=0,t=lt)}if(t!==0){if(t===2&&(i=yp(e),i!==0&&(r=i,t=Gp(e,i))),t===1)throw n=sl,qi(e,0),$r(e,r),Ht(e,tt()),n;if(t===6)$r(e,r);else{if(i=e.current.alternate,!(r&30)&&!kR(i)&&(t=Ru(e,r),t===2&&(a=yp(e),a!==0&&(r=a,t=Gp(e,a))),t===1))throw n=sl,qi(e,0),$r(e,r),Ht(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Mi(e,zt,fr);break;case 3:if($r(e,r),(r&130023424)===r&&(t=Hg+500-tt(),10<t)){if(gu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_p(Mi.bind(null,e,zt,fr),t);break}Mi(e,zt,fr);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var h=31-Mn(r);a=1<<h,h=t[h],h>i&&(i=h),r&=~a}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DR(r/1960))-r,10<r){e.timeoutHandle=_p(Mi.bind(null,e,zt,fr),r);break}Mi(e,zt,fr);break;case 5:Mi(e,zt,fr);break;default:throw Error(le(329))}}}return Ht(e,tt()),e.callbackNode===n?Y1.bind(null,e):null}function Gp(e,t){var n=Ra;return e.current.memoizedState.isDehydrated&&(qi(e,t).flags|=256),e=Ru(e,t),e!==2&&(t=zt,zt=n,t!==null&&Yp(t)),e}function Yp(e){zt===null?zt=e:zt.push.apply(zt,e)}function kR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ln(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~$g,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mn(t),r=1<<n;e[n]=-1,t&=~r}}function p0(e){if(je&6)throw Error(le(327));Zs();var t=gu(e,0);if(!(t&1))return Ht(e,tt()),null;var n=Ru(e,t);if(e.tag!==0&&n===2){var r=yp(e);r!==0&&(t=r,n=Gp(e,r))}if(n===1)throw n=sl,qi(e,0),$r(e,t),Ht(e,tt()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mi(e,zt,fr),Ht(e,tt()),null}function Gg(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(wo=tt()+500,Td&&Ti())}}function ss(e){ei!==null&&ei.tag===0&&!(je&6)&&Zs();var t=je;je|=1;var n=yn.transition,r=Fe;try{if(yn.transition=null,Fe=1,e)return e()}finally{Fe=r,yn.transition=n,je=t,!(je&6)&&Ti()}}function Yg(){Gt=zs.current,We(zs)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cR(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wu();break;case 3:xo(),We(Ut),We(Pt),Ig();break;case 5:Mg(r);break;case 4:xo();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Ag(r.type._context);break;case 22:case 23:Yg()}n=n.return}if(ht=e,st=e=ci(e.current,null),xt=Gt=t,lt=0,sl=null,$g=Nd=is=0,zt=Ra=null,zi!==null){for(t=0;t<zi.length;t++)if(n=zi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var h=a.next;a.next=i,r.next=h}n.pending=r}zi=null}return e}function X1(e,t){do{var n=st;try{if(Og(),Kc.current=Ou,ju){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ju=!1}if(rs=0,dt=at=Xe=null,Da=!1,nl=0,Ug.current=null,n===null||n.return===null){lt=1,sl=t,st=null;break}e:{var a=e,h=n.return,o=n,s=t;if(t=xt,o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,f=o,l=f.tag;if(!(f.mode&1)&&(l===0||l===11||l===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=t0(h);if(d!==null){d.flags&=-257,n0(d,h,o,a,t),d.mode&1&&e0(a,c,t),t=d,s=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(s),t.updateQueue=g}else m.add(s);break e}else{if(!(t&1)){e0(a,c,t),Xg();break e}s=Error(le(426))}}else if(He&&o.mode&1){var p=t0(h);if(p!==null){!(p.flags&65536)&&(p.flags|=256),n0(p,h,o,a,t),Ng(bo(s,o));break e}}a=s=bo(s,o),lt!==4&&(lt=2),Ra===null?Ra=[a]:Ra.push(a),a=h;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=A1(a,s,t);Xx(a,y);break e;case 1:o=s;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ai===null||!ai.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=D1(a,o,t);Xx(a,S);break e}}a=a.return}while(a!==null)}Q1(n)}catch(C){t=C,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function K1(){var e=Au.current;return Au.current=Ou,e===null?Ou:e}function Xg(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(is&268435455)&&!(Nd&268435455)||$r(ht,xt)}function Ru(e,t){var n=je;je|=2;var r=K1();(ht!==e||xt!==t)&&(fr=null,qi(e,t));do try{RR();break}catch(i){X1(e,i)}while(!0);if(Og(),je=n,Au.current=r,st!==null)throw Error(le(261));return ht=null,xt=0,lt}function RR(){for(;st!==null;)q1(st)}function MR(){for(;st!==null&&!ok();)q1(st)}function q1(e){var t=Z1(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?Q1(e):st=t,Ug.current=null}function Q1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NR(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(n=PR(n,t,Gt),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function Mi(e,t,n){var r=Fe,i=yn.transition;try{yn.transition=null,Fe=1,IR(e,t,n,r)}finally{yn.transition=i,Fe=r}return null}function IR(e,t,n,r){do Zs();while(ei!==null);if(je&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gk(e,a),e===ht&&(st=ht=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,eT(mu,function(){return Zs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yn.transition,yn.transition=null;var h=Fe;Fe=1;var o=je;je|=4,Ug.current=null,OR(e,n),H1(n,e),nR(Tp),vu=!!Cp,Tp=Cp=null,e.current=n,AR(n),ak(),je=o,Fe=h,yn.transition=a}else e.current=n;if(Sc&&(Sc=!1,ei=e,ku=i),a=e.pendingLanes,a===0&&(ai=null),uk(n.stateNode),Ht(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,e=$p,$p=null,e;return ku&1&&e.tag!==0&&Zs(),a=e.pendingLanes,a&1?e===Hp?Ma++:(Ma=0,Hp=e):Ma=0,Ti(),null}function Zs(){if(ei!==null){var e=AC(ku),t=yn.transition,n=Fe;try{if(yn.transition=null,Fe=16>e?16:e,ei===null)var r=!1;else{if(e=ei,ei=null,ku=0,je&6)throw Error(le(331));var i=je;for(je|=4,fe=e.current;fe!==null;){var a=fe,h=a.child;if(fe.flags&16){var o=a.deletions;if(o!==null){for(var s=0;s<o.length;s++){var c=o[s];for(fe=c;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:ka(8,f,a)}var l=f.child;if(l!==null)l.return=f,fe=l;else for(;fe!==null;){f=fe;var u=f.sibling,d=f.return;if(W1(f),f===c){fe=null;break}if(u!==null){u.return=d,fe=u;break}fe=d}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}fe=a}}if(a.subtreeFlags&2064&&h!==null)h.return=a,fe=h;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ka(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,fe=y;break e}fe=a.return}}var x=e.current;for(fe=x;fe!==null;){h=fe;var b=h.child;if(h.subtreeFlags&2064&&b!==null)b.return=h,fe=b;else e:for(h=x;fe!==null;){if(o=fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pd(9,o)}}catch(C){Je(o,o.return,C)}if(o===h){fe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,fe=S;break e}fe=o.return}}if(je=i,Ti(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(xd,e)}catch{}r=!0}return r}finally{Fe=n,yn.transition=t}}return!1}function m0(e,t,n){t=bo(n,t),t=A1(e,t,1),e=oi(e,t,1),t=Mt(),e!==null&&(kl(e,1,t),Ht(e,t))}function Je(e,t,n){if(e.tag===3)m0(e,e,n);else for(;t!==null;){if(t.tag===3){m0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=bo(n,e),e=D1(t,e,1),t=oi(t,e,1),e=Mt(),t!==null&&(kl(t,1,e),Ht(t,e));break}}t=t.return}}function LR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(xt&n)===n&&(lt===4||lt===3&&(xt&130023424)===xt&&500>tt()-Hg?qi(e,0):$g|=n),Ht(e,t)}function J1(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var n=Mt();e=Cr(e,t),e!==null&&(kl(e,t,n),Ht(e,n))}function FR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),J1(e,n)}function BR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),J1(e,n)}var Z1;Z1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,_R(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,He&&t.flags&1048576&&r1(t,Tu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qc(e,t),e=t.pendingProps;var i=go(t,Pt.current);Js(t,n),i=Fg(null,t,r,e,i,n);var a=Bg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(a=!0,Su(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kg(t),i.updater=_d,t.stateNode=i,i._reactInternals=t,kp(t,r,e,n),t=Ip(null,t,r,!0,a,n)):(t.tag=0,He&&a&&_g(t),Dt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zR(r),e=Nn(r,e),i){case 0:t=Mp(null,t,r,e,n);break e;case 1:t=s0(null,t,r,e,n);break e;case 11:t=r0(null,t,r,e,n);break e;case 14:t=i0(null,t,r,Nn(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),Mp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),s0(e,t,r,i,n);case 3:e:{if(I1(t),e===null)throw Error(le(387));r=t.pendingProps,a=t.memoizedState,i=a.element,c1(e,t),Pu(t,r,null,n);var h=t.memoizedState;if(r=h.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=bo(Error(le(423)),t),t=o0(e,t,r,n,i);break e}else if(r!==i){i=bo(Error(le(424)),t),t=o0(e,t,r,n,i);break e}else for(Kt=si(t.stateNode.containerInfo.firstChild),Jt=t,He=!0,kn=null,n=a1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){t=Tr(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return u1(t),e===null&&Op(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,h=i.children,Ep(r,i)?h=null:a!==null&&Ep(r,a)&&(t.flags|=32),M1(e,t),Dt(e,t,h,n),t.child;case 6:return e===null&&Op(t),null;case 13:return L1(e,t,n);case 4:return Rg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yo(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),r0(e,t,r,i,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,h=i.value,Be(Eu,r._currentValue),r._currentValue=h,a!==null)if(Ln(a.value,h)){if(a.children===i.children&&!Ut.current){t=Tr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){h=a.child;for(var s=o.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=yr(-1,n&-n),s.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ap(a.return,n,t),o.lanes|=n;break}s=s.next}}else if(a.tag===10)h=a.type===t.type?null:a.child;else if(a.tag===18){if(h=a.return,h===null)throw Error(le(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Ap(h,n,t),h=a.sibling}else h=a.child;if(h!==null)h.return=a;else for(h=a;h!==null;){if(h===t){h=null;break}if(a=h.sibling,a!==null){a.return=h.return,h=a;break}h=h.return}a=h}Dt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Js(t,n),i=Sn(i),r=r(i),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,i=Nn(r,t.pendingProps),i=Nn(r.type,i),i0(e,t,r,i,n);case 15:return k1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nn(r,i),Qc(e,t),t.tag=1,$t(r)?(e=!0,Su(t)):e=!1,Js(t,n),O1(t,r,i),kp(t,r,i,n),Ip(null,t,r,!0,e,n);case 19:return F1(e,t,n);case 22:return R1(e,t,n)}throw Error(le(156,t.tag))};function eT(e,t){return PC(e,t)}function VR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,r){return new VR(e,t,n,r)}function Kg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zR(e){if(typeof e=="function")return Kg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pg)return 11;if(e===mg)return 14}return 2}function ci(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eu(e,t,n,r,i,a){var h=2;if(r=e,typeof e=="function")Kg(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case As:return Qi(n.children,i,a,t);case hg:h=8,i|=8;break;case rp:return e=mn(12,n,t,i|2),e.elementType=rp,e.lanes=a,e;case ip:return e=mn(13,n,t,i),e.elementType=ip,e.lanes=a,e;case sp:return e=mn(19,n,t,i),e.elementType=sp,e.lanes=a,e;case uC:return jd(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lC:h=10;break e;case cC:h=9;break e;case pg:h=11;break e;case mg:h=14;break e;case zr:h=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=mn(h,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Qi(e,t,n,r){return e=mn(7,e,r,t),e.lanes=n,e}function jd(e,t,n,r){return e=mn(22,e,r,t),e.elementType=uC,e.lanes=n,e.stateNode={isHidden:!1},e}function rh(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function ih(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(e,t,n,r,i,a,h,o,s){return e=new WR(e,t,n,o,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=mn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kg(a),e}function UR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tT(e){if(!e)return mi;e=e._reactInternals;e:{if(gs(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if($t(n))return t1(e,n,t)}return t}function nT(e,t,n,r,i,a,h,o,s){return e=qg(n,r,!0,e,i,a,h,o,s),e.context=tT(null),n=e.current,r=Mt(),i=li(n),a=yr(r,i),a.callback=t??null,oi(n,a,i),e.current.lanes=i,kl(e,i,r),Ht(e,r),e}function Od(e,t,n,r){var i=t.current,a=Mt(),h=li(i);return n=tT(n),t.context===null?t.context=n:t.pendingContext=n,t=yr(a,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=oi(i,t,h),e!==null&&(In(e,i,h,a),Xc(e,i,h)),h}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qg(e,t){g0(e,t),(e=e.alternate)&&g0(e,t)}function $R(){return null}var rT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jg(e){this._internalRoot=e}Ad.prototype.render=Jg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Od(e,t,null,null)};Ad.prototype.unmount=Jg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){Od(null,e,null,null)}),t[Sr]=null}};function Ad(e){this._internalRoot=e}Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=RC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ur.length&&t!==0&&t<Ur[n].priority;n++);Ur.splice(n,0,e),n===0&&IC(e)}};function Zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v0(){}function HR(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Mu(h);a.call(c)}}var h=nT(t,r,e,0,null,!1,!1,"",v0);return e._reactRootContainer=h,e[Sr]=h.current,Qa(e.nodeType===8?e.parentNode:e),ss(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Mu(s);o.call(c)}}var s=qg(e,0,!1,null,null,!1,!1,"",v0);return e._reactRootContainer=s,e[Sr]=s.current,Qa(e.nodeType===8?e.parentNode:e),ss(function(){Od(t,s,n,r)}),s}function kd(e,t,n,r,i){var a=n._reactRootContainer;if(a){var h=a;if(typeof i=="function"){var o=i;i=function(){var s=Mu(h);o.call(s)}}Od(t,h,e,i)}else h=HR(n,t,e,i,r);return Mu(h)}DC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xa(t.pendingLanes);n!==0&&(yg(t,n|1),Ht(t,tt()),!(je&6)&&(wo=tt()+500,Ti()))}break;case 13:ss(function(){var r=Cr(e,1);if(r!==null){var i=Mt();In(r,e,1,i)}}),Qg(e,1)}};xg=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var n=Mt();In(t,e,134217728,n)}Qg(e,134217728)}};kC=function(e){if(e.tag===13){var t=li(e),n=Cr(e,t);if(n!==null){var r=Mt();In(n,e,t,r)}Qg(e,t)}};RC=function(){return Fe};MC=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};mp=function(e,t,n){switch(t){case"input":if(lp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cd(r);if(!i)throw Error(le(90));fC(r),lp(r,i)}}}break;case"textarea":pC(e,n);break;case"select":t=n.value,t!=null&&Xs(e,!!n.multiple,t,!1)}};wC=Gg;SC=ss;var GR={usingClientEntryPoint:!1,Events:[Ml,Ms,Cd,xC,bC,Gg]},la={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YR={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=EC(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||$R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{xd=Cc.inject(YR),er=Cc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GR;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(t))throw Error(le(200));return UR(e,t,null,n)};on.createRoot=function(e,t){if(!Zg(e))throw Error(le(299));var n=!1,r="",i=rT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qg(e,1,!1,null,null,n,!1,r,i),e[Sr]=t.current,Qa(e.nodeType===8?e.parentNode:e),new Jg(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=EC(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ss(e)};on.hydrate=function(e,t,n){if(!Dd(t))throw Error(le(200));return kd(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!Zg(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",h=rT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=nT(t,null,e,1,n??null,i,!1,a,h),e[Sr]=t.current,Qa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ad(t)};on.render=function(e,t,n){if(!Dd(t))throw Error(le(200));return kd(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!Dd(e))throw Error(le(40));return e._reactRootContainer?(ss(function(){kd(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};on.unstable_batchedUpdates=Gg;on.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dd(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return kd(e,t,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function iT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iT)}catch(e){console.error(e)}}iT(),iC.exports=on;var Ar=iC.exports;const ev=GS(Ar);var sT,y0=Ar;sT=y0.createRoot,y0.hydrateRoot;const XR=1,KR=1e6;let sh=0;function qR(){return sh=(sh+1)%Number.MAX_SAFE_INTEGER,sh.toString()}const oh=new Map,x0=e=>{if(oh.has(e))return;const t=setTimeout(()=>{oh.delete(e),Ia({type:"REMOVE_TOAST",toastId:e})},KR);oh.set(e,t)},QR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?x0(n):e.toasts.forEach(r=>{x0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},tu=[];let nu={toasts:[]};function Ia(e){nu=QR(nu,e),tu.forEach(t=>{t(nu)})}function JR({...e}){const t=qR(),n=i=>Ia({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ia({type:"DISMISS_TOAST",toastId:t});return Ia({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ZR(){const[e,t]=w.useState(nu);return w.useEffect(()=>(tu.push(t),()=>{const n=tu.indexOf(t);n>-1&&tu.splice(n,1)}),[e]),{...e,toast:JR,dismiss:n=>Ia({type:"DISMISS_TOAST",toastId:n})}}function Xt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function b0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ei(...e){return t=>{let n=!1;const r=e.map(i=>{const a=b0(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():b0(e[i],null)}}}}function ge(...e){return w.useCallback(Ei(...e),e)}function eM(e,t){const n=w.createContext(t),r=a=>{const{children:h,...o}=a,s=w.useMemo(()=>o,Object.values(o));return v.jsx(n.Provider,{value:s,children:h})};r.displayName=e+"Provider";function i(a){const h=w.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Bt(e,t=[]){let n=[];function r(a,h){const o=w.createContext(h),s=n.length;n=[...n,h];const c=l=>{var y;const{scope:u,children:d,...m}=l,g=((y=u==null?void 0:u[e])==null?void 0:y[s])||o,p=w.useMemo(()=>m,Object.values(m));return v.jsx(g.Provider,{value:p,children:d})};c.displayName=a+"Provider";function f(l,u){var g;const d=((g=u==null?void 0:u[e])==null?void 0:g[s])||o,m=w.useContext(d);if(m)return m;if(h!==void 0)return h;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[c,f]}const i=()=>{const a=n.map(h=>w.createContext(h));return function(o){const s=(o==null?void 0:o[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,tM(i,...t)]}function tM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const h=r.reduce((o,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...o,...l}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}function os(e){const t=nM(e),n=w.forwardRef((r,i)=>{const{children:a,...h}=r,o=w.Children.toArray(a),s=o.find(iM);if(s){const c=s.props.children,f=o.map(l=>l===s?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:l);return v.jsx(t,{...h,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return v.jsx(t,{...h,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Bo=os("Slot");function nM(e){const t=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const h=oM(i),o=sM(a,i.props);return i.type!==w.Fragment&&(o.ref=r?Ei(r,h):h),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oT=Symbol("radix.slottable");function rM(e){const t=({children:n})=>v.jsx(v.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=oT,t}function iM(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oT}function sM(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function oM(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ll(e){const t=e+"CollectionProvider",[n,r]=Bt(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=g=>{const{scope:p,children:y}=g,x=ae.useRef(null),b=ae.useRef(new Map).current;return v.jsx(i,{scope:p,itemMap:b,collectionRef:x,children:y})};h.displayName=t;const o=e+"CollectionSlot",s=os(o),c=ae.forwardRef((g,p)=>{const{scope:y,children:x}=g,b=a(o,y),S=ge(p,b.collectionRef);return v.jsx(s,{ref:S,children:x})});c.displayName=o;const f=e+"CollectionItemSlot",l="data-radix-collection-item",u=os(f),d=ae.forwardRef((g,p)=>{const{scope:y,children:x,...b}=g,S=ae.useRef(null),C=ge(p,S),T=a(f,y);return ae.useEffect(()=>(T.itemMap.set(S,{ref:S,...b}),()=>void T.itemMap.delete(S))),v.jsx(u,{[l]:"",ref:C,children:x})});d.displayName=f;function m(g){const p=a(e+"CollectionConsumer",g);return ae.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${l}]`));return Array.from(p.itemMap.values()).sort((T,E)=>b.indexOf(T.ref.current)-b.indexOf(E.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:h,Slot:c,ItemSlot:d},m,r]}var aM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=aM.reduce((e,t)=>{const n=os(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:h,...o}=i,s=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(s,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function vs(e,t){e&&Ar.flushSync(()=>e.dispatchEvent(t))}function Oe(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Fl(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var lM="DismissableLayer",Xp="dismissableLayer.update",cM="dismissableLayer.pointerDownOutside",uM="dismissableLayer.focusOutside",w0,aT=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lT=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:h,onDismiss:o,...s}=e,c=w.useContext(aT),[f,l]=w.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=w.useState({}),m=ge(t,E=>l(E)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),x=f?g.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=fM(E=>{const P=E.target,k=[...c.branches].some(A=>A.contains(P));!S||k||(i==null||i(E),h==null||h(E),E.defaultPrevented||o==null||o())},u),T=hM(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a==null||a(E),h==null||h(E),E.defaultPrevented||o==null||o())},u);return Fl(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},u),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(w0=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),S0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=w0)}},[f,u,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),S0())},[f,c]),w.useEffect(()=>{const E=()=>d({});return document.addEventListener(Xp,E),()=>document.removeEventListener(Xp,E)},[]),v.jsx(he.div,{...s,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Xt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Xt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Xt(e.onPointerDownCapture,C.onPointerDownCapture)})});lT.displayName=lM;var dM="DismissableLayerBranch",cT=w.forwardRef((e,t)=>{const n=w.useContext(aT),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(he.div,{...e,ref:i})});cT.displayName=dM;function fM(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let s=function(){uT(cM,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function hM(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&uT(uM,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S0(){const e=new CustomEvent(Xp);document.dispatchEvent(e)}function uT(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}var pM=lT,mM=cT,Ae=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},gM="Portal",Bl=w.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,a]=w.useState(!1);Ae(()=>a(!0),[]);const h=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return h?ev.createPortal(v.jsx(he.div,{...r,ref:t}),h):null});Bl.displayName=gM;function vM(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var dT=e=>{const{present:t,children:n}=e,r=yM(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=ge(r.ref,xM(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};dT.displayName="Presence";function yM(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),h=e?"mounted":"unmounted",[o,s]=vM(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Tc(r.current);a.current=o==="mounted"?c:"none"},[o]),Ae(()=>{const c=r.current,f=i.current;if(f!==e){const u=a.current,d=Tc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Ae(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,l=d=>{const g=Tc(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},u=d=>{d.target===t&&(a.current=Tc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Tc(e){return(e==null?void 0:e.animationName)||"none"}function xM(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bM=ps[" useInsertionEffect ".trim().toString()]||Ae;function sr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,h]=wM({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:i;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const l=f.current;l!==o&&console.warn(`${r} is changing from ${l?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const c=w.useCallback(f=>{var l;if(o){const u=SM(f)?f(e):f;u!==e&&((l=h.current)==null||l.call(h,u))}else a(f)},[o,e,a,h]);return[s,c]}function wM({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return bM(()=>{a.current=t},[t]),w.useEffect(()=>{var h;i.current!==n&&((h=a.current)==null||h.call(a,n),i.current=n)},[n,i]),[n,r,a]}function SM(e){return typeof e=="function"}var fT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CM="VisuallyHidden",Rd=w.forwardRef((e,t)=>v.jsx(he.span,{...e,ref:t,style:{...fT,...e.style}}));Rd.displayName=CM;var TM=Rd,tv="ToastProvider",[nv,EM,_M]=Ll("Toast"),[hT]=Bt("Toast",[_M]),[PM,Md]=hT(tv),pT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:h}=e,[o,s]=w.useState(null),[c,f]=w.useState(0),l=w.useRef(!1),u=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tv}\`. Expected non-empty \`string\`.`),v.jsx(nv.Provider,{scope:t,children:v.jsx(PM,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:s,onToastAdd:w.useCallback(()=>f(d=>d+1),[]),onToastRemove:w.useCallback(()=>f(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:u,children:h})})};pT.displayName=tv;var mT="ToastViewport",NM=["F8"],Kp="toast.viewportPause",qp="toast.viewportResume",gT=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=NM,label:i="Notifications ({hotkey})",...a}=e,h=Md(mT,n),o=EM(n),s=w.useRef(null),c=w.useRef(null),f=w.useRef(null),l=w.useRef(null),u=ge(t,l,h.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=h.toastCount>0;w.useEffect(()=>{const p=y=>{var b;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((b=l.current)==null||b.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[r]),w.useEffect(()=>{const p=s.current,y=l.current;if(m&&p&&y){const x=()=>{if(!h.isClosePausedRef.current){const T=new CustomEvent(Kp);y.dispatchEvent(T),h.isClosePausedRef.current=!0}},b=()=>{if(h.isClosePausedRef.current){const T=new CustomEvent(qp);y.dispatchEvent(T),h.isClosePausedRef.current=!1}},S=T=>{!p.contains(T.relatedTarget)&&b()},C=()=>{p.contains(document.activeElement)||b()};return p.addEventListener("focusin",x),p.addEventListener("focusout",S),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",S),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[m,h.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:p})=>{const x=o().map(b=>{const S=b.ref.current,C=[S,...zM(S)];return p==="forwards"?C:C.reverse()});return(p==="forwards"?x.reverse():x).flat()},[o]);return w.useEffect(()=>{const p=l.current;if(p){const y=x=>{var C,T,E;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const P=document.activeElement,k=x.shiftKey;if(x.target===p&&k){(C=c.current)==null||C.focus();return}const z=g({tabbingDirection:k?"backwards":"forwards"}),q=z.findIndex(L=>L===P);ah(z.slice(q+1))?x.preventDefault():k?(T=c.current)==null||T.focus():(E=f.current)==null||E.focus()}};return p.addEventListener("keydown",y),()=>p.removeEventListener("keydown",y)}},[o,g]),v.jsxs(mM,{ref:s,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&v.jsx(Qp,{ref:c,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});ah(p)}}),v.jsx(nv.Slot,{scope:n,children:v.jsx(he.ol,{tabIndex:-1,...a,ref:u})}),m&&v.jsx(Qp,{ref:f,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});ah(p)}})]})});gT.displayName=mT;var vT="ToastFocusProxy",Qp=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Md(vT,n);return v.jsx(Rd,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:h=>{var c;const o=h.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});Qp.displayName=vT;var Vl="Toast",jM="toast.swipeStart",OM="toast.swipeMove",AM="toast.swipeCancel",DM="toast.swipeEnd",yT=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...h}=e,[o,s]=sr({prop:r,defaultProp:i??!0,onChange:a,caller:Vl});return v.jsx(dT,{present:n||o,children:v.jsx(MM,{open:o,...h,ref:t,onClose:()=>s(!1),onPause:Oe(e.onPause),onResume:Oe(e.onResume),onSwipeStart:Xt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xt(e.onSwipeMove,c=>{const{x:f,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${l}px`)}),onSwipeCancel:Xt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xt(e.onSwipeEnd,c=>{const{x:f,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${l}px`),s(!1)})})})});yT.displayName=Vl;var[kM,RM]=hT(Vl,{onClose(){}}),MM=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:h,onEscapeKeyDown:o,onPause:s,onResume:c,onSwipeStart:f,onSwipeMove:l,onSwipeCancel:u,onSwipeEnd:d,...m}=e,g=Md(Vl,n),[p,y]=w.useState(null),x=ge(t,L=>y(L)),b=w.useRef(null),S=w.useRef(null),C=i||g.duration,T=w.useRef(0),E=w.useRef(C),P=w.useRef(0),{onToastAdd:k,onToastRemove:A}=g,B=Oe(()=>{var W;(p==null?void 0:p.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),h()}),z=w.useCallback(L=>{!L||L===1/0||(window.clearTimeout(P.current),T.current=new Date().getTime(),P.current=window.setTimeout(B,L))},[B]);w.useEffect(()=>{const L=g.viewport;if(L){const W=()=>{z(E.current),c==null||c()},J=()=>{const G=new Date().getTime()-T.current;E.current=E.current-G,window.clearTimeout(P.current),s==null||s()};return L.addEventListener(Kp,J),L.addEventListener(qp,W),()=>{L.removeEventListener(Kp,J),L.removeEventListener(qp,W)}}},[g.viewport,C,s,c,z]),w.useEffect(()=>{a&&!g.isClosePausedRef.current&&z(C)},[a,C,g.isClosePausedRef,z]),w.useEffect(()=>(k(),()=>A()),[k,A]);const q=w.useMemo(()=>p?ET(p):null,[p]);return g.viewport?v.jsxs(v.Fragment,{children:[q&&v.jsx(IM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:q}),v.jsx(kM,{scope:n,onClose:B,children:Ar.createPortal(v.jsx(nv.ItemSlot,{scope:n,children:v.jsx(pM,{asChild:!0,onEscapeKeyDown:Xt(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(he.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Xt(e.onKeyDown,L=>{L.key==="Escape"&&(o==null||o(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Xt(e.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:Xt(e.onPointerMove,L=>{if(!b.current)return;const W=L.clientX-b.current.x,J=L.clientY-b.current.y,G=!!S.current,M=["left","right"].includes(g.swipeDirection),_=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,N=M?_(0,W):0,O=M?0:_(0,J),D=L.pointerType==="touch"?10:2,$={x:N,y:O},R={originalEvent:L,delta:$};G?(S.current=$,Ec(OM,l,R,{discrete:!1})):C0($,g.swipeDirection,D)?(S.current=$,Ec(jM,f,R,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>D||Math.abs(J)>D)&&(b.current=null)}),onPointerUp:Xt(e.onPointerUp,L=>{const W=S.current,J=L.target;if(J.hasPointerCapture(L.pointerId)&&J.releasePointerCapture(L.pointerId),S.current=null,b.current=null,W){const G=L.currentTarget,M={originalEvent:L,delta:W};C0(W,g.swipeDirection,g.swipeThreshold)?Ec(DM,d,M,{discrete:!0}):Ec(AM,u,M,{discrete:!0}),G.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),IM=e=>{const{__scopeToast:t,children:n,...r}=e,i=Md(Vl,t),[a,h]=w.useState(!1),[o,s]=w.useState(!1);return BM(()=>h(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>s(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:v.jsx(Bl,{asChild:!0,children:v.jsx(Rd,{...r,children:a&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},LM="ToastTitle",xT=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(he.div,{...r,ref:t})});xT.displayName=LM;var FM="ToastDescription",bT=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(he.div,{...r,ref:t})});bT.displayName=FM;var wT="ToastAction",ST=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?v.jsx(TT,{altText:n,asChild:!0,children:v.jsx(rv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wT}\`. Expected non-empty \`string\`.`),null)});ST.displayName=wT;var CT="ToastClose",rv=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=RM(CT,n);return v.jsx(TT,{asChild:!0,children:v.jsx(he.button,{type:"button",...r,ref:t,onClick:Xt(e.onClick,i.onClose)})})});rv.displayName=CT;var TT=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return v.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function ET(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const h=r.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...ET(r))}}),t}function Ec(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}var C0=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function BM(e=()=>{}){const t=Oe(e);Ae(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VM(e){return e.nodeType===e.ELEMENT_NODE}function zM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ah(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var WM=pT,_T=gT,PT=yT,NT=xT,jT=bT,OT=ST,AT=rv;function DT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kT(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DT(e))&&(r&&(r+=" "),r+=t);return r}const T0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,E0=kT,Vo=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return E0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,h=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],l=a==null?void 0:a[c];if(f===null)return null;const u=T0(f)||T0(l);return i[c][u]}),o=n&&Object.entries(n).reduce((c,f)=>{let[l,u]=f;return u===void 0||(c[l]=u),c},{}),s=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:l,className:u,...d}=f;return Object.entries(d).every(m=>{let[g,p]=m;return Array.isArray(p)?p.includes({...a,...o}[g]):{...a,...o}[g]===p})?[...c,l,u]:c},[]);return E0(e,h,s,n==null?void 0:n.class,n==null?void 0:n.className)};var UM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $M=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HM=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:h,children:o,...s},c)=>w.createElement("svg",{ref:c,...UM,width:i,height:i,stroke:r,strokeWidth:h?Number(a)*24/Number(i):a,className:`lucide lucide-${$M(e)}`,...s},[...t.map(([f,l])=>w.createElement(f,l)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n};var ue=HM;const Jp=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),GM=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_0=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),YM=ue("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]),XM=ue("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),RT=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Zp=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),KM=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),zo=ue("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Er=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),MT=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),qM=ue("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),iv=ue("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lh=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),eo=ue("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),QM=ue("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),IT=ue("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),sv=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),LT=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),So=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),JM=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),FT=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ZM=ue("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),zl=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),eI=ue("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),Iu=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),tI=ue("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Fn=ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),BT=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),nI=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),rI=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),iI=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),sI=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),oI=ue("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]),ol=ue("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),aI=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),VT=ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),lI=ue("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),zT=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ov=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),WT=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),cI=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),UT=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),uI=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),em=ue("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),dI=ue("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),fI=ue("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]),ui=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),hI=ue("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),pI=ue("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),mI=ue("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),gI=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),vI=ue("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Bn=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yI=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),_r=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$T=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xI=ue("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),bI=ue("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),HT=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),wI=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),SI=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),CI=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),av=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Id=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),lv=ue("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),tm=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),TI=ue("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),EI=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ld=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gn=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Fd=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GT=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cv="-",_I=e=>{const t=NI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:h=>{const o=h.split(cv);return o[0]===""&&o.length!==1&&o.shift(),YT(o,t)||PI(h)},getConflictingClassGroupIds:(h,o)=>{const s=n[h]||[];return o&&r[h]?[...s,...r[h]]:s}}},YT=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?YT(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(cv);return(h=t.validators.find(({validator:o})=>o(a)))==null?void 0:h.classGroupId},P0=/^\[(.+)\]$/,PI=e=>{if(P0.test(e)){const t=P0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return OI(Object.entries(e.classGroups),n).forEach(([a,h])=>{nm(h,r,a,t)}),r},nm=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:N0(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(jI(i)){nm(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,h])=>{nm(h,N0(t,a),n,r)})})},N0=(e,t)=>{let n=e;return t.split(cv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jI=e=>e.isThemeGetter,OI=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([h,o])=>[t+h,o])):a);return[n,i]}):e,AI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,h)=>{n.set(a,h),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let h=n.get(a);if(h!==void 0)return h;if((h=r.get(a))!==void 0)return i(a,h),h},set(a,h){n.has(a)?n.set(a,h):i(a,h)}}},XT="!",DI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,h=o=>{const s=[];let c=0,f=0,l;for(let p=0;p<o.length;p++){let y=o[p];if(c===0){if(y===i&&(r||o.slice(p,p+a)===t)){s.push(o.slice(f,p)),f=p+a;continue}if(y==="/"){l=p;continue}}y==="["?c++:y==="]"&&c--}const u=s.length===0?o:o.substring(f),d=u.startsWith(XT),m=d?u.substring(1):u,g=l&&l>f?l-f:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:h}):h},kI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},RI=e=>({cache:AI(e.cacheSize),parseClassName:DI(e),..._I(e)}),MI=/\s+/,II=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],h=e.trim().split(MI);let o="";for(let s=h.length-1;s>=0;s-=1){const c=h[s],{modifiers:f,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(c);let m=!!d,g=r(m?u.substring(0,d):u);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(u),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const p=kI(f).join(":"),y=l?p+XT:p,x=y+g;if(a.includes(x))continue;a.push(x);const b=i(g,m);for(let S=0;S<b.length;++S){const C=b[S];a.push(y+C)}o=c+(o.length>0?" "+o:o)}return o};function LI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=KT(t))&&(r&&(r+=" "),r+=n);return r}const KT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=KT(e[r]))&&(n&&(n+=" "),n+=t);return n};function FI(e,...t){let n,r,i,a=h;function h(s){const c=t.reduce((f,l)=>l(f),e());return n=RI(c),r=n.cache.get,i=n.cache.set,a=o,o(s)}function o(s){const c=r(s);if(c)return c;const f=II(s,n);return i(s,f),f}return function(){return a(LI.apply(null,arguments))}}const Ve=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qT=/^\[(?:([a-z-]+):)?(.+)\]$/i,BI=/^\d+\/\d+$/,VI=new Set(["px","full","screen"]),zI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=e=>to(e)||VI.has(e)||BI.test(e),Mr=e=>Wo(e,"length",ZI),to=e=>!!e&&!Number.isNaN(Number(e)),ch=e=>Wo(e,"number",to),ca=e=>!!e&&Number.isInteger(Number(e)),GI=e=>e.endsWith("%")&&to(e.slice(0,-1)),Te=e=>qT.test(e),Ir=e=>zI.test(e),YI=new Set(["length","size","percentage"]),XI=e=>Wo(e,YI,QT),KI=e=>Wo(e,"position",QT),qI=new Set(["image","url"]),QI=e=>Wo(e,qI,tL),JI=e=>Wo(e,"",eL),ua=()=>!0,Wo=(e,t,n)=>{const r=qT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ZI=e=>WI.test(e)&&!UI.test(e),QT=()=>!1,eL=e=>$I.test(e),tL=e=>HI.test(e),nL=()=>{const e=Ve("colors"),t=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),i=Ve("borderColor"),a=Ve("borderRadius"),h=Ve("borderSpacing"),o=Ve("borderWidth"),s=Ve("contrast"),c=Ve("grayscale"),f=Ve("hueRotate"),l=Ve("invert"),u=Ve("gap"),d=Ve("gradientColorStops"),m=Ve("gradientColorStopPositions"),g=Ve("inset"),p=Ve("margin"),y=Ve("opacity"),x=Ve("padding"),b=Ve("saturate"),S=Ve("scale"),C=Ve("sepia"),T=Ve("skew"),E=Ve("space"),P=Ve("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Te,t],z=()=>[Te,t],q=()=>["",ur,Mr],L=()=>["auto",to,Te],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Te],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[to,Te];return{cacheSize:500,separator:":",theme:{colors:[ua],spacing:[ur,Mr],blur:["none","",Ir,Te],brightness:O(),borderColor:[e],borderRadius:["none","","full",Ir,Te],borderSpacing:z(),borderWidth:q(),contrast:O(),grayscale:_(),hueRotate:O(),invert:_(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[GI,Mr],inset:B(),margin:B(),opacity:O(),padding:z(),saturate:O(),scale:O(),sepia:_(),skew:O(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Ir]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Te]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,Te]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",ca,Te]}],"grid-cols":[{"grid-cols":[ua]}],"col-start-end":[{col:["auto",{span:["full",ca,Te]},Te]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ua]}],"row-start-end":[{row:["auto",{span:[ca,Te]},Te]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[Ir]},Ir]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ir,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ch]}],"font-family":[{font:[ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",to,ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,Mr]}],"underline-offset":[{"underline-offset":["auto",ur,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),KI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ur,Te]}],"outline-w":[{outline:[ur,Mr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ur,Mr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ir,JI]}],"shadow-color":[{shadow:[ua]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Ir,Te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[l]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ca,Te]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ur,Mr,ch]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rL=FI(nL);function se(...e){return rL(kT(e))}const iL=WM,JT=w.forwardRef(({className:e,...t},n)=>v.jsx(_T,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));JT.displayName=_T.displayName;const sL=Vo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZT=w.forwardRef(({className:e,variant:t,...n},r)=>v.jsx(PT,{ref:r,className:se(sL({variant:t}),e),...n}));ZT.displayName=PT.displayName;const oL=w.forwardRef(({className:e,...t},n)=>v.jsx(OT,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));oL.displayName=OT.displayName;const eE=w.forwardRef(({className:e,...t},n)=>v.jsx(AT,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:v.jsx(Fd,{className:"h-4 w-4"})}));eE.displayName=AT.displayName;const tE=w.forwardRef(({className:e,...t},n)=>v.jsx(NT,{ref:n,className:se("text-sm font-semibold",e),...t}));tE.displayName=NT.displayName;const nE=w.forwardRef(({className:e,...t},n)=>v.jsx(jT,{ref:n,className:se("text-sm opacity-90",e),...t}));nE.displayName=jT.displayName;function aL(){const{toasts:e}=ZR();return v.jsxs(iL,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return v.jsxs(ZT,{...a,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(tE,{children:n}),r&&v.jsx(nE,{children:r})]}),i,v.jsx(eE,{})]},t)}),v.jsx(JT,{})]})}const lL=w.createContext(void 0),cL={setTheme:e=>{},themes:[]},uL=()=>{var e;return(e=w.useContext(lL))!==null&&e!==void 0?e:cL};function dL(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}dL(`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform,opacity,height;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--color);background:var(--border-color)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}
`);var fL=e=>{switch(e){case"success":return mL;case"error":return gL;default:return null}},hL=Array(12).fill(0),pL=({visible:e})=>ae.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ae.createElement("div",{className:"sonner-spinner"},hL.map((t,n)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gL=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rm=0,vL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rm++,a=this.toasts.find(o=>o.id===i),h=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:h,title:n}):o):this.addToast({title:n,...r,dismissible:h,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n=this.create({...t,promise:e,type:"loading",message:t.loading});return(e instanceof Promise?e:e()).then(r=>{let i=typeof t.success=="function"?t.success(r):t.success;this.create({id:n,type:"success",message:i})}).catch(r=>{let i=typeof t.error=="function"?t.error(r):t.error;this.create({id:n,type:"error",message:i})}).finally(t.finally),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||rm++;this.publish({jsx:e(n),id:n,...t})},this.subscribers=[],this.toasts=[]}},hr=new vL,yL=(e,t)=>{let n=(t==null?void 0:t.id)||rm++;return hr.addToast({title:e,...t,id:n}),n},xL=yL,De=Object.assign(xL,{success:hr.success,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading}),bL=3,wL="32px",SL=4e3,CL=356,rE=14,TL=20,EL=200,_L=e=>{let{invert:t,toast:n,interacting:r,setHeights:i,visibleToasts:a,heights:h,index:o,toasts:s,expanded:c,removeToast:f,closeButton:l,style:u,className:d="",descriptionClassName:m="",duration:g,position:p,expandByDefault:y}=e,[x,b]=ae.useState(!1),[S,C]=ae.useState(!1),[T,E]=ae.useState(!1),[P,k]=ae.useState(!1),[A,B]=ae.useState(0),[z,q]=ae.useState(0),L=ae.useRef(null),W=ae.useRef(null),J=o===0,G=o+1<=a,M=n.type,_=n.dismissible!==!1,N=n.className||"",O=n.descriptionClassName||"",D=ae.useMemo(()=>h.findIndex(X=>X.toastId===n.id)||0,[h,n.id]),$=ae.useMemo(()=>n.duration||g||SL,[n.duration,g]),R=ae.useRef(0),j=ae.useRef(0),F=ae.useRef($),I=ae.useRef(0),Y=ae.useRef(null),[U,Q]=p.split("-"),ee=ae.useMemo(()=>h.reduce((X,Z,K)=>K>=D?X:X+Z.height,0),[h,D]),te=n.invert||t,H=M==="loading";j.current=ae.useMemo(()=>D*rE+ee,[D,ee]),ae.useEffect(()=>{b(!0)},[]),ae.useLayoutEffect(()=>{if(!x)return;let X=W.current,Z=X.style.height;X.style.height="auto";let K=X.getBoundingClientRect().height;X.style.height=Z,q(K),i(ne=>ne.find(oe=>oe.toastId===n.id)?ne.map(oe=>oe.toastId===n.id?{...oe,height:K}:oe):[{toastId:n.id,height:K},...ne])},[x,n.title,n.description,i,n.id]);let V=ae.useCallback(()=>{C(!0),B(j.current),i(X=>X.filter(Z=>Z.toastId!==n.id)),setTimeout(()=>{f(n)},EL)},[n,f,i,j]);return ae.useEffect(()=>{if(n.promise&&M==="loading"||n.duration===1/0)return;let X;return c||r?(()=>{if(I.current<R.current){let Z=new Date().getTime()-R.current;F.current=F.current-Z}I.current=new Date().getTime()})():(R.current=new Date().getTime(),X=setTimeout(()=>{var Z;(Z=n.onAutoClose)==null||Z.call(n,n),V()},F.current)),()=>clearTimeout(X)},[c,r,y,n,$,V,n.promise,M]),ae.useEffect(()=>{let X=W.current;if(X){let Z=X.getBoundingClientRect().height;return q(Z),i(K=>[{toastId:n.id,height:Z},...K]),()=>i(K=>K.filter(ne=>ne.toastId!==n.id))}},[i,n.id]),ae.useEffect(()=>{n.delete&&V()},[V,n.delete]),ae.createElement("li",{"aria-live":n.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:W,className:d+" "+N,"data-sonner-toast":"","data-styled":!n.jsx,"data-mounted":x,"data-promise":!!n.promise,"data-removed":S,"data-visible":G,"data-y-position":U,"data-x-position":Q,"data-index":o,"data-front":J,"data-swiping":T,"data-dismissible":_,"data-type":M,"data-invert":te,"data-swipe-out":P,"data-expanded":!!(c||y&&x),style:{"--index":o,"--toasts-before":o,"--z-index":s.length-o,"--offset":`${S?A:j.current}px`,"--initial-height":y?"auto":`${z}px`,...u,...n.style},onPointerDown:X=>{H||!_||(L.current=new Date,B(j.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(E(!0),Y.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,Z,K,ne;if(P||!_)return;Y.current=null;let oe=Number(((X=W.current)==null?void 0:X.style.getPropertyValue("--swipe-amount").replace("px",""))||0),we=new Date().getTime()-((Z=L.current)==null?void 0:Z.getTime()),pe=Math.abs(oe)/we;if(Math.abs(oe)>=TL||pe>.11){B(j.current),(K=n.onDismiss)==null||K.call(n,n),V(),k(!0);return}(ne=W.current)==null||ne.style.setProperty("--swipe-amount","0px"),E(!1)},onPointerMove:X=>{var Z;if(!Y.current||!_)return;let K=X.clientY-Y.current.y,ne=X.clientX-Y.current.x,oe=(U==="top"?Math.min:Math.max)(0,K),we=X.pointerType==="touch"?10:2;Math.abs(oe)>we?(Z=W.current)==null||Z.style.setProperty("--swipe-amount",`${K}px`):Math.abs(ne)>we&&(Y.current=null)}},l&&!n.jsx?ae.createElement("button",{"aria-label":"Close toast","data-disabled":H,"data-close-button":!0,onClick:H||!_?void 0:()=>{var X;V(),(X=n.onDismiss)==null||X.call(n,n)}},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,n.jsx||ae.isValidElement(n.title)?n.jsx||n.title:ae.createElement(ae.Fragment,null,M||n.icon||n.promise?ae.createElement("div",{"data-icon":""},n.promise||n.type==="loading"?ae.createElement(pL,{visible:M==="loading"}):null,n.icon||fL(M)):null,ae.createElement("div",{"data-content":""},ae.createElement("div",{"data-title":""},n.title),n.description?ae.createElement("div",{"data-description":"",className:m+O},n.description):null),n.cancel?ae.createElement("button",{"data-button":!0,"data-cancel":!0,onClick:()=>{var X;_&&(V(),(X=n.cancel)!=null&&X.onClick&&n.cancel.onClick())}},n.cancel.label):null,n.action?ae.createElement("button",{"data-button":"",onClick:X=>{var Z;(Z=n.action)==null||Z.onClick(X),!X.defaultPrevented&&V()}},n.action.label):null))};function j0(){if(typeof window>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var PL=e=>{var t;let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:h,className:o,offset:s,theme:c="light",richColors:f,duration:l,style:u,visibleToasts:d=bL,toastOptions:m,dir:g=j0()}=e,[p,y]=ae.useState([]),[x,b]=ae.useState([]),[S,C]=ae.useState(!1),[T,E]=ae.useState(!1),[P,k]=ae.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[A,B]=r.split("-"),z=ae.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ae.useRef(null),W=ae.useRef(!1),J=ae.useCallback(G=>y(M=>M.filter(({id:_})=>_!==G.id)),[]);return ae.useEffect(()=>hr.subscribe(G=>{if(G.dismiss){y(M=>M.map(_=>_.id===G.id?{..._,delete:!0}:_));return}setTimeout(()=>{ev.flushSync(()=>{y(M=>{let _=M.findIndex(N=>N.id===G.id);return _!==-1?[...M.slice(0,_),{...M[_],...G},...M.slice(_+1)]:[G,...M]})})})}),[]),ae.useEffect(()=>{if(c!=="system"){k(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{k(G?"dark":"light")})},[c]),ae.useEffect(()=>{p.length<=1&&C(!1)},[p]),ae.useEffect(()=>{let G=M=>{var _,N;i.every(O=>M[O]||M.code===O)&&(C(!0),(_=z.current)==null||_.focus()),M.code==="Escape"&&(document.activeElement===z.current||(N=z.current)!=null&&N.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),ae.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[z.current]),p.length?ae.createElement("section",{"aria-label":`Notifications ${q}`,tabIndex:-1},ae.createElement("ol",{dir:g==="auto"?j0():g,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":P,"data-rich-colors":f,"data-y-position":A,"data-x-position":B,style:{"--front-toast-height":`${(t=x[0])==null?void 0:t.height}px`,"--offset":typeof s=="number"?`${s}px`:s||wL,"--width":`${CL}px`,"--gap":`${rE}px`,...u},onBlur:G=>{W.current&&!G.currentTarget.contains(G.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=G.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{T||C(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},p.map((G,M)=>ae.createElement(_L,{key:G.id,index:M,toast:G,duration:l,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:d,closeButton:h,interacting:T,position:r,style:m==null?void 0:m.style,removeToast:J,toasts:p,heights:x,setHeights:b,expandByDefault:a,expanded:S})))):null};const NL=({...e})=>{const{theme:t="system"}=uL();return v.jsx(PL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function ft(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var jL="DismissableLayer",im="dismissableLayer.update",OL="dismissableLayer.pointerDownOutside",AL="dismissableLayer.focusOutside",O0,iE=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sE=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:h,onDismiss:o,...s}=e,c=w.useContext(iE),[f,l]=w.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=w.useState({}),m=ge(t,E=>l(E)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),x=f?g.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=RL(E=>{const P=E.target,k=[...c.branches].some(A=>A.contains(P));!S||k||(i==null||i(E),h==null||h(E),E.defaultPrevented||o==null||o())},u),T=ML(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a==null||a(E),h==null||h(E),E.defaultPrevented||o==null||o())},u);return Fl(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},u),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(O0=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),A0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=O0)}},[f,u,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),A0())},[f,c]),w.useEffect(()=>{const E=()=>d({});return document.addEventListener(im,E),()=>document.removeEventListener(im,E)},[]),v.jsx(he.div,{...s,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ft(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ft(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ft(e.onPointerDownCapture,C.onPointerDownCapture)})});sE.displayName=jL;var DL="DismissableLayerBranch",kL=w.forwardRef((e,t)=>{const n=w.useContext(iE),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(he.div,{...e,ref:i})});kL.displayName=DL;function RL(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let s=function(){oE(OL,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ML(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&oE(AL,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A0(){const e=new CustomEvent(im);document.dispatchEvent(e)}function oE(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}var IL=ps[" useId ".trim().toString()]||(()=>{}),LL=0;function xn(e){const[t,n]=w.useState(IL());return Ae(()=>{n(r=>r??String(LL++))},[e]),t?`radix-${t}`:""}const FL=["top","right","bottom","left"],gi=Math.min,Yt=Math.max,Lu=Math.round,_c=Math.floor,nr=e=>({x:e,y:e}),BL={left:"right",right:"left",bottom:"top",top:"bottom"},VL={start:"end",end:"start"};function sm(e,t,n){return Yt(e,gi(t,n))}function Pr(e,t){return typeof e=="function"?e(t):e}function Nr(e){return e.split("-")[0]}function Uo(e){return e.split("-")[1]}function uv(e){return e==="x"?"y":"x"}function dv(e){return e==="y"?"height":"width"}const zL=new Set(["top","bottom"]);function Zn(e){return zL.has(Nr(e))?"y":"x"}function fv(e){return uv(Zn(e))}function WL(e,t,n){n===void 0&&(n=!1);const r=Uo(e),i=fv(e),a=dv(i);let h=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(h=Fu(h)),[h,Fu(h)]}function UL(e){const t=Fu(e);return[om(e),t,om(t)]}function om(e){return e.replace(/start|end/g,t=>VL[t])}const D0=["left","right"],k0=["right","left"],$L=["top","bottom"],HL=["bottom","top"];function GL(e,t,n){switch(e){case"top":case"bottom":return n?t?k0:D0:t?D0:k0;case"left":case"right":return t?$L:HL;default:return[]}}function YL(e,t,n,r){const i=Uo(e);let a=GL(Nr(e),n==="start",r);return i&&(a=a.map(h=>h+"-"+i),t&&(a=a.concat(a.map(om)))),a}function Fu(e){return e.replace(/left|right|bottom|top/g,t=>BL[t])}function XL(e){return{top:0,right:0,bottom:0,left:0,...e}}function aE(e){return typeof e!="number"?XL(e):{top:e,right:e,bottom:e,left:e}}function Bu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function R0(e,t,n){let{reference:r,floating:i}=e;const a=Zn(t),h=fv(t),o=dv(h),s=Nr(t),c=a==="y",f=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2,u=r[o]/2-i[o]/2;let d;switch(s){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:l};break;case"left":d={x:r.x-i.width,y:l};break;default:d={x:r.x,y:r.y}}switch(Uo(t)){case"start":d[h]-=u*(n&&c?-1:1);break;case"end":d[h]+=u*(n&&c?-1:1);break}return d}const KL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:h}=n,o=a.filter(Boolean),s=await(h.isRTL==null?void 0:h.isRTL(t));let c=await h.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:l}=R0(c,r,s),u=r,d={},m=0;for(let g=0;g<o.length;g++){const{name:p,fn:y}=o[g],{x,y:b,data:S,reset:C}=await y({x:f,y:l,initialPlacement:r,placement:u,strategy:i,middlewareData:d,rects:c,platform:h,elements:{reference:e,floating:t}});f=x??f,l=b??l,d={...d,[p]:{...d[p],...S}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(c=C.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:l}=R0(c,u,s)),g=-1)}return{x:f,y:l,placement:u,strategy:i,middlewareData:d}};async function al(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:h,elements:o,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:l="floating",altBoundary:u=!1,padding:d=0}=Pr(t,e),m=aE(d),p=o[u?l==="floating"?"reference":"floating":l],y=Bu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:f,strategy:s})),x=l==="floating"?{x:r,y:i,width:h.floating.width,height:h.floating.height}:h.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),S=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Bu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:s}):x);return{top:(y.top-C.top+m.top)/S.y,bottom:(C.bottom-y.bottom+m.bottom)/S.y,left:(y.left-C.left+m.left)/S.x,right:(C.right-y.right+m.right)/S.x}}const qL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:h,elements:o,middlewareData:s}=t,{element:c,padding:f=0}=Pr(e,t)||{};if(c==null)return{};const l=aE(f),u={x:n,y:r},d=fv(i),m=dv(d),g=await h.getDimensions(c),p=d==="y",y=p?"top":"left",x=p?"bottom":"right",b=p?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[d]-u[d]-a.floating[m],C=u[d]-a.reference[d],T=await(h.getOffsetParent==null?void 0:h.getOffsetParent(c));let E=T?T[b]:0;(!E||!await(h.isElement==null?void 0:h.isElement(T)))&&(E=o.floating[b]||a.floating[m]);const P=S/2-C/2,k=E/2-g[m]/2-1,A=gi(l[y],k),B=gi(l[x],k),z=A,q=E-g[m]-B,L=E/2-g[m]/2+P,W=sm(z,L,q),J=!s.arrow&&Uo(i)!=null&&L!==W&&a.reference[m]/2-(L<z?A:B)-g[m]/2<0,G=J?L<z?L-z:L-q:0;return{[d]:u[d]+G,data:{[d]:W,centerOffset:L-W-G,...J&&{alignmentOffset:G}},reset:J}}}),QL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:h,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:f=!0,crossAxis:l=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...p}=Pr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Nr(i),x=Zn(o),b=Nr(o)===o,S=await(s.isRTL==null?void 0:s.isRTL(c.floating)),C=u||(b||!g?[Fu(o)]:UL(o)),T=m!=="none";!u&&T&&C.push(...YL(o,g,m,S));const E=[o,...C],P=await al(t,p),k=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&k.push(P[y]),l){const L=WL(i,h,S);k.push(P[L[0]],P[L[1]])}if(A=[...A,{placement:i,overflows:k}],!k.every(L=>L<=0)){var B,z;const L=(((B=a.flip)==null?void 0:B.index)||0)+1,W=E[L];if(W&&(!(l==="alignment"?x!==Zn(W):!1)||A.every(M=>M.overflows[0]>0&&Zn(M.placement)===x)))return{data:{index:L,overflows:A},reset:{placement:W}};let J=(z=A.filter(G=>G.overflows[0]<=0).sort((G,M)=>G.overflows[1]-M.overflows[1])[0])==null?void 0:z.placement;if(!J)switch(d){case"bestFit":{var q;const G=(q=A.filter(M=>{if(T){const _=Zn(M.placement);return _===x||_==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(_=>_>0).reduce((_,N)=>_+N,0)]).sort((M,_)=>M[1]-_[1])[0])==null?void 0:q[0];G&&(J=G);break}case"initialPlacement":J=o;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function M0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function I0(e){return FL.some(t=>e[t]>=0)}const JL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Pr(e,t);switch(r){case"referenceHidden":{const a=await al(t,{...i,elementContext:"reference"}),h=M0(a,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:I0(h)}}}case"escaped":{const a=await al(t,{...i,altBoundary:!0}),h=M0(a,n.floating);return{data:{escapedOffsets:h,escaped:I0(h)}}}default:return{}}}}},lE=new Set(["left","top"]);async function ZL(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),h=Nr(n),o=Uo(n),s=Zn(n)==="y",c=lE.has(h)?-1:1,f=a&&s?-1:1,l=Pr(t,e);let{mainAxis:u,crossAxis:d,alignmentAxis:m}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return o&&typeof m=="number"&&(d=o==="end"?m*-1:m),s?{x:d*f,y:u*c}:{x:u*c,y:d*f}}const eF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:h,middlewareData:o}=t,s=await ZL(t,e);return h===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:a+s.y,data:{...s,placement:h}}}}},tF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:h=!1,limiter:o={fn:p=>{let{x:y,y:x}=p;return{x:y,y:x}}},...s}=Pr(e,t),c={x:n,y:r},f=await al(t,s),l=Zn(Nr(i)),u=uv(l);let d=c[u],m=c[l];if(a){const p=u==="y"?"top":"left",y=u==="y"?"bottom":"right",x=d+f[p],b=d-f[y];d=sm(x,d,b)}if(h){const p=l==="y"?"top":"left",y=l==="y"?"bottom":"right",x=m+f[p],b=m-f[y];m=sm(x,m,b)}const g=o.fn({...t,[u]:d,[l]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[u]:a,[l]:h}}}}}},nF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:h}=t,{offset:o=0,mainAxis:s=!0,crossAxis:c=!0}=Pr(e,t),f={x:n,y:r},l=Zn(i),u=uv(l);let d=f[u],m=f[l];const g=Pr(o,t),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(s){const b=u==="y"?"height":"width",S=a.reference[u]-a.floating[b]+p.mainAxis,C=a.reference[u]+a.reference[b]-p.mainAxis;d<S?d=S:d>C&&(d=C)}if(c){var y,x;const b=u==="y"?"width":"height",S=lE.has(Nr(i)),C=a.reference[l]-a.floating[b]+(S&&((y=h.offset)==null?void 0:y[l])||0)+(S?0:p.crossAxis),T=a.reference[l]+a.reference[b]+(S?0:((x=h.offset)==null?void 0:x[l])||0)-(S?p.crossAxis:0);m<C?m=C:m>T&&(m=T)}return{[u]:d,[l]:m}}}},rF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:h,elements:o}=t,{apply:s=()=>{},...c}=Pr(e,t),f=await al(t,c),l=Nr(i),u=Uo(i),d=Zn(i)==="y",{width:m,height:g}=a.floating;let p,y;l==="top"||l==="bottom"?(p=l,y=u===(await(h.isRTL==null?void 0:h.isRTL(o.floating))?"start":"end")?"left":"right"):(y=l,p=u==="end"?"top":"bottom");const x=g-f.top-f.bottom,b=m-f.left-f.right,S=gi(g-f[p],x),C=gi(m-f[y],b),T=!t.middlewareData.shift;let E=S,P=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=x),T&&!u){const A=Yt(f.left,0),B=Yt(f.right,0),z=Yt(f.top,0),q=Yt(f.bottom,0);d?P=m-2*(A!==0||B!==0?A+B:Yt(f.left,f.right)):E=g-2*(z!==0||q!==0?z+q:Yt(f.top,f.bottom))}await s({...t,availableWidth:P,availableHeight:E});const k=await h.getDimensions(o.floating);return m!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Bd(){return typeof window<"u"}function $o(e){return cE(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lr(e){var t;return(t=(cE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cE(e){return Bd()?e instanceof Node||e instanceof Zt(e).Node:!1}function Vn(e){return Bd()?e instanceof Element||e instanceof Zt(e).Element:!1}function or(e){return Bd()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function L0(e){return!Bd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}const iF=new Set(["inline","contents"]);function Wl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!iF.has(i)}const sF=new Set(["table","td","th"]);function oF(e){return sF.has($o(e))}const aF=[":popover-open",":modal"];function Vd(e){return aF.some(t=>{try{return e.matches(t)}catch{return!1}})}const lF=["transform","translate","scale","rotate","perspective"],cF=["transform","translate","scale","rotate","perspective","filter"],uF=["paint","layout","strict","content"];function hv(e){const t=pv(),n=Vn(e)?zn(e):e;return lF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||cF.some(r=>(n.willChange||"").includes(r))||uF.some(r=>(n.contain||"").includes(r))}function dF(e){let t=vi(e);for(;or(t)&&!Co(t);){if(hv(t))return t;if(Vd(t))return null;t=vi(t)}return null}function pv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fF=new Set(["html","body","#document"]);function Co(e){return fF.has($o(e))}function zn(e){return Zt(e).getComputedStyle(e)}function zd(e){return Vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vi(e){if($o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||L0(e)&&e.host||lr(e);return L0(t)?t.host:t}function uE(e){const t=vi(e);return Co(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&Wl(t)?t:uE(t)}function ll(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=uE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),h=Zt(i);if(a){const o=am(h);return t.concat(h,h.visualViewport||[],Wl(i)?i:[],o&&n?ll(o):[])}return t.concat(i,ll(i,[],n))}function am(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dE(e){const t=zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=or(e),a=i?e.offsetWidth:n,h=i?e.offsetHeight:r,o=Lu(n)!==a||Lu(r)!==h;return o&&(n=a,r=h),{width:n,height:r,$:o}}function mv(e){return Vn(e)?e:e.contextElement}function no(e){const t=mv(e);if(!or(t))return nr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=dE(t);let h=(a?Lu(n.width):n.width)/r,o=(a?Lu(n.height):n.height)/i;return(!h||!Number.isFinite(h))&&(h=1),(!o||!Number.isFinite(o))&&(o=1),{x:h,y:o}}const hF=nr(0);function fE(e){const t=Zt(e);return!pv()||!t.visualViewport?hF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zt(e)?!1:t}function as(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=mv(e);let h=nr(1);t&&(r?Vn(r)&&(h=no(r)):h=no(e));const o=pF(a,n,r)?fE(a):nr(0);let s=(i.left+o.x)/h.x,c=(i.top+o.y)/h.y,f=i.width/h.x,l=i.height/h.y;if(a){const u=Zt(a),d=r&&Vn(r)?Zt(r):r;let m=u,g=am(m);for(;g&&r&&d!==m;){const p=no(g),y=g.getBoundingClientRect(),x=zn(g),b=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,S=y.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;s*=p.x,c*=p.y,f*=p.x,l*=p.y,s+=b,c+=S,m=Zt(g),g=am(m)}}return Bu({width:f,height:l,x:s,y:c})}function gv(e,t){const n=zd(e).scrollLeft;return t?t.left+n:as(lr(e)).left+n}function hE(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:gv(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function mF(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",h=lr(r),o=t?Vd(t.floating):!1;if(r===h||o&&a)return n;let s={scrollLeft:0,scrollTop:0},c=nr(1);const f=nr(0),l=or(r);if((l||!l&&!a)&&(($o(r)!=="body"||Wl(h))&&(s=zd(r)),or(r))){const d=as(r);c=no(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const u=h&&!l&&!a?hE(h,s,!0):nr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+f.x+u.x,y:n.y*c.y-s.scrollTop*c.y+f.y+u.y}}function gF(e){return Array.from(e.getClientRects())}function vF(e){const t=lr(e),n=zd(e),r=e.ownerDocument.body,i=Yt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Yt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+gv(e);const o=-n.scrollTop;return zn(r).direction==="rtl"&&(h+=Yt(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:h,y:o}}function yF(e,t){const n=Zt(e),r=lr(e),i=n.visualViewport;let a=r.clientWidth,h=r.clientHeight,o=0,s=0;if(i){a=i.width,h=i.height;const c=pv();(!c||c&&t==="fixed")&&(o=i.offsetLeft,s=i.offsetTop)}return{width:a,height:h,x:o,y:s}}const xF=new Set(["absolute","fixed"]);function bF(e,t){const n=as(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=or(e)?no(e):nr(1),h=e.clientWidth*a.x,o=e.clientHeight*a.y,s=i*a.x,c=r*a.y;return{width:h,height:o,x:s,y:c}}function F0(e,t,n){let r;if(t==="viewport")r=yF(e,n);else if(t==="document")r=vF(lr(e));else if(Vn(t))r=bF(t,n);else{const i=fE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Bu(r)}function pE(e,t){const n=vi(e);return n===t||!Vn(n)||Co(n)?!1:zn(n).position==="fixed"||pE(n,t)}function wF(e,t){const n=t.get(e);if(n)return n;let r=ll(e,[],!1).filter(o=>Vn(o)&&$o(o)!=="body"),i=null;const a=zn(e).position==="fixed";let h=a?vi(e):e;for(;Vn(h)&&!Co(h);){const o=zn(h),s=hv(h);!s&&o.position==="fixed"&&(i=null),(a?!s&&!i:!s&&o.position==="static"&&!!i&&xF.has(i.position)||Wl(h)&&!s&&pE(e,h))?r=r.filter(f=>f!==h):i=o,h=vi(h)}return t.set(e,r),r}function SF(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const h=[...n==="clippingAncestors"?Vd(t)?[]:wF(t,this._c):[].concat(n),r],o=h[0],s=h.reduce((c,f)=>{const l=F0(t,f,i);return c.top=Yt(l.top,c.top),c.right=gi(l.right,c.right),c.bottom=gi(l.bottom,c.bottom),c.left=Yt(l.left,c.left),c},F0(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function CF(e){const{width:t,height:n}=dE(e);return{width:t,height:n}}function TF(e,t,n){const r=or(t),i=lr(t),a=n==="fixed",h=as(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const s=nr(0);function c(){s.x=gv(i)}if(r||!r&&!a)if(($o(t)!=="body"||Wl(i))&&(o=zd(t)),r){const d=as(t,!0,a,t);s.x=d.x+t.clientLeft,s.y=d.y+t.clientTop}else i&&c();a&&!r&&i&&c();const f=i&&!r&&!a?hE(i,o):nr(0),l=h.left+o.scrollLeft-s.x-f.x,u=h.top+o.scrollTop-s.y-f.y;return{x:l,y:u,width:h.width,height:h.height}}function uh(e){return zn(e).position==="static"}function B0(e,t){if(!or(e)||zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return lr(e)===n&&(n=n.ownerDocument.body),n}function mE(e,t){const n=Zt(e);if(Vd(e))return n;if(!or(e)){let i=vi(e);for(;i&&!Co(i);){if(Vn(i)&&!uh(i))return i;i=vi(i)}return n}let r=B0(e,t);for(;r&&oF(r)&&uh(r);)r=B0(r,t);return r&&Co(r)&&uh(r)&&!hv(r)?n:r||dF(e)||n}const EF=async function(e){const t=this.getOffsetParent||mE,n=this.getDimensions,r=await n(e.floating);return{reference:TF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _F(e){return zn(e).direction==="rtl"}const PF={convertOffsetParentRelativeRectToViewportRelativeRect:mF,getDocumentElement:lr,getClippingRect:SF,getOffsetParent:mE,getElementRects:EF,getClientRects:gF,getDimensions:CF,getScale:no,isElement:Vn,isRTL:_F};function gE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NF(e,t){let n=null,r;const i=lr(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function h(o,s){o===void 0&&(o=!1),s===void 0&&(s=1),a();const c=e.getBoundingClientRect(),{left:f,top:l,width:u,height:d}=c;if(o||t(),!u||!d)return;const m=_c(l),g=_c(i.clientWidth-(f+u)),p=_c(i.clientHeight-(l+d)),y=_c(f),b={rootMargin:-m+"px "+-g+"px "+-p+"px "+-y+"px",threshold:Yt(0,gi(1,s))||1};let S=!0;function C(T){const E=T[0].intersectionRatio;if(E!==s){if(!S)return h();E?h(!1,E):r=setTimeout(()=>{h(!1,1e-7)},1e3)}E===1&&!gE(c,e.getBoundingClientRect())&&h(),S=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return h(!0),a}function vv(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=mv(e),f=i||a?[...c?ll(c):[],...ll(t)]:[];f.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const l=c&&o?NF(c,n):null;let u=-1,d=null;h&&(d=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(t)})),n()}),c&&!s&&d.observe(c),d.observe(t));let m,g=s?as(e):null;s&&p();function p(){const y=as(e);g&&!gE(g,y)&&n(),g=y,m=requestAnimationFrame(p)}return n(),()=>{var y;f.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),l==null||l(),(y=d)==null||y.disconnect(),d=null,s&&cancelAnimationFrame(m)}}const jF=eF,OF=tF,AF=QL,DF=rF,kF=JL,V0=qL,RF=nF,MF=(e,t,n)=>{const r=new Map,i={platform:PF,...n},a={...i.platform,_c:r};return KL(e,t,{...i,platform:a})};var IF=typeof document<"u",LF=function(){},ru=IF?w.useLayoutEffect:LF;function Vu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Vu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function vE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function z0(e,t){const n=vE(e);return Math.round(t*n)/n}function dh(e){const t=w.useRef(e);return ru(()=>{t.current=e}),t}function yv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:h}={},transform:o=!0,whileElementsMounted:s,open:c}=e,[f,l]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,d]=w.useState(r);Vu(u,r)||d(r);const[m,g]=w.useState(null),[p,y]=w.useState(null),x=w.useCallback(M=>{M!==T.current&&(T.current=M,g(M))},[]),b=w.useCallback(M=>{M!==E.current&&(E.current=M,y(M))},[]),S=a||m,C=h||p,T=w.useRef(null),E=w.useRef(null),P=w.useRef(f),k=s!=null,A=dh(s),B=dh(i),z=dh(c),q=w.useCallback(()=>{if(!T.current||!E.current)return;const M={placement:t,strategy:n,middleware:u};B.current&&(M.platform=B.current),MF(T.current,E.current,M).then(_=>{const N={..._,isPositioned:z.current!==!1};L.current&&!Vu(P.current,N)&&(P.current=N,Ar.flushSync(()=>{l(N)}))})},[u,t,n,B,z]);ru(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,l(M=>({...M,isPositioned:!1})))},[c]);const L=w.useRef(!1);ru(()=>(L.current=!0,()=>{L.current=!1}),[]),ru(()=>{if(S&&(T.current=S),C&&(E.current=C),S&&C){if(A.current)return A.current(S,C,q);q()}},[S,C,q,A,k]);const W=w.useMemo(()=>({reference:T,floating:E,setReference:x,setFloating:b}),[x,b]),J=w.useMemo(()=>({reference:S,floating:C}),[S,C]),G=w.useMemo(()=>{const M={position:n,left:0,top:0};if(!J.floating)return M;const _=z0(J.floating,f.x),N=z0(J.floating,f.y);return o?{...M,transform:"translate("+_+"px, "+N+"px)",...vE(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:N}},[n,o,J.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:q,refs:W,elements:J,floatingStyles:G}),[f,q,W,J,G])}const FF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?V0({element:r.current,padding:i}).fn(n):{}:r?V0({element:r,padding:i}).fn(n):{}}}},xv=(e,t)=>({...jF(e),options:[e,t]}),bv=(e,t)=>({...OF(e),options:[e,t]}),wv=(e,t)=>({...RF(e),options:[e,t]}),Sv=(e,t)=>({...AF(e),options:[e,t]}),Cv=(e,t)=>({...DF(e),options:[e,t]}),Tv=(e,t)=>({...kF(e),options:[e,t]}),Ev=(e,t)=>({...FF(e),options:[e,t]});var BF="Arrow",yE=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return v.jsx(he.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});yE.displayName=BF;var _v=yE;function Wd(e){const[t,n]=w.useState(void 0);return Ae(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let h,o;if("borderBoxSize"in a){const s=a.borderBoxSize,c=Array.isArray(s)?s[0]:s;h=c.inlineSize,o=c.blockSize}else h=e.offsetWidth,o=e.offsetHeight;n({width:h,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Pv="Popper",[xE,bE]=Bt(Pv),[VF,wE]=xE(Pv),SE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return v.jsx(VF,{scope:t,anchor:r,onAnchorChange:i,children:n})};SE.displayName=Pv;var CE="PopperAnchor",TE=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=wE(CE,n),h=w.useRef(null),o=ge(t,h);return w.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||h.current)}),r?null:v.jsx(he.div,{...i,ref:o})});TE.displayName=CE;var Nv="PopperContent",[zF,WF]=xE(Nv),EE=w.forwardRef((e,t)=>{var I,Y,U,Q,ee,te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:h=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:l="partial",hideWhenDetached:u=!1,updatePositionStrategy:d="optimized",onPlaced:m,...g}=e,p=wE(Nv,n),[y,x]=w.useState(null),b=ge(t,H=>x(H)),[S,C]=w.useState(null),T=Wd(S),E=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,k=r+(a!=="center"?"-"+a:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(c)?c:[c],z=B.length>0,q={padding:A,boundary:B.filter($F),altBoundary:z},{refs:L,floatingStyles:W,placement:J,isPositioned:G,middlewareData:M}=yv({strategy:"fixed",placement:k,whileElementsMounted:(...H)=>vv(...H,{animationFrame:d==="always"}),elements:{reference:p.anchor},middleware:[xv({mainAxis:i+P,alignmentAxis:h}),s&&bv({mainAxis:!0,crossAxis:!1,limiter:l==="partial"?wv():void 0,...q}),s&&Sv({...q}),Cv({...q,apply:({elements:H,rects:V,availableWidth:X,availableHeight:Z})=>{const{width:K,height:ne}=V.reference,oe=H.floating.style;oe.setProperty("--radix-popper-available-width",`${X}px`),oe.setProperty("--radix-popper-available-height",`${Z}px`),oe.setProperty("--radix-popper-anchor-width",`${K}px`),oe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&Ev({element:S,padding:o}),HF({arrowWidth:E,arrowHeight:P}),u&&Tv({strategy:"referenceHidden",...q})]}),[_,N]=NE(J),O=Oe(m);Ae(()=>{G&&(O==null||O())},[G,O]);const D=(I=M.arrow)==null?void 0:I.x,$=(Y=M.arrow)==null?void 0:Y.y,R=((U=M.arrow)==null?void 0:U.centerOffset)!==0,[j,F]=w.useState();return Ae(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(Q=M.transformOrigin)==null?void 0:Q.x,(ee=M.transformOrigin)==null?void 0:ee.y].join(" "),...((te=M.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(zF,{scope:n,placedSide:_,onArrowChange:C,arrowX:D,arrowY:$,shouldHideArrow:R,children:v.jsx(he.div,{"data-side":_,"data-align":N,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});EE.displayName=Nv;var _E="PopperArrow",UF={top:"bottom",right:"left",bottom:"top",left:"right"},PE=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=WF(_E,r),h=UF[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(_v,{...i,ref:n,style:{...i.style,display:"block"}})})});PE.displayName=_E;function $F(e){return e!==null}var HF=e=>({name:"transformOrigin",options:e,fn(t){var p,y,x;const{placement:n,rects:r,middlewareData:i}=t,h=((p=i.arrow)==null?void 0:p.centerOffset)!==0,o=h?0:e.arrowWidth,s=h?0:e.arrowHeight,[c,f]=NE(n),l={start:"0%",center:"50%",end:"100%"}[f],u=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let m="",g="";return c==="bottom"?(m=h?l:`${u}px`,g=`${-s}px`):c==="top"?(m=h?l:`${u}px`,g=`${r.floating.height+s}px`):c==="right"?(m=`${-s}px`,g=h?l:`${d}px`):c==="left"&&(m=`${r.floating.width+s}px`,g=h?l:`${d}px`),{data:{x:m,y:g}}}});function NE(e){const[t,n="center"]=e.split("-");return[t,n]}var GF=SE,YF=TE,XF=EE,KF=PE;function qF(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var jv=e=>{const{present:t,children:n}=e,r=QF(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=ge(r.ref,JF(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};jv.displayName="Presence";function QF(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),h=e?"mounted":"unmounted",[o,s]=qF(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Pc(r.current);a.current=o==="mounted"?c:"none"},[o]),Ae(()=>{const c=r.current,f=i.current;if(f!==e){const u=a.current,d=Pc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Ae(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,l=d=>{const g=Pc(r.current).includes(d.animationName);if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},u=d=>{d.target===t&&(a.current=Pc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Pc(e){return(e==null?void 0:e.animationName)||"none"}function JF(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var[Ud]=Bt("Tooltip",[bE]),$d=bE(),jE="TooltipProvider",ZF=700,lm="tooltip.open",[eB,Ov]=Ud(jE),OE=e=>{const{__scopeTooltip:t,delayDuration:n=ZF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,h=w.useRef(!0),o=w.useRef(!1),s=w.useRef(0);return w.useEffect(()=>{const c=s.current;return()=>window.clearTimeout(c)},[]),v.jsx(eB,{scope:t,isOpenDelayedRef:h,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(s.current),h.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(()=>h.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:w.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:a})};OE.displayName=jE;var cl="Tooltip",[tB,Hd]=Ud(cl),AE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:h,delayDuration:o}=e,s=Ov(cl,e.__scopeTooltip),c=$d(t),[f,l]=w.useState(null),u=xn(),d=w.useRef(0),m=h??s.disableHoverableContent,g=o??s.delayDuration,p=w.useRef(!1),[y,x]=sr({prop:r,defaultProp:i??!1,onChange:E=>{E?(s.onOpen(),document.dispatchEvent(new CustomEvent(lm))):s.onClose(),a==null||a(E)},caller:cl}),b=w.useMemo(()=>y?p.current?"delayed-open":"instant-open":"closed",[y]),S=w.useCallback(()=>{window.clearTimeout(d.current),d.current=0,p.current=!1,x(!0)},[x]),C=w.useCallback(()=>{window.clearTimeout(d.current),d.current=0,x(!1)},[x]),T=w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{p.current=!0,x(!0),d.current=0},g)},[g,x]);return w.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),v.jsx(GF,{...c,children:v.jsx(tB,{scope:t,contentId:u,open:y,stateAttribute:b,trigger:f,onTriggerChange:l,onTriggerEnter:w.useCallback(()=>{s.isOpenDelayedRef.current?T():S()},[s.isOpenDelayedRef,T,S]),onTriggerLeave:w.useCallback(()=>{m?C():(window.clearTimeout(d.current),d.current=0)},[C,m]),onOpen:S,onClose:C,disableHoverableContent:m,children:n})})};AE.displayName=cl;var cm="TooltipTrigger",DE=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Hd(cm,n),a=Ov(cm,n),h=$d(n),o=w.useRef(null),s=ge(t,o,i.onTriggerChange),c=w.useRef(!1),f=w.useRef(!1),l=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",l),[l]),v.jsx(YF,{asChild:!0,...h,children:v.jsx(he.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:ft(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:ft(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:ft(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",l,{once:!0})}),onFocus:ft(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:ft(e.onBlur,i.onClose),onClick:ft(e.onClick,i.onClose)})})});DE.displayName=cm;var nB="TooltipPortal",[$J,rB]=Ud(nB,{forceMount:void 0}),To="TooltipContent",kE=w.forwardRef((e,t)=>{const n=rB(To,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,h=Hd(To,e.__scopeTooltip);return v.jsx(jv,{present:r||h.open,children:h.disableHoverableContent?v.jsx(RE,{side:i,...a,ref:t}):v.jsx(iB,{side:i,...a,ref:t})})}),iB=w.forwardRef((e,t)=>{const n=Hd(To,e.__scopeTooltip),r=Ov(To,e.__scopeTooltip),i=w.useRef(null),a=ge(t,i),[h,o]=w.useState(null),{trigger:s,onClose:c}=n,f=i.current,{onPointerInTransitChange:l}=r,u=w.useCallback(()=>{o(null),l(!1)},[l]),d=w.useCallback((m,g)=>{const p=m.currentTarget,y={x:m.clientX,y:m.clientY},x=cB(y,p.getBoundingClientRect()),b=uB(y,x),S=dB(g.getBoundingClientRect()),C=hB([...b,...S]);o(C),l(!0)},[l]);return w.useEffect(()=>()=>u(),[u]),w.useEffect(()=>{if(s&&f){const m=p=>d(p,f),g=p=>d(p,s);return s.addEventListener("pointerleave",m),f.addEventListener("pointerleave",g),()=>{s.removeEventListener("pointerleave",m),f.removeEventListener("pointerleave",g)}}},[s,f,d,u]),w.useEffect(()=>{if(h){const m=g=>{const p=g.target,y={x:g.clientX,y:g.clientY},x=(s==null?void 0:s.contains(p))||(f==null?void 0:f.contains(p)),b=!fB(y,h);x?u():b&&(u(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[s,f,h,c,u]),v.jsx(RE,{...e,ref:a})}),[sB,oB]=Ud(cl,{isInside:!1}),aB=rM("TooltipContent"),RE=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:h,...o}=e,s=Hd(To,n),c=$d(n),{onClose:f}=s;return w.useEffect(()=>(document.addEventListener(lm,f),()=>document.removeEventListener(lm,f)),[f]),w.useEffect(()=>{if(s.trigger){const l=u=>{const d=u.target;d!=null&&d.contains(s.trigger)&&f()};return window.addEventListener("scroll",l,{capture:!0}),()=>window.removeEventListener("scroll",l,{capture:!0})}},[s.trigger,f]),v.jsx(sE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:l=>l.preventDefault(),onDismiss:f,children:v.jsxs(XF,{"data-state":s.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(aB,{children:r}),v.jsx(sB,{scope:n,isInside:!0,children:v.jsx(TM,{id:s.contentId,role:"tooltip",children:i||r})})]})})});kE.displayName=To;var ME="TooltipArrow",lB=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=$d(n);return oB(ME,n).isInside?null:v.jsx(KF,{...i,...r,ref:t})});lB.displayName=ME;function cB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function dB(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function fB(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,h=t.length-1;a<t.length;h=a++){const o=t[a],s=t[h],c=o.x,f=o.y,l=s.x,u=s.y;f>r!=u>r&&n<(l-c)*(r-f)/(u-f)+c&&(i=!i)}return i}function hB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),pB(t)}function pB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],h=t[t.length-2];if((a.x-h.x)*(i.y-h.y)>=(a.y-h.y)*(i.x-h.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],h=n[n.length-2];if((a.x-h.x)*(i.y-h.y)>=(a.y-h.y)*(i.x-h.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var mB=OE,gB=AE,vB=DE,IE=kE;const LE=mB,yB=gB,xB=vB,FE=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(IE,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));FE.displayName=IE.displayName;var Gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bB={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Yr,sg,LS,wB=(LS=class{constructor(){_e(this,Yr,bB);_e(this,sg,!1)}setTimeoutProvider(e){Se(this,Yr,e)}setTimeout(e,t){return re(this,Yr).setTimeout(e,t)}clearTimeout(e){re(this,Yr).clearTimeout(e)}setInterval(e,t){return re(this,Yr).setInterval(e,t)}clearInterval(e){re(this,Yr).clearInterval(e)}},Yr=new WeakMap,sg=new WeakMap,LS),um=new wB;function SB(e){setTimeout(e,0)}var Yd=typeof window>"u"||"Deno"in globalThis;function jn(){}function CB(e,t){return typeof e=="function"?e(t):e}function TB(e){return typeof e=="number"&&e>=0&&e!==1/0}function EB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dm(e,t){return typeof e=="function"?e(t):e}function _B(e,t){return typeof e=="function"?e(t):e}function W0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:h,stale:o}=e;if(h){if(r){if(t.queryHash!==Av(h,t.options))return!1}else if(!dl(t.queryKey,h))return!1}if(n!=="all"){const s=t.isActive();if(n==="active"&&!s||n==="inactive"&&s)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function U0(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ul(t.options.mutationKey)!==ul(a))return!1}else if(!dl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Av(e,t){return((t==null?void 0:t.queryKeyHashFn)||ul)(e)}function ul(e){return JSON.stringify(e,(t,n)=>fm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>dl(e[n],t[n])):!1}var PB=Object.prototype.hasOwnProperty;function BE(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=$0(e)&&$0(t);if(!r&&!(fm(e)&&fm(t)))return t;const a=(r?e:Object.keys(e)).length,h=r?t:Object.keys(t),o=h.length,s=r?new Array(o):{};let c=0;for(let f=0;f<o;f++){const l=r?f:h[f],u=e[l],d=t[l];if(u===d){s[l]=u,(r?f<a:PB.call(e,l))&&c++;continue}if(u===null||d===null||typeof u!="object"||typeof d!="object"){s[l]=d;continue}const m=BE(u,d,n+1);s[l]=m,m===u&&c++}return a===o&&c===a?e:s}function $0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fm(e){if(!H0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!H0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function H0(e){return Object.prototype.toString.call(e)==="[object Object]"}function NB(e){return new Promise(t=>{um.setTimeout(t,e)})}function jB(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?BE(e,t):t}function OB(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function AB(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Dv=Symbol();function VE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function DB(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var $i,Xr,oo,FS,kB=(FS=class extends Gd{constructor(){super();_e(this,$i);_e(this,Xr);_e(this,oo);Se(this,oo,t=>{if(!Yd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,Xr)||this.setEventListener(re(this,oo))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Xr))==null||t.call(this),Se(this,Xr,void 0))}setEventListener(t){var n;Se(this,oo,t),(n=re(this,Xr))==null||n.call(this),Se(this,Xr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){re(this,$i)!==t&&(Se(this,$i,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof re(this,$i)=="boolean"?re(this,$i):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$i=new WeakMap,Xr=new WeakMap,oo=new WeakMap,FS),zE=new kB;function RB(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var MB=SB;function IB(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=MB;const a=o=>{t?e.push(o):i(()=>{n(o)})},h=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(s=>{n(s)})})})};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||h()}return s},batchCalls:o=>(...s)=>{a(()=>{o(...s)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var kt=IB(),ao,Kr,lo,BS,LB=(BS=class extends Gd{constructor(){super();_e(this,ao,!0);_e(this,Kr);_e(this,lo);Se(this,lo,t=>{if(!Yd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){re(this,Kr)||this.setEventListener(re(this,lo))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Kr))==null||t.call(this),Se(this,Kr,void 0))}setEventListener(t){var n;Se(this,lo,t),(n=re(this,Kr))==null||n.call(this),Se(this,Kr,t(this.setOnline.bind(this)))}setOnline(t){re(this,ao)!==t&&(Se(this,ao,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return re(this,ao)}},ao=new WeakMap,Kr=new WeakMap,lo=new WeakMap,BS),zu=new LB;function FB(e){return Math.min(1e3*2**e,3e4)}function WE(e){return(e??"online")==="online"?zu.isOnline():!0}var hm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function UE(e){let t=!1,n=0,r;const i=RB(),a=()=>i.status!=="pending",h=g=>{var p;if(!a()){const y=new hm(g);u(y),(p=e.onCancel)==null||p.call(e,y)}},o=()=>{t=!0},s=()=>{t=!1},c=()=>zE.isFocused()&&(e.networkMode==="always"||zu.isOnline())&&e.canRun(),f=()=>WE(e.networkMode)&&e.canRun(),l=g=>{a()||(r==null||r(),i.resolve(g))},u=g=>{a()||(r==null||r(),i.reject(g))},d=()=>new Promise(g=>{var p;r=y=>{(a()||c())&&g(y)},(p=e.onPause)==null||p.call(e)}).then(()=>{var g;r=void 0,a()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(a())return;let g;const p=n===0?e.initialPromise:void 0;try{g=p??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(l).catch(y=>{var T;if(a())return;const x=e.retry??(Yd?0:3),b=e.retryDelay??FB,S=typeof b=="function"?b(n,y):b,C=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!C){u(y);return}n++,(T=e.onFail)==null||T.call(e,n,y),NB(S).then(()=>c()?void 0:d()).then(()=>{t?u(y):m()})})};return{promise:i,status:()=>i.status,cancel:h,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:s,canStart:f,start:()=>(f()?m():d().then(m),i)}}var Hi,VS,$E=(VS=class{constructor(){_e(this,Hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TB(this.gcTime)&&Se(this,Hi,um.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yd?1/0:5*60*1e3))}clearGcTimeout(){re(this,Hi)&&(um.clearTimeout(re(this,Hi)),Se(this,Hi,void 0))}},Hi=new WeakMap,VS),Gi,co,dn,Yi,ut,jl,Xi,On,dr,zS,BB=(zS=class extends $E{constructor(t){super();_e(this,On);_e(this,Gi);_e(this,co);_e(this,dn);_e(this,Yi);_e(this,ut);_e(this,jl);_e(this,Xi);Se(this,Xi,!1),Se(this,jl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Yi,t.client),Se(this,dn,re(this,Yi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,Gi,Y0(this.options)),this.state=t.state??re(this,Gi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,ut))==null?void 0:t.promise}setOptions(t){if(this.options={...re(this,jl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Y0(this.options);n.data!==void 0&&(this.setState(G0(n.data,n.dataUpdatedAt)),Se(this,Gi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,dn).remove(this)}setData(t,n){const r=jB(this.state.data,t,this.options);return wt(this,On,dr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){wt(this,On,dr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=re(this,ut))==null?void 0:r.promise;return(i=re(this,ut))==null||i.cancel(t),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Gi))}isActive(){return this.observers.some(t=>_B(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!EB(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(re(this,ut)&&(re(this,Xi)?re(this,ut).cancel({revert:!0}):re(this,ut).cancelRetry()),this.scheduleGc()),re(this,dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,On,dr).call(this,{type:"invalidate"})}async fetch(t,n){var s,c,f,l,u,d,m,g,p,y,x,b;if(this.state.fetchStatus!=="idle"&&((s=re(this,ut))==null?void 0:s.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,ut))return re(this,ut).continueRetry(),re(this,ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(C=>C.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Se(this,Xi,!0),r.signal)})},a=()=>{const S=VE(this.options,n),T=(()=>{const E={client:re(this,Yi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return Se(this,Xi,!1),this.options.persister?this.options.persister(S,T,this):S(T)},o=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:re(this,Yi),state:this.state,fetchFn:a};return i(S),S})();(c=this.options.behavior)==null||c.onFetch(o,this),Se(this,co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&wt(this,On,dr).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta}),Se(this,ut,UE({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:S=>{S instanceof hm&&S.revert&&this.setState({...re(this,co),fetchStatus:"idle"}),r.abort()},onFail:(S,C)=>{wt(this,On,dr).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{wt(this,On,dr).call(this,{type:"pause"})},onContinue:()=>{wt(this,On,dr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const S=await re(this,ut).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(d=(u=re(this,dn).config).onSuccess)==null||d.call(u,S,this),(g=(m=re(this,dn).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof hm){if(S.silent)return re(this,ut).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw wt(this,On,dr).call(this,{type:"error",error:S}),(y=(p=re(this,dn).config).onError)==null||y.call(p,S,this),(b=(x=re(this,dn).config).onSettled)==null||b.call(x,this.state.data,S,this),S}finally{this.scheduleGc()}}},Gi=new WeakMap,co=new WeakMap,dn=new WeakMap,Yi=new WeakMap,ut=new WeakMap,jl=new WeakMap,Xi=new WeakMap,On=new WeakSet,dr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VB(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...G0(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,co,t.manual?i:void 0),i;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),re(this,dn).notify({query:this,type:"updated",action:t})})},zS);function VB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G0(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Y0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function X0(e){return{onFetch:(t,n)=>{var f,l,u,d,m;const r=t.options,i=(u=(l=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:l.fetchMore)==null?void 0:u.direction,a=((d=t.state.data)==null?void 0:d.pages)||[],h=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},s=0;const c=async()=>{let g=!1;const p=b=>{DB(b,()=>t.signal,()=>g=!0)},y=VE(t.options,t.fetchOptions),x=async(b,S,C)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return p(B),B})(),P=await y(E),{maxPages:k}=t.options,A=C?AB:OB;return{pages:A(b.pages,P,k),pageParams:A(b.pageParams,S,k)}};if(i&&a.length){const b=i==="backward",S=b?zB:K0,C={pages:a,pageParams:h},T=S(r,C);o=await x(C,T,b)}else{const b=e??a.length;do{const S=s===0?h[0]??r.initialPageParam:K0(r,o);if(s>0&&S==null)break;o=await x(o,S),s++}while(s<b)}return o};t.options.persister?t.fetchFn=()=>{var g,p;return(p=(g=t.options).persister)==null?void 0:p.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function K0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function zB(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ol,Gn,At,Ki,Yn,Fr,WS,WB=(WS=class extends $E{constructor(t){super();_e(this,Yn);_e(this,Ol);_e(this,Gn);_e(this,At);_e(this,Ki);Se(this,Ol,t.client),this.mutationId=t.mutationId,Se(this,At,t.mutationCache),Se(this,Gn,[]),this.state=t.state||UB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,Gn).includes(t)||(re(this,Gn).push(t),this.clearGcTimeout(),re(this,At).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Gn,re(this,Gn).filter(n=>n!==t)),this.scheduleGc(),re(this,At).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():re(this,At).remove(this))}continue(){var t;return((t=re(this,Ki))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var h,o,s,c,f,l,u,d,m,g,p,y,x,b,S,C,T,E,P,k;const n=()=>{wt(this,Yn,Fr).call(this,{type:"continue"})},r={client:re(this,Ol),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,Ki,UE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,B)=>{wt(this,Yn,Fr).call(this,{type:"failed",failureCount:A,error:B})},onPause:()=>{wt(this,Yn,Fr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,At).canRun(this)}));const i=this.state.status==="pending",a=!re(this,Ki).canStart();try{if(i)n();else{wt(this,Yn,Fr).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(h=re(this,At).config).onMutate)==null?void 0:o.call(h,t,this,r));const B=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,t,r));B!==this.state.context&&wt(this,Yn,Fr).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const A=await re(this,Ki).start();return await((l=(f=re(this,At).config).onSuccess)==null?void 0:l.call(f,A,t,this.state.context,this,r)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,A,t,this.state.context,r)),await((g=(m=re(this,At).config).onSettled)==null?void 0:g.call(m,A,null,this.state.variables,this.state.context,this,r)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,A,null,t,this.state.context,r)),wt(this,Yn,Fr).call(this,{type:"success",data:A}),A}catch(A){try{await((b=(x=re(this,At).config).onError)==null?void 0:b.call(x,A,t,this.state.context,this,r))}catch(B){Promise.reject(B)}try{await((C=(S=this.options).onError)==null?void 0:C.call(S,A,t,this.state.context,r))}catch(B){Promise.reject(B)}try{await((E=(T=re(this,At).config).onSettled)==null?void 0:E.call(T,void 0,A,this.state.variables,this.state.context,this,r))}catch(B){Promise.reject(B)}try{await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context,r))}catch(B){Promise.reject(B)}throw wt(this,Yn,Fr).call(this,{type:"error",error:A}),A}finally{re(this,At).runNext(this)}}},Ol=new WeakMap,Gn=new WeakMap,At=new WeakMap,Ki=new WeakMap,Yn=new WeakSet,Fr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kt.batch(()=>{re(this,Gn).forEach(r=>{r.onMutationUpdate(t)}),re(this,At).notify({mutation:this,type:"updated",action:t})})},WS);function UB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,An,Al,US,$B=(US=class extends Gd{constructor(t={}){super();_e(this,mr);_e(this,An);_e(this,Al);this.config=t,Se(this,mr,new Set),Se(this,An,new Map),Se(this,Al,0)}build(t,n,r){const i=new WB({client:t,mutationCache:this,mutationId:++oc(this,Al)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){re(this,mr).add(t);const n=Nc(t);if(typeof n=="string"){const r=re(this,An).get(n);r?r.push(t):re(this,An).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(re(this,mr).delete(t)){const n=Nc(t);if(typeof n=="string"){const r=re(this,An).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&re(this,An).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Nc(t);if(typeof n=="string"){const r=re(this,An).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Nc(t);if(typeof n=="string"){const i=(r=re(this,An).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{re(this,mr).forEach(t=>{this.notify({type:"removed",mutation:t})}),re(this,mr).clear(),re(this,An).clear()})}getAll(){return Array.from(re(this,mr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>U0(n,r))}findAll(t={}){return this.getAll().filter(n=>U0(t,n))}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(jn))))}},mr=new WeakMap,An=new WeakMap,Al=new WeakMap,US);function Nc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xn,$S,HB=($S=class extends Gd{constructor(t={}){super();_e(this,Xn);this.config=t,Se(this,Xn,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Av(i,n);let h=this.get(a);return h||(h=new BB({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(h)),h}add(t){re(this,Xn).has(t.queryHash)||(re(this,Xn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=re(this,Xn).get(t.queryHash);n&&(t.destroy(),n===t&&re(this,Xn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Xn).get(t)}getAll(){return[...re(this,Xn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>W0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>W0(t,r)):n}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xn=new WeakMap,$S),qe,qr,Qr,uo,fo,Jr,ho,po,HS,GB=(HS=class{constructor(e={}){_e(this,qe);_e(this,qr);_e(this,Qr);_e(this,uo);_e(this,fo);_e(this,Jr);_e(this,ho);_e(this,po);Se(this,qe,e.queryCache||new HB),Se(this,qr,e.mutationCache||new $B),Se(this,Qr,e.defaultOptions||{}),Se(this,uo,new Map),Se(this,fo,new Map),Se(this,Jr,0)}mount(){oc(this,Jr)._++,re(this,Jr)===1&&(Se(this,ho,zE.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,qe).onFocus())})),Se(this,po,zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,qe).onOnline())})))}unmount(){var e,t;oc(this,Jr)._--,re(this,Jr)===0&&((e=re(this,ho))==null||e.call(this),Se(this,ho,void 0),(t=re(this,po))==null||t.call(this),Se(this,po,void 0))}isFetching(e){return re(this,qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,qr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,qe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=re(this,qe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return re(this,qe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=re(this,qe).get(r.queryHash),a=i==null?void 0:i.state.data,h=CB(t,a);if(h!==void 0)return re(this,qe).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return kt.batch(()=>re(this,qe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,qe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=re(this,qe);kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=re(this,qe);return kt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kt.batch(()=>re(this,qe).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(e,t={}){return kt.batch(()=>(re(this,qe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kt.batch(()=>re(this,qe).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(jn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=re(this,qe).build(this,t);return n.isStaleByTime(dm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=X0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=X0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zu.isOnline()?re(this,qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,qe)}getMutationCache(){return re(this,qr)}getDefaultOptions(){return re(this,Qr)}setDefaultOptions(e){Se(this,Qr,e)}setQueryDefaults(e,t){re(this,uo).set(ul(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,uo).values()],n={};return t.forEach(r=>{dl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){re(this,fo).set(ul(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,fo).values()],n={};return t.forEach(r=>{dl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,Qr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,Qr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,qe).clear(),re(this,qr).clear()}},qe=new WeakMap,qr=new WeakMap,Qr=new WeakMap,uo=new WeakMap,fo=new WeakMap,Jr=new WeakMap,ho=new WeakMap,po=new WeakMap,HS),YB=w.createContext(void 0),XB=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),v.jsx(YB.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}var ti;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ti||(ti={}));const q0="popstate";function KB(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:h,hash:o}=r.location;return pm("",{pathname:a,search:h,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:GE(i)}return QB(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qB(){return Math.random().toString(36).substr(2,8)}function Q0(e,t){return{usr:e.state,key:e.key,idx:t}}function pm(e,t,n,r){return n===void 0&&(n=null),fl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ho(t):t,{state:n,key:t&&t.key||r||qB()})}function GE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function QB(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,h=i.history,o=ti.Pop,s=null,c=f();c==null&&(c=0,h.replaceState(fl({},h.state,{idx:c}),""));function f(){return(h.state||{idx:null}).idx}function l(){o=ti.Pop;let p=f(),y=p==null?null:p-c;c=p,s&&s({action:o,location:g.location,delta:y})}function u(p,y){o=ti.Push;let x=pm(g.location,p,y);c=f()+1;let b=Q0(x,c),S=g.createHref(x);try{h.pushState(b,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}a&&s&&s({action:o,location:g.location,delta:1})}function d(p,y){o=ti.Replace;let x=pm(g.location,p,y);c=f();let b=Q0(x,c),S=g.createHref(x);h.replaceState(b,"",S),a&&s&&s({action:o,location:g.location,delta:0})}function m(p){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof p=="string"?p:GE(p);return x=x.replace(/ $/,"%20"),ot(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return o},get location(){return e(i,h)},listen(p){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(q0,l),s=p,()=>{i.removeEventListener(q0,l),s=null}},createHref(p){return t(i,p)},createURL:m,encodeLocation(p){let y=m(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:u,replace:d,go(p){return h.go(p)}};return g}var J0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J0||(J0={}));function JB(e,t,n){return n===void 0&&(n="/"),ZB(e,t,n)}function ZB(e,t,n,r){let i=typeof t=="string"?Ho(t):t,a=KE(i.pathname||"/",n);if(a==null)return null;let h=YE(e);e5(h);let o=null;for(let s=0;o==null&&s<h.length;++s){let c=f5(a);o=c5(h[s],c)}return o}function YE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,h,o)=>{let s={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};s.relativePath.startsWith("/")&&(ot(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let c=Ji([r,s.relativePath]),f=n.concat(s);a.children&&a.children.length>0&&(ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YE(a.children,t,f,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:a5(c,a.index),routesMeta:f})};return e.forEach((a,h)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,h);else for(let s of XE(a.path))i(a,h,s)}),t}function XE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let h=XE(r.join("/")),o=[];return o.push(...h.map(s=>s===""?a:[a,s].join("/"))),i&&o.push(...h),o.map(s=>e.startsWith("/")&&s===""?"/":s)}function e5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t5=/^:[\w-]+$/,n5=3,r5=2,i5=1,s5=10,o5=-2,Z0=e=>e==="*";function a5(e,t){let n=e.split("/"),r=n.length;return n.some(Z0)&&(r+=o5),t&&(r+=r5),n.filter(i=>!Z0(i)).reduce((i,a)=>i+(t5.test(a)?n5:a===""?i5:s5),r)}function l5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function c5(e,t,n){let{routesMeta:r}=e,i={},a="/",h=[];for(let o=0;o<r.length;++o){let s=r[o],c=o===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",l=u5({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},f),u=s.route;if(!l)return null;Object.assign(i,l.params),h.push({params:i,pathname:Ji([a,l.pathname]),pathnameBase:g5(Ji([a,l.pathnameBase])),route:u}),l.pathnameBase!=="/"&&(a=Ji([a,l.pathnameBase]))}return h}function u5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=d5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],h=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,f,l)=>{let{paramName:u,isOptional:d}=f;if(u==="*"){let g=o[l]||"";h=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[l];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:h,pattern:e}}function d5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),HE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,o,s)=>(r.push({paramName:o,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function f5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return HE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function KE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function h5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:p5(n,t):t,search:v5(r),hash:y5(i)}}function p5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qE(e,t){let n=m5(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ho(e):(i=fl({},e),ot(!i.pathname||!i.pathname.includes("?"),fh("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),fh("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),fh("#","search","hash",i)));let a=e===""||i.pathname==="",h=a?"/":i.pathname,o;if(h==null)o=n;else{let l=t.length-1;if(!r&&h.startsWith("..")){let u=h.split("/");for(;u[0]==="..";)u.shift(),l-=1;i.pathname=u.join("/")}o=l>=0?t[l]:"/"}let s=h5(i,o),c=h&&h!=="/"&&h.endsWith("/"),f=(a||h===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(c||f)&&(s.pathname+="/"),s}const Ji=e=>e.join("/").replace(/\/\/+/g,"/"),g5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JE=["post","put","patch","delete"];new Set(JE);const b5=["get",...JE];new Set(b5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hl.apply(this,arguments)}const kv=w.createContext(null),w5=w.createContext(null),Ul=w.createContext(null),Xd=w.createContext(null),ys=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ZE=w.createContext(null);function $l(){return w.useContext(Xd)!=null}function Hl(){return $l()||ot(!1),w.useContext(Xd).location}function e_(e){w.useContext(Ul).static||w.useLayoutEffect(e)}function t_(){let{isDataRoute:e}=w.useContext(ys);return e?R5():S5()}function S5(){$l()||ot(!1);let e=w.useContext(kv),{basename:t,future:n,navigator:r}=w.useContext(Ul),{matches:i}=w.useContext(ys),{pathname:a}=Hl(),h=JSON.stringify(qE(i,n.v7_relativeSplatPath)),o=w.useRef(!1);return e_(()=>{o.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let l=QE(c,JSON.parse(h),a,f.relative==="path");e==null&&t!=="/"&&(l.pathname=l.pathname==="/"?t:Ji([t,l.pathname])),(f.replace?r.replace:r.push)(l,f.state,f)},[t,r,h,a,e])}function C5(e,t){return T5(e,t)}function T5(e,t,n,r){$l()||ot(!1);let{navigator:i}=w.useContext(Ul),{matches:a}=w.useContext(ys),h=a[a.length-1],o=h?h.params:{};h&&h.pathname;let s=h?h.pathnameBase:"/";h&&h.route;let c=Hl(),f;if(t){var l;let p=typeof t=="string"?Ho(t):t;s==="/"||(l=p.pathname)!=null&&l.startsWith(s)||ot(!1),f=p}else f=c;let u=f.pathname||"/",d=u;if(s!=="/"){let p=s.replace(/^\//,"").split("/");d="/"+u.replace(/^\//,"").split("/").slice(p.length).join("/")}let m=JB(e,{pathname:d}),g=j5(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:Ji([s,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?s:Ji([s,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n,r);return t&&g?w.createElement(Xd.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ti.Pop}},g):g}function E5(){let e=k5(),t=x5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const _5=w.createElement(E5,null);class P5 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(ys.Provider,{value:this.props.routeContext},w.createElement(ZE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N5(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(kv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(ys.Provider,{value:t},r)}function j5(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=h.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id])!==void 0);f>=0||ot(!1),h=h.slice(0,Math.min(h.length,f+1))}let s=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<h.length;f++){let l=h[f];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(c=f),l.route.id){let{loaderData:u,errors:d}=n,m=l.route.loader&&u[l.route.id]===void 0&&(!d||d[l.route.id]===void 0);if(l.route.lazy||m){s=!0,c>=0?h=h.slice(0,c+1):h=[h[0]];break}}}return h.reduceRight((f,l,u)=>{let d,m=!1,g=null,p=null;n&&(d=o&&l.route.id?o[l.route.id]:void 0,g=l.route.errorElement||_5,s&&(c<0&&u===0?(M5("route-fallback"),m=!0,p=null):c===u&&(m=!0,p=l.route.hydrateFallbackElement||null)));let y=t.concat(h.slice(0,u+1)),x=()=>{let b;return d?b=g:m?b=p:l.route.Component?b=w.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=f,w.createElement(N5,{match:l,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:b})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?w.createElement(P5,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var n_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(n_||{}),r_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(r_||{});function O5(e){let t=w.useContext(kv);return t||ot(!1),t}function A5(e){let t=w.useContext(w5);return t||ot(!1),t}function D5(e){let t=w.useContext(ys);return t||ot(!1),t}function i_(e){let t=D5(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function k5(){var e;let t=w.useContext(ZE),n=A5(),r=i_();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R5(){let{router:e}=O5(n_.UseNavigateStable),t=i_(r_.UseNavigateStable),n=w.useRef(!1);return e_(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,hl({fromRouteId:t},a)))},[e,t])}const eb={};function M5(e,t,n){eb[e]||(eb[e]=!0)}function I5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hh(e){let{to:t,replace:n,state:r,relative:i}=e;$l()||ot(!1);let{future:a,static:h}=w.useContext(Ul),{matches:o}=w.useContext(ys),{pathname:s}=Hl(),c=t_(),f=QE(t,qE(o,a.v7_relativeSplatPath),s,i==="path"),l=JSON.stringify(f);return w.useEffect(()=>c(JSON.parse(l),{replace:n,state:r,relative:i}),[c,l,i,n,r]),null}function wa(e){ot(!1)}function L5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ti.Pop,navigator:a,static:h=!1,future:o}=e;$l()&&ot(!1);let s=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:s,navigator:a,static:h,future:hl({v7_relativeSplatPath:!1},o)}),[s,o,a,h]);typeof r=="string"&&(r=Ho(r));let{pathname:f="/",search:l="",hash:u="",state:d=null,key:m="default"}=r,g=w.useMemo(()=>{let p=KE(f,s);return p==null?null:{location:{pathname:p,search:l,hash:u,state:d,key:m},navigationType:i}},[s,f,l,u,d,m,i]);return g==null?null:w.createElement(Ul.Provider,{value:c},w.createElement(Xd.Provider,{children:n,value:g}))}function F5(e){let{children:t,location:n}=e;return C5(mm(t),n)}new Promise(()=>{});function mm(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,mm(r.props.children,a));return}r.type!==wa&&ot(!1),!r.props.index||!r.props.children||ot(!1);let h={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=mm(r.props.children,a)),n.push(h)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B5="6";try{window.__reactRouterVersion=B5}catch{}const V5="startTransition",tb=ps[V5];function z5(e){let{basename:t,children:n,future:r,window:i}=e,a=w.useRef();a.current==null&&(a.current=KB({window:i,v5Compat:!0}));let h=a.current,[o,s]=w.useState({action:h.action,location:h.location}),{v7_startTransition:c}=r||{},f=w.useCallback(l=>{c&&tb?tb(()=>s(l)):s(l)},[s,c]);return w.useLayoutEffect(()=>h.listen(f),[h,f]),w.useEffect(()=>I5(r),[r]),w.createElement(L5,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:h,future:r})}var nb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nb||(nb={}));var rb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rb||(rb={}));const W5=w.createContext(void 0);function U5({children:e}){const[t,n]=w.useState(()=>localStorage.getItem("theme")||"system"),[r,i]=w.useState("light");return w.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark");let h="light";t==="system"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=t,a.classList.add(h),i(h),localStorage.setItem("theme",t)},[t]),w.useEffect(()=>{if(t!=="system")return;const a=window.matchMedia("(prefers-color-scheme: dark)"),h=o=>{const s=window.document.documentElement;s.classList.remove("light","dark");const c=o.matches?"dark":"light";s.classList.add(c),i(c)};return a.addEventListener("change",h),()=>a.removeEventListener("change",h)},[t]),v.jsx(W5.Provider,{value:{theme:t,setTheme:n,actualTheme:r},children:e})}const ib=e=>{let t;const n=new Set,r=(c,f)=>{const l=typeof c=="function"?c(t):c;if(!Object.is(l,t)){const u=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(d=>d(t,u))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>s,subscribe:c=>(n.add(c),()=>n.delete(c))},s=t=e(r,i,o);return o},$5=e=>e?ib(e):ib,H5=e=>e;function G5(e,t=H5){const n=ae.useSyncExternalStore(e.subscribe,ae.useCallback(()=>t(e.getState()),[e,t]),ae.useCallback(()=>t(e.getInitialState()),[e,t]));return ae.useDebugValue(n),n}const sb=e=>{const t=$5(e),n=r=>G5(t,r);return Object.assign(n,t),n},s_=e=>e?sb(e):sb;function Y5(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const h=s=>s===null?null:JSON.parse(s,void 0),o=(a=n.getItem(i))!=null?a:null;return o instanceof Promise?o.then(h):h(o)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const gm=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return gm(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gm(r)(n)}}}},X5=(e,t)=>(n,r,i)=>{let a={storage:Y5(()=>localStorage),partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...t},h=!1,o=0;const s=new Set,c=new Set;let f=a.storage;if(!f)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...p)},r,i);const l=()=>{const p=a.partialize({...r()});return f.setItem(a.name,{state:p,version:a.version})},u=i.setState;i.setState=(p,y)=>(u(p,y),l());const d=e((...p)=>(n(...p),l()),r,i);i.getInitialState=()=>d;let m;const g=()=>{var p,y;if(!f)return;const x=++o;h=!1,s.forEach(S=>{var C;return S((C=r())!=null?C:d)});const b=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(p=r())!=null?p:d))||void 0;return gm(f.getItem.bind(f))(a.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==a.version){if(a.migrate){const C=a.migrate(S.state,S.version);return C instanceof Promise?C.then(T=>[!0,T]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var C;if(x!==o)return;const[T,E]=S;if(m=a.merge(E,(C=r())!=null?C:d),n(m,!0),T)return l()}).then(()=>{x===o&&(b==null||b(m,void 0),m=r(),h=!0,c.forEach(S=>S(m)))}).catch(S=>{x===o&&(b==null||b(void 0,S))})};return i.persist={setOptions:p=>{a={...a,...p},p.storage&&(f=p.storage)},clearStorage:()=>{f==null||f.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>h,onHydrate:p=>(s.add(p),()=>{s.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},a.skipHydration||g(),m||d},K5=X5,q5="http://localhost:4000",Rt=e=>`${q5}${e.startsWith("/")?e:`/${e}`}`,xs=s_()(K5(e=>({user:null,isAuthenticated:!1,login:async(t,n)=>{try{const r=await fetch(Rt("/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,senha:n})});if(!r.ok){const a=await r.json();throw new Error(a.error||"Erro ao fazer login")}const i=await r.json();e({user:i,isAuthenticated:!0})}catch(r){throw r}},logout:()=>e({user:null,isAuthenticated:!1})}),{name:"vercflow-auth"})),Q5=Object.freeze(Object.defineProperty({__proto__:null,useAuth:xs},Symbol.toStringTag,{value:"Module"})),Rv=w.createContext({});function Mv(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kd=w.createContext(null),Iv=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class J5 extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Z5({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=w.useContext(Iv);return w.useInsertionEffect(()=>{const{width:h,height:o,top:s,left:c}=i.current;if(t||!r.current||!h||!o)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return a&&(f.nonce=a),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),v.jsx(J5,{isPresent:t,childRef:r,sizeRef:i,children:w.cloneElement(e,{ref:r})})}const e4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:h})=>{const o=Mv(t4),s=w.useId(),c=w.useCallback(l=>{o.set(l,!0);for(const u of o.values())if(!u)return;r&&r()},[o,r]),f=w.useMemo(()=>({id:s,initial:t,isPresent:n,custom:i,onExitComplete:c,register:l=>(o.set(l,!1),()=>o.delete(l))}),a?[Math.random(),c]:[n,c]);return w.useMemo(()=>{o.forEach((l,u)=>o.set(u,!1))},[n]),w.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),h==="popLayout"&&(e=v.jsx(Z5,{isPresent:n,children:e})),v.jsx(Kd.Provider,{value:f,children:e})};function t4(){return new Map}function o_(e=!0){const t=w.useContext(Kd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=w.useId();w.useEffect(()=>{e&&i(a)},[e]);const h=w.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,h]:[!0]}const jc=e=>e.key||"";function ob(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Lv=typeof window<"u",a_=Lv?w.useLayoutEffect:w.useEffect,Gl=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:h=!1})=>{const[o,s]=o_(h),c=w.useMemo(()=>ob(e),[e]),f=h&&!o?[]:c.map(jc),l=w.useRef(!0),u=w.useRef(c),d=Mv(()=>new Map),[m,g]=w.useState(c),[p,y]=w.useState(c);a_(()=>{l.current=!1,u.current=c;for(let S=0;S<p.length;S++){const C=jc(p[S]);f.includes(C)?d.delete(C):d.get(C)!==!0&&d.set(C,!1)}},[p,f.length,f.join("-")]);const x=[];if(c!==m){let S=[...c];for(let C=0;C<p.length;C++){const T=p[C],E=jc(T);f.includes(E)||(S.splice(C,0,T),x.push(T))}a==="wait"&&x.length&&(S=x),y(ob(S)),g(c);return}const{forceRender:b}=w.useContext(Rv);return v.jsx(v.Fragment,{children:p.map(S=>{const C=jc(S),T=h&&!o?!1:c===p||f.includes(C),E=()=>{if(d.has(C))d.set(C,!0);else return;let P=!0;d.forEach(k=>{k||(P=!1)}),P&&(b==null||b(),y(u.current),h&&(s==null||s()),r&&r())};return v.jsx(e4,{isPresent:T,initial:!l.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:T?void 0:E,children:S},C)})})},en=e=>e;let l_=en;function Fv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Eo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},xr=e=>e*1e3,br=e=>e/1e3,n4={useManualTiming:!1};function r4(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(s.schedule(c),e()),c(h)}const s={schedule:(c,f=!1,l=!1)=>{const d=l&&r?t:n;return f&&a.add(c),d.has(c)||d.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(h=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,s.process(c))}};return s}const Oc=["read","resolveKeyframes","update","preRender","render","postRender"],i4=40;function c_(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,h=Oc.reduce((y,x)=>(y[x]=r4(a),y),{}),{read:o,resolveKeyframes:s,update:c,preRender:f,render:l,postRender:u}=h,d=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,i4),1),i.timestamp=y,i.isProcessing=!0,o.process(i),s.process(i),c.process(i),f.process(i),l.process(i),u.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(d))},m=()=>{n=!0,r=!0,i.isProcessing||e(d)};return{schedule:Oc.reduce((y,x)=>{const b=h[x];return y[x]=(S,C=!1,T=!1)=>(n||m(),b.schedule(S,C,T)),y},{}),cancel:y=>{for(let x=0;x<Oc.length;x++)h[Oc[x]].cancel(y)},state:i,steps:h}}const{schedule:Ue,cancel:yi,state:vt,steps:ph}=c_(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0),u_=w.createContext({strict:!1}),ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_o={};for(const e in ab)_o[e]={isEnabled:t=>ab[e].some(n=>!!t[n])};function s4(e){for(const t in e)_o[t]={..._o[t],...e[t]}}const o4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o4.has(e)}let d_=e=>!Wu(e);function a4(e){e&&(d_=t=>t.startsWith("on")?!Wu(t):e(t))}try{a4(require("@emotion/is-prop-valid").default)}catch{}function l4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(d_(i)||n===!0&&Wu(i)||!t&&!Wu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function c4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const qd=w.createContext({});function pl(e){return typeof e=="string"||Array.isArray(e)}function Qd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Bv];function Jd(e){return Qd(e.animate)||Vv.some(t=>pl(e[t]))}function f_(e){return!!(Jd(e)||e.variants)}function u4(e,t){if(Jd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||pl(n)?n:void 0,animate:pl(r)?r:void 0}}return e.inherit!==!1?t:{}}function d4(e){const{initial:t,animate:n}=u4(e,w.useContext(qd));return w.useMemo(()=>({initial:t,animate:n}),[lb(t),lb(n)])}function lb(e){return Array.isArray(e)?e.join(" "):e}const f4=Symbol.for("motionComponentSymbol");function Ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function h4(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ws(n)&&(n.current=r))},[t])}const zv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p4="framerAppearId",h_="data-"+zv(p4),{schedule:Wv}=c_(queueMicrotask,!1),p_=w.createContext({});function m4(e,t,n,r,i){var a,h;const{visualElement:o}=w.useContext(qd),s=w.useContext(u_),c=w.useContext(Kd),f=w.useContext(Iv).reducedMotion,l=w.useRef(null);r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const u=l.current,d=w.useContext(p_);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&g4(l.current,n,i,d);const m=w.useRef(!1);w.useInsertionEffect(()=>{u&&m.current&&u.update(n,c)});const g=n[h_],p=w.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,g)));return a_(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Wv.render(u.render),p.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),p.current=!1))}),u}function g4(e,t,n,r){const{layoutId:i,layout:a,drag:h,dragConstraints:o,layoutScroll:s,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:m_(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!h||o&&Ws(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:c})}function m_(e){if(e)return e.options.allowProjection!==!1?e.projection:m_(e.parent)}function v4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var a,h;e&&s4(e);function o(c,f){let l;const u={...w.useContext(Iv),...c,layoutId:y4(c)},{isStatic:d}=u,m=d4(c),g=r(c,d);if(!d&&Lv){x4();const p=b4(u);l=p.MeasureLayout,m.visualElement=m4(i,g,u,t,p.ProjectionNode)}return v.jsxs(qd.Provider,{value:m,children:[l&&m.visualElement?v.jsx(l,{visualElement:m.visualElement,...u}):null,n(i,c,h4(g,m.visualElement,f),g,d,m.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(h=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&h!==void 0?h:""})`}`;const s=w.forwardRef(o);return s[f4]=i,s}function y4({layoutId:e}){const t=w.useContext(Rv).id;return t&&e!==void 0?t+"-"+e:e}function x4(e,t){w.useContext(u_).strict}function b4(e){const{drag:t,layout:n}=_o;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const w4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uv(e){return typeof e!="string"||e.includes("-")?!1:!!(w4.indexOf(e)>-1||/[A-Z]/u.test(e))}function cb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function $v(e,t,n,r){if(typeof t=="function"){const[i,a]=cb(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=cb(r);t=t(n!==void 0?n:e.custom,i,a)}return t}const vm=e=>Array.isArray(e),S4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),C4=e=>vm(e)?e[e.length-1]||0:e,_t=e=>!!(e&&e.getVelocity);function iu(e){const t=_t(e)?e.get():e;return S4(t)?t.toValue():t}function T4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const h={latestValues:E4(r,i,a,e),renderState:t()};return n&&(h.onMount=o=>n({props:r,current:o,...h}),h.onUpdate=o=>n(o)),h}const g_=e=>(t,n)=>{const r=w.useContext(qd),i=w.useContext(Kd),a=()=>T4(e,t,r,i);return n?a():Mv(a)};function E4(e,t,n,r){const i={},a=r(e,{});for(const u in a)i[u]=iu(a[u]);let{initial:h,animate:o}=e;const s=Jd(e),c=f_(e);t&&c&&!s&&e.inherit!==!1&&(h===void 0&&(h=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||h===!1;const l=f?o:h;if(l&&typeof l!="boolean"&&!Qd(l)){const u=Array.isArray(l)?l:[l];for(let d=0;d<u.length;d++){const m=$v(e,u[d]);if(m){const{transitionEnd:g,transition:p,...y}=m;for(const x in y){let b=y[x];if(Array.isArray(b)){const S=f?b.length-1:0;b=b[S]}b!==null&&(i[x]=b)}for(const x in g)i[x]=g[x]}}}return i}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bs=new Set(Go),v_=e=>t=>typeof t=="string"&&t.startsWith(e),y_=v_("--"),_4=v_("var(--"),Hv=e=>_4(e)?P4.test(e.split("/*")[0].trim()):!1,P4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,x_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,jr=(e,t,n)=>n>t?t:n<e?e:n,Yo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ml={...Yo,transform:e=>jr(0,1,e)},Ac={...Yo,default:1},Yl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Br=Yl("deg"),rr=Yl("%"),ye=Yl("px"),N4=Yl("vh"),j4=Yl("vw"),ub={...rr,parse:e=>rr.parse(e)/100,transform:e=>rr.transform(e*100)},O4={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},A4={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:Ac,scaleX:Ac,scaleY:Ac,scaleZ:Ac,skew:Br,skewX:Br,skewY:Br,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ml,originX:ub,originY:ub,originZ:ye},db={...Yo,transform:Math.round},Gv={...O4,...A4,zIndex:db,size:ye,fillOpacity:ml,strokeOpacity:ml,numOctaves:db},D4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k4=Go.length;function R4(e,t,n){let r="",i=!0;for(let a=0;a<k4;a++){const h=Go[a],o=e[h];if(o===void 0)continue;let s=!0;if(typeof o=="number"?s=o===(h.startsWith("scale")?1:0):s=parseFloat(o)===0,!s||n){const c=x_(o,Gv[h]);if(!s){i=!1;const f=D4[h]||h;r+=`${f}(${c}) `}n&&(t[h]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Yv(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let h=!1,o=!1;for(const s in t){const c=t[s];if(bs.has(s)){h=!0;continue}else if(y_(s)){i[s]=c;continue}else{const f=x_(c,Gv[s]);s.startsWith("origin")?(o=!0,a[s]=f):r[s]=f}}if(t.transform||(h||n?r.transform=R4(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:s="50%",originY:c="50%",originZ:f=0}=a;r.transformOrigin=`${s} ${c} ${f}`}}const M4={offset:"stroke-dashoffset",array:"stroke-dasharray"},I4={offset:"strokeDashoffset",array:"strokeDasharray"};function L4(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?M4:I4;e[a.offset]=ye.transform(-r);const h=ye.transform(t),o=ye.transform(n);e[a.array]=`${h} ${o}`}function fb(e,t,n){return typeof e=="string"?e:ye.transform(t+n*e)}function F4(e,t,n){const r=fb(t,e.x,e.width),i=fb(n,e.y,e.height);return`${r} ${i}`}function Xv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:h,pathSpacing:o=1,pathOffset:s=0,...c},f,l){if(Yv(e,c,l),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:d,dimensions:m}=e;u.transform&&(m&&(d.transform=u.transform),delete u.transform),m&&(i!==void 0||a!==void 0||d.transform)&&(d.transformOrigin=F4(m,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(u.x=t),n!==void 0&&(u.y=n),r!==void 0&&(u.scale=r),h!==void 0&&L4(u,h,o,s,!1)}const Kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),b_=()=>({...Kv(),attrs:{}}),qv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function w_(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const S_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C_(e,t,n,r){w_(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(S_.has(i)?i:zv(i),t.attrs[i])}const Uu={};function B4(e){Object.assign(Uu,e)}function T_(e,{layout:t,layoutId:n}){return bs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uu[e]||e==="opacity")}function Qv(e,t,n){var r;const{style:i}=e,a={};for(const h in i)(_t(i[h])||t.style&&_t(t.style[h])||T_(h,e)||((r=n==null?void 0:n.getValue(h))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[h]=i[h]);return a}function E_(e,t,n){const r=Qv(e,t,n);for(const i in e)if(_t(e[i])||_t(t[i])){const a=Go.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function V4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const hb=["x","y","width","height","cx","cy","r"],z4={useVisualState:g_({scrapeMotionValuesFromProps:E_,createRenderState:b_,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(const o in i)if(bs.has(o)){a=!0;break}}if(!a)return;let h=!t;if(t)for(let o=0;o<hb.length;o++){const s=hb[o];e[s]!==t[s]&&(h=!0)}h&&Ue.read(()=>{V4(n,r),Ue.render(()=>{Xv(r,i,qv(n.tagName),e.transformTemplate),C_(n,r)})})}})},W4={useVisualState:g_({scrapeMotionValuesFromProps:Qv,createRenderState:Kv})};function __(e,t,n){for(const r in t)!_t(t[r])&&!T_(r,n)&&(e[r]=t[r])}function U4({transformTemplate:e},t){return w.useMemo(()=>{const n=Kv();return Yv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $4(e,t){const n=e.style||{},r={};return __(r,n,e),Object.assign(r,U4(e,t)),r}function H4(e,t){const n={},r=$4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function G4(e,t,n,r){const i=w.useMemo(()=>{const a=b_();return Xv(a,t,qv(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};__(a,e.style,e),i.style={...a,...i.style}}return i}function Y4(e=!1){return(n,r,i,{latestValues:a},h)=>{const s=(Uv(n)?G4:H4)(r,a,h,n),c=l4(r,typeof n=="string",e),f=n!==w.Fragment?{...c,...s,ref:i}:{},{children:l}=r,u=w.useMemo(()=>_t(l)?l.get():l,[l]);return w.createElement(n,{...f,children:u})}}function X4(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const h={...Uv(r)?z4:W4,preloadedFeatures:e,useRender:Y4(i),createVisualElement:t,Component:r};return v4(h)}}function P_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zd(e,t,n){const r=e.getProps();return $v(r,t,n!==void 0?n:r.custom,e)}const K4=Fv(()=>window.ScrollTimeline!==void 0);class q4{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(K4()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Q4 extends q4{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Jv(e,t){return e?e[t]||e.default||e:void 0}const ym=2e4;function N_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ym;)t+=n,r=e.next(t);return t>=ym?1/0:t}function Zv(e){return typeof e=="function"}function pb(e,t){e.timeline=t,e.onfinish=null}const ey=e=>Array.isArray(e)&&typeof e[0]=="number",J4={linearEasing:void 0};function Z4(e,t){const n=Fv(e);return()=>{var r;return(r=J4[t])!==null&&r!==void 0?r:n()}}const $u=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),j_=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(Eo(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function O_(e){return!!(typeof e=="function"&&$u()||!e||typeof e=="string"&&(e in xm||$u())||ey(e)||Array.isArray(e)&&e.every(O_))}const Sa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sa([0,.65,.55,1]),circOut:Sa([.55,0,1,.45]),backIn:Sa([.31,.01,.66,-.59]),backOut:Sa([.33,1.53,.69,.99])};function A_(e,t){if(e)return typeof e=="function"&&$u()?j_(e,t):ey(e)?Sa(e):Array.isArray(e)?e.map(n=>A_(n,t)||xm.easeOut):xm[e]}const _n={x:!1,y:!1};function D_(){return _n.x||_n.y}function e3(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function k_(e,t){const n=e3(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function mb(e){return t=>{t.pointerType==="touch"||D_()||e(t)}}function t3(e,t,n={}){const[r,i,a]=k_(e,n),h=mb(o=>{const{target:s}=o,c=t(o);if(typeof c!="function"||!s)return;const f=mb(l=>{c(l),s.removeEventListener("pointerleave",f)});s.addEventListener("pointerleave",f,i)});return r.forEach(o=>{o.addEventListener("pointerenter",h,i)}),a}const R_=(e,t)=>t?e===t?!0:R_(e,t.parentElement):!1,ty=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,n3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r3(e){return n3.has(e.tagName)||e.tabIndex!==-1}const Ca=new WeakSet;function gb(e){return t=>{t.key==="Enter"&&e(t)}}function mh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const i3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=gb(()=>{if(Ca.has(n))return;mh(n,"down");const i=gb(()=>{mh(n,"up")}),a=()=>mh(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function vb(e){return ty(e)&&!D_()}function s3(e,t,n={}){const[r,i,a]=k_(e,n),h=o=>{const s=o.currentTarget;if(!vb(o)||Ca.has(s))return;Ca.add(s);const c=t(o),f=(d,m)=>{window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",u),!(!vb(d)||!Ca.has(s))&&(Ca.delete(s),typeof c=="function"&&c(d,{success:m}))},l=d=>{f(d,n.useGlobalTarget||R_(s,d.target))},u=d=>{f(d,!1)};window.addEventListener("pointerup",l,i),window.addEventListener("pointercancel",u,i)};return r.forEach(o=>{!r3(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",h,i),o.addEventListener("focus",c=>i3(c,i),i)}),a}function o3(e){return e==="x"||e==="y"?_n[e]?null:(_n[e]=!0,()=>{_n[e]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}const M_=new Set(["width","height","top","left","right","bottom",...Go]);let su;function a3(){su=void 0}const ir={now:()=>(su===void 0&&ir.set(vt.isProcessing||n4.useManualTiming?vt.timestamp:performance.now()),su),set:e=>{su=e,queueMicrotask(a3)}};function ny(e,t){e.indexOf(t)===-1&&e.push(t)}function ry(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class iy{constructor(){this.subscriptions=[]}add(t){return ny(this.subscriptions,t),()=>ry(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const h=this.subscriptions[a];h&&h(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function I_(e,t){return t?e*(1e3/t):0}const yb=30,l3=e=>!isNaN(parseFloat(e));class c3{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ir.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ir.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=l3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iy);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yb);return I_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(e,t){return new c3(e,t)}function u3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gl(n))}function d3(e,t){const n=Zd(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const h in a){const o=C4(a[h]);u3(e,h,o)}}function f3(e){return!!(_t(e)&&e.add)}function bm(e,t){const n=e.getValue("willChange");if(f3(n))return n.add(t)}function L_(e){return e.props[h_]}const F_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,h3=1e-7,p3=12;function m3(e,t,n,r,i){let a,h,o=0;do h=t+(n-t)/2,a=F_(h,r,i)-e,a>0?n=h:t=h;while(Math.abs(a)>h3&&++o<p3);return h}function Xl(e,t,n,r){if(e===t&&n===r)return en;const i=a=>m3(a,0,1,e,n);return a=>a===0||a===1?a:F_(i(a),t,r)}const B_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V_=e=>t=>1-e(1-t),z_=Xl(.33,1.53,.69,.99),sy=V_(z_),W_=B_(sy),U_=e=>(e*=2)<1?.5*sy(e):.5*(2-Math.pow(2,-10*(e-1))),oy=e=>1-Math.sin(Math.acos(e)),$_=V_(oy),H_=B_(oy),G_=e=>/^0[^.\s]+$/u.test(e);function g3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||G_(e):!0}const La=e=>Math.round(e*1e5)/1e5,ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v3(e){return e==null}const y3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ly=(e,t)=>n=>!!(typeof n=="string"&&y3.test(n)&&n.startsWith(e)||t&&!v3(n)&&Object.prototype.hasOwnProperty.call(n,t)),Y_=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,h,o]=r.match(ay);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(h),alpha:o!==void 0?parseFloat(o):1}},x3=e=>jr(0,255,e),gh={...Yo,transform:e=>Math.round(x3(e))},Ui={test:ly("rgb","red"),parse:Y_("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+gh.transform(e)+", "+gh.transform(t)+", "+gh.transform(n)+", "+La(ml.transform(r))+")"};function b3(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const wm={test:ly("#"),parse:b3,transform:Ui.transform},Us={test:ly("hsl","hue"),parse:Y_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rr.transform(La(t))+", "+rr.transform(La(n))+", "+La(ml.transform(r))+")"},Tt={test:e=>Ui.test(e)||wm.test(e)||Us.test(e),parse:e=>Ui.test(e)?Ui.parse(e):Us.test(e)?Us.parse(e):wm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ui.transform(e):Us.transform(e)},w3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ay))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(w3))===null||n===void 0?void 0:n.length)||0)>0}const X_="number",K_="color",C3="var",T3="var(",xb="${}",E3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(E3,s=>(Tt.test(s)?(r.color.push(a),i.push(K_),n.push(Tt.parse(s))):s.startsWith(T3)?(r.var.push(a),i.push(C3),n.push(s)):(r.number.push(a),i.push(X_),n.push(parseFloat(s))),++a,xb)).split(xb);return{values:n,split:o,indexes:r,types:i}}function q_(e){return vl(e).values}function Q_(e){const{split:t,types:n}=vl(e),r=t.length;return i=>{let a="";for(let h=0;h<r;h++)if(a+=t[h],i[h]!==void 0){const o=n[h];o===X_?a+=La(i[h]):o===K_?a+=Tt.transform(i[h]):a+=i[h]}return a}}const _3=e=>typeof e=="number"?0:e;function P3(e){const t=q_(e);return Q_(e)(t.map(_3))}const xi={test:S3,parse:q_,createTransformer:Q_,getAnimatableNone:P3},N3=new Set(["brightness","contrast","saturate","opacity"]);function j3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ay)||[];if(!r)return e;const i=n.replace(r,"");let a=N3.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const O3=/\b([a-z-]*)\(.*?\)/gu,Sm={...xi,getAnimatableNone:e=>{const t=e.match(O3);return t?t.map(j3).join(" "):e}},A3={...Gv,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Sm,WebkitFilter:Sm},cy=e=>A3[e];function J_(e,t){let n=cy(e);return n!==Sm&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const D3=new Set(["auto","none","0"]);function k3(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!D3.has(a)&&vl(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=J_(n,i)}const bb=e=>e===Yo||e===ye,wb=(e,t)=>parseFloat(e.split(", ")[t]),Sb=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wb(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?wb(a[1],e):0}},R3=new Set(["x","y","z"]),M3=Go.filter(e=>!R3.has(e));function I3(e){const t=[];return M3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Sb(4,13),y:Sb(5,14)};Po.translateX=Po.x;Po.translateY=Po.y;const Zi=new Set;let Cm=!1,Tm=!1;function Z_(){if(Tm){const e=Array.from(Zi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=I3(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,h])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(h)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Tm=!1,Cm=!1,Zi.forEach(e=>e.complete()),Zi.clear()}function eP(){Zi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Tm=!0)})}function L3(){eP(),Z_()}class uy{constructor(t,n,r,i,a,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zi.add(this),Cm||(Cm=!0,Ue.read(eP),Ue.resolveKeyframes(Z_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const h=i==null?void 0:i.get(),o=t[t.length-1];if(h!==void 0)t[0]=h;else if(r&&n){const s=r.readValue(n,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&h===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),F3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B3(e){const t=F3.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function nP(e,t,n=1){const[r,i]=B3(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const h=a.trim();return tP(h)?parseFloat(h):h}return Hv(i)?nP(i,t,n+1):i}const rP=e=>t=>t.test(e),V3={test:e=>e==="auto",parse:e=>e},iP=[Yo,ye,rr,Br,j4,N4,V3],Cb=e=>iP.find(rP(e));class sP extends uy{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="string"&&(c=c.trim(),Hv(c))){const f=nP(c,n.current);f!==void 0&&(t[s]=f),s===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!M_.has(r)||t.length!==2)return;const[i,a]=t,h=Cb(i),o=Cb(a);if(h!==o)if(bb(h)&&bb(o))for(let s=0;s<t.length;s++){const c=t[s];typeof c=="string"&&(t[s]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)g3(t[i])&&r.push(i);r.length&&k3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const h=i.length-1,o=i[h];i[h]=Po[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([s,c])=>{n.getValue(s).set(c)}),this.resolveNoneKeyframes()}}const Tb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xi.test(e)||e==="0")&&!e.startsWith("url("));function z3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function W3(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],h=Tb(i,t),o=Tb(a,t);return!h||!o?!1:z3(e)||(n==="spring"||Zv(n))&&r}const U3=e=>e!==null;function ef(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(U3),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const $3=40;class oP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:h="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ir.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:h,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&L3(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ir.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:h,onComplete:o,onUpdate:s,isGenerator:c}=this.options;if(!c&&!W3(t,r,i,a))if(h)this.options.duration=0;else{s&&s(ef(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ye=(e,t,n)=>e+(t-e)*n;function vh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function H3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,h=0;if(!t)i=a=h=n;else{const o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;i=vh(s,o,e+1/3),a=vh(s,o,e),h=vh(s,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(h*255),alpha:r}}function Hu(e,t){return n=>n>0?t:e}const yh=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},G3=[wm,Ui,Us],Y3=e=>G3.find(t=>t.test(e));function Eb(e){const t=Y3(e);if(!t)return!1;let n=t.parse(e);return t===Us&&(n=H3(n)),n}const _b=(e,t)=>{const n=Eb(e),r=Eb(t);if(!n||!r)return Hu(e,t);const i={...n};return a=>(i.red=yh(n.red,r.red,a),i.green=yh(n.green,r.green,a),i.blue=yh(n.blue,r.blue,a),i.alpha=Ye(n.alpha,r.alpha,a),Ui.transform(i))},X3=(e,t)=>n=>t(e(n)),Kl=(...e)=>e.reduce(X3),Em=new Set(["none","hidden"]);function K3(e,t){return Em.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function q3(e,t){return n=>Ye(e,t,n)}function dy(e){return typeof e=="number"?q3:typeof e=="string"?Hv(e)?Hu:Tt.test(e)?_b:Z3:Array.isArray(e)?aP:typeof e=="object"?Tt.test(e)?_b:Q3:Hu}function aP(e,t){const n=[...e],r=n.length,i=e.map((a,h)=>dy(a)(a,t[h]));return a=>{for(let h=0;h<r;h++)n[h]=i[h](a);return n}}function Q3(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=dy(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function J3(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const h=t.types[a],o=e.indexes[h][i[h]],s=(n=e.values[o])!==null&&n!==void 0?n:0;r[a]=s,i[h]++}return r}const Z3=(e,t)=>{const n=xi.createTransformer(t),r=vl(e),i=vl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Em.has(e)&&!i.values.length||Em.has(t)&&!r.values.length?K3(e,t):Kl(aP(J3(r,i),i.values),n):Hu(e,t)};function lP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ye(e,t,n):dy(e)(e,t)}const eV=5;function cP(e,t,n){const r=Math.max(t-eV,0);return I_(n-e(r),t-r)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xh=.001;function tV({duration:e=Qe.duration,bounce:t=Qe.bounce,velocity:n=Qe.velocity,mass:r=Qe.mass}){let i,a,h=1-t;h=jr(Qe.minDamping,Qe.maxDamping,h),e=jr(Qe.minDuration,Qe.maxDuration,br(e)),h<1?(i=c=>{const f=c*h,l=f*e,u=f-n,d=_m(c,h),m=Math.exp(-l);return xh-u/d*m},a=c=>{const l=c*h*e,u=l*n+n,d=Math.pow(h,2)*Math.pow(c,2)*e,m=Math.exp(-l),g=_m(Math.pow(c,2),h);return(-i(c)+xh>0?-1:1)*((u-d)*m)/g}):(i=c=>{const f=Math.exp(-c*e),l=(c-n)*e+1;return-xh+f*l},a=c=>{const f=Math.exp(-c*e),l=(n-c)*(e*e);return f*l});const o=5/e,s=rV(i,a,o);if(e=xr(e),isNaN(s))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:e};{const c=Math.pow(s,2)*r;return{stiffness:c,damping:h*2*Math.sqrt(r*c),duration:e}}}const nV=12;function rV(e,t,n){let r=n;for(let i=1;i<nV;i++)r=r-e(r)/t(r);return r}function _m(e,t){return e*Math.sqrt(1-t*t)}const iV=["duration","bounce"],sV=["stiffness","damping","mass"];function Pb(e,t){return t.some(n=>e[n]!==void 0)}function oV(e){let t={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...e};if(!Pb(e,sV)&&Pb(e,iV))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*jr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Qe.mass,stiffness:i,damping:a}}else{const n=tV(e);t={...t,...n,mass:Qe.mass},t.isResolvedFromDuration=!0}return t}function uP(e=Qe.visualDuration,t=Qe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:s,damping:c,mass:f,duration:l,velocity:u,isResolvedFromDuration:d}=oV({...n,velocity:-br(n.velocity||0)}),m=u||0,g=c/(2*Math.sqrt(s*f)),p=h-a,y=br(Math.sqrt(s/f)),x=Math.abs(p)<5;r||(r=x?Qe.restSpeed.granular:Qe.restSpeed.default),i||(i=x?Qe.restDelta.granular:Qe.restDelta.default);let b;if(g<1){const C=_m(y,g);b=T=>{const E=Math.exp(-g*y*T);return h-E*((m+g*y*p)/C*Math.sin(C*T)+p*Math.cos(C*T))}}else if(g===1)b=C=>h-Math.exp(-y*C)*(p+(m+y*p)*C);else{const C=y*Math.sqrt(g*g-1);b=T=>{const E=Math.exp(-g*y*T),P=Math.min(C*T,300);return h-E*((m+g*y*p)*Math.sinh(P)+C*p*Math.cosh(P))/C}}const S={calculatedDuration:d&&l||null,next:C=>{const T=b(C);if(d)o.done=C>=l;else{let E=0;g<1&&(E=C===0?xr(m):cP(b,C,T));const P=Math.abs(E)<=r,k=Math.abs(h-T)<=i;o.done=P&&k}return o.value=o.done?h:T,o},toString:()=>{const C=Math.min(N_(S),ym),T=j_(E=>S.next(C*E).value,C,30);return C+"ms "+T}};return S}function Nb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:h,min:o,max:s,restDelta:c=.5,restSpeed:f}){const l=e[0],u={done:!1,value:l},d=P=>o!==void 0&&P<o||s!==void 0&&P>s,m=P=>o===void 0?s:s===void 0||Math.abs(o-P)<Math.abs(s-P)?o:s;let g=n*t;const p=l+g,y=h===void 0?p:h(p);y!==p&&(g=y-l);const x=P=>-g*Math.exp(-P/r),b=P=>y+x(P),S=P=>{const k=x(P),A=b(P);u.done=Math.abs(k)<=c,u.value=u.done?y:A};let C,T;const E=P=>{d(u.value)&&(C=P,T=uP({keyframes:[u.value,m(u.value)],velocity:cP(b,P,u.value),damping:i,stiffness:a,restDelta:c,restSpeed:f}))};return E(0),{calculatedDuration:null,next:P=>{let k=!1;return!T&&C===void 0&&(k=!0,S(P),E(P)),C!==void 0&&P>=C?T.next(P-C):(!k&&S(P),u)}}}const aV=Xl(.42,0,1,1),lV=Xl(0,0,.58,1),dP=Xl(.42,0,.58,1),cV=e=>Array.isArray(e)&&typeof e[0]!="number",uV={linear:en,easeIn:aV,easeInOut:dP,easeOut:lV,circIn:oy,circInOut:H_,circOut:$_,backIn:sy,backInOut:W_,backOut:z_,anticipate:U_},jb=e=>{if(ey(e)){l_(e.length===4);const[t,n,r,i]=e;return Xl(t,n,r,i)}else if(typeof e=="string")return uV[e];return e};function dV(e,t,n){const r=[],i=n||lP,a=e.length-1;for(let h=0;h<a;h++){let o=i(e[h],e[h+1]);if(t){const s=Array.isArray(t)?t[h]||en:t;o=Kl(s,o)}r.push(o)}return r}function fV(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(l_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const h=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=dV(t,r,i),s=o.length,c=f=>{if(h&&f<e[0])return t[0];let l=0;if(s>1)for(;l<e.length-2&&!(f<e[l+1]);l++);const u=Eo(e[l],e[l+1],f);return o[l](u)};return n?f=>c(jr(e[0],e[a-1],f)):c}function hV(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Eo(0,t,r);e.push(Ye(n,1,i))}}function pV(e){const t=[0];return hV(t,e.length-1),t}function mV(e,t){return e.map(n=>n*t)}function gV(e,t){return e.map(()=>t||dP).splice(0,e.length-1)}function Gu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=cV(r)?r.map(jb):jb(r),a={done:!1,value:t[0]},h=mV(n&&n.length===t.length?n:pV(t),e),o=fV(h,t,{ease:Array.isArray(i)?i:gV(t,i)});return{calculatedDuration:e,next:s=>(a.value=o(s),a.done=s>=e,a)}}const vV=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ue.update(t,!0),stop:()=>yi(t),now:()=>vt.isProcessing?vt.timestamp:ir.now()}},yV={decay:Nb,inertia:Nb,tween:Gu,keyframes:Gu,spring:uP},xV=e=>e/100;class fy extends oP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,h=(i==null?void 0:i.KeyframeResolver)||uy,o=(s,c)=>this.onKeyframesResolved(s,c);this.resolver=new h(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:h=0}=this.options,o=Zv(n)?n:yV[n]||Gu;let s,c;o!==Gu&&typeof t[0]!="number"&&(s=Kl(xV,lP(t[0],t[1])),t=[0,100]);const f=o({...this.options,keyframes:t});a==="mirror"&&(c=o({...this.options,keyframes:[...t].reverse(),velocity:-h})),f.calculatedDuration===null&&(f.calculatedDuration=N_(f));const{calculatedDuration:l}=f,u=l+i,d=u*(r+1)-i;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:s,calculatedDuration:l,resolvedDuration:u,totalDuration:d}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:h,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:c,totalDuration:f,resolvedDuration:l}=r;if(this.startTime===null)return a.next(0);const{delay:u,repeat:d,repeatType:m,repeatDelay:g,onUpdate:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-u*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>f;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let b=this.currentTime,S=a;if(d){const P=Math.min(this.currentTime,f)/l;let k=Math.floor(P),A=P%1;!A&&P>=1&&(A=1),A===1&&k--,k=Math.min(k,d+1),!!(k%2)&&(m==="reverse"?(A=1-A,g&&(A-=g/l)):m==="mirror"&&(S=h)),b=jr(0,1,A)*l}const C=x?{done:!1,value:s[0]}:S.next(b);o&&(C.value=o(C.value));let{done:T}=C;!x&&c!==null&&(T=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return E&&i!==void 0&&(C.value=ef(s,this.options,i)),p&&p(C.value),E&&this.finish(),C}get duration(){const{resolved:t}=this;return t?br(t.calculatedDuration):0}get time(){return br(this.currentTime)}set time(t){t=xr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=br(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bV=new Set(["opacity","clipPath","filter","transform"]);function wV(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:h="loop",ease:o="easeInOut",times:s}={}){const c={[t]:n};s&&(c.offset=s);const f=A_(o,i);return Array.isArray(f)&&(c.easing=f),e.animate(c,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:h==="reverse"?"alternate":"normal"})}const SV=Fv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yu=10,CV=2e4;function TV(e){return Zv(e.type)||e.type==="spring"||!O_(e.ease)}function EV(e,t){const n=new fy({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<CV;)r=n.sample(a),i.push(r.value),a+=Yu;return{times:void 0,keyframes:i,duration:a-Yu,ease:"linear"}}const fP={anticipate:U_,backInOut:W_,circInOut:H_};function _V(e){return e in fP}class Ob extends oP{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new sP(a,(h,o)=>this.onKeyframesResolved(h,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:a,type:h,motionValue:o,name:s,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&$u()&&_V(a)&&(a=fP[a]),TV(this.options)){const{onComplete:l,onUpdate:u,motionValue:d,element:m,...g}=this.options,p=EV(t,g);t=p.keyframes,t.length===1&&(t[1]=t[0]),r=p.duration,i=p.times,a=p.ease,h="keyframes"}const f=wV(o.owner.current,s,t,{...this.options,duration:r,times:i,ease:a});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(pb(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:l}=this.options;o.set(ef(t,this.options,n)),l&&l(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:h,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return br(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return br(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return en;const{animation:r}=n;pb(r,t)}return en}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:a,ease:h,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:f,onComplete:l,element:u,...d}=this.options,m=new fy({...d,keyframes:r,duration:i,type:a,ease:h,times:o,isGenerator:!0}),g=xr(this.time);c.setWithVelocity(m.sample(g-Yu).value,m.sample(g).value,Yu)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:h,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:c}=n.owner.getProps();return SV()&&r&&bV.has(r)&&!s&&!c&&!i&&a!=="mirror"&&h!==0&&o!=="inertia"}}const PV={type:"spring",stiffness:500,damping:25,restSpeed:10},NV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jV={type:"keyframes",duration:.8},OV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AV=(e,{keyframes:t})=>t.length>2?jV:bs.has(e)?e.startsWith("scale")?NV(t[1]):PV:OV;function DV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:h,repeatDelay:o,from:s,elapsed:c,...f}){return!!Object.keys(f).length}const hy=(e,t,n,r={},i,a)=>h=>{const o=Jv(r,e)||{},s=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-xr(s);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:u=>{t.set(u),o.onUpdate&&o.onUpdate(u)},onComplete:()=>{h(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};DV(o)||(f={...f,...AV(e,f)}),f.duration&&(f.duration=xr(f.duration)),f.repeatDelay&&(f.repeatDelay=xr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let l=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(l=!0)),l&&!a&&t.get()!==void 0){const u=ef(f.keyframes,o);if(u!==void 0)return Ue.update(()=>{f.onUpdate(u),f.onComplete()}),new Q4([])}return!a&&Ob.supports(f)?new Ob(f):new fy(f)};function kV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hP(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:h=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(h=r);const c=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const l in s){const u=e.getValue(l,(a=e.latestValues[l])!==null&&a!==void 0?a:null),d=s[l];if(d===void 0||f&&kV(f,l))continue;const m={delay:n,...Jv(h||{},l)};let g=!1;if(window.MotionHandoffAnimation){const y=L_(e);if(y){const x=window.MotionHandoffAnimation(y,l,Ue);x!==null&&(m.startTime=x,g=!0)}}bm(e,l),u.start(hy(l,u,d,e.shouldReduceMotion&&M_.has(l)?{type:!1}:m,e,g));const p=u.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{Ue.update(()=>{o&&d3(e,o)})}),c}function Pm(e,t,n={}){var r;const i=Zd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const h=i?()=>Promise.all(hP(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:l,staggerDirection:u}=a;return RV(e,t,f+c,l,u,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[c,f]=s==="beforeChildren"?[h,o]:[o,h];return c().then(()=>f())}else return Promise.all([h(),o(n.delay)])}function RV(e,t,n=0,r=0,i=1,a){const h=[],o=(e.variantChildren.size-1)*r,s=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(MV).forEach((c,f)=>{c.notify("AnimationStart",t),h.push(Pm(c,t,{...a,delay:n+s(f)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(h)}function MV(e,t){return e.sortNodePosition(t)}function IV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Pm(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Pm(e,t,n);else{const i=typeof t=="function"?Zd(e,t,n.custom):t;r=Promise.all(hP(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const LV=Vv.length;function pP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<LV;n++){const r=Vv[n],i=e.props[r];(pl(i)||i===!1)&&(t[r]=i)}return t}const FV=[...Bv].reverse(),BV=Bv.length;function VV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>IV(e,n,r)))}function zV(e){let t=VV(e),n=Ab(),r=!0;const i=s=>(c,f)=>{var l;const u=Zd(e,f,s==="exit"?(l=e.presenceContext)===null||l===void 0?void 0:l.custom:void 0);if(u){const{transition:d,transitionEnd:m,...g}=u;c={...c,...g,...m}}return c};function a(s){t=s(e)}function h(s){const{props:c}=e,f=pP(e.parent)||{},l=[],u=new Set;let d={},m=1/0;for(let p=0;p<BV;p++){const y=FV[p],x=n[y],b=c[y]!==void 0?c[y]:f[y],S=pl(b),C=y===s?x.isActive:null;C===!1&&(m=p);let T=b===f[y]&&b!==c[y]&&S;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...d},!x.isActive&&C===null||!b&&!x.prevProp||Qd(b)||typeof b=="boolean")continue;const E=WV(x.prevProp,b);let P=E||y===s&&x.isActive&&!T&&S||p>m&&S,k=!1;const A=Array.isArray(b)?b:[b];let B=A.reduce(i(y),{});C===!1&&(B={});const{prevResolvedValues:z={}}=x,q={...z,...B},L=G=>{P=!0,u.has(G)&&(k=!0,u.delete(G)),x.needsAnimating[G]=!0;const M=e.getValue(G);M&&(M.liveStyle=!1)};for(const G in q){const M=B[G],_=z[G];if(d.hasOwnProperty(G))continue;let N=!1;vm(M)&&vm(_)?N=!P_(M,_):N=M!==_,N?M!=null?L(G):u.add(G):M!==void 0&&u.has(G)?L(G):x.protectedKeys[G]=!0}x.prevProp=b,x.prevResolvedValues=B,x.isActive&&(d={...d,...B}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(T&&E)||k)&&l.push(...A.map(G=>({animation:G,options:{type:y}})))}if(u.size){const p={};u.forEach(y=>{const x=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),p[y]=x??null}),l.push({animation:p})}let g=!!l.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(l):Promise.resolve()}function o(s,c){var f;if(n[s].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(u=>{var d;return(d=u.animationState)===null||d===void 0?void 0:d.setActive(s,c)}),n[s].isActive=c;const l=h(s);for(const u in n)n[u].protectedKeys={};return l}return{animateChanges:h,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ab(),r=!0}}}function WV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!P_(t,e):!1}function Di(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ab(){return{animate:Di(!0),whileInView:Di(),whileHover:Di(),whileTap:Di(),whileDrag:Di(),whileFocus:Di(),exit:Di()}}class _i{constructor(t){this.isMounted=!1,this.node=t}update(){}}class UV extends _i{constructor(t){super(t),t.animationState||(t.animationState=zV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let $V=0;class HV extends _i{constructor(){super(...arguments),this.id=$V++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const GV={animation:{Feature:UV},exit:{Feature:HV}};function yl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ql(e){return{point:{x:e.pageX,y:e.pageY}}}const YV=e=>t=>ty(t)&&e(t,ql(t));function Fa(e,t,n,r){return yl(e,t,YV(n),r)}const Db=(e,t)=>Math.abs(e-t);function XV(e,t){const n=Db(e.x,t.x),r=Db(e.y,t.y);return Math.sqrt(n**2+r**2)}class mP{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=wh(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=XV(l.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:m}=l,{timestamp:g}=vt;this.history.push({...m,timestamp:g});const{onStart:p,onMove:y}=this.handlers;u||(p&&p(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,l)},this.handlePointerMove=(l,u)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=bh(u,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(l,u)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=wh(l.type==="pointercancel"?this.lastMoveEventInfo:bh(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(l,p),m&&m(l,p)},!ty(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const h=ql(t),o=bh(h,this.transformPagePoint),{point:s}=o,{timestamp:c}=vt;this.history=[{...s,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,wh(o,this.history)),this.removeListeners=Kl(Fa(this.contextWindow,"pointermove",this.handlePointerMove),Fa(this.contextWindow,"pointerup",this.handlePointerUp),Fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yi(this.updatePoint)}}function bh(e,t){return t?{point:t(e.point)}:e}function kb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wh({point:e},t){return{point:e,delta:kb(e,gP(t)),offset:kb(e,KV(t)),velocity:qV(t,.1)}}function KV(e){return e[0]}function gP(e){return e[e.length-1]}function qV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=gP(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>xr(t)));)n--;if(!r)return{x:0,y:0};const a=br(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const h={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const vP=1e-4,QV=1-vP,JV=1+vP,yP=.01,ZV=0-yP,ez=0+yP;function sn(e){return e.max-e.min}function tz(e,t,n){return Math.abs(e-t)<=n}function Rb(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=sn(n)/sn(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=QV&&e.scale<=JV||isNaN(e.scale))&&(e.scale=1),(e.translate>=ZV&&e.translate<=ez||isNaN(e.translate))&&(e.translate=0)}function Ba(e,t,n,r){Rb(e.x,t.x,n.x,r?r.originX:void 0),Rb(e.y,t.y,n.y,r?r.originY:void 0)}function Mb(e,t,n){e.min=n.min+t.min,e.max=e.min+sn(t)}function nz(e,t,n){Mb(e.x,t.x,n.x),Mb(e.y,t.y,n.y)}function Ib(e,t,n){e.min=t.min-n.min,e.max=e.min+sn(t)}function Va(e,t,n){Ib(e.x,t.x,n.x),Ib(e.y,t.y,n.y)}function rz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function Lb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iz(e,{top:t,left:n,bottom:r,right:i}){return{x:Lb(e.x,n,i),y:Lb(e.y,t,r)}}function Fb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function sz(e,t){return{x:Fb(e.x,t.x),y:Fb(e.y,t.y)}}function oz(e,t){let n=.5;const r=sn(e),i=sn(t);return i>r?n=Eo(t.min,t.max-r,e.min):r>i&&(n=Eo(e.min,e.max-i,t.min)),jr(0,1,n)}function az(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nm=.35;function lz(e=Nm){return e===!1?e=0:e===!0&&(e=Nm),{x:Bb(e,"left","right"),y:Bb(e,"top","bottom")}}function Bb(e,t,n){return{min:Vb(e,t),max:Vb(e,n)}}function Vb(e,t){return typeof e=="number"?e:e[t]||0}const zb=()=>({translate:0,scale:1,origin:0,originPoint:0}),$s=()=>({x:zb(),y:zb()}),Wb=()=>({min:0,max:0}),et=()=>({x:Wb(),y:Wb()});function un(e){return[e("x"),e("y")]}function xP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sh(e){return e===void 0||e===1}function jm({scale:e,scaleX:t,scaleY:n}){return!Sh(e)||!Sh(t)||!Sh(n)}function Ii(e){return jm(e)||bP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bP(e){return Ub(e.x)||Ub(e.y)}function Ub(e){return e&&e!=="0%"}function Xu(e,t,n){const r=e-n,i=t*r;return n+i}function $b(e,t,n,r,i){return i!==void 0&&(e=Xu(e,i,r)),Xu(e,n,r)+t}function Om(e,t=0,n=1,r,i){e.min=$b(e.min,t,n,r,i),e.max=$b(e.max,t,n,r,i)}function wP(e,{x:t,y:n}){Om(e.x,t.translate,t.scale,t.originPoint),Om(e.y,n.translate,n.scale,n.originPoint)}const Hb=.999999999999,Gb=1.0000000000001;function dz(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,h;for(let o=0;o<i;o++){a=n[o],h=a.projectionDelta;const{visualElement:s}=a.options;s&&s.props.style&&s.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Gs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,wP(e,h)),r&&Ii(a.latestValues)&&Gs(e,a.latestValues))}t.x<Gb&&t.x>Hb&&(t.x=1),t.y<Gb&&t.y>Hb&&(t.y=1)}function Hs(e,t){e.min=e.min+t,e.max=e.max+t}function Yb(e,t,n,r,i=.5){const a=Ye(e.min,e.max,i);Om(e,t,n,a,r)}function Gs(e,t){Yb(e.x,t.x,t.scaleX,t.scale,t.originX),Yb(e.y,t.y,t.scaleY,t.scale,t.originY)}function SP(e,t){return xP(uz(e.getBoundingClientRect(),t))}function fz(e,t,n){const r=SP(e,n),{scroll:i}=t;return i&&(Hs(r.x,i.offset.x),Hs(r.y,i.offset.y)),r}const CP=({current:e})=>e?e.ownerDocument.defaultView:null,hz=new WeakMap;class pz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:l}=this.getProps();l?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ql(f).point)},a=(f,l)=>{const{drag:u,dragPropagation:d,onDragStart:m}=this.getProps();if(u&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o3(u),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(p=>{let y=this.getAxisMotionValue(p).get()||0;if(rr.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[p];b&&(y=sn(b)*(parseFloat(y)/100))}}this.originPoint[p]=y}),m&&Ue.postRender(()=>m(f,l)),bm(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},h=(f,l)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:m,onDrag:g}=this.getProps();if(!u&&!this.openDragLock)return;const{offset:p}=l;if(d&&this.currentDirection===null){this.currentDirection=mz(p),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",l.point,p),this.updateAxis("y",l.point,p),this.visualElement.render(),g&&g(f,l)},o=(f,l)=>this.stop(f,l),s=()=>un(f=>{var l;return this.getAnimationState(f)==="paused"&&((l=this.getAxisMotionValue(f).animation)===null||l===void 0?void 0:l.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mP(t,{onSessionStart:i,onStart:a,onMove:h,onSessionEnd:o,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ue.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Dc(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=rz(h,this.constraints[t],this.elastic[t])),a.set(h)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Ws(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=iz(i.layoutBox,n):this.constraints=!1,this.elastic=lz(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&un(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=az(i.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ws(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=fz(r,i.root,this.visualElement.getTransformPagePoint());let h=sz(i.layout.layoutBox,a);if(n){const o=n(cz(h));this.hasMutatedConstraints=!!o,o&&(h=xP(o))}return h}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:h,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=un(f=>{if(!Dc(f,n,this.currentDirection))return;let l=s&&s[f]||{};h&&(l={min:0,max:0});const u=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?t[f]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(f,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return bm(this.visualElement,t),r.start(hy(t,r,0,n,this.visualElement,!1))}stopAnimation(){un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){un(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){un(n=>{const{drag:r}=this.getProps();if(!Dc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:h,max:o}=i.layout.layoutBox[n];a.set(t[n]-Ye(h,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ws(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};un(h=>{const o=this.getAxisMotionValue(h);if(o&&this.constraints!==!1){const s=o.get();i[h]=oz({min:s,max:s},this.constraints[h])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),un(h=>{if(!Dc(h,t,null))return;const o=this.getAxisMotionValue(h),{min:s,max:c}=this.constraints[h];o.set(Ye(s,c,i[h]))})}addListeners(){if(!this.visualElement.current)return;hz.set(this.visualElement,this);const t=this.visualElement.current,n=Fa(t,"pointerdown",s=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(s)}),r=()=>{const{dragConstraints:s}=this.getProps();Ws(s)&&s.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ue.read(r);const h=yl(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:s,hasLayoutChanged:c})=>{this.isDragging&&c&&(un(f=>{const l=this.getAxisMotionValue(f);l&&(this.originPoint[f]+=s[f].translate,l.set(l.get()+s[f].translate))}),this.visualElement.render())});return()=>{h(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:h=Nm,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:h,dragMomentum:o}}}function Dc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gz extends _i{constructor(t){super(t),this.removeGroupControls=en,this.removeListeners=en,this.controls=new pz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xb=e=>(t,n)=>{e&&Ue.postRender(()=>e(t,n))};class vz extends _i{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(t){this.session=new mP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xb(t),onStart:Xb(n),onMove:r,onEnd:(a,h)=>{delete this.session,i&&Ue.postRender(()=>i(a,h))}}}mount(){this.removePointerDownListener=Fa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const da={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const n=Kb(e,t.target.x),r=Kb(e,t.target.y);return`${n}% ${r}%`}},yz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=xi.parse(e);if(i.length>5)return r;const a=xi.createTransformer(e),h=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,s=n.y.scale*t.y;i[0+h]/=o,i[1+h]/=s;const c=Ye(o,s,.5);return typeof i[2+h]=="number"&&(i[2+h]/=c),typeof i[3+h]=="number"&&(i[3+h]/=c),a(i)}};class xz extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;B4(bz),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,h=r.projection;return h&&(h.isPresent=a,i||t.layoutDependency!==n||n===void 0?h.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?h.promote():h.relegate()||Ue.postRender(()=>{const o=h.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Wv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TP(e){const[t,n]=o_(),r=w.useContext(Rv);return v.jsx(xz,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(p_),isPresent:t,safeToRemove:n})}const bz={borderRadius:{...da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:da,borderTopRightRadius:da,borderBottomLeftRadius:da,borderBottomRightRadius:da,boxShadow:yz};function wz(e,t,n){const r=_t(e)?e:gl(e);return r.start(hy("",r,t,n)),r.animation}function Sz(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Cz=(e,t)=>e.depth-t.depth;class Tz{constructor(){this.children=[],this.isDirty=!1}add(t){ny(this.children,t),this.isDirty=!0}remove(t){ry(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Cz),this.isDirty=!1,this.children.forEach(t)}}function Ez(e,t){const n=ir.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(yi(r),e(a-t))};return Ue.read(r,!0),()=>yi(r)}const EP=["TopLeft","TopRight","BottomLeft","BottomRight"],_z=EP.length,qb=e=>typeof e=="string"?parseFloat(e):e,Qb=e=>typeof e=="number"||ye.test(e);function Pz(e,t,n,r,i,a){i?(e.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,Nz(r)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,jz(r))):a&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let h=0;h<_z;h++){const o=`border${EP[h]}Radius`;let s=Jb(t,o),c=Jb(n,o);if(s===void 0&&c===void 0)continue;s||(s=0),c||(c=0),s===0||c===0||Qb(s)===Qb(c)?(e[o]=Math.max(Ye(qb(s),qb(c),r),0),(rr.test(c)||rr.test(s))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function Jb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Nz=_P(0,.5,$_),jz=_P(.5,.95,en);function _P(e,t,n){return r=>r<e?0:r>t?1:n(Eo(e,t,r))}function Zb(e,t){e.min=t.min,e.max=t.max}function ln(e,t){Zb(e.x,t.x),Zb(e.y,t.y)}function ew(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tw(e,t,n,r,i){return e-=t,e=Xu(e,1/n,r),i!==void 0&&(e=Xu(e,1/i,r)),e}function Oz(e,t=0,n=1,r=.5,i,a=e,h=e){if(rr.test(t)&&(t=parseFloat(t),t=Ye(h.min,h.max,t/100)-h.min),typeof t!="number")return;let o=Ye(a.min,a.max,r);e===a&&(o-=t),e.min=tw(e.min,t,n,o,i),e.max=tw(e.max,t,n,o,i)}function nw(e,t,[n,r,i],a,h){Oz(e,t[n],t[r],t[i],t.scale,a,h)}const Az=["x","scaleX","originX"],Dz=["y","scaleY","originY"];function rw(e,t,n,r){nw(e.x,t,Az,n?n.x:void 0,r?r.x:void 0),nw(e.y,t,Dz,n?n.y:void 0,r?r.y:void 0)}function iw(e){return e.translate===0&&e.scale===1}function PP(e){return iw(e.x)&&iw(e.y)}function sw(e,t){return e.min===t.min&&e.max===t.max}function kz(e,t){return sw(e.x,t.x)&&sw(e.y,t.y)}function ow(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NP(e,t){return ow(e.x,t.x)&&ow(e.y,t.y)}function aw(e){return sn(e.x)/sn(e.y)}function lw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rz{constructor(){this.members=[]}add(t){ny(this.members,t),t.scheduleRender()}remove(t){if(ry(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mz(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,h=(n==null?void 0:n.z)||0;if((i||a||h)&&(r=`translate3d(${i}px, ${a}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:l,rotateY:u,skewX:d,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),l&&(r+=`rotateX(${l}deg) `),u&&(r+=`rotateY(${u}deg) `),d&&(r+=`skewX(${d}deg) `),m&&(r+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Li={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ta=typeof window<"u"&&window.MotionDebug!==void 0,Ch=["","X","Y","Z"],Iz={visibility:"hidden"},cw=1e3;let Lz=0;function Th(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=L_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jP(r)}function OP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(h={},o=t==null?void 0:t()){this.id=Lz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ta&&(Li.totalNodes=Li.resolvedTargetDeltas=Li.recalculatedProjection=0),this.nodes.forEach(Vz),this.nodes.forEach(Hz),this.nodes.forEach(Gz),this.nodes.forEach(zz),Ta&&window.MotionDebug.record(Li)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tz)}addEventListener(h,o){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new iy),this.eventHandlers.get(h).add(o)}notifyListeners(h,...o){const s=this.eventHandlers.get(h);s&&s.notify(...o)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Sz(h),this.instance=h;const{layoutId:s,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||s)&&(this.isLayoutDirty=!0),e){let l;const u=()=>this.root.updateBlockedByResize=!1;e(h,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=Ez(u,250),ou.hasAnimatedSinceResize&&(ou.hasAnimatedSinceResize=!1,this.nodes.forEach(dw))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&f&&(s||c)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||f.getDefaultTransition()||Qz,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=f.getProps(),x=!this.targetLayout||!NP(this.targetLayout,m)||d,b=!u&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||u&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(l,b);const S={...Jv(g,"layout"),onPlay:p,onComplete:y};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else u||dw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yz),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const l=this.path[f];l.shouldResetTransform=!0,l.updateScroll("snapshot"),l.options.layoutRoot&&l.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uw);return}this.isUpdating||this.nodes.forEach(Uz),this.isUpdating=!1,this.nodes.forEach($z),this.nodes.forEach(Fz),this.nodes.forEach(Bz),this.clearAllSnapshots();const o=ir.now();vt.delta=jr(0,1e3/60,o-vt.timestamp),vt.timestamp=o,vt.isProcessing=!0,ph.update.process(vt),ph.preRender.process(vt),ph.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wz),this.sharedNodes.forEach(Xz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(o=!1),o){const s=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:s,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:s}}}resetTransform(){if(!i)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!PP(this.projectionDelta),s=this.getTransformTemplate(),c=s?s(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;h&&(o||Ii(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return h&&(s=this.removeTransform(s)),Jz(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return et();const s=o.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(Zz))){const{scroll:f}=this.root;f&&(Hs(s.x,f.offset.x),Hs(s.y,f.offset.y))}return s}removeElementScroll(h){var o;const s=et();if(ln(s,h),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return s;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:l,options:u}=f;f!==this.root&&l&&u.layoutScroll&&(l.wasRoot&&ln(s,h),Hs(s.x,l.offset.x),Hs(s.y,l.offset.y))}return s}applyTransform(h,o=!1){const s=et();ln(s,h);for(let c=0;c<this.path.length;c++){const f=this.path[c];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Gs(s,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ii(f.latestValues)&&Gs(s,f.latestValues)}return Ii(this.latestValues)&&Gs(s,this.latestValues),s}removeTransform(h){const o=et();ln(o,h);for(let s=0;s<this.path.length;s++){const c=this.path[s];if(!c.instance||!Ii(c.latestValues))continue;jm(c.latestValues)&&c.updateSnapshot();const f=et(),l=c.measurePageBox();ln(f,l),rw(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return Ii(this.latestValues)&&rw(o,this.latestValues),o}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==s;if(!(h||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Va(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),wP(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Va(this.relativeTargetOrigin,this.target,d.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ta&&Li.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jm(this.parent.latestValues)||bP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(c=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(c=!1),c)return;const{layout:f,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||l))return;ln(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,d=this.treeScale.y;dz(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=et());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ew(this.prevProjectionDelta.x,this.projectionDelta.x),ew(this.prevProjectionDelta.y,this.projectionDelta.y)),Ba(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==d||!lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Ta&&Li.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),h){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$s(),this.projectionDelta=$s(),this.projectionDeltaWithTransform=$s()}setAnimationOrigin(h,o=!1){const s=this.snapshot,c=s?s.latestValues:{},f={...this.latestValues},l=$s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const u=et(),d=s?s.source:void 0,m=this.layout?this.layout.source:void 0,g=d!==m,p=this.getStack(),y=!p||p.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(qz));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const C=S/1e3;fw(l.x,h.x,C),fw(l.y,h.y,C),this.setTargetDelta(l),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Va(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kz(this.relativeTarget,this.relativeTargetOrigin,u,C),b&&kz(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=et()),ln(b,this.relativeTarget)),g&&(this.animationValues=f,Pz(f,c,this.latestValues,C,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{ou.hasAnimatedSinceResize=!0,this.currentAnimation=wz(0,cw,{...h,onUpdate:o=>{this.mixTargetDelta(o),h.onUpdate&&h.onUpdate(o)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:o,target:s,layout:c,latestValues:f}=h;if(!(!o||!s||!c)){if(this!==h&&this.layout&&c&&AP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){s=this.target||et();const l=sn(this.layout.layoutBox.x);s.x.min=h.target.x.min,s.x.max=s.x.min+l;const u=sn(this.layout.layoutBox.y);s.y.min=h.target.y.min,s.y.max=s.y.min+u}ln(o,s),Gs(o,f),Ba(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(h,o){this.sharedNodes.has(h)||this.sharedNodes.set(h,new Rz),this.sharedNodes.get(h).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:o}=this.options;return o?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:o}=this.options;return o?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:o,preserveFollowOpacity:s}={}){const c=this.getStack();c&&c.promote(this,s),h&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let o=!1;const{latestValues:s}=h;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(o=!0),!o)return;const c={};s.z&&Th("z",h,c,this.animationValues);for(let f=0;f<Ch.length;f++)Th(`rotate${Ch[f]}`,h,c,this.animationValues),Th(`skew${Ch[f]}`,h,c,this.animationValues);h.render();for(const f in c)h.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);h.scheduleRender()}getProjectionStyles(h){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Iz;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=iu(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=iu(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ii(this.latestValues)&&(g.transform=f?f({},""):"none",this.hasProjected=!1),g}const u=l.animationValues||l.latestValues;this.applyTransformsToTarget(),c.transform=Mz(this.projectionDeltaWithTransform,this.treeScale,u),f&&(c.transform=f(u,c.transform));const{x:d,y:m}=this.projectionDelta;c.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,l.animationValues?c.opacity=l===this?(s=(o=u.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:c.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Uu){if(u[g]===void 0)continue;const{correct:p,applyTo:y}=Uu[g],x=c.transform==="none"?u[g]:p(u[g],l);if(y){const b=y.length;for(let S=0;S<b;S++)c[y[S]]=x}else c[g]=x}return this.options.layoutId&&(c.pointerEvents=l===this?iu(h==null?void 0:h.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var o;return(o=h.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(uw),this.root.sharedNodes.clear()}}}function Fz(e){e.updateLayout()}function Bz(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,h=n.source!==e.layout.source;a==="size"?un(l=>{const u=h?n.measuredBox[l]:n.layoutBox[l],d=sn(u);u.min=r[l].min,u.max=u.min+d}):AP(a,n.layoutBox,r)&&un(l=>{const u=h?n.measuredBox[l]:n.layoutBox[l],d=sn(r[l]);u.max=u.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[l].max=e.relativeTarget[l].min+d)});const o=$s();Ba(o,r,n.layoutBox);const s=$s();h?Ba(s,e.applyTransform(i,!0),n.measuredBox):Ba(s,r,n.layoutBox);const c=!PP(o);let f=!1;if(!e.resumeFrom){const l=e.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:u,layout:d}=l;if(u&&d){const m=et();Va(m,n.layoutBox,u.layoutBox);const g=et();Va(g,r,d.layoutBox),NP(m,g)||(f=!0),l.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=l)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Vz(e){Ta&&Li.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wz(e){e.clearSnapshot()}function uw(e){e.clearMeasurements()}function Uz(e){e.isLayoutDirty=!1}function $z(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hz(e){e.resolveTargetDelta()}function Gz(e){e.calcProjection()}function Yz(e){e.resetSkewAndRotation()}function Xz(e){e.removeLeadSnapshot()}function fw(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hw(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function Kz(e,t,n,r){hw(e.x,t.x,n.x,r),hw(e.y,t.y,n.y,r)}function qz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Qz={duration:.45,ease:[.4,0,.1,1]},pw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mw=pw("applewebkit/")&&!pw("chrome/")?Math.round:en;function gw(e){e.min=mw(e.min),e.max=mw(e.max)}function Jz(e){gw(e.x),gw(e.y)}function AP(e,t,n){return e==="position"||e==="preserve-aspect"&&!tz(aw(t),aw(n),.2)}function Zz(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const eW=OP({attachResizeListener:(e,t)=>yl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eh={current:void 0},DP=OP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Eh.current){const e=new eW({});e.mount(window),e.setOptions({layoutScroll:!0}),Eh.current=e}return Eh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tW={pan:{Feature:vz},drag:{Feature:gz,ProjectionNode:DP,MeasureLayout:TP}};function vw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ue.postRender(()=>a(t,ql(t)))}class nW extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=t3(t,n=>(vw(this.node,n,"Start"),r=>vw(this.node,r,"End"))))}unmount(){}}class rW extends _i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kl(yl(this.node.current,"focus",()=>this.onFocus()),yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yw(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ue.postRender(()=>a(t,ql(t)))}class iW extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=s3(t,n=>(yw(this.node,n,"Start"),(r,{success:i})=>yw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Am=new WeakMap,_h=new WeakMap,sW=e=>{const t=Am.get(e.target);t&&t(e)},oW=e=>{e.forEach(sW)};function aW({root:e,...t}){const n=e||document;_h.has(n)||_h.set(n,{});const r=_h.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(oW,{root:e,...t})),r[i]}function lW(e,t,n){const r=aW(t);return Am.set(e,n),r.observe(e),()=>{Am.delete(e),r.unobserve(e)}}const cW={some:0,all:1};class uW extends _i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,h={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cW[i]},o=s=>{const{isIntersecting:c}=s;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:l}=this.node.getProps(),u=c?f:l;u&&u(s)};return lW(this.node.current,h,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dW(t,n))&&this.startObserver()}unmount(){}}function dW({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fW={inView:{Feature:uW},tap:{Feature:iW},focus:{Feature:rW},hover:{Feature:nW}},hW={layout:{ProjectionNode:DP,MeasureLayout:TP}},Dm={current:null},kP={current:!1};function pW(){if(kP.current=!0,!!Lv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dm.current=e.matches;e.addListener(t),t()}else Dm.current=!1}const mW=[...iP,Tt,xi],gW=e=>mW.find(rP(e)),xw=new WeakMap;function vW(e,t,n){for(const r in t){const i=t[r],a=n[r];if(_t(i))e.addValue(r,i);else if(_t(a))e.addValue(r,gl(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const h=e.getValue(r);h.liveStyle===!0?h.jump(i):h.hasAnimated||h.set(i)}else{const h=e.getStaticValue(r);e.addValue(r,gl(h!==void 0?h:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yW{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:h},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ir.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Ue.render(this.render,!1,!0))};const{latestValues:s,renderState:c,onUpdate:f}=h;this.onUpdate=f,this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Jd(n),this.isVariantNode=f_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in u){const m=u[d];s[d]!==void 0&&_t(m)&&m.set(s[d],!1)}}mount(t){this.current=t,xw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kP.current||pW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xw.delete(this.current),this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=bs.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),h&&h(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _o){const n=_o[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bw.length;r++){const i=bw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,h=t[a];h&&(this.propEventSubscriptions[i]=this.on(i,h))}this.prevMotionValues=vW(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=gl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(tP(i)||G_(i))?i=parseFloat(i):!gW(i)&&xi.test(n)&&(i=J_(t,n)),this.setBaseTarget(t,_t(i)?i.get():i)),_t(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const h=$v(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);h&&(i=h[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!_t(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class RP extends yW{constructor(){super(...arguments),this.KeyframeResolver=sP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xW(e){return window.getComputedStyle(e)}class bW extends RP{constructor(){super(...arguments),this.type="html",this.renderInstance=w_}readValueFromInstance(t,n){if(bs.has(n)){const r=cy(n);return r&&r.default||0}else{const r=xW(t),i=(y_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SP(t,n)}build(t,n,r){Yv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Qv(t,n,r)}}class wW extends RP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bs.has(n)){const r=cy(n);return r&&r.default||0}return n=S_.has(n)?n:zv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return E_(t,n,r)}build(t,n,r){Xv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){C_(t,n,r,i)}mount(t){this.isSVGTag=qv(t.tagName),super.mount(t)}}const SW=(e,t)=>Uv(e)?new wW(t):new bW(t,{allowProjection:e!==w.Fragment}),CW=X4({...GV,...fW,...tW,...hW},SW),nt=c4(CW);function TW(e,t=[]){let n=[];function r(a,h){const o=w.createContext(h);o.displayName=a+"Context";const s=n.length;n=[...n,h];const c=l=>{var y;const{scope:u,children:d,...m}=l,g=((y=u==null?void 0:u[e])==null?void 0:y[s])||o,p=w.useMemo(()=>m,Object.values(m));return v.jsx(g.Provider,{value:p,children:d})};c.displayName=a+"Provider";function f(l,u){var g;const d=((g=u==null?void 0:u[e])==null?void 0:g[s])||o,m=w.useContext(d);if(m)return m;if(h!==void 0)return h;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[c,f]}const i=()=>{const a=n.map(h=>w.createContext(h));return function(o){const s=(o==null?void 0:o[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,EW(i,...t)]}function EW(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const h=r.reduce((o,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...o,...l}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var _W=Symbol.for("react.lazy"),Ku=ps[" use ".trim().toString()];function PW(e){return typeof e=="object"&&e!==null&&"then"in e}function MP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_W&&"_payload"in e&&PW(e._payload)}function NW(e){const t=jW(e),n=w.forwardRef((r,i)=>{let{children:a,...h}=r;MP(a)&&typeof Ku=="function"&&(a=Ku(a._payload));const o=w.Children.toArray(a),s=o.find(AW);if(s){const c=s.props.children,f=o.map(l=>l===s?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:l);return v.jsx(t,{...h,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return v.jsx(t,{...h,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function jW(e){const t=w.forwardRef((n,r)=>{let{children:i,...a}=n;if(MP(i)&&typeof Ku=="function"&&(i=Ku(i._payload)),w.isValidElement(i)){const h=kW(i),o=DW(a,i.props);return i.type!==w.Fragment&&(o.ref=r?Ei(r,h):h),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OW=Symbol("radix.slottable");function AW(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OW}function DW(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function kW(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var RW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],py=RW.reduce((e,t)=>{const n=NW(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:h,...o}=i,s=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(s,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),IP={exports:{}},LP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=w;function MW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IW=typeof Object.is=="function"?Object.is:MW,LW=No.useState,FW=No.useEffect,BW=No.useLayoutEffect,VW=No.useDebugValue;function zW(e,t){var n=t(),r=LW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return BW(function(){i.value=n,i.getSnapshot=t,Ph(i)&&a({inst:i})},[e,n,t]),FW(function(){return Ph(i)&&a({inst:i}),e(function(){Ph(i)&&a({inst:i})})},[e]),VW(n),n}function Ph(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IW(e,n)}catch{return!0}}function WW(e,t){return t()}var UW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WW:zW;LP.useSyncExternalStore=No.useSyncExternalStore!==void 0?No.useSyncExternalStore:UW;IP.exports=LP;var $W=IP.exports;function HW(){return $W.useSyncExternalStore(GW,()=>!0,()=>!1)}function GW(){return()=>{}}var my="Avatar",[YW]=TW(my),[XW,FP]=YW(my),BP=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=w.useState("idle");return v.jsx(XW,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:v.jsx(py.span,{...r,ref:t})})});BP.displayName=my;var VP="AvatarImage",zP=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,h=FP(VP,n),o=KW(r,a),s=Oe(c=>{i(c),h.onImageLoadingStatusChange(c)});return Ae(()=>{o!=="idle"&&s(o)},[o,s]),o==="loaded"?v.jsx(py.img,{...a,ref:t,src:r}):null});zP.displayName=VP;var WP="AvatarFallback",UP=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=FP(WP,n),[h,o]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const s=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(s)}},[r]),h&&a.imageLoadingStatus!=="loaded"?v.jsx(py.span,{...i,ref:t}):null});UP.displayName=WP;function ww(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function KW(e,{referrerPolicy:t,crossOrigin:n}){const r=HW(),i=w.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[h,o]=w.useState(()=>ww(a,e));return Ae(()=>{o(ww(a,e))},[a,e]),Ae(()=>{const s=l=>()=>{o(l)};if(!a)return;const c=s("loaded"),f=s("error");return a.addEventListener("load",c),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",c),a.removeEventListener("error",f)}},[a,n,t]),h}var $P=BP,HP=zP,GP=UP;const tf=w.forwardRef(({className:e,...t},n)=>v.jsx($P,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));tf.displayName=$P.displayName;const YP=w.forwardRef(({className:e,...t},n)=>v.jsx(HP,{ref:n,className:se("aspect-square h-full w-full",e),...t}));YP.displayName=HP.displayName;const nf=w.forwardRef(({className:e,...t},n)=>v.jsx(GP,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));nf.displayName=GP.displayName;const qW=Vo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const h=r?Bo:"button";return v.jsx(h,{className:se(qW({variant:t,size:n,className:e})),ref:a,...i})});de.displayName="Button";function qu(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var QW=w.createContext(void 0);function Xo(e){const t=w.useContext(QW);return e||t||"ltr"}var JW="DismissableLayer",km="dismissableLayer.update",ZW="dismissableLayer.pointerDownOutside",eU="dismissableLayer.focusOutside",Sw,XP=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KP=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:h,onDismiss:o,...s}=e,c=w.useContext(XP),[f,l]=w.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=w.useState({}),m=ge(t,E=>l(E)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),x=f?g.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=rU(E=>{const P=E.target,k=[...c.branches].some(A=>A.contains(P));!S||k||(i==null||i(E),h==null||h(E),E.defaultPrevented||o==null||o())},u),T=iU(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a==null||a(E),h==null||h(E),E.defaultPrevented||o==null||o())},u);return Fl(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},u),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Sw=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Cw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=Sw)}},[f,u,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Cw())},[f,c]),w.useEffect(()=>{const E=()=>d({});return document.addEventListener(km,E),()=>document.removeEventListener(km,E)},[]),v.jsx(he.div,{...s,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,C.onPointerDownCapture)})});KP.displayName=JW;var tU="DismissableLayerBranch",nU=w.forwardRef((e,t)=>{const n=w.useContext(XP),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(he.div,{...e,ref:i})});nU.displayName=tU;function rU(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let s=function(){qP(ZW,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function iU(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&qP(eU,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cw(){const e=new CustomEvent(km);document.dispatchEvent(e)}function qP(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}var Nh=0;function sU(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tw()),document.body.insertAdjacentElement("beforeend",e[1]??Tw()),Nh++,()=>{Nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nh--}},[])}function Tw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jh="focusScope.autoFocusOnMount",Oh="focusScope.autoFocusOnUnmount",Ew={bubbles:!1,cancelable:!0},oU="FocusScope",rf=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...h}=e,[o,s]=w.useState(null),c=Oe(i),f=Oe(a),l=w.useRef(null),u=ge(t,g=>s(g)),d=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(b){if(d.paused||!o)return;const S=b.target;o.contains(S)?l.current=S:Vr(l.current,{select:!0})},p=function(b){if(d.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||Vr(l.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Vr(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[r,o,d.paused]),w.useEffect(()=>{if(o){Pw.add(d);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(jh,Ew);o.addEventListener(jh,c),o.dispatchEvent(y),y.defaultPrevented||(aU(fU(QP(o)),{select:!0}),document.activeElement===g&&Vr(o))}return()=>{o.removeEventListener(jh,c),setTimeout(()=>{const y=new CustomEvent(Oh,Ew);o.addEventListener(Oh,f),o.dispatchEvent(y),y.defaultPrevented||Vr(g??document.body,{select:!0}),o.removeEventListener(Oh,f),Pw.remove(d)},0)}}},[o,c,f,d]);const m=w.useCallback(g=>{if(!n&&!r||d.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(p&&y){const x=g.currentTarget,[b,S]=lU(x);b&&S?!g.shiftKey&&y===S?(g.preventDefault(),n&&Vr(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&Vr(S,{select:!0})):y===x&&g.preventDefault()}},[n,r,d.paused]);return v.jsx(he.div,{tabIndex:-1,...h,ref:u,onKeyDown:m})});rf.displayName=oU;function aU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vr(r,{select:t}),document.activeElement!==n)return}function lU(e){const t=QP(e),n=_w(t,e),r=_w(t.reverse(),e);return[n,r]}function QP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _w(e,t){for(const n of e)if(!cU(n,{upTo:t}))return n}function cU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uU(e){return e instanceof HTMLInputElement&&"select"in e}function Vr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uU(e)&&t&&e.select()}}var Pw=dU();function dU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Nw(e,t),e.unshift(t)},remove(t){var n;e=Nw(e,t),(n=e[0])==null||n.resume()}}}function Nw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fU(e){return e.filter(t=>t.tagName!=="A")}var gy="Popper",[JP,ZP]=Bt(gy),[hU,e2]=JP(gy),t2=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return v.jsx(hU,{scope:t,anchor:r,onAnchorChange:i,children:n})};t2.displayName=gy;var n2="PopperAnchor",r2=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=e2(n2,n),h=w.useRef(null),o=ge(t,h),s=w.useRef(null);return w.useEffect(()=>{const c=s.current;s.current=(r==null?void 0:r.current)||h.current,c!==s.current&&a.onAnchorChange(s.current)}),r?null:v.jsx(he.div,{...i,ref:o})});r2.displayName=n2;var vy="PopperContent",[pU,mU]=JP(vy),i2=w.forwardRef((e,t)=>{var I,Y,U,Q,ee,te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:h=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:l="partial",hideWhenDetached:u=!1,updatePositionStrategy:d="optimized",onPlaced:m,...g}=e,p=e2(vy,n),[y,x]=w.useState(null),b=ge(t,H=>x(H)),[S,C]=w.useState(null),T=Wd(S),E=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,k=r+(a!=="center"?"-"+a:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(c)?c:[c],z=B.length>0,q={padding:A,boundary:B.filter(vU),altBoundary:z},{refs:L,floatingStyles:W,placement:J,isPositioned:G,middlewareData:M}=yv({strategy:"fixed",placement:k,whileElementsMounted:(...H)=>vv(...H,{animationFrame:d==="always"}),elements:{reference:p.anchor},middleware:[xv({mainAxis:i+P,alignmentAxis:h}),s&&bv({mainAxis:!0,crossAxis:!1,limiter:l==="partial"?wv():void 0,...q}),s&&Sv({...q}),Cv({...q,apply:({elements:H,rects:V,availableWidth:X,availableHeight:Z})=>{const{width:K,height:ne}=V.reference,oe=H.floating.style;oe.setProperty("--radix-popper-available-width",`${X}px`),oe.setProperty("--radix-popper-available-height",`${Z}px`),oe.setProperty("--radix-popper-anchor-width",`${K}px`),oe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&Ev({element:S,padding:o}),yU({arrowWidth:E,arrowHeight:P}),u&&Tv({strategy:"referenceHidden",...q})]}),[_,N]=a2(J),O=Oe(m);Ae(()=>{G&&(O==null||O())},[G,O]);const D=(I=M.arrow)==null?void 0:I.x,$=(Y=M.arrow)==null?void 0:Y.y,R=((U=M.arrow)==null?void 0:U.centerOffset)!==0,[j,F]=w.useState();return Ae(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(Q=M.transformOrigin)==null?void 0:Q.x,(ee=M.transformOrigin)==null?void 0:ee.y].join(" "),...((te=M.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(pU,{scope:n,placedSide:_,onArrowChange:C,arrowX:D,arrowY:$,shouldHideArrow:R,children:v.jsx(he.div,{"data-side":_,"data-align":N,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});i2.displayName=vy;var s2="PopperArrow",gU={top:"bottom",right:"left",bottom:"top",left:"right"},o2=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=mU(s2,r),h=gU[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(_v,{...i,ref:n,style:{...i.style,display:"block"}})})});o2.displayName=s2;function vU(e){return e!==null}var yU=e=>({name:"transformOrigin",options:e,fn(t){var p,y,x;const{placement:n,rects:r,middlewareData:i}=t,h=((p=i.arrow)==null?void 0:p.centerOffset)!==0,o=h?0:e.arrowWidth,s=h?0:e.arrowHeight,[c,f]=a2(n),l={start:"0%",center:"50%",end:"100%"}[f],u=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let m="",g="";return c==="bottom"?(m=h?l:`${u}px`,g=`${-s}px`):c==="top"?(m=h?l:`${u}px`,g=`${r.floating.height+s}px`):c==="right"?(m=`${-s}px`,g=h?l:`${d}px`):c==="left"&&(m=`${r.floating.width+s}px`,g=h?l:`${d}px`),{data:{x:m,y:g}}}});function a2(e){const[t,n="center"]=e.split("-");return[t,n]}var xU=t2,bU=r2,wU=i2,SU=o2;function CU(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Ql=e=>{const{present:t,children:n}=e,r=TU(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=ge(r.ref,EU(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};Ql.displayName="Presence";function TU(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),h=e?"mounted":"unmounted",[o,s]=CU(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=kc(r.current);a.current=o==="mounted"?c:"none"},[o]),Ae(()=>{const c=r.current,f=i.current;if(f!==e){const u=a.current,d=kc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Ae(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,l=d=>{const g=kc(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},u=d=>{d.target===t&&(a.current=kc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function EU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ah="rovingFocusGroup.onEntryFocus",_U={bubbles:!1,cancelable:!0},Jl="RovingFocusGroup",[Rm,l2,PU]=Ll(Jl),[NU,c2]=Bt(Jl,[PU]),[jU,OU]=NU(Jl),u2=w.forwardRef((e,t)=>v.jsx(Rm.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(Rm.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(AU,{...e,ref:t})})}));u2.displayName=Jl;var AU=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:h,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:s,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...l}=e,u=w.useRef(null),d=ge(t,u),m=Xo(a),[g,p]=sr({prop:h,defaultProp:o??null,onChange:s,caller:Jl}),[y,x]=w.useState(!1),b=Oe(c),S=l2(n),C=w.useRef(!1),[T,E]=w.useState(0);return w.useEffect(()=>{const P=u.current;if(P)return P.addEventListener(Ah,b),()=>P.removeEventListener(Ah,b)},[b]),v.jsx(jU,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(P=>p(P),[p]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>E(P=>P-1),[]),children:v.jsx(he.div,{tabIndex:y||T===0?-1:0,"data-orientation":r,...l,ref:d,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{C.current=!0}),onFocus:ke(e.onFocus,P=>{const k=!C.current;if(P.target===P.currentTarget&&k&&!y){const A=new CustomEvent(Ah,_U);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const B=S().filter(J=>J.focusable),z=B.find(J=>J.active),q=B.find(J=>J.id===g),W=[z,q,...B].filter(Boolean).map(J=>J.ref.current);h2(W,f)}}C.current=!1}),onBlur:ke(e.onBlur,()=>x(!1))})})}),d2="RovingFocusGroupItem",f2=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:h,...o}=e,s=xn(),c=a||s,f=OU(d2,n),l=f.currentTabStopId===c,u=l2(n),{onFocusableItemAdd:d,onFocusableItemRemove:m,currentTabStopId:g}=f;return w.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),v.jsx(Rm.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(he.span,{tabIndex:l?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:ke(e.onMouseDown,p=>{r?f.onItemFocus(c):p.preventDefault()}),onFocus:ke(e.onFocus,()=>f.onItemFocus(c)),onKeyDown:ke(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){f.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=RU(p,f.orientation,f.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=u().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const S=b.indexOf(p.currentTarget);b=f.loop?MU(b,S+1):b.slice(S+1)}setTimeout(()=>h2(b))}}),children:typeof h=="function"?h({isCurrentTabStop:l,hasTabStop:g!=null}):h})})});f2.displayName=d2;var DU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RU(e,t,n){const r=kU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DU[r]}function h2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function MU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IU=u2,LU=f2,FU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ts=new WeakMap,Rc=new WeakMap,Mc={},Dh=0,p2=function(e){return e&&(e.host||p2(e.parentNode))},BU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=p2(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},VU=function(e,t,n,r){var i=BU(t,Array.isArray(e)?e:[e]);Mc[n]||(Mc[n]=new WeakMap);var a=Mc[n],h=[],o=new Set,s=new Set(i),c=function(l){!l||o.has(l)||(o.add(l),c(l.parentNode))};i.forEach(c);var f=function(l){!l||s.has(l)||Array.prototype.forEach.call(l.children,function(u){if(o.has(u))f(u);else try{var d=u.getAttribute(r),m=d!==null&&d!=="false",g=(Ts.get(u)||0)+1,p=(a.get(u)||0)+1;Ts.set(u,g),a.set(u,p),h.push(u),g===1&&m&&Rc.set(u,!0),p===1&&u.setAttribute(n,"true"),m||u.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",u,y)}})};return f(t),o.clear(),Dh++,function(){h.forEach(function(l){var u=Ts.get(l)-1,d=a.get(l)-1;Ts.set(l,u),a.set(l,d),u||(Rc.has(l)||l.removeAttribute(r),Rc.delete(l)),d||l.removeAttribute(n)}),Dh--,Dh||(Ts=new WeakMap,Ts=new WeakMap,Rc=new WeakMap,Mc={})}},yy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=FU(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),VU(r,i,n,"aria-hidden")):function(){return null}},qn=function(){return qn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qn.apply(this,arguments)};function m2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zU(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var au="right-scroll-bar-position",lu="width-before-scroll-bar",WU="with-scroll-bars-hidden",UU="--removed-body-scroll-bar-size";function kh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $U(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var HU=typeof window<"u"?w.useLayoutEffect:w.useEffect,jw=new WeakMap;function GU(e,t){var n=$U(null,function(r){return e.forEach(function(i){return kh(i,r)})});return HU(function(){var r=jw.get(n);if(r){var i=new Set(r),a=new Set(e),h=n.current;i.forEach(function(o){a.has(o)||kh(o,null)}),a.forEach(function(o){i.has(o)||kh(o,h)})}jw.set(n,e)},[e]),n}function YU(e){return e}function XU(e,t){t===void 0&&(t=YU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var h=t(a,r);return n.push(h),function(){n=n.filter(function(o){return o!==h})}},assignSyncMedium:function(a){for(r=!0;n.length;){var h=n;n=[],h.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var h=[];if(n.length){var o=n;n=[],o.forEach(a),h=n}var s=function(){var f=h;h=[],f.forEach(a)},c=function(){return Promise.resolve().then(s)};c(),n={push:function(f){h.push(f),c()},filter:function(f){return h=h.filter(f),n}}}};return i}function KU(e){e===void 0&&(e={});var t=XU(null);return t.options=qn({async:!0,ssr:!1},e),t}var g2=function(e){var t=e.sideCar,n=m2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,qn({},n))};g2.isSideCarExport=!0;function qU(e,t){return e.useMedium(t),g2}var v2=KU(),Rh=function(){},sf=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Rh,onWheelCapture:Rh,onTouchMoveCapture:Rh}),i=r[0],a=r[1],h=e.forwardProps,o=e.children,s=e.className,c=e.removeScrollBar,f=e.enabled,l=e.shards,u=e.sideCar,d=e.noRelative,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,S=m2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=u,T=GU([n,t]),E=qn(qn({},S),i);return w.createElement(w.Fragment,null,f&&w.createElement(C,{sideCar:v2,removeScrollBar:c,shards:l,noRelative:d,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:b}),h?w.cloneElement(w.Children.only(o),qn(qn({},E),{ref:T})):w.createElement(x,qn({},E,{className:s,ref:T}),o))});sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sf.classNames={fullWidth:lu,zeroRight:au};var QU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QU();return t&&e.setAttribute("nonce",t),e}function ZU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=JU())&&(ZU(t,n),e$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n$=function(){var e=t$();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},y2=function(){var e=n$(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},r$={left:0,top:0,right:0,gap:0},Mh=function(e){return parseInt(e||"",10)||0},i$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mh(n),Mh(r),Mh(i)]},s$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return r$;var t=i$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},o$=y2(),ro="data-scroll-locked",a$=function(e,t,n,r){var i=e.left,a=e.top,h=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(WU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(au,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(au," .").concat(au,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(UU,": ").concat(o,`px;
  }
`)},Ow=function(){var e=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(e)?e:0},l$=function(){w.useEffect(function(){return document.body.setAttribute(ro,(Ow()+1).toString()),function(){var e=Ow()-1;e<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,e.toString())}},[])},c$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;l$();var a=w.useMemo(function(){return s$(i)},[i]);return w.createElement(o$,{styles:a$(a,!t,i,n?"":"!important")})},Mm=!1;if(typeof window<"u")try{var Ic=Object.defineProperty({},"passive",{get:function(){return Mm=!0,!0}});window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{Mm=!1}var Es=Mm?{passive:!1}:!1,u$=function(e){return e.tagName==="TEXTAREA"},x2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!u$(e)&&n[t]==="visible")},d$=function(e){return x2(e,"overflowY")},f$=function(e){return x2(e,"overflowX")},Aw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=b2(e,r);if(i){var a=w2(e,r),h=a[1],o=a[2];if(h>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},h$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},p$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},b2=function(e,t){return e==="v"?d$(t):f$(t)},w2=function(e,t){return e==="v"?h$(t):p$(t)},m$=function(e,t){return e==="h"&&t==="rtl"?-1:1},g$=function(e,t,n,r,i){var a=m$(e,window.getComputedStyle(t).direction),h=a*r,o=n.target,s=t.contains(o),c=!1,f=h>0,l=0,u=0;do{if(!o)break;var d=w2(e,o),m=d[0],g=d[1],p=d[2],y=g-p-a*m;(m||y)&&b2(e,o)&&(l+=y,u+=m);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(f&&Math.abs(l)<1||!f&&Math.abs(u)<1)&&(c=!0),c},Lc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dw=function(e){return[e.deltaX,e.deltaY]},kw=function(e){return e&&"current"in e?e.current:e},v$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},x$=0,_s=[];function b$(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(x$++)[0],a=w.useState(y2)[0],h=w.useRef(e);w.useEffect(function(){h.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=zU([e.lockRef.current],(e.shards||[]).map(kw),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!h.current.allowPinchZoom;var y=Lc(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-y[0],S="deltaY"in g?g.deltaY:x[1]-y[1],C,T=g.target,E=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&T.type==="range")return!1;var P=Aw(E,T);if(!P)return!0;if(P?C=E:(C=E==="v"?"h":"v",P=Aw(E,T)),!P)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=C),!C)return!0;var k=r.current||C;return g$(k,p,g,k==="h"?b:S)},[]),s=w.useCallback(function(g){var p=g;if(!(!_s.length||_s[_s.length-1]!==a)){var y="deltaY"in p?Dw(p):Lc(p),x=t.current.filter(function(C){return C.name===p.type&&(C.target===p.target||p.target===C.shadowParent)&&v$(C.delta,y)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var b=(h.current.shards||[]).map(kw).filter(Boolean).filter(function(C){return C.contains(p.target)}),S=b.length>0?o(p,b[0]):!h.current.noIsolation;S&&p.cancelable&&p.preventDefault()}}},[]),c=w.useCallback(function(g,p,y,x){var b={name:g,delta:p,target:y,should:x,shadowParent:w$(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),f=w.useCallback(function(g){n.current=Lc(g),r.current=void 0},[]),l=w.useCallback(function(g){c(g.type,Dw(g),g.target,o(g,e.lockRef.current))},[]),u=w.useCallback(function(g){c(g.type,Lc(g),g.target,o(g,e.lockRef.current))},[]);w.useEffect(function(){return _s.push(a),e.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:u}),document.addEventListener("wheel",s,Es),document.addEventListener("touchmove",s,Es),document.addEventListener("touchstart",f,Es),function(){_s=_s.filter(function(g){return g!==a}),document.removeEventListener("wheel",s,Es),document.removeEventListener("touchmove",s,Es),document.removeEventListener("touchstart",f,Es)}},[]);var d=e.removeScrollBar,m=e.inert;return w.createElement(w.Fragment,null,m?w.createElement(a,{styles:y$(i)}):null,d?w.createElement(c$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function w$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const S$=qU(v2,b$);var of=w.forwardRef(function(e,t){return w.createElement(sf,qn({},e,{ref:t,sideCar:S$}))});of.classNames=sf.classNames;var Im=["Enter"," "],C$=["ArrowDown","PageUp","Home"],S2=["ArrowUp","PageDown","End"],T$=[...C$,...S2],E$={ltr:[...Im,"ArrowRight"],rtl:[...Im,"ArrowLeft"]},_$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zl="Menu",[xl,P$,N$]=Ll(Zl),[ws,C2]=Bt(Zl,[N$,ZP,c2]),af=ZP(),T2=c2(),[j$,Ss]=ws(Zl),[O$,ec]=ws(Zl),E2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:h=!0}=e,o=af(t),[s,c]=w.useState(null),f=w.useRef(!1),l=Oe(a),u=Xo(i);return w.useEffect(()=>{const d=()=>{f.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>f.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),v.jsx(xU,{...o,children:v.jsx(j$,{scope:t,open:n,onOpenChange:l,content:s,onContentChange:c,children:v.jsx(O$,{scope:t,onClose:w.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:f,dir:u,modal:h,children:r})})})};E2.displayName=Zl;var A$="MenuAnchor",xy=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=af(n);return v.jsx(bU,{...i,...r,ref:t})});xy.displayName=A$;var by="MenuPortal",[D$,_2]=ws(by,{forceMount:void 0}),P2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Ss(by,t);return v.jsx(D$,{scope:t,forceMount:n,children:v.jsx(Ql,{present:n||a.open,children:v.jsx(Bl,{asChild:!0,container:i,children:r})})})};P2.displayName=by;var bn="MenuContent",[k$,wy]=ws(bn),N2=w.forwardRef((e,t)=>{const n=_2(bn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Ss(bn,e.__scopeMenu),h=ec(bn,e.__scopeMenu);return v.jsx(xl.Provider,{scope:e.__scopeMenu,children:v.jsx(Ql,{present:r||a.open,children:v.jsx(xl.Slot,{scope:e.__scopeMenu,children:h.modal?v.jsx(R$,{...i,ref:t}):v.jsx(M$,{...i,ref:t})})})})}),R$=w.forwardRef((e,t)=>{const n=Ss(bn,e.__scopeMenu),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return yy(a)},[]),v.jsx(Sy,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),M$=w.forwardRef((e,t)=>{const n=Ss(bn,e.__scopeMenu);return v.jsx(Sy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I$=os("MenuContent.ScrollLock"),Sy=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:h,disableOutsidePointerEvents:o,onEntryFocus:s,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:l,onInteractOutside:u,onDismiss:d,disableOutsideScroll:m,...g}=e,p=Ss(bn,n),y=ec(bn,n),x=af(n),b=T2(n),S=P$(n),[C,T]=w.useState(null),E=w.useRef(null),P=ge(t,E,p.onContentChange),k=w.useRef(0),A=w.useRef(""),B=w.useRef(0),z=w.useRef(null),q=w.useRef("right"),L=w.useRef(0),W=m?of:w.Fragment,J=m?{as:I$,allowPinchZoom:!0}:void 0,G=_=>{var I,Y;const N=A.current+_,O=S().filter(U=>!U.disabled),D=document.activeElement,$=(I=O.find(U=>U.ref.current===D))==null?void 0:I.textValue,R=O.map(U=>U.textValue),j=X$(R,N,$),F=(Y=O.find(U=>U.textValue===j))==null?void 0:Y.ref.current;(function U(Q){A.current=Q,window.clearTimeout(k.current),Q!==""&&(k.current=window.setTimeout(()=>U(""),1e3))})(N),F&&setTimeout(()=>F.focus())};w.useEffect(()=>()=>window.clearTimeout(k.current),[]),sU();const M=w.useCallback(_=>{var O,D;return q.current===((O=z.current)==null?void 0:O.side)&&q$(_,(D=z.current)==null?void 0:D.area)},[]);return v.jsx(k$,{scope:n,searchRef:A,onItemEnter:w.useCallback(_=>{M(_)&&_.preventDefault()},[M]),onItemLeave:w.useCallback(_=>{var N;M(_)||((N=E.current)==null||N.focus(),T(null))},[M]),onTriggerLeave:w.useCallback(_=>{M(_)&&_.preventDefault()},[M]),pointerGraceTimerRef:B,onPointerGraceIntentChange:w.useCallback(_=>{z.current=_},[]),children:v.jsx(W,{...J,children:v.jsx(rf,{asChild:!0,trapped:i,onMountAutoFocus:ke(a,_=>{var N;_.preventDefault(),(N=E.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:v.jsx(KP,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:l,onInteractOutside:u,onDismiss:d,children:v.jsx(IU,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:T,onEntryFocus:ke(s,_=>{y.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(wU,{role:"menu","aria-orientation":"vertical","data-state":$2(p.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:ke(g.onKeyDown,_=>{const O=_.target.closest("[data-radix-menu-content]")===_.currentTarget,D=_.ctrlKey||_.altKey||_.metaKey,$=_.key.length===1;O&&(_.key==="Tab"&&_.preventDefault(),!D&&$&&G(_.key));const R=E.current;if(_.target!==R||!T$.includes(_.key))return;_.preventDefault();const F=S().filter(I=>!I.disabled).map(I=>I.ref.current);S2.includes(_.key)&&F.reverse(),G$(F)}),onBlur:ke(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:ke(e.onPointerMove,bl(_=>{const N=_.target,O=L.current!==_.clientX;if(_.currentTarget.contains(N)&&O){const D=_.clientX>L.current?"right":"left";q.current=D,L.current=_.clientX}}))})})})})})})});N2.displayName=bn;var L$="MenuGroup",Cy=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(he.div,{role:"group",...r,ref:t})});Cy.displayName=L$;var F$="MenuLabel",j2=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(he.div,{...r,ref:t})});j2.displayName=F$;var Qu="MenuItem",Rw="menu.itemSelect",lf=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=w.useRef(null),h=ec(Qu,e.__scopeMenu),o=wy(Qu,e.__scopeMenu),s=ge(t,a),c=w.useRef(!1),f=()=>{const l=a.current;if(!n&&l){const u=new CustomEvent(Rw,{bubbles:!0,cancelable:!0});l.addEventListener(Rw,d=>r==null?void 0:r(d),{once:!0}),vs(l,u),u.defaultPrevented?c.current=!1:h.onClose()}};return v.jsx(O2,{...i,ref:s,disabled:n,onClick:ke(e.onClick,f),onPointerDown:l=>{var u;(u=e.onPointerDown)==null||u.call(e,l),c.current=!0},onPointerUp:ke(e.onPointerUp,l=>{var u;c.current||(u=l.currentTarget)==null||u.click()}),onKeyDown:ke(e.onKeyDown,l=>{const u=o.searchRef.current!=="";n||u&&l.key===" "||Im.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});lf.displayName=Qu;var O2=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,h=wy(Qu,n),o=T2(n),s=w.useRef(null),c=ge(t,s),[f,l]=w.useState(!1),[u,d]=w.useState("");return w.useEffect(()=>{const m=s.current;m&&d((m.textContent??"").trim())},[a.children]),v.jsx(xl.ItemSlot,{scope:n,disabled:r,textValue:i??u,children:v.jsx(LU,{asChild:!0,...o,focusable:!r,children:v.jsx(he.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:ke(e.onPointerMove,bl(m=>{r?h.onItemLeave(m):(h.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,bl(m=>h.onItemLeave(m))),onFocus:ke(e.onFocus,()=>l(!0)),onBlur:ke(e.onBlur,()=>l(!1))})})})}),B$="MenuCheckboxItem",A2=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return v.jsx(I2,{scope:e.__scopeMenu,checked:n,children:v.jsx(lf,{role:"menuitemcheckbox","aria-checked":Ju(n)?"mixed":n,...i,ref:t,"data-state":Ey(n),onSelect:ke(i.onSelect,()=>r==null?void 0:r(Ju(n)?!0:!n),{checkForDefaultPrevented:!1})})})});A2.displayName=B$;var D2="MenuRadioGroup",[V$,z$]=ws(D2,{value:void 0,onValueChange:()=>{}}),k2=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=Oe(r);return v.jsx(V$,{scope:e.__scopeMenu,value:n,onValueChange:a,children:v.jsx(Cy,{...i,ref:t})})});k2.displayName=D2;var R2="MenuRadioItem",M2=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=z$(R2,e.__scopeMenu),a=n===i.value;return v.jsx(I2,{scope:e.__scopeMenu,checked:a,children:v.jsx(lf,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Ey(a),onSelect:ke(r.onSelect,()=>{var h;return(h=i.onValueChange)==null?void 0:h.call(i,n)},{checkForDefaultPrevented:!1})})})});M2.displayName=R2;var Ty="MenuItemIndicator",[I2,W$]=ws(Ty,{checked:!1}),L2=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=W$(Ty,n);return v.jsx(Ql,{present:r||Ju(a.checked)||a.checked===!0,children:v.jsx(he.span,{...i,ref:t,"data-state":Ey(a.checked)})})});L2.displayName=Ty;var U$="MenuSeparator",F2=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});F2.displayName=U$;var $$="MenuArrow",B2=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=af(n);return v.jsx(SU,{...i,...r,ref:t})});B2.displayName=$$;var H$="MenuSub",[GJ,V2]=ws(H$),Ea="MenuSubTrigger",z2=w.forwardRef((e,t)=>{const n=Ss(Ea,e.__scopeMenu),r=ec(Ea,e.__scopeMenu),i=V2(Ea,e.__scopeMenu),a=wy(Ea,e.__scopeMenu),h=w.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:s}=a,c={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const l=o.current;return()=>{window.clearTimeout(l),s(null)}},[o,s]),v.jsx(xy,{asChild:!0,...c,children:v.jsx(O2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$2(n.open),...e,ref:Ei(t,i.onTriggerChange),onClick:l=>{var u;(u=e.onClick)==null||u.call(e,l),!(e.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,bl(l=>{a.onItemEnter(l),!l.defaultPrevented&&!e.disabled&&!n.open&&!h.current&&(a.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ke(e.onPointerLeave,bl(l=>{var d,m;f();const u=(d=n.content)==null?void 0:d.getBoundingClientRect();if(u){const g=(m=n.content)==null?void 0:m.dataset.side,p=g==="right",y=p?-5:5,x=u[p?"left":"right"],b=u[p?"right":"left"];a.onPointerGraceIntentChange({area:[{x:l.clientX+y,y:l.clientY},{x,y:u.top},{x:b,y:u.top},{x:b,y:u.bottom},{x,y:u.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(l),l.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,l=>{var d;const u=a.searchRef.current!=="";e.disabled||u&&l.key===" "||E$[r.dir].includes(l.key)&&(n.onOpenChange(!0),(d=n.content)==null||d.focus(),l.preventDefault())})})})});z2.displayName=Ea;var W2="MenuSubContent",U2=w.forwardRef((e,t)=>{const n=_2(bn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Ss(bn,e.__scopeMenu),h=ec(bn,e.__scopeMenu),o=V2(W2,e.__scopeMenu),s=w.useRef(null),c=ge(t,s);return v.jsx(xl.Provider,{scope:e.__scopeMenu,children:v.jsx(Ql,{present:r||a.open,children:v.jsx(xl.Slot,{scope:e.__scopeMenu,children:v.jsx(Sy,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var l;h.isUsingKeyboardRef.current&&((l=s.current)==null||l.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ke(e.onFocusOutside,f=>{f.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,f=>{h.onClose(),f.preventDefault()}),onKeyDown:ke(e.onKeyDown,f=>{var d;const l=f.currentTarget.contains(f.target),u=_$[h.dir].includes(f.key);l&&u&&(a.onOpenChange(!1),(d=o.trigger)==null||d.focus(),f.preventDefault())})})})})})});U2.displayName=W2;function $2(e){return e?"open":"closed"}function Ju(e){return e==="indeterminate"}function Ey(e){return Ju(e)?"indeterminate":e?"checked":"unchecked"}function G$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Y$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function X$(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let h=Y$(e,Math.max(a,0));i.length===1&&(h=h.filter(c=>c!==n));const s=h.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function K$(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,h=t.length-1;a<t.length;h=a++){const o=t[a],s=t[h],c=o.x,f=o.y,l=s.x,u=s.y;f>r!=u>r&&n<(l-c)*(r-f)/(u-f)+c&&(i=!i)}return i}function q$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return K$(n,t)}function bl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Q$=E2,J$=xy,Z$=P2,e6=N2,t6=Cy,n6=j2,r6=lf,i6=A2,s6=k2,o6=M2,a6=L2,l6=F2,c6=B2,u6=z2,d6=U2,cf="DropdownMenu",[f6]=Bt(cf,[C2]),Vt=C2(),[h6,H2]=f6(cf),G2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:h,modal:o=!0}=e,s=Vt(t),c=w.useRef(null),[f,l]=sr({prop:i,defaultProp:a??!1,onChange:h,caller:cf});return v.jsx(h6,{scope:t,triggerId:xn(),triggerRef:c,contentId:xn(),open:f,onOpenChange:l,onOpenToggle:w.useCallback(()=>l(u=>!u),[l]),modal:o,children:v.jsx(Q$,{...s,open:f,onOpenChange:l,dir:r,modal:o,children:n})})};G2.displayName=cf;var Y2="DropdownMenuTrigger",X2=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=H2(Y2,n),h=Vt(n);return v.jsx(J$,{asChild:!0,...h,children:v.jsx(he.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ei(t,a.triggerRef),onPointerDown:qu(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:qu(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});X2.displayName=Y2;var p6="DropdownMenuPortal",K2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Vt(t);return v.jsx(Z$,{...r,...n})};K2.displayName=p6;var q2="DropdownMenuContent",Q2=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=H2(q2,n),a=Vt(n),h=w.useRef(!1);return v.jsx(e6,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:qu(e.onCloseAutoFocus,o=>{var s;h.current||(s=i.triggerRef.current)==null||s.focus(),h.current=!1,o.preventDefault()}),onInteractOutside:qu(e.onInteractOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,f=s.button===2||c;(!i.modal||f)&&(h.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q2.displayName=q2;var m6="DropdownMenuGroup",g6=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(t6,{...i,...r,ref:t})});g6.displayName=m6;var v6="DropdownMenuLabel",J2=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(n6,{...i,...r,ref:t})});J2.displayName=v6;var y6="DropdownMenuItem",Z2=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(r6,{...i,...r,ref:t})});Z2.displayName=y6;var x6="DropdownMenuCheckboxItem",eN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(i6,{...i,...r,ref:t})});eN.displayName=x6;var b6="DropdownMenuRadioGroup",w6=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(s6,{...i,...r,ref:t})});w6.displayName=b6;var S6="DropdownMenuRadioItem",tN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(o6,{...i,...r,ref:t})});tN.displayName=S6;var C6="DropdownMenuItemIndicator",nN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(a6,{...i,...r,ref:t})});nN.displayName=C6;var T6="DropdownMenuSeparator",rN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(l6,{...i,...r,ref:t})});rN.displayName=T6;var E6="DropdownMenuArrow",_6=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(c6,{...i,...r,ref:t})});_6.displayName=E6;var P6="DropdownMenuSubTrigger",iN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(u6,{...i,...r,ref:t})});iN.displayName=P6;var N6="DropdownMenuSubContent",sN=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Vt(n);return v.jsx(d6,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sN.displayName=N6;var j6=G2,O6=X2,A6=K2,oN=Q2,aN=J2,lN=Z2,cN=eN,uN=tN,dN=nN,fN=rN,hN=iN,pN=sN;const mN=j6,gN=O6,D6=w.forwardRef(({className:e,inset:t,children:n,...r},i)=>v.jsxs(hN,{ref:i,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,v.jsx(So,{className:"ml-auto h-4 w-4"})]}));D6.displayName=hN.displayName;const k6=w.forwardRef(({className:e,...t},n)=>v.jsx(pN,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));k6.displayName=pN.displayName;const _y=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(A6,{children:v.jsx(oN,{ref:r,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_y.displayName=oN.displayName;const io=w.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(lN,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));io.displayName=lN.displayName;const R6=w.forwardRef(({className:e,children:t,checked:n,...r},i)=>v.jsxs(cN,{ref:i,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(dN,{children:v.jsx(IT,{className:"h-4 w-4"})})}),t]}));R6.displayName=cN.displayName;const M6=w.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(uN,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(dN,{children:v.jsx(FT,{className:"h-2 w-2 fill-current"})})}),t]}));M6.displayName=uN.displayName;const vN=w.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(aN,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));vN.displayName=aN.displayName;const Lm=w.forwardRef(({className:e,...t},n)=>v.jsx(fN,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));Lm.displayName=fN.displayName;const fa=[{id:"captura",label:"Captura",icon:UT},{id:"triagem",label:"Triagem",icon:ZM},{id:"atividades",label:"Atividades",icon:GT},{id:"dashboard",label:"Dashboard",icon:aI},{id:"equipe",label:"Equipe",icon:gn},{id:"obras",label:"Obras",icon:Er},{id:"clientes",label:"Clientes",icon:gn}];function I6({activeTab:e,onTabChange:t,onOpenCommandPalette:n}){const{user:r,logout:i}=xs(),h=r?r.role==="ADMIN"||r.role==="CEO"?fa:r.role==="GESTOR"?fa.filter(o=>["captura","triagem","atividades","obras","dashboard","clientes"].includes(o.id)):r.role==="TRIAGISTA"?fa.filter(o=>["captura","triagem"].includes(o.id)):r.role==="OPERACIONAL"||r.role==="PROFISSIONAL_INTERNO"?fa.filter(o=>["captura","atividades"].includes(o.id)):fa.filter(o=>["captura"].includes(o.id)):[];return v.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-border sticky top-0 z-50",children:v.jsxs("div",{className:"max-w-[1800px] mx-auto h-16 px-4 lg:px-6 flex items-center justify-between gap-4",children:[v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tight cursor-pointer",onClick:()=>t("captura"),children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center shadow-lg shadow-primary/20 transition-transform active:scale-95",children:v.jsx("span",{className:"text-white font-bold",children:"V"})}),v.jsx("span",{className:"hidden md:inline-block tracking-tighter",children:"VERCFLOW"})]})}),v.jsx("nav",{className:"hidden lg:flex items-center gap-1 bg-secondary/50 p-1 rounded-xl",children:h.map(o=>{const s=e===o.id,c=o.icon;return v.jsxs("button",{onClick:()=>t(o.id),className:se("relative px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center gap-2",s?"bg-background text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-background/40"),children:[v.jsx(c,{size:16,strokeWidth:s?2.5:2}),o.label]},o.id)})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"text-muted-foreground hover:text-foreground",children:v.jsx(_r,{size:20})}),v.jsxs(de,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground",children:[v.jsx(KM,{size:20}),v.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-primary rounded-full border-2 border-background"})]}),v.jsxs(mN,{children:[v.jsx(gN,{asChild:!0,children:v.jsxs(de,{variant:"ghost",className:"pl-2 gap-2 rounded-full hover:bg-secondary/50",children:[v.jsx(tf,{className:"h-8 w-8 border border-border",children:v.jsx(nf,{className:"bg-primary/10 text-primary text-xs font-bold",children:r==null?void 0:r.nome.charAt(0)})}),v.jsx(sv,{size:14,className:"text-muted-foreground hidden sm:block"})]})}),v.jsxs(_y,{align:"end",className:"w-64 p-2",children:[v.jsx(vN,{className:"font-normal px-2 pb-2",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-bold leading-none",children:r==null?void 0:r.nome}),v.jsx("p",{className:"text-xs leading-none text-muted-foreground uppercase tracking-wider font-semibold",children:r==null?void 0:r.role})]})}),v.jsx(Lm,{}),v.jsxs(io,{className:"rounded-lg",children:[v.jsx(Ld,{className:"mr-2 h-4 w-4"})," Perfil"]}),v.jsxs(io,{onClick:()=>t("config"),className:"rounded-lg",children:[v.jsx($T,{className:"mr-2 h-4 w-4"})," Configuraes"]}),v.jsx(Lm,{}),v.jsxs(io,{onClick:i,className:"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-lg",children:[v.jsx(ov,{className:"mr-2 h-4 w-4"})," Sair"]})]})]})]})]})})}function L6({activeTab:e,onTabChange:t}){const n=[{id:"captura",icon:nI,label:"Incio"},{id:"triagem",icon:ol,label:"Triagem"},{id:"atividades",icon:zo,label:"Tarefas"},{id:"obras",icon:Er,label:"Obras"},{id:"clientes",icon:gn,label:"Clientes"},{id:"config",icon:$T,label:"Ajustes"}];return v.jsx("nav",{className:"lg:hidden fixed bottom-6 left-4 right-4 z-50",children:v.jsx(nt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"bg-background/90 backdrop-blur-2xl border border-white/20 shadow-[0_8px_32px_rgba(0,0,0,0.12)] rounded-[2.5rem] p-2 flex items-center justify-around h-20",children:n.map(r=>{const i=e===r.id,a=r.icon;return v.jsxs("button",{onClick:()=>t(r.id),className:"relative flex flex-col items-center justify-center flex-1 h-full gap-1 group outline-none",children:[i&&v.jsx(nt.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 rounded-[2rem] z-0",transition:{type:"spring",bounce:.2,duration:.6}}),v.jsx(nt.div,{animate:{scale:i?1.1:1,y:i?-2:0},className:se("relative z-10 p-2 rounded-2xl transition-all duration-300",i?"text-primary":"text-muted-foreground group-hover:text-foreground"),children:v.jsx(a,{size:22,className:se(i?"stroke-[2.5]":"stroke-2")})}),v.jsx("span",{className:se("relative z-10 text-[9px] font-black uppercase tracking-[0.1em] transition-all duration-300",i?"text-primary opacity-100":"text-muted-foreground opacity-60"),children:r.label}),i&&v.jsx(nt.div,{layoutId:"activeDot",className:"absolute -bottom-1 w-1.5 h-1.5 bg-primary rounded-full",transition:{type:"spring",bounce:.2,duration:.6}})]},r.id)})})})}const ha={id:"1",name:"Carlos Silva",email:"carlos@verc.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Carlos",role:"GESTOR"},Ih=[{id:"1",name:"Construtora Horizonte",contact:"Roberto Alpha",email:"contato@horizonte.com"},{id:"2",name:"Incorporadora Sustenta",contact:"Maria Beta",email:"financeiro@sustenta.com"},{id:"3",name:"Grupo Investimentos SA",contact:"Joo Gamma",email:"joao@invest.com"}],F6=[{id:"1",code:"OB-2024-001",name:"Edifcio Aurora Tower",client:"Construtora Horizonte",address:"So Paulo, SP",status:"ACTIVE",progress:67,startDate:"2024-01-15",estimatedEnd:"2025-06-30"},{id:"2",code:"OB-2024-002",name:"Residencial Villa Verde",client:"Incorporadora Sustenta",address:"Campinas, SP",status:"ACTIVE",progress:34,startDate:"2024-06-01",estimatedEnd:"2025-12-15"},{id:"3",code:"OB-2024-003",name:"Centro Comercial Plaza",client:"Grupo Investimentos SA",address:"Belo Horizonte, MG",status:"ACTIVE",progress:89,startDate:"2023-08-20",estimatedEnd:"2025-02-28"},{id:"4",code:"OB-2024-004",name:"Hospital Regional Norte",client:"Secretaria de Sade",address:"Braslia, DF",status:"ACTIVE",progress:45,startDate:"2024-02-10",estimatedEnd:"2026-01-15"}],B6=[{id:"1",title:"Verificao estrutural do 12 andar",description:"Realizada inspeo visual das vigas e pilares. Identificadas pequenas fissuras na laje.",obraId:"1",obraName:"Edifcio Aurora Tower",author:ha,createdAt:"2025-01-15T14:30:00",updatedAt:"2025-01-15T14:30:00",status:"SENT_TO_TRIAGE",type:"SKETCH",priority:"HIGH",tags:["estrutural","inspeo","urgente"],hasSketch:!0,hasDocument:!1,requiresSignature:!0},{id:"2",title:"Registro de recebimento de materiais",description:"Recebimento de 500 sacos de cimento CP-II e 200 barras de ao CA-50.",obraId:"1",obraName:"Edifcio Aurora Tower",author:ha,createdAt:"2025-01-14T09:15:00",updatedAt:"2025-01-14T09:15:00",status:"PROCESSING",type:"NOTE",priority:"MEDIUM",tags:["materiais","estoque"],hasSketch:!1,hasDocument:!0,requiresSignature:!1},{id:"3",title:"Ocorrncia: Vazamento no subsolo",description:"Detectado vazamento na tubulao de gua pluvial. Necessria interveno imediata.",obraId:"2",obraName:"Residencial Villa Verde",author:ha,createdAt:"2025-01-15T08:00:00",updatedAt:"2025-01-15T10:30:00",status:"PROCESSING",type:"INCIDENT",priority:"URGENT",tags:["hidrulica","manuteno","urgente"],hasSketch:!0,hasDocument:!1,requiresSignature:!1},{id:"4",title:"Relatrio de avano semanal",description:"Documentao do progresso da semana 03/2025. Concludas 95% das fundaes.",obraId:"3",obraName:"Centro Comercial Plaza",author:ha,createdAt:"2025-01-13T17:00:00",updatedAt:"2025-01-13T17:00:00",status:"CONVERTED",type:"NOTE",priority:"LOW",tags:["relatrio","semanal"],hasSketch:!1,hasDocument:!0,requiresSignature:!0},{id:"5",title:"Anotao de medio - Bloco B",description:"Medio das reas construdas do Bloco B para memorial de clculo.",obraId:"2",obraName:"Residencial Villa Verde",author:ha,createdAt:"2025-01-12T11:45:00",updatedAt:"2025-01-12T11:45:00",status:"SENT_TO_TRIAGE",type:"SKETCH",priority:"MEDIUM",tags:["medio","clculo"],hasSketch:!0,hasDocument:!1,requiresSignature:!1}],Fm=[{id:"1",name:"Joo Pereira",specialty:"Engenheiro Civil",company:"VERC Engenharia",email:"joao@verc.com",contact:"(11) 99999-1111",competencies:["Estrutural","Fundaes","Projeto"],status:"available",active:!0,rating:4.8,completedTasks:156},{id:"2",name:"Maria Santos",specialty:"Arquiteta",company:"Studio MS Arquitetura",email:"maria@studioms.com",contact:"(11) 99999-2222",competencies:["Projeto","Interiores","Paisagismo"],status:"busy",active:!0,rating:4.9,completedTasks:89},{id:"3",name:"Roberto Almeida",specialty:"Mestre de Obras",email:"roberto@email.com",contact:"(11) 99999-3333",competencies:["Execuo","Superviso","Acabamento"],status:"available",active:!0,rating:4.7,completedTasks:234},{id:"4",name:"Ana Costa",specialty:"Eng. Eltrica",company:"Eletric Pro",email:"ana@eletricpro.com",contact:"(11) 99999-4444",competencies:["Instalaes","SPDA","Automao"],status:"busy",active:!0,rating:4.6,completedTasks:67}],V6=[{id:"1",title:"Concretar laje do 13 andar",description:"Preparar e executar concretagem da laje conforme projeto estrutural.",assignedTo:Fm[2],obraId:"1",status:"IN_PROGRESS",priority:"HIGH",dueDate:"2025-01-20",createdAt:"2025-01-10"},{id:"2",title:"Instalar tubulao hidrulica - Bloco A",description:"Instalao conforme projeto hidrossanitrio aprovado.",obraId:"2",status:"OPEN",priority:"MEDIUM",dueDate:"2025-01-25",createdAt:"2025-01-12"},{id:"3",title:"Revisar projeto eltrico",description:"Atualizar projeto com as modificaes solicitadas pelo cliente.",assignedTo:Fm[3],obraId:"1",status:"WAITING_APPROVAL",priority:"MEDIUM",dueDate:"2025-01-18",createdAt:"2025-01-08"}],z6=[{id:"new-registro",type:"action",title:"Novo Registro",subtitle:"Capturar ocorrncia ou inspeo",icon:vI},{id:"new-sketch",type:"action",title:"Novo Esboo",subtitle:"Abrir canvas de desenho",icon:pI},{id:"inbox",type:"action",title:"Ir para Inbox",subtitle:"Registros aguardando triagem",icon:iI},{id:"new-obra",type:"action",title:"Nova Obra",subtitle:"Cadastrar novo empreendimento",icon:MT}];function W6({isOpen:e,onClose:t}){const[n,r]=w.useState(""),[i,a]=w.useState(0),h=w.useMemo(()=>{if(!n.trim())return z6;const s=n.toLowerCase(),c=[];return Ih==null||Ih.filter(f=>f.name.toLowerCase().includes(s)).forEach(f=>c.push({id:f.id,type:"client",title:f.name,subtitle:"Cliente / Contratante",icon:zo})),F6.filter(f=>f.name.toLowerCase().includes(s)||f.address.toLowerCase().includes(s)).forEach(f=>c.push({id:f.id,type:"obra",title:f.name,subtitle:f.address,icon:MT})),B6.filter(f=>f.title.toLowerCase().includes(s)).forEach(f=>c.push({id:f.id,type:"registro",title:f.title,subtitle:`${f.obraName}  ${f.status}`,icon:Fn})),Fm.filter(f=>f.name.toLowerCase().includes(s)||f.specialty.toLowerCase().includes(s)).forEach(f=>c.push({id:f.id,type:"profissional",title:f.name,subtitle:f.specialty,icon:gn})),V6.filter(f=>f.title.toLowerCase().includes(s)).forEach(f=>c.push({id:f.id,type:"task",title:f.title,subtitle:`Tarefa  ${f.status}`,icon:QM})),c.slice(0,10)},[n]),o=s=>{s.key==="ArrowDown"?(s.preventDefault(),a(c=>Math.min(c+1,h.length-1))):s.key==="ArrowUp"?(s.preventDefault(),a(c=>Math.max(c-1,0))):s.key==="Enter"&&h[i]&&(console.log("Selected:",h[i]),t())};return v.jsx(Gl,{children:e&&v.jsxs(v.Fragment,{children:[v.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:t,className:"fixed inset-0 z-[100] bg-background/60 backdrop-blur-sm"}),v.jsx(nt.div,{initial:{opacity:0,scale:.98,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:-20},transition:{type:"spring",stiffness:300,damping:25},className:"fixed left-1/2 top-[15%] z-[101] w-full max-w-xl -translate-x-1/2 px-4",children:v.jsxs("div",{className:"bg-popover rounded-xl shadow-2xl overflow-hidden border border-border ring-1 ring-black/5",children:[v.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-b border-border",children:[v.jsx(_r,{className:"h-5 w-5 text-muted-foreground"}),v.jsx("input",{type:"text",value:n,onChange:s=>{r(s.target.value),a(0)},onKeyDown:o,placeholder:"Buscar...",className:"flex-1 bg-transparent text-foreground placeholder:text-muted-foreground focus:outline-none text-base",autoFocus:!0}),v.jsx("div",{className:"flex gap-1",children:v.jsx("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:v.jsx("span",{className:"text-xs",children:"ESC"})})})]}),v.jsxs("div",{className:"max-h-[60vh] overflow-y-auto py-2",children:[!n&&v.jsx("div",{className:"px-4 py-2",children:v.jsx("span",{className:"text-[10px] font-bold text-muted-foreground/70 uppercase tracking-wider",children:"Sugestes"})}),h.map((s,c)=>{const f=s.icon,l=c===i;return v.jsxs("div",{onClick:()=>{console.log("Click select:",s),t()},onMouseEnter:()=>a(c),className:se("w-full flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors border-l-2",l?"bg-primary/5 border-primary":"border-transparent hover:bg-muted/30"),children:[v.jsx("div",{className:se("w-9 h-9 rounded-lg flex items-center justify-center shrink-0",l?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:v.jsx(f,{className:"h-4 w-4"})}),v.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[v.jsx("p",{className:se("text-sm font-medium truncate",l?"text-primary":"text-foreground"),children:s.title}),v.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.subtitle})]}),l&&v.jsx(RT,{className:"h-4 w-4 text-primary shrink-0"})]},`${s.type}-${s.id}`)}),n&&h.length===0&&v.jsx("div",{className:"px-4 py-12 text-center text-muted-foreground",children:v.jsxs("p",{className:"text-sm",children:['Sem resultados para "',n,'"']})})]}),v.jsxs("div",{className:"hidden sm:flex items-center justify-between px-4 py-2.5 border-t border-border bg-muted/20",children:[v.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-background border border-border rounded shadow-sm",children:""}),"navegar"]}),v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-background border border-border rounded shadow-sm",children:""}),"selecionar"]})]}),v.jsx("div",{className:"text-[10px] text-muted-foreground font-medium",children:"VERCFLOW OS"})]})]})})]})})}function U6(){const[e,t]=w.useState(!1),n=w.useCallback(()=>t(a=>!a),[]),r=w.useCallback(()=>t(!0),[]),i=w.useCallback(()=>t(!1),[]);return w.useEffect(()=>{const a=h=>{(h.metaKey||h.ctrlKey)&&h.key==="k"&&(h.preventDefault(),n()),h.key==="Escape"&&e&&i()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,n,i]),{isOpen:e,open:r,close:i,toggle:n}}function $6({children:e,activeTab:t,onTabChange:n}){const{isOpen:r,open:i,close:a}=U6(),[h,o]=w.useState();return v.jsxs("div",{className:"flex min-h-screen bg-background text-foreground",children:[v.jsxs("div",{className:"flex-1 flex flex-col min-w-0 pb-16 lg:pb-0",children:[v.jsx(I6,{activeTab:t,onTabChange:n,onOpenCommandPalette:i,selectedProject:h,onSelectProject:o}),v.jsx("main",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(Gl,{mode:"wait",children:v.jsx(nt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2,ease:"easeOut"},className:"h-full",children:e},t)})})]}),v.jsx(L6,{activeTab:t,onTabChange:n}),v.jsx(W6,{isOpen:r,onClose:a})]})}const H6="modulepreload",G6=function(e){return"/"+e},Mw={},Y6=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),o=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=Promise.allSettled(n.map(s=>{if(s=G6(s),s in Mw)return;Mw[s]=!0;const c=s.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":H6,c||(l.as="script"),l.crossOrigin="",l.href=s,o&&l.setAttribute("nonce",o),document.head.appendChild(l),c)return new Promise((u,d)=>{l.addEventListener("load",u),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}function a(h){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=h,window.dispatchEvent(o),!o.defaultPrevented)throw h}return i.then(h=>{for(const o of h||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},yN=s_((e,t)=>({registros:[],isLoading:!1,fetchRegistros:async()=>{e({isLoading:!0});try{const r=await(await fetch("http://localhost:4000/api/records")).json();e({registros:r,isLoading:!1})}catch{De.error("Erro ao carregar registros"),e({isLoading:!1})}},addRegistro:async n=>{try{const r=await fetch("http://localhost:4000/api/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.status===401){const a=await r.json();throw Y6(()=>Promise.resolve().then(()=>Q5),void 0).then(h=>h.useAuth.getState().logout()),new Error(a.error||"Sesso invlida")}if(!r.ok){const a=await r.json();throw new Error(a.error||"Erro ao salvar registro")}const i=await r.json();return e(a=>({registros:[i,...a.registros]})),i}catch(r){throw De.error(r.message||"Erro ao salvar registro"),r}},saveSketch:async(n,r,i)=>{try{if(!(await fetch(`http://localhost:4000/api/records/${n}/sketch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataJson:r,imageUrl:i})})).ok)throw new Error("Falha ao salvar esboo");De.success("Esboo salvo e PDF timbrado gerado"),await t().fetchRegistros()}catch(a){throw De.error("Erro ao salvar esboo"),a}},updateRegistroStatus:async(n,r)=>{const i=t().registros;e(a=>({registros:a.registros.map(h=>h.id===n?{...h,status:r}:h)}));try{const a=await fetch(`http://localhost:4000/api/records/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})});if(!a.ok)throw new Error("Falha ao atualizar status");const h=await a.json();e(o=>({registros:o.registros.map(s=>s.id===n?h:s)}))}catch{De.error("Erro ao sincronizar status com o servidor"),e({registros:i})}},convertRegistro:async(n,r)=>{try{if(!(await fetch(`http://localhost:4000/api/records/${n}/convert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw new Error("Falha na converso");De.success("Registro formalizado e convertido em atividade!"),await t().fetchRegistros()}catch(i){throw De.error("Erro ao converter registro"),i}}}));function ct(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ar(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xN(e,t){const n=ct(e);if(isNaN(t))return ar(e,NaN);if(!t)return n;const r=n.getDate(),i=ar(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const bN=6048e5,X6=864e5;let K6={};function uf(){return K6}function wl(e,t){var o,s,c,f;const n=uf(),r=(t==null?void 0:t.weekStartsOn)??((s=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=ct(e),a=i.getDay(),h=(a<r?7:0)+a-r;return i.setDate(i.getDate()-h),i.setHours(0,0,0,0),i}function Zu(e){return wl(e,{weekStartsOn:1})}function wN(e){const t=ct(e),n=t.getFullYear(),r=ar(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Zu(r),a=ar(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const h=Zu(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function ed(e){const t=ct(e);return t.setHours(0,0,0,0),t}function Iw(e){const t=ct(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q6(e,t){const n=ed(e),r=ed(t),i=+n-Iw(n),a=+r-Iw(r);return Math.round((i-a)/X6)}function Q6(e){const t=wN(e),n=ar(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zu(n)}function J6(e){return ar(e,Date.now())}function SN(e,t){const n=ed(e),r=ed(t);return+n==+r}function Z6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eH(e){if(!Z6(e)&&typeof e!="number")return!1;const t=ct(e);return!isNaN(Number(t))}function tH(e){const t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function nH(e,t){const n=ct(e.start),r=ct(e.end);let i=+n>+r;const a=i?+n:+r,h=i?r:n;h.setHours(0,0,0,0);let o=1;const s=[];for(;+h<=a;)s.push(ct(h)),h.setDate(h.getDate()+o),h.setHours(0,0,0,0);return i?s.reverse():s}function rH(e){const t=ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iH(e){const t=ct(e),n=ar(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oH=(e,t,n)=>{let r;const i=sH[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function so(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uH={date:so({formats:aH,defaultWidth:"full"}),time:so({formats:lH,defaultWidth:"full"}),dateTime:so({formats:cH,defaultWidth:"full"})},dH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fH=(e,t,n,r)=>dH[e];function Qn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const h=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):h;i=e.formattingValues[o]||e.formattingValues[h]}else{const h=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[h]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const hH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xH=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bH={ordinalNumber:xH,era:Qn({values:hH,defaultWidth:"wide"}),quarter:Qn({values:pH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qn({values:mH,defaultWidth:"wide"}),day:Qn({values:gH,defaultWidth:"wide"}),dayPeriod:Qn({values:vH,defaultWidth:"wide",formattingValues:yH,defaultFormattingWidth:"wide"})};function Jn(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const h=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(o)?SH(o,l=>l.test(h)):wH(o,l=>l.test(h));let c;c=e.valueCallback?e.valueCallback(s):s,c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(h.length);return{value:c,rest:f}}}function wH(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function SH(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function CN(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let h=e.valueCallback?e.valueCallback(a[0]):a[0];h=n.valueCallback?n.valueCallback(h):h;const o=t.slice(i.length);return{value:h,rest:o}}}const CH=/^(\d+)(th|st|nd|rd)?/i,TH=/\d+/i,EH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_H={any:[/^b/i,/^(a|c)/i]},PH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NH={any:[/1/i,/2/i,/3/i,/4/i]},jH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MH={ordinalNumber:CN({matchPattern:CH,parsePattern:TH,valueCallback:e=>parseInt(e,10)}),era:Jn({matchPatterns:EH,defaultMatchWidth:"wide",parsePatterns:_H,defaultParseWidth:"any"}),quarter:Jn({matchPatterns:PH,defaultMatchWidth:"wide",parsePatterns:NH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jn({matchPatterns:jH,defaultMatchWidth:"wide",parsePatterns:OH,defaultParseWidth:"any"}),day:Jn({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:DH,defaultParseWidth:"any"}),dayPeriod:Jn({matchPatterns:kH,defaultMatchWidth:"any",parsePatterns:RH,defaultParseWidth:"any"})},IH={code:"en-US",formatDistance:oH,formatLong:uH,formatRelative:fH,localize:bH,match:MH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LH(e){const t=ct(e);return q6(t,iH(t))+1}function FH(e){const t=ct(e),n=+Zu(t)-+Q6(t);return Math.round(n/bN)+1}function TN(e,t){var f,l,u,d;const n=ct(e),r=n.getFullYear(),i=uf(),a=(t==null?void 0:t.firstWeekContainsDate)??((l=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(u=i.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,h=ar(e,0);h.setFullYear(r+1,0,a),h.setHours(0,0,0,0);const o=wl(h,t),s=ar(e,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);const c=wl(s,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function BH(e,t){var o,s,c,f;const n=uf(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,i=TN(e,t),a=ar(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),wl(a,t)}function VH(e,t){const n=ct(e),r=+wl(n,t)-+BH(n,t);return Math.round(r/bN)+1}function Ie(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Lr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ie(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ie(n+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ie(i,t.length)}},Ps={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Lr.y(e,t)},Y:function(e,t,n,r){const i=TN(e,r),a=i>0?i:1-i;if(t==="YY"){const h=a%100;return Ie(h,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ie(a,t.length)},R:function(e,t){const n=wN(e);return Ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ie(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ie(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ie(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Lr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ie(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=VH(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ie(i,t.length)},I:function(e,t,n){const r=FH(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ie(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lr.d(e,t)},D:function(e,t,n){const r=LH(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ie(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ie(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ie(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ie(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ps.noon:r===0?i=Ps.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ps.evening:r>=12?i=Ps.afternoon:r>=4?i=Ps.morning:i=Ps.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lr.s(e,t)},S:function(e,t){return Lr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Bw(r);case"XXXX":case"XX":return Fi(r);case"XXXXX":case"XXX":default:return Fi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Bw(r);case"xxxx":case"xx":return Fi(r);case"xxxxx":case"xxx":default:return Fi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Fw(r,":");case"OOOO":default:return"GMT"+Fi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Fw(r,":");case"zzzz":default:return"GMT"+Fi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ie(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ie(r,t.length)}};function Fw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Ie(a,2)}function Bw(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):Fi(e,t)}function Fi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ie(Math.trunc(r/60),2),a=Ie(r%60,2);return n+i+t+a}const Vw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},EN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},zH=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Vw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Vw(r,t)).replace("{{time}}",EN(i,t))},WH={p:EN,P:zH},UH=/^D+$/,$H=/^Y+$/,HH=["D","DD","YY","YYYY"];function GH(e){return UH.test(e)}function YH(e){return $H.test(e)}function XH(e,t,n){const r=KH(e,t,n);if(console.warn(r),HH.includes(e))throw new RangeError(r)}function KH(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JH=/^'([^]*?)'?$/,ZH=/''/g,eG=/[a-zA-Z]/;function bi(e,t,n){var f,l,u,d,m,g,p,y;const r=uf(),i=(n==null?void 0:n.locale)??r.locale??IH,a=(n==null?void 0:n.firstWeekContainsDate)??((l=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,o=ct(e);if(!eH(o))throw new RangeError("Invalid time value");let s=t.match(QH).map(x=>{const b=x[0];if(b==="p"||b==="P"){const S=WH[b];return S(x,i.formatLong)}return x}).join("").match(qH).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:tG(x)};if(Lw[b])return{isToken:!0,value:x};if(b.match(eG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(s=i.localize.preprocessor(o,s));const c={firstWeekContainsDate:a,weekStartsOn:h,locale:i};return s.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&YH(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&GH(b))&&XH(b,t,String(e));const S=Lw[b[0]];return S(o,b,i.localize,c)}).join("")}function tG(e){const t=e.match(JH);return t?t[1].replace(ZH,"'"):e}function nG(e,t){const n=ct(e),r=ct(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function rG(e){return SN(e,J6(e))}function iG(e,t){return xN(e,-1)}const sG={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},oG=(e,t,n)=>{let r;const i=sG[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},aG={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},lG={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},cG={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uG={date:so({formats:aG,defaultWidth:"full"}),time:so({formats:lG,defaultWidth:"full"}),dateTime:so({formats:cG,defaultWidth:"full"})},dG={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},fG=(e,t,n,r)=>{const i=dG[e];return typeof i=="function"?i(t):i},hG={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},pG={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},mG={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},gG={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},vG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},yG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},xG=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},bG={ordinalNumber:xG,era:Qn({values:hG,defaultWidth:"wide"}),quarter:Qn({values:pG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qn({values:mG,defaultWidth:"wide"}),day:Qn({values:gG,defaultWidth:"wide"}),dayPeriod:Qn({values:vG,defaultWidth:"wide",formattingValues:yG,defaultFormattingWidth:"wide"})},wG=/^(\d+)[o]?/i,SG=/\d+/i,CG={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},TG={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},EG={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_G={any:[/1/i,/2/i,/3/i,/4/i]},PG={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},NG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},jG={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},OG={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},AG={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},DG={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},kG={ordinalNumber:CN({matchPattern:wG,parsePattern:SG,valueCallback:e=>parseInt(e,10)}),era:Jn({matchPatterns:CG,defaultMatchWidth:"wide",parsePatterns:TG,defaultParseWidth:"any"}),quarter:Jn({matchPatterns:EG,defaultMatchWidth:"wide",parsePatterns:_G,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jn({matchPatterns:PG,defaultMatchWidth:"wide",parsePatterns:NG,defaultParseWidth:"any"}),day:Jn({matchPatterns:jG,defaultMatchWidth:"wide",parsePatterns:OG,defaultParseWidth:"any"}),dayPeriod:Jn({matchPatterns:AG,defaultMatchWidth:"any",parsePatterns:DG,defaultParseWidth:"any"})},jo={code:"pt-BR",formatDistance:oG,formatLong:uG,formatRelative:fG,localize:bG,match:kG,options:{weekStartsOn:0,firstWeekContainsDate:1}},RG=Vo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return v.jsx("div",{className:se(RG({variant:t}),e),...n})}const xe=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xe.displayName="Card";const Hr=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));Hr.displayName="CardHeader";const Gr=w.forwardRef(({className:e,...t},n)=>v.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Gr.displayName="CardTitle";const _N=w.forwardRef(({className:e,...t},n)=>v.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));_N.displayName="CardDescription";const be=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));be.displayName="CardContent";const MG=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));MG.displayName="CardFooter";function di(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var IG="DismissableLayer",Bm="dismissableLayer.update",LG="dismissableLayer.pointerDownOutside",FG="dismissableLayer.focusOutside",zw,PN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NN=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:h,onDismiss:o,...s}=e,c=w.useContext(PN),[f,l]=w.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=w.useState({}),m=ge(t,E=>l(E)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),x=f?g.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=zG(E=>{const P=E.target,k=[...c.branches].some(A=>A.contains(P));!S||k||(i==null||i(E),h==null||h(E),E.defaultPrevented||o==null||o())},u),T=WG(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a==null||a(E),h==null||h(E),E.defaultPrevented||o==null||o())},u);return Fl(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},u),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(zw=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Ww(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=zw)}},[f,u,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Ww())},[f,c]),w.useEffect(()=>{const E=()=>d({});return document.addEventListener(Bm,E),()=>document.removeEventListener(Bm,E)},[]),v.jsx(he.div,{...s,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:di(e.onFocusCapture,T.onFocusCapture),onBlurCapture:di(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:di(e.onPointerDownCapture,C.onPointerDownCapture)})});NN.displayName=IG;var BG="DismissableLayerBranch",VG=w.forwardRef((e,t)=>{const n=w.useContext(PN),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(he.div,{...e,ref:i})});VG.displayName=BG;function zG(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let s=function(){jN(LG,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WG(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&jN(FG,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ww(){const e=new CustomEvent(Bm);document.dispatchEvent(e)}function jN(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}function UG(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var df=e=>{const{present:t,children:n}=e,r=$G(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=ge(r.ref,HG(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};df.displayName="Presence";function $G(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),h=e?"mounted":"unmounted",[o,s]=UG(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Fc(r.current);a.current=o==="mounted"?c:"none"},[o]),Ae(()=>{const c=r.current,f=i.current;if(f!==e){const u=a.current,d=Fc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Ae(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,l=d=>{const g=Fc(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},u=d=>{d.target===t&&(a.current=Fc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Fc(e){return(e==null?void 0:e.animationName)||"none"}function HG(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lh=0;function GG(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uw()),document.body.insertAdjacentElement("beforeend",e[1]??Uw()),Lh++,()=>{Lh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lh--}},[])}function Uw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ff="Dialog",[ON]=Bt(ff),[YG,Wn]=ON(ff),AN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:h=!0}=e,o=w.useRef(null),s=w.useRef(null),[c,f]=sr({prop:r,defaultProp:i??!1,onChange:a,caller:ff});return v.jsx(YG,{scope:t,triggerRef:o,contentRef:s,contentId:xn(),titleId:xn(),descriptionId:xn(),open:c,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(l=>!l),[f]),modal:h,children:n})};AN.displayName=ff;var DN="DialogTrigger",XG=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wn(DN,n),a=ge(t,i.triggerRef);return v.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jy(i.open),...r,ref:a,onClick:di(e.onClick,i.onOpenToggle)})});XG.displayName=DN;var Py="DialogPortal",[KG,kN]=ON(Py,{forceMount:void 0}),RN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Wn(Py,t);return v.jsx(KG,{scope:t,forceMount:n,children:w.Children.map(r,h=>v.jsx(df,{present:n||a.open,children:v.jsx(Bl,{asChild:!0,container:i,children:h})}))})};RN.displayName=Py;var td="DialogOverlay",MN=w.forwardRef((e,t)=>{const n=kN(td,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Wn(td,e.__scopeDialog);return a.modal?v.jsx(df,{present:r||a.open,children:v.jsx(QG,{...i,ref:t})}):null});MN.displayName=td;var qG=os("DialogOverlay.RemoveScroll"),QG=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wn(td,n);return v.jsx(of,{as:qG,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(he.div,{"data-state":jy(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ls="DialogContent",IN=w.forwardRef((e,t)=>{const n=kN(ls,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Wn(ls,e.__scopeDialog);return v.jsx(df,{present:r||a.open,children:a.modal?v.jsx(JG,{...i,ref:t}):v.jsx(ZG,{...i,ref:t})})});IN.displayName=ls;var JG=w.forwardRef((e,t)=>{const n=Wn(ls,e.__scopeDialog),r=w.useRef(null),i=ge(t,n.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return yy(a)},[]),v.jsx(LN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:di(e.onCloseAutoFocus,a=>{var h;a.preventDefault(),(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:di(e.onPointerDownOutside,a=>{const h=a.detail.originalEvent,o=h.button===0&&h.ctrlKey===!0;(h.button===2||o)&&a.preventDefault()}),onFocusOutside:di(e.onFocusOutside,a=>a.preventDefault())})}),ZG=w.forwardRef((e,t)=>{const n=Wn(ls,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return v.jsx(LN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var h,o;(h=e.onCloseAutoFocus)==null||h.call(e,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var s,c;(s=e.onInteractOutside)==null||s.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const h=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(h))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),LN=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...h}=e,o=Wn(ls,n),s=w.useRef(null),c=ge(t,s);return GG(),v.jsxs(v.Fragment,{children:[v.jsx(rf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:v.jsx(NN,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":jy(o.open),...h,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(e8,{titleId:o.titleId}),v.jsx(n8,{contentRef:s,descriptionId:o.descriptionId})]})]})}),Ny="DialogTitle",FN=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wn(Ny,n);return v.jsx(he.h2,{id:i.titleId,...r,ref:t})});FN.displayName=Ny;var BN="DialogDescription",VN=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wn(BN,n);return v.jsx(he.p,{id:i.descriptionId,...r,ref:t})});VN.displayName=BN;var zN="DialogClose",WN=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wn(zN,n);return v.jsx(he.button,{type:"button",...r,ref:t,onClick:di(e.onClick,()=>i.onOpenChange(!1))})});WN.displayName=zN;function jy(e){return e?"open":"closed"}var UN="DialogTitleWarning",[YJ,$N]=eM(UN,{contentName:ls,titleName:Ny,docsSlug:"dialog"}),e8=({titleId:e})=>{const t=$N(UN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},t8="DialogDescriptionWarning",n8=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$N(t8).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},HN=AN,GN=RN,hf=MN,pf=IN,mf=FN,gf=VN,YN=WN;const Pi=HN,r8=GN,XN=w.forwardRef(({className:e,...t},n)=>v.jsx(hf,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));XN.displayName=hf.displayName;const Dr=w.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(r8,{children:[v.jsx(XN,{}),v.jsxs(pf,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,v.jsxs(YN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[v.jsx(Fd,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dr.displayName=pf.displayName;const Ni=({className:e,...t})=>v.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ni.displayName="DialogHeader";const Ko=({className:e,...t})=>v.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ko.displayName="DialogFooter";const kr=w.forwardRef(({className:e,...t},n)=>v.jsx(mf,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));kr.displayName=mf.displayName;const i8=w.forwardRef(({className:e,...t},n)=>v.jsx(gf,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));i8.displayName=gf.displayName;const Ze=w.forwardRef(({className:e,type:t,...n},r)=>v.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ze.displayName="Input";var s8=Symbol.for("react.lazy"),nd=ps[" use ".trim().toString()];function o8(e){return typeof e=="object"&&e!==null&&"then"in e}function KN(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===s8&&"_payload"in e&&o8(e._payload)}function a8(e){const t=l8(e),n=w.forwardRef((r,i)=>{let{children:a,...h}=r;KN(a)&&typeof nd=="function"&&(a=nd(a._payload));const o=w.Children.toArray(a),s=o.find(u8);if(s){const c=s.props.children,f=o.map(l=>l===s?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:l);return v.jsx(t,{...h,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return v.jsx(t,{...h,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function l8(e){const t=w.forwardRef((n,r)=>{let{children:i,...a}=n;if(KN(i)&&typeof nd=="function"&&(i=nd(i._payload)),w.isValidElement(i)){const h=f8(i),o=d8(a,i.props);return i.type!==w.Fragment&&(o.ref=r?Ei(r,h):h),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var c8=Symbol("radix.slottable");function u8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===c8}function d8(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function f8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var h8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p8=h8.reduce((e,t)=>{const n=a8(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:h,...o}=i,s=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(s,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),m8="Label",qN=w.forwardRef((e,t)=>v.jsx(p8.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qN.displayName=m8;var QN=qN;const g8=Vo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=w.forwardRef(({className:e,...t},n)=>v.jsx(QN,{ref:n,className:se(g8(),e),...t}));qt.displayName=QN.displayName;function Vm(e,[t,n]){return Math.min(n,Math.max(t,e))}function it(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var v8="DismissableLayer",zm="dismissableLayer.update",y8="dismissableLayer.pointerDownOutside",x8="dismissableLayer.focusOutside",$w,JN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZN=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:h,onDismiss:o,...s}=e,c=w.useContext(JN),[f,l]=w.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=w.useState({}),m=ge(t,E=>l(E)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),x=f?g.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=S8(E=>{const P=E.target,k=[...c.branches].some(A=>A.contains(P));!S||k||(i==null||i(E),h==null||h(E),E.defaultPrevented||o==null||o())},u),T=C8(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a==null||a(E),h==null||h(E),E.defaultPrevented||o==null||o())},u);return Fl(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},u),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($w=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Hw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=$w)}},[f,u,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Hw())},[f,c]),w.useEffect(()=>{const E=()=>d({});return document.addEventListener(zm,E),()=>document.removeEventListener(zm,E)},[]),v.jsx(he.div,{...s,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:it(e.onFocusCapture,T.onFocusCapture),onBlurCapture:it(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:it(e.onPointerDownCapture,C.onPointerDownCapture)})});ZN.displayName=v8;var b8="DismissableLayerBranch",w8=w.forwardRef((e,t)=>{const n=w.useContext(JN),r=w.useRef(null),i=ge(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(he.div,{...e,ref:i})});w8.displayName=b8;function S8(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let s=function(){ej(y8,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function C8(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&ej(x8,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Hw(){const e=new CustomEvent(zm);document.dispatchEvent(e)}function ej(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vs(i,a):i.dispatchEvent(a)}var Fh=0;function T8(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gw()),document.body.insertAdjacentElement("beforeend",e[1]??Gw()),Fh++,()=>{Fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fh--}},[])}function Gw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oy="Popper",[tj,nj]=Bt(Oy),[E8,rj]=tj(Oy),ij=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return v.jsx(E8,{scope:t,anchor:r,onAnchorChange:i,children:n})};ij.displayName=Oy;var sj="PopperAnchor",oj=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=rj(sj,n),h=w.useRef(null),o=ge(t,h),s=w.useRef(null);return w.useEffect(()=>{const c=s.current;s.current=(r==null?void 0:r.current)||h.current,c!==s.current&&a.onAnchorChange(s.current)}),r?null:v.jsx(he.div,{...i,ref:o})});oj.displayName=sj;var Ay="PopperContent",[_8,P8]=tj(Ay),aj=w.forwardRef((e,t)=>{var I,Y,U,Q,ee,te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:h=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:l="partial",hideWhenDetached:u=!1,updatePositionStrategy:d="optimized",onPlaced:m,...g}=e,p=rj(Ay,n),[y,x]=w.useState(null),b=ge(t,H=>x(H)),[S,C]=w.useState(null),T=Wd(S),E=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,k=r+(a!=="center"?"-"+a:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(c)?c:[c],z=B.length>0,q={padding:A,boundary:B.filter(j8),altBoundary:z},{refs:L,floatingStyles:W,placement:J,isPositioned:G,middlewareData:M}=yv({strategy:"fixed",placement:k,whileElementsMounted:(...H)=>vv(...H,{animationFrame:d==="always"}),elements:{reference:p.anchor},middleware:[xv({mainAxis:i+P,alignmentAxis:h}),s&&bv({mainAxis:!0,crossAxis:!1,limiter:l==="partial"?wv():void 0,...q}),s&&Sv({...q}),Cv({...q,apply:({elements:H,rects:V,availableWidth:X,availableHeight:Z})=>{const{width:K,height:ne}=V.reference,oe=H.floating.style;oe.setProperty("--radix-popper-available-width",`${X}px`),oe.setProperty("--radix-popper-available-height",`${Z}px`),oe.setProperty("--radix-popper-anchor-width",`${K}px`),oe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),S&&Ev({element:S,padding:o}),O8({arrowWidth:E,arrowHeight:P}),u&&Tv({strategy:"referenceHidden",...q})]}),[_,N]=uj(J),O=Oe(m);Ae(()=>{G&&(O==null||O())},[G,O]);const D=(I=M.arrow)==null?void 0:I.x,$=(Y=M.arrow)==null?void 0:Y.y,R=((U=M.arrow)==null?void 0:U.centerOffset)!==0,[j,F]=w.useState();return Ae(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(Q=M.transformOrigin)==null?void 0:Q.x,(ee=M.transformOrigin)==null?void 0:ee.y].join(" "),...((te=M.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(_8,{scope:n,placedSide:_,onArrowChange:C,arrowX:D,arrowY:$,shouldHideArrow:R,children:v.jsx(he.div,{"data-side":_,"data-align":N,...g,ref:b,style:{...g.style,animation:G?void 0:"none"}})})})});aj.displayName=Ay;var lj="PopperArrow",N8={top:"bottom",right:"left",bottom:"top",left:"right"},cj=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=P8(lj,r),h=N8[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(_v,{...i,ref:n,style:{...i.style,display:"block"}})})});cj.displayName=lj;function j8(e){return e!==null}var O8=e=>({name:"transformOrigin",options:e,fn(t){var p,y,x;const{placement:n,rects:r,middlewareData:i}=t,h=((p=i.arrow)==null?void 0:p.centerOffset)!==0,o=h?0:e.arrowWidth,s=h?0:e.arrowHeight,[c,f]=uj(n),l={start:"0%",center:"50%",end:"100%"}[f],u=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let m="",g="";return c==="bottom"?(m=h?l:`${u}px`,g=`${-s}px`):c==="top"?(m=h?l:`${u}px`,g=`${r.floating.height+s}px`):c==="right"?(m=`${-s}px`,g=h?l:`${d}px`):c==="left"&&(m=`${r.floating.width+s}px`,g=h?l:`${d}px`),{data:{x:m,y:g}}}});function uj(e){const[t,n="center"]=e.split("-");return[t,n]}var A8=ij,D8=oj,k8=aj,R8=cj;function dj(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var M8=[" ","Enter","ArrowUp","ArrowDown"],I8=[" ","Enter"],cs="Select",[vf,yf,L8]=Ll(cs),[qo]=Bt(cs,[L8,nj]),xf=nj(),[F8,ji]=qo(cs),[B8,V8]=qo(cs),fj=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:h,defaultValue:o,onValueChange:s,dir:c,name:f,autoComplete:l,disabled:u,required:d,form:m}=e,g=xf(t),[p,y]=w.useState(null),[x,b]=w.useState(null),[S,C]=w.useState(!1),T=Xo(c),[E,P]=sr({prop:r,defaultProp:i??!1,onChange:a,caller:cs}),[k,A]=sr({prop:h,defaultProp:o,onChange:s,caller:cs}),B=w.useRef(null),z=p?m||!!p.closest("form"):!0,[q,L]=w.useState(new Set),W=Array.from(q).map(J=>J.props.value).join(";");return v.jsx(A8,{...g,children:v.jsxs(F8,{required:d,scope:t,trigger:p,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:xn(),value:k,onValueChange:A,open:E,onOpenChange:P,dir:T,triggerPointerDownPosRef:B,disabled:u,children:[v.jsx(vf.Provider,{scope:t,children:v.jsx(B8,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(J=>{L(G=>new Set(G).add(J))},[]),onNativeOptionRemove:w.useCallback(J=>{L(G=>{const M=new Set(G);return M.delete(J),M})},[]),children:n})}),z?v.jsxs(Ij,{"aria-hidden":!0,required:d,tabIndex:-1,name:f,autoComplete:l,value:k,onChange:J=>A(J.target.value),disabled:u,form:m,children:[k===void 0?v.jsx("option",{value:""}):null,Array.from(q)]},W):null]})})};fj.displayName=cs;var hj="SelectTrigger",pj=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=xf(n),h=ji(hj,n),o=h.disabled||r,s=ge(t,h.onTriggerChange),c=yf(n),f=w.useRef("touch"),[l,u,d]=Fj(g=>{const p=c().filter(b=>!b.disabled),y=p.find(b=>b.value===h.value),x=Bj(p,g,y);x!==void 0&&h.onValueChange(x.value)}),m=g=>{o||(h.onOpenChange(!0),d()),g&&(h.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return v.jsx(D8,{asChild:!0,...a,children:v.jsx(he.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Lj(h.value)?"":void 0,...i,ref:s,onClick:it(i.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&m(g)}),onPointerDown:it(i.onPointerDown,g=>{f.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:it(i.onKeyDown,g=>{const p=l.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&u(g.key),!(p&&g.key===" ")&&M8.includes(g.key)&&(m(),g.preventDefault())})})})});pj.displayName=hj;var mj="SelectValue",gj=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:h="",...o}=e,s=ji(mj,n),{onValueNodeHasChildrenChange:c}=s,f=a!==void 0,l=ge(t,s.onValueNodeChange);return Ae(()=>{c(f)},[c,f]),v.jsx(he.span,{...o,ref:l,style:{pointerEvents:"none"},children:Lj(s.value)?v.jsx(v.Fragment,{children:h}):a})});gj.displayName=mj;var z8="SelectIcon",vj=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return v.jsx(he.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});vj.displayName=z8;var W8="SelectPortal",yj=e=>v.jsx(Bl,{asChild:!0,...e});yj.displayName=W8;var us="SelectContent",xj=w.forwardRef((e,t)=>{const n=ji(us,e.__scopeSelect),[r,i]=w.useState();if(Ae(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Ar.createPortal(v.jsx(bj,{scope:e.__scopeSelect,children:v.jsx(vf.Slot,{scope:e.__scopeSelect,children:v.jsx("div",{children:e.children})})}),a):null}return v.jsx(wj,{...e,ref:t})});xj.displayName=us;var Pn=10,[bj,Oi]=qo(us),U8="SelectContentImpl",$8=os("SelectContent.RemoveScroll"),wj=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:h,side:o,sideOffset:s,align:c,alignOffset:f,arrowPadding:l,collisionBoundary:u,collisionPadding:d,sticky:m,hideWhenDetached:g,avoidCollisions:p,...y}=e,x=ji(us,n),[b,S]=w.useState(null),[C,T]=w.useState(null),E=ge(t,I=>S(I)),[P,k]=w.useState(null),[A,B]=w.useState(null),z=yf(n),[q,L]=w.useState(!1),W=w.useRef(!1);w.useEffect(()=>{if(b)return yy(b)},[b]),T8();const J=w.useCallback(I=>{const[Y,...U]=z().map(te=>te.ref.current),[Q]=U.slice(-1),ee=document.activeElement;for(const te of I)if(te===ee||(te==null||te.scrollIntoView({block:"nearest"}),te===Y&&C&&(C.scrollTop=0),te===Q&&C&&(C.scrollTop=C.scrollHeight),te==null||te.focus(),document.activeElement!==ee))return},[z,C]),G=w.useCallback(()=>J([P,b]),[J,P,b]);w.useEffect(()=>{q&&G()},[q,G]);const{onOpenChange:M,triggerPointerDownPosRef:_}=x;w.useEffect(()=>{if(b){let I={x:0,y:0};const Y=Q=>{var ee,te;I={x:Math.abs(Math.round(Q.pageX)-(((ee=_.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((te=_.current)==null?void 0:te.y)??0))}},U=Q=>{I.x<=10&&I.y<=10?Q.preventDefault():b.contains(Q.target)||M(!1),document.removeEventListener("pointermove",Y),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",U,{capture:!0})}}},[b,M,_]),w.useEffect(()=>{const I=()=>M(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[M]);const[N,O]=Fj(I=>{const Y=z().filter(ee=>!ee.disabled),U=Y.find(ee=>ee.ref.current===document.activeElement),Q=Bj(Y,I,U);Q&&setTimeout(()=>Q.ref.current.focus())}),D=w.useCallback((I,Y,U)=>{const Q=!W.current&&!U;(x.value!==void 0&&x.value===Y||Q)&&(k(I),Q&&(W.current=!0))},[x.value]),$=w.useCallback(()=>b==null?void 0:b.focus(),[b]),R=w.useCallback((I,Y,U)=>{const Q=!W.current&&!U;(x.value!==void 0&&x.value===Y||Q)&&B(I)},[x.value]),j=r==="popper"?Wm:Sj,F=j===Wm?{side:o,sideOffset:s,align:c,alignOffset:f,arrowPadding:l,collisionBoundary:u,collisionPadding:d,sticky:m,hideWhenDetached:g,avoidCollisions:p}:{};return v.jsx(bj,{scope:n,content:b,viewport:C,onViewportChange:T,itemRefCallback:D,selectedItem:P,onItemLeave:$,itemTextRefCallback:R,focusSelectedItem:G,selectedItemText:A,position:r,isPositioned:q,searchRef:N,children:v.jsx(of,{as:$8,allowPinchZoom:!0,children:v.jsx(rf,{asChild:!0,trapped:x.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:it(i,I=>{var Y;(Y=x.trigger)==null||Y.focus({preventScroll:!0}),I.preventDefault()}),children:v.jsx(ZN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:v.jsx(j,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:I=>I.preventDefault(),...y,...F,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:it(y.onKeyDown,I=>{const Y=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!Y&&I.key.length===1&&O(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let Q=z().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(I.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const ee=I.target,te=Q.indexOf(ee);Q=Q.slice(te+1)}setTimeout(()=>J(Q)),I.preventDefault()}})})})})})})});wj.displayName=U8;var H8="SelectItemAlignedPosition",Sj=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=ji(us,n),h=Oi(us,n),[o,s]=w.useState(null),[c,f]=w.useState(null),l=ge(t,E=>f(E)),u=yf(n),d=w.useRef(!1),m=w.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:y,focusSelectedItem:x}=h,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&p&&y){const E=a.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(a.dir!=="rtl"){const ee=A.left-P.left,te=k.left-ee,H=E.left-te,V=E.width+H,X=Math.max(V,P.width),Z=window.innerWidth-Pn,K=Vm(te,[Pn,Math.max(Pn,Z-X)]);o.style.minWidth=V+"px",o.style.left=K+"px"}else{const ee=P.right-A.right,te=window.innerWidth-k.right-ee,H=window.innerWidth-E.right-te,V=E.width+H,X=Math.max(V,P.width),Z=window.innerWidth-Pn,K=Vm(te,[Pn,Math.max(Pn,Z-X)]);o.style.minWidth=V+"px",o.style.right=K+"px"}const B=u(),z=window.innerHeight-Pn*2,q=g.scrollHeight,L=window.getComputedStyle(c),W=parseInt(L.borderTopWidth,10),J=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),M=parseInt(L.paddingBottom,10),_=W+J+q+M+G,N=Math.min(p.offsetHeight*5,_),O=window.getComputedStyle(g),D=parseInt(O.paddingTop,10),$=parseInt(O.paddingBottom,10),R=E.top+E.height/2-Pn,j=z-R,F=p.offsetHeight/2,I=p.offsetTop+F,Y=W+J+I,U=_-Y;if(Y<=R){const ee=B.length>0&&p===B[B.length-1].ref.current;o.style.bottom="0px";const te=c.clientHeight-g.offsetTop-g.offsetHeight,H=Math.max(j,F+(ee?$:0)+te+G),V=Y+H;o.style.height=V+"px"}else{const ee=B.length>0&&p===B[0].ref.current;o.style.top="0px";const H=Math.max(R,W+g.offsetTop+(ee?D:0)+F)+U;o.style.height=H+"px",g.scrollTop=Y-R+g.offsetTop}o.style.margin=`${Pn}px 0`,o.style.minHeight=N+"px",o.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[u,a.trigger,a.valueNode,o,c,g,p,y,a.dir,r]);Ae(()=>b(),[b]);const[S,C]=w.useState();Ae(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const T=w.useCallback(E=>{E&&m.current===!0&&(b(),x==null||x(),m.current=!1)},[b,x]);return v.jsx(Y8,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:d,onScrollButtonChange:T,children:v.jsx("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:v.jsx(he.div,{...i,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Sj.displayName=H8;var G8="SelectPopperPosition",Wm=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Pn,...a}=e,h=xf(n);return v.jsx(k8,{...h,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wm.displayName=G8;var[Y8,Dy]=qo(us,{}),Um="SelectViewport",Cj=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Oi(Um,n),h=Dy(Um,n),o=ge(t,a.onViewportChange),s=w.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(vf.Slot,{scope:n,children:v.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:it(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:l,shouldExpandOnScrollRef:u}=h;if(u!=null&&u.current&&l){const d=Math.abs(s.current-f.scrollTop);if(d>0){const m=window.innerHeight-Pn*2,g=parseFloat(l.style.minHeight),p=parseFloat(l.style.height),y=Math.max(g,p);if(y<m){const x=y+d,b=Math.min(m,x),S=x-b;l.style.height=b+"px",l.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,l.style.justifyContent="flex-end")}}}s.current=f.scrollTop})})})]})});Cj.displayName=Um;var Tj="SelectGroup",[X8,K8]=qo(Tj),q8=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=xn();return v.jsx(X8,{scope:n,id:i,children:v.jsx(he.div,{role:"group","aria-labelledby":i,...r,ref:t})})});q8.displayName=Tj;var Ej="SelectLabel",_j=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=K8(Ej,n);return v.jsx(he.div,{id:i.id,...r,ref:t})});_j.displayName=Ej;var rd="SelectItem",[Q8,Pj]=qo(rd),Nj=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...h}=e,o=ji(rd,n),s=Oi(rd,n),c=o.value===r,[f,l]=w.useState(a??""),[u,d]=w.useState(!1),m=ge(t,x=>{var b;return(b=s.itemRefCallback)==null?void 0:b.call(s,x,r,i)}),g=xn(),p=w.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Q8,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:w.useCallback(x=>{l(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:v.jsx(vf.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:v.jsx(he.div,{role:"option","aria-labelledby":g,"data-highlighted":u?"":void 0,"aria-selected":c&&u,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...h,ref:m,onFocus:it(h.onFocus,()=>d(!0)),onBlur:it(h.onBlur,()=>d(!1)),onClick:it(h.onClick,()=>{p.current!=="mouse"&&y()}),onPointerUp:it(h.onPointerUp,()=>{p.current==="mouse"&&y()}),onPointerDown:it(h.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:it(h.onPointerMove,x=>{var b;p.current=x.pointerType,i?(b=s.onItemLeave)==null||b.call(s):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(h.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=s.onItemLeave)==null||b.call(s))}),onKeyDown:it(h.onKeyDown,x=>{var S;((S=s.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(I8.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});Nj.displayName=rd;var _a="SelectItemText",jj=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,h=ji(_a,n),o=Oi(_a,n),s=Pj(_a,n),c=V8(_a,n),[f,l]=w.useState(null),u=ge(t,y=>l(y),s.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,s.value,s.disabled)}),d=f==null?void 0:f.textContent,m=w.useMemo(()=>v.jsx("option",{value:s.value,disabled:s.disabled,children:d},s.value),[s.disabled,s.value,d]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=c;return Ae(()=>(g(m),()=>p(m)),[g,p,m]),v.jsxs(v.Fragment,{children:[v.jsx(he.span,{id:s.textId,...a,ref:u}),s.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Ar.createPortal(a.children,h.valueNode):null]})});jj.displayName=_a;var Oj="SelectItemIndicator",Aj=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Pj(Oj,n).isSelected?v.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});Aj.displayName=Oj;var $m="SelectScrollUpButton",Dj=w.forwardRef((e,t)=>{const n=Oi($m,e.__scopeSelect),r=Dy($m,e.__scopeSelect),[i,a]=w.useState(!1),h=ge(t,r.onScrollButtonChange);return Ae(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=s.scrollTop>0;a(c)};const s=n.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?v.jsx(Rj,{...e,ref:h,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=n;o&&s&&(o.scrollTop=o.scrollTop-s.offsetHeight)}}):null});Dj.displayName=$m;var Hm="SelectScrollDownButton",kj=w.forwardRef((e,t)=>{const n=Oi(Hm,e.__scopeSelect),r=Dy(Hm,e.__scopeSelect),[i,a]=w.useState(!1),h=ge(t,r.onScrollButtonChange);return Ae(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=s.scrollHeight-s.clientHeight,f=Math.ceil(s.scrollTop)<c;a(f)};const s=n.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?v.jsx(Rj,{...e,ref:h,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=n;o&&s&&(o.scrollTop=o.scrollTop+s.offsetHeight)}}):null});kj.displayName=Hm;var Rj=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Oi("SelectScrollButton",n),h=w.useRef(null),o=yf(n),s=w.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return w.useEffect(()=>()=>s(),[s]),Ae(()=>{var f;const c=o().find(l=>l.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),v.jsx(he.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:it(i.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(r,50))}),onPointerMove:it(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),h.current===null&&(h.current=window.setInterval(r,50))}),onPointerLeave:it(i.onPointerLeave,()=>{s()})})}),J8="SelectSeparator",Mj=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});Mj.displayName=J8;var Gm="SelectArrow",Z8=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=xf(n),a=ji(Gm,n),h=Oi(Gm,n);return a.open&&h.position==="popper"?v.jsx(R8,{...i,...r,ref:t}):null});Z8.displayName=Gm;var eY="SelectBubbleInput",Ij=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=w.useRef(null),a=ge(r,i),h=dj(t);return w.useEffect(()=>{const o=i.current;if(!o)return;const s=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(s,"value").set;if(h!==t&&f){const l=new Event("change",{bubbles:!0});f.call(o,t),o.dispatchEvent(l)}},[h,t]),v.jsx(he.select,{...n,style:{...fT,...n.style},ref:a,defaultValue:t})});Ij.displayName=eY;function Lj(e){return e===""||e===void 0}function Fj(e){const t=Oe(e),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(h=>{const o=n.current+h;t(o),function s(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>s(""),1e3))}(o)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function Bj(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let h=tY(e,Math.max(a,0));i.length===1&&(h=h.filter(c=>c!==n));const s=h.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function tY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nY=fj,Vj=pj,rY=gj,iY=vj,sY=yj,zj=xj,oY=Cj,Wj=_j,Uj=Nj,aY=jj,lY=Aj,$j=Dj,Hj=kj,Gj=Mj;const Oo=nY,Ao=rY,ds=w.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(Vj,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,v.jsx(iY,{asChild:!0,children:v.jsx(sv,{className:"h-4 w-4 opacity-50"})})]}));ds.displayName=Vj.displayName;const Yj=w.forwardRef(({className:e,...t},n)=>v.jsx($j,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(JM,{className:"h-4 w-4"})}));Yj.displayName=$j.displayName;const Xj=w.forwardRef(({className:e,...t},n)=>v.jsx(Hj,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(sv,{className:"h-4 w-4"})}));Xj.displayName=Hj.displayName;const fs=w.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>v.jsx(sY,{children:v.jsxs(zj,{ref:i,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[v.jsx(Yj,{}),v.jsx(oY,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),v.jsx(Xj,{})]})}));fs.displayName=zj.displayName;const cY=w.forwardRef(({className:e,...t},n)=>v.jsx(Wj,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cY.displayName=Wj.displayName;const pn=w.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(Uj,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(lY,{children:v.jsx(IT,{className:"h-4 w-4"})})}),v.jsx(aY,{children:t})]}));pn.displayName=Uj.displayName;const uY=w.forwardRef(({className:e,...t},n)=>v.jsx(Gj,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));uY.displayName=Gj.displayName;function dY(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var tc=e=>{const{present:t,children:n}=e,r=fY(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=ge(r.ref,hY(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};tc.displayName="Presence";function fY(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),h=e?"mounted":"unmounted",[o,s]=dY(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Bc(r.current);a.current=o==="mounted"?c:"none"},[o]),Ae(()=>{const c=r.current,f=i.current;if(f!==e){const u=a.current,d=Bc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Ae(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,l=d=>{const g=Bc(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&g&&(s("ANIMATION_END"),!i.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},u=d=>{d.target===t&&(a.current=Bc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Bc(e){return(e==null?void 0:e.animationName)||"none"}function hY(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function es(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function pY(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var ky="ScrollArea",[Kj]=Bt(ky),[mY,Tn]=Kj(ky),qj=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...h}=e,[o,s]=w.useState(null),[c,f]=w.useState(null),[l,u]=w.useState(null),[d,m]=w.useState(null),[g,p]=w.useState(null),[y,x]=w.useState(0),[b,S]=w.useState(0),[C,T]=w.useState(!1),[E,P]=w.useState(!1),k=ge(t,B=>s(B)),A=Xo(i);return v.jsx(mY,{scope:n,type:r,dir:A,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:f,content:l,onContentChange:u,scrollbarX:d,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:p,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:S,children:v.jsx(he.div,{dir:A,...h,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});qj.displayName=ky;var Qj="ScrollAreaViewport",Jj=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,h=Tn(Qj,n),o=w.useRef(null),s=ge(t,o,h.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(he.div,{"data-radix-scroll-area-viewport":"",...a,ref:s,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...e.style},children:v.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Jj.displayName=Qj;var cr="ScrollAreaScrollbar",Ry=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tn(cr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:h}=i,o=e.orientation==="horizontal";return w.useEffect(()=>(o?a(!0):h(!0),()=>{o?a(!1):h(!1)}),[o,a,h]),i.type==="hover"?v.jsx(gY,{...r,ref:t,forceMount:n}):i.type==="scroll"?v.jsx(vY,{...r,ref:t,forceMount:n}):i.type==="auto"?v.jsx(Zj,{...r,ref:t,forceMount:n}):i.type==="always"?v.jsx(My,{...r,ref:t}):null});Ry.displayName=cr;var gY=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tn(cr,e.__scopeScrollArea),[a,h]=w.useState(!1);return w.useEffect(()=>{const o=i.scrollArea;let s=0;if(o){const c=()=>{window.clearTimeout(s),h(!0)},f=()=>{s=window.setTimeout(()=>h(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",f),()=>{window.clearTimeout(s),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),v.jsx(tc,{present:n||a,children:v.jsx(Zj,{"data-state":a?"visible":"hidden",...r,ref:t})})}),vY=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tn(cr,e.__scopeScrollArea),a=e.orientation==="horizontal",h=wf(()=>s("SCROLL_END"),100),[o,s]=pY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>s("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,s]),w.useEffect(()=>{const c=i.viewport,f=a?"scrollLeft":"scrollTop";if(c){let l=c[f];const u=()=>{const d=c[f];l!==d&&(s("SCROLL"),h()),l=d};return c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[i.viewport,a,s,h]),v.jsx(tc,{present:n||o!=="hidden",children:v.jsx(My,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:es(e.onPointerEnter,()=>s("POINTER_ENTER")),onPointerLeave:es(e.onPointerLeave,()=>s("POINTER_LEAVE"))})})}),Zj=w.forwardRef((e,t)=>{const n=Tn(cr,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,h]=w.useState(!1),o=e.orientation==="horizontal",s=wf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;h(o?c:f)}},10);return Do(n.viewport,s),Do(n.content,s),v.jsx(tc,{present:r||a,children:v.jsx(My,{"data-state":a?"visible":"hidden",...i,ref:t})})}),My=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Tn(cr,e.__scopeScrollArea),a=w.useRef(null),h=w.useRef(0),[o,s]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=iO(o.viewport,o.content),f={...r,sizes:o,onSizesChange:s,hasThumb:c>0&&c<1,onThumbChange:u=>a.current=u,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:u=>h.current=u};function l(u,d){return CY(u,h.current,o,d)}return n==="horizontal"?v.jsx(yY,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollLeft,d=Yw(u,o,i.dir);a.current.style.transform=`translate3d(${d}px, 0, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollLeft=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollLeft=l(u,i.dir))}}):n==="vertical"?v.jsx(xY,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollTop,d=Yw(u,o);a.current.style.transform=`translate3d(0, ${d}px, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollTop=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollTop=l(u))}}):null}),yY=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Tn(cr,e.__scopeScrollArea),[h,o]=w.useState(),s=w.useRef(null),c=ge(t,s,a.onScrollbarXChange);return w.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),v.jsx(tO,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,l)=>{if(a.viewport){const u=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(u),oO(u,l)&&f.preventDefault()}},onResize:()=>{s.current&&a.viewport&&h&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:s.current.clientWidth,paddingStart:sd(h.paddingLeft),paddingEnd:sd(h.paddingRight)}})}})}),xY=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Tn(cr,e.__scopeScrollArea),[h,o]=w.useState(),s=w.useRef(null),c=ge(t,s,a.onScrollbarYChange);return w.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),v.jsx(tO,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,l)=>{if(a.viewport){const u=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(u),oO(u,l)&&f.preventDefault()}},onResize:()=>{s.current&&a.viewport&&h&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:s.current.clientHeight,paddingStart:sd(h.paddingTop),paddingEnd:sd(h.paddingBottom)}})}})}),[bY,eO]=Kj(cr),tO=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:h,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:c,onWheelScroll:f,onResize:l,...u}=e,d=Tn(cr,n),[m,g]=w.useState(null),p=ge(t,k=>g(k)),y=w.useRef(null),x=w.useRef(""),b=d.viewport,S=r.content-r.viewport,C=Oe(f),T=Oe(s),E=wf(l,10);function P(k){if(y.current){const A=k.clientX-y.current.left,B=k.clientY-y.current.top;c({x:A,y:B})}}return w.useEffect(()=>{const k=A=>{const B=A.target;(m==null?void 0:m.contains(B))&&C(A,S)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,m,S,C]),w.useEffect(T,[r,T]),Do(m,E),Do(d.content,E),v.jsx(bY,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Oe(a),onThumbPointerUp:Oe(h),onThumbPositionChange:T,onThumbPointerDown:Oe(o),children:v.jsx(he.div,{...u,ref:p,style:{position:"absolute",...u.style},onPointerDown:es(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",d.viewport&&(d.viewport.style.scrollBehavior="auto"),P(k))}),onPointerMove:es(e.onPointerMove,P),onPointerUp:es(e.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,d.viewport&&(d.viewport.style.scrollBehavior=""),y.current=null})})})}),id="ScrollAreaThumb",nO=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=eO(id,e.__scopeScrollArea);return v.jsx(tc,{present:n||i.hasThumb,children:v.jsx(wY,{ref:t,...r})})}),wY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Tn(id,n),h=eO(id,n),{onThumbPositionChange:o}=h,s=ge(t,l=>h.onThumbChange(l)),c=w.useRef(void 0),f=wf(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const l=a.viewport;if(l){const u=()=>{if(f(),!c.current){const d=TY(l,o);c.current=d,o()}};return o(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[a.viewport,f,o]),v.jsx(he.div,{"data-state":h.hasThumb?"visible":"hidden",...i,ref:s,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:es(e.onPointerDownCapture,l=>{const d=l.target.getBoundingClientRect(),m=l.clientX-d.left,g=l.clientY-d.top;h.onThumbPointerDown({x:m,y:g})}),onPointerUp:es(e.onPointerUp,h.onThumbPointerUp)})});nO.displayName=id;var Iy="ScrollAreaCorner",rO=w.forwardRef((e,t)=>{const n=Tn(Iy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?v.jsx(SY,{...e,ref:t}):null});rO.displayName=Iy;var SY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Tn(Iy,n),[a,h]=w.useState(0),[o,s]=w.useState(0),c=!!(a&&o);return Do(i.scrollbarX,()=>{var l;const f=((l=i.scrollbarX)==null?void 0:l.offsetHeight)||0;i.onCornerHeightChange(f),s(f)}),Do(i.scrollbarY,()=>{var l;const f=((l=i.scrollbarY)==null?void 0:l.offsetWidth)||0;i.onCornerWidthChange(f),h(f)}),c?v.jsx(he.div,{...r,ref:t,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sd(e){return e?parseInt(e,10):0}function iO(e,t){const n=e/t;return isNaN(n)?0:n}function bf(e){const t=iO(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function CY(e,t,n,r="ltr"){const i=bf(n),a=i/2,h=t||a,o=i-h,s=n.scrollbar.paddingStart+h,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,f=n.content-n.viewport,l=r==="ltr"?[0,f]:[f*-1,0];return sO([s,c],l)(e)}function Yw(e,t,n="ltr"){const r=bf(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,h=t.content-t.viewport,o=a-r,s=n==="ltr"?[0,h]:[h*-1,0],c=Vm(e,s);return sO([0,h],[0,o])(c)}function sO(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oO(e,t){return e>0&&e<t}var TY=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},h=n.left!==a.left,o=n.top!==a.top;(h||o)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function wf(e,t){const n=Oe(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Do(e,t){const n=Oe(t);Ae(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var aO=qj,EY=Jj,_Y=rO;const lO=w.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(aO,{ref:r,className:se("relative overflow-hidden",e),...n,children:[v.jsx(EY,{className:"h-full w-full rounded-[inherit]",children:t}),v.jsx(cO,{}),v.jsx(_Y,{})]}));lO.displayName=aO.displayName;const cO=w.forwardRef(({className:e,orientation:t="vertical",...n},r)=>v.jsx(Ry,{ref:r,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:v.jsx(nO,{className:"relative flex-1 rounded-full bg-border"})}));cO.displayName=Ry.displayName;const uO=w.forwardRef(({className:e,...t},n)=>v.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));uO.displayName="Textarea";var js={};const PY={},NY=Object.freeze(Object.defineProperty({__proto__:null,default:PY},Symbol.toStringTag,{value:"Module"})),Bh=SD(NY);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.5.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Bh,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Bh.implForWrapper,t.nodeCanvas=Bh.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function o(d,m){if(this.__eventListeners[d]){var g=this.__eventListeners[d];m?g[g.indexOf(m)]=!1:t.util.array.fill(g,!1)}}function s(d,m){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in d)this.on(g,d[g]);else this.__eventListeners[d]||(this.__eventListeners[d]=[]),this.__eventListeners[d].push(m);return this}function c(d,m){var g=(function(){m.apply(this,arguments),this.off(d,g)}).bind(this);this.on(d,g)}function f(d,m){if(arguments.length===1)for(var g in d)c.call(this,g,d[g]);else c.call(this,d,m);return this}function l(d,m){if(!this.__eventListeners)return this;if(arguments.length===0)for(d in this.__eventListeners)o.call(this,d);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in d)o.call(this,g,d[g]);else o.call(this,d,m);return this}function u(d,m){if(!this.__eventListeners)return this;var g=this.__eventListeners[d];if(!g)return this;for(var p=0,y=g.length;p<y;p++)g[p]&&g[p].call(this,m||{});return this.__eventListeners[d]=g.filter(function(x){return x!==!1}),this}t.Observable={fire:u,on:s,once:f,off:l}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var o=0,s=arguments.length;o<s;o++)this._onObjectAdded(arguments[o]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(o,s,c){var f=this._objects;return c?f[s]=o:f.splice(s,0,o),this._onObjectAdded&&this._onObjectAdded(o),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var o=this._objects,s,c=!1,f=0,l=arguments.length;f<l;f++)s=o.indexOf(arguments[f]),s!==-1&&(c=!0,o.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(o,s){for(var c=this.getObjects(),f=0,l=c.length;f<l;f++)o.call(s,c[f],f,c);return this},getObjects:function(o){return typeof o>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===o})},item:function(o){return this._objects[o]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(o,s){return this._objects.indexOf(o)>-1?!0:s?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(o,!0)}):!1},complexity:function(){return this._objects.reduce(function(o,s){return o+=s.complexity?s.complexity():0,o},0)}},t.CommonMethods={_setOptions:function(o){for(var s in o)this.set(s,o[s])},_initGradient:function(o,s){o&&o.colorStops&&!(o instanceof t.Gradient)&&this.set(s,new t.Gradient(o))},_initPattern:function(o,s,c){o&&o.source&&!(o instanceof t.Pattern)?this.set(s,new t.Pattern(o,c)):c&&c()},_setObject:function(o){for(var s in o)this._set(s,o[s])},set:function(o,s){return typeof o=="object"?this._setObject(o):this._set(o,s),this},_set:function(o,s){this[o]=s},toggle:function(o){var s=this.get(o);return typeof s=="boolean"&&this.set(o,!s),this},get:function(o){return this[o]}},function(o){var s=Math.sqrt,c=Math.atan2,f=Math.pow,l=Math.PI/180,u=Math.PI/2;t.util={cos:function(d){if(d===0)return 1;d<0&&(d=-d);var m=d/u;switch(m){case 1:case 3:return 0;case 2:return-1}return Math.cos(d)},sin:function(d){if(d===0)return 0;var m=d/u,g=1;switch(d<0&&(g=-1),m){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(d)},removeFromArray:function(d,m){var g=d.indexOf(m);return g!==-1&&d.splice(g,1),d},getRandomInt:function(d,m){return Math.floor(Math.random()*(m-d+1))+d},degreesToRadians:function(d){return d*l},radiansToDegrees:function(d){return d/l},rotatePoint:function(d,m,g){var p=new t.Point(d.x-m.x,d.y-m.y),y=t.util.rotateVector(p,g);return new t.Point(y.x,y.y).addEquals(m)},rotateVector:function(d,m){var g=t.util.sin(m),p=t.util.cos(m),y=d.x*p-d.y*g,x=d.x*g+d.y*p;return{x:y,y:x}},createVector:function(d,m){return new t.Point(m.x-d.x,m.y-d.y)},calcAngleBetweenVectors:function(d,m){return Math.acos((d.x*m.x+d.y*m.y)/(Math.hypot(d.x,d.y)*Math.hypot(m.x,m.y)))},getHatVector:function(d){return new t.Point(d.x,d.y).multiply(1/Math.hypot(d.x,d.y))},getBisector:function(d,m,g){var p=t.util.createVector(d,m),y=t.util.createVector(d,g),x=t.util.calcAngleBetweenVectors(p,y),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(p,x),y),S=x*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(p,S)),angle:x}},projectStrokeOnPoints:function(d,m,g){var p=[],y=m.strokeWidth/2,x=m.strokeUniform?new t.Point(1/m.scaleX,1/m.scaleY):new t.Point(1,1),b=function(S){var C=y/Math.hypot(S.x,S.y);return new t.Point(S.x*C*x.x,S.y*C*x.y)};return d.length<=1||d.forEach(function(S,C){var T=new t.Point(S.x,S.y),E,P;C===0?(P=d[C+1],E=g?b(t.util.createVector(P,T)).addEquals(T):d[d.length-1]):C===d.length-1?(E=d[C-1],P=g?b(t.util.createVector(E,T)).addEquals(T):d[0]):(E=d[C-1],P=d[C+1]);var k=t.util.getBisector(T,E,P),A=k.vector,B=k.angle,z,q;if(m.strokeLineJoin==="miter"&&(z=-y/Math.sin(B/2),q=new t.Point(A.x*z*x.x,A.y*z*x.y),Math.hypot(q.x,q.y)/y<=m.strokeMiterLimit)){p.push(T.add(q)),p.push(T.subtract(q));return}z=-y*Math.SQRT2,q=new t.Point(A.x*z*x.x,A.y*z*x.y),p.push(T.add(q)),p.push(T.subtract(q))}),p},transformPoint:function(d,m,g){return g?new t.Point(m[0]*d.x+m[2]*d.y,m[1]*d.x+m[3]*d.y):new t.Point(m[0]*d.x+m[2]*d.y+m[4],m[1]*d.x+m[3]*d.y+m[5])},makeBoundingBoxFromPoints:function(d,m){if(m)for(var g=0;g<d.length;g++)d[g]=t.util.transformPoint(d[g],m);var p=[d[0].x,d[1].x,d[2].x,d[3].x],y=t.util.array.min(p),x=t.util.array.max(p),b=x-y,S=[d[0].y,d[1].y,d[2].y,d[3].y],C=t.util.array.min(S),T=t.util.array.max(S),E=T-C;return{left:y,top:C,width:b,height:E}},invertTransform:function(d){var m=1/(d[0]*d[3]-d[1]*d[2]),g=[m*d[3],-m*d[1],-m*d[2],m*d[0]],p=t.util.transformPoint({x:d[4],y:d[5]},g,!0);return g[4]=-p.x,g[5]=-p.y,g},toFixed:function(d,m){return parseFloat(Number(d).toFixed(m))},parseUnit:function(d,m){var g=/\D{0,2}$/.exec(d),p=parseFloat(d);switch(m||(m=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return p*t.DPI/25.4;case"cm":return p*t.DPI/2.54;case"in":return p*t.DPI;case"pt":return p*t.DPI/72;case"pc":return p*t.DPI/72*12;case"em":return p*m;default:return p}},falseFunction:function(){return!1},getKlass:function(d,m){return d=t.util.string.camelize(d.charAt(0).toUpperCase()+d.slice(1)),t.util.resolveNamespace(m)[d]},getSvgAttributes:function(d){var m=["instantiated_by_use","style","id","class"];switch(d){case"linearGradient":m=m.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":m=m.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":m=m.concat(["offset","stop-color","stop-opacity"]);break}return m},resolveNamespace:function(d){if(!d)return t;var m=d.split("."),g=m.length,p,y=o||t.window;for(p=0;p<g;++p)y=y[m[p]];return y},loadImage:function(d,m,g,p){if(!d){m&&m.call(g,d);return}var y=t.util.createImage(),x=function(){m&&m.call(g,y,!1),y=y.onload=y.onerror=null};y.onload=x,y.onerror=function(){t.log("Error loading "+y.src),m&&m.call(g,null,!0),y=y.onload=y.onerror=null},d.indexOf("data")!==0&&p!==void 0&&p!==null&&(y.crossOrigin=p),d.substring(0,14)==="data:image/svg"&&(y.onload=null,t.util.loadImageInDom(y,x)),y.src=d},loadImageInDom:function(d,m){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(d),t.document.querySelector("body").appendChild(g),d.onload=function(){m(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(d,m,g,p){d=d||[];var y=[],x=0,b=d.length;function S(){++x===b&&m&&m(y.filter(function(C){return C}))}if(!b){m&&m(y);return}d.forEach(function(C,T){if(!C||!C.type){S();return}var E=t.util.getKlass(C.type,g);E.fromObject(C,function(P,k){k||(y[T]=P),p&&p(C,P,k),S()})})},enlivenObjectEnlivables:function(d,m,g){var p=t.Object.ENLIVEN_PROPS.filter(function(y){return!!d[y]});t.util.enlivenObjects(p.map(function(y){return d[y]}),function(y){var x={};p.forEach(function(b,S){x[b]=y[S],m&&(m[b]=y[S])}),g&&g(x)})},enlivenPatterns:function(d,m){d=d||[];function g(){++y===x&&m&&m(p)}var p=[],y=0,x=d.length;if(!x){m&&m(p);return}d.forEach(function(b,S){b&&b.source?new t.Pattern(b,function(C){p[S]=C,g()}):(p[S]=b,g())})},groupSVGElements:function(d,m,g){var p;return d&&d.length===1?(typeof g<"u"&&(d[0].sourcePath=g),d[0]):(m&&(m.width&&m.height?m.centerPoint={x:m.width/2,y:m.height/2}:(delete m.width,delete m.height)),p=new t.Group(d,m),typeof g<"u"&&(p.sourcePath=g),p)},populateWithProperties:function(d,m,g){if(g&&Array.isArray(g))for(var p=0,y=g.length;p<y;p++)g[p]in d&&(m[g[p]]=d[g[p]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(d){var m=t.util.createCanvasElement();return m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0),m},toDataURL:function(d,m,g){return d.toDataURL("image/"+m,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(d,m,g){return[d[0]*m[0]+d[2]*m[1],d[1]*m[0]+d[3]*m[1],d[0]*m[2]+d[2]*m[3],d[1]*m[2]+d[3]*m[3],g?0:d[0]*m[4]+d[2]*m[5]+d[4],g?0:d[1]*m[4]+d[3]*m[5]+d[5]]},qrDecompose:function(d){var m=c(d[1],d[0]),g=f(d[0],2)+f(d[1],2),p=s(g),y=(d[0]*d[3]-d[2]*d[1])/p,x=c(d[0]*d[2]+d[1]*d[3],g);return{angle:m/l,scaleX:p,scaleY:y,skewX:x/l,skewY:0,translateX:d[4],translateY:d[5]}},calcRotateMatrix:function(d){if(!d.angle)return t.iMatrix.concat();var m=t.util.degreesToRadians(d.angle),g=t.util.cos(m),p=t.util.sin(m);return[g,p,-p,g,0,0]},calcDimensionsMatrix:function(d){var m=typeof d.scaleX>"u"?1:d.scaleX,g=typeof d.scaleY>"u"?1:d.scaleY,p=[d.flipX?-m:m,0,0,d.flipY?-g:g,0,0],y=t.util.multiplyTransformMatrices,x=t.util.degreesToRadians;return d.skewX&&(p=y(p,[1,0,Math.tan(x(d.skewX)),1],!0)),d.skewY&&(p=y(p,[1,Math.tan(x(d.skewY)),0,1],!0)),p},composeMatrix:function(d){var m=[1,0,0,1,d.translateX||0,d.translateY||0],g=t.util.multiplyTransformMatrices;return d.angle&&(m=g(m,t.util.calcRotateMatrix(d))),(d.scaleX!==1||d.scaleY!==1||d.skewX||d.skewY||d.flipX||d.flipY)&&(m=g(m,t.util.calcDimensionsMatrix(d))),m},resetObjectTransform:function(d){d.scaleX=1,d.scaleY=1,d.skewX=0,d.skewY=0,d.flipX=!1,d.flipY=!1,d.rotate(0)},saveObjectTransform:function(d){return{scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,angle:d.angle,left:d.left,flipX:d.flipX,flipY:d.flipY,top:d.top}},isTransparent:function(d,m,g,p){p>0&&(m>p?m-=p:m=0,g>p?g-=p:g=0);var y=!0,x,b,S=d.getImageData(m,g,p*2||1,p*2||1),C=S.data.length;for(x=3;x<C&&(b=S.data[x],y=b<=0,y!==!1);x+=4);return S=null,y},parsePreserveAspectRatioAttribute:function(d){var m="meet",g="Mid",p="Mid",y=d.split(" "),x;return y&&y.length&&(m=y.pop(),m!=="meet"&&m!=="slice"?(x=m,m="meet"):y.length&&(x=y.pop())),g=x!=="none"?x.slice(1,4):"none",p=x!=="none"?x.slice(5,8):"none",{meetOrSlice:m,alignX:g,alignY:p}},clearFabricFontCache:function(d){d=(d||"").toLowerCase(),d?t.charWidthsCache[d]&&delete t.charWidthsCache[d]:t.charWidthsCache={}},limitDimsByArea:function(d,m){var g=Math.sqrt(m*d),p=Math.floor(m/g);return{x:Math.floor(g),y:p}},capValue:function(d,m,g){return Math.max(d,Math.min(m,g))},findScaleToFit:function(d,m){return Math.min(m.width/d.width,m.height/d.height)},findScaleToCover:function(d,m){return Math.max(m.width/d.width,m.height/d.height)},matrixToSVG:function(d){return"matrix("+d.map(function(m){return t.util.toFixed(m,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(d,m){var g=t.util.invertTransform(m),p=t.util.multiplyTransformMatrices(g,d.calcOwnMatrix());t.util.applyTransformToObject(d,p)},addTransformToObject:function(d,m){t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(m,d.calcOwnMatrix()))},applyTransformToObject:function(d,m){var g=t.util.qrDecompose(m),p=new t.Point(g.translateX,g.translateY);d.flipX=!1,d.flipY=!1,d.set("scaleX",g.scaleX),d.set("scaleY",g.scaleY),d.skewX=g.skewX,d.skewY=g.skewY,d.angle=g.angle,d.setPositionByOrigin(p,"center","center")},sizeAfterTransform:function(d,m,g){var p=d/2,y=m/2,x=[{x:-p,y:-y},{x:p,y:-y},{x:-p,y},{x:p,y}],b=t.util.calcDimensionsMatrix(g),S=t.util.makeBoundingBoxFromPoints(x,b);return{x:S.width,y:S.height}},mergeClipPaths:function(d,m){var g=d,p=m;g.inverted&&!p.inverted&&(g=m,p=d),t.util.applyTransformToObject(p,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),p.calcTransformMatrix()));var y=g.inverted&&p.inverted;return y&&(g.inverted=p.inverted=!1),new t.Group([g],{clipPath:p,inverted:y})},hasStyleChanged:function(d,m,g){return g=g||!1,d.fill!==m.fill||d.stroke!==m.stroke||d.strokeWidth!==m.strokeWidth||d.fontSize!==m.fontSize||d.fontFamily!==m.fontFamily||d.fontWeight!==m.fontWeight||d.fontStyle!==m.fontStyle||d.textBackgroundColor!==m.textBackgroundColor||d.deltaY!==m.deltaY||g&&(d.overline!==m.overline||d.underline!==m.underline||d.linethrough!==m.linethrough)},stylesToArray:function(g,m){for(var g=t.util.object.clone(g,!0),p=m.split(`
`),y=-1,x={},b=[],S=0;S<p.length;S++){if(!g[S]){y+=p[S].length;continue}for(var C=0;C<p[S].length;C++){y++;var T=g[S][C];if(T&&Object.keys(T).length>0){var E=t.util.hasStyleChanged(x,T,!0);E?b.push({start:y,end:y+1,style:T}):b[b.length-1].end++}x=T||{}}}return b},stylesFromArray:function(d,m){if(!Array.isArray(d))return d;for(var g=m.split(`
`),p=-1,y=0,x={},b=0;b<g.length;b++)for(var S=0;S<g[b].length;S++)p++,d[y]&&d[y].start<=p&&p<d[y].end&&(x[b]=x[b]||{},x[b][S]=Object.assign({},d[y].style),p===d[y].end-1&&y++);return x}}}(e),function(){var o=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(_,N,O,D,$,R,j,F,I,Y,U){var Q=t.util.cos(_),ee=t.util.sin(_),te=t.util.cos(N),H=t.util.sin(N),V=O*$*te-D*R*H+j,X=D*$*te+O*R*H+F,Z=Y+I*(-O*$*ee-D*R*Q),K=U+I*(-D*$*ee+O*R*Q),ne=V+I*(O*$*H+D*R*te),oe=X+I*(D*$*H-O*R*te);return["C",Z,K,ne,oe,V,X]}function l(_,N,O,D,$,R,j){var F=Math.PI,I=j*F/180,Y=t.util.sin(I),U=t.util.cos(I),Q=0,ee=0;O=Math.abs(O),D=Math.abs(D);var te=-U*_*.5-Y*N*.5,H=-U*N*.5+Y*_*.5,V=O*O,X=D*D,Z=H*H,K=te*te,ne=V*X-V*Z-X*K,oe=0;if(ne<0){var we=Math.sqrt(1-ne/(V*X));O*=we,D*=we}else oe=($===R?-1:1)*Math.sqrt(ne/(V*Z+X*K));var pe=oe*O*H/D,ie=-oe*D*te/O,ve=U*pe-Y*ie+_*.5,Ce=Y*pe+U*ie+N*.5,Pe=u(1,0,(te-pe)/O,(H-ie)/D),$e=u((te-pe)/O,(H-ie)/D,(-te-pe)/O,(-H-ie)/D);R===0&&$e>0?$e-=2*F:R===1&&$e<0&&($e+=2*F);for(var Me=Math.ceil(Math.abs($e/F*2)),Nt=[],rt=$e/Me,Ai=8/3*Math.sin(rt/4)*Math.sin(rt/4)/Math.sin(rt/2),ea=Pe+rt,Un=0;Un<Me;Un++)Nt[Un]=f(Pe,ea,U,Y,O,D,ve,Ce,Ai,Q,ee),Q=Nt[Un][5],ee=Nt[Un][6],Pe=ea,ea+=rt;return Nt}function u(_,N,O,D){var $=Math.atan2(N,_),R=Math.atan2(D,O);return R>=$?R-$:2*Math.PI-($-R)}function d(_,N,O,D,$,R,j,F){var I;if(t.cachesBoundsOfCurve&&(I=o.call(arguments),t.boundsOfCurveCache[I]))return t.boundsOfCurveCache[I];var Y=Math.sqrt,U=Math.min,Q=Math.max,ee=Math.abs,te=[],H=[[],[]],V,X,Z,K,ne,oe,we,pe;X=6*_-12*O+6*$,V=-3*_+9*O-9*$+3*j,Z=3*O-3*_;for(var ie=0;ie<2;++ie){if(ie>0&&(X=6*N-12*D+6*R,V=-3*N+9*D-9*R+3*F,Z=3*D-3*N),ee(V)<1e-12){if(ee(X)<1e-12)continue;K=-Z/X,0<K&&K<1&&te.push(K);continue}we=X*X-4*Z*V,!(we<0)&&(pe=Y(we),ne=(-X+pe)/(2*V),0<ne&&ne<1&&te.push(ne),oe=(-X-pe)/(2*V),0<oe&&oe<1&&te.push(oe))}for(var ve,Ce,Pe=te.length,$e=Pe,Me;Pe--;)K=te[Pe],Me=1-K,ve=Me*Me*Me*_+3*Me*Me*K*O+3*Me*K*K*$+K*K*K*j,H[0][Pe]=ve,Ce=Me*Me*Me*N+3*Me*Me*K*D+3*Me*K*K*R+K*K*K*F,H[1][Pe]=Ce;H[0][$e]=_,H[1][$e]=N,H[0][$e+1]=j,H[1][$e+1]=F;var Nt=[{x:U.apply(null,H[0]),y:U.apply(null,H[1])},{x:Q.apply(null,H[0]),y:Q.apply(null,H[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[I]=Nt),Nt}function m(_,N,O){for(var D=O[1],$=O[2],R=O[3],j=O[4],F=O[5],I=O[6],Y=O[7],U=l(I-_,Y-N,D,$,j,F,R),Q=0,ee=U.length;Q<ee;Q++)U[Q][1]+=_,U[Q][2]+=N,U[Q][3]+=_,U[Q][4]+=N,U[Q][5]+=_,U[Q][6]+=N;return U}function g(_){var N=0,O=0,D=_.length,$=0,R=0,j,F,I,Y=[],U,Q,ee;for(F=0;F<D;++F){switch(I=!1,j=_[F].slice(0),j[0]){case"l":j[0]="L",j[1]+=N,j[2]+=O;case"L":N=j[1],O=j[2];break;case"h":j[1]+=N;case"H":j[0]="L",j[2]=O,N=j[1];break;case"v":j[1]+=O;case"V":j[0]="L",O=j[1],j[1]=N,j[2]=O;break;case"m":j[0]="M",j[1]+=N,j[2]+=O;case"M":N=j[1],O=j[2],$=j[1],R=j[2];break;case"c":j[0]="C",j[1]+=N,j[2]+=O,j[3]+=N,j[4]+=O,j[5]+=N,j[6]+=O;case"C":Q=j[3],ee=j[4],N=j[5],O=j[6];break;case"s":j[0]="S",j[1]+=N,j[2]+=O,j[3]+=N,j[4]+=O;case"S":U==="C"?(Q=2*N-Q,ee=2*O-ee):(Q=N,ee=O),N=j[3],O=j[4],j[0]="C",j[5]=j[3],j[6]=j[4],j[3]=j[1],j[4]=j[2],j[1]=Q,j[2]=ee,Q=j[3],ee=j[4];break;case"q":j[0]="Q",j[1]+=N,j[2]+=O,j[3]+=N,j[4]+=O;case"Q":Q=j[1],ee=j[2],N=j[3],O=j[4];break;case"t":j[0]="T",j[1]+=N,j[2]+=O;case"T":U==="Q"?(Q=2*N-Q,ee=2*O-ee):(Q=N,ee=O),j[0]="Q",N=j[1],O=j[2],j[1]=Q,j[2]=ee,j[3]=N,j[4]=O;break;case"a":j[0]="A",j[6]+=N,j[7]+=O;case"A":I=!0,Y=Y.concat(m(N,O,j)),N=j[6],O=j[7];break;case"z":case"Z":N=$,O=R;break}I||Y.push(j),U=j[0]}return Y}function p(_,N,O,D){return Math.sqrt((O-_)*(O-_)+(D-N)*(D-N))}function y(_){return _*_*_}function x(_){return 3*_*_*(1-_)}function b(_){return 3*_*(1-_)*(1-_)}function S(_){return(1-_)*(1-_)*(1-_)}function C(_,N,O,D,$,R,j,F){return function(I){var Y=y(I),U=x(I),Q=b(I),ee=S(I);return{x:j*Y+$*U+O*Q+_*ee,y:F*Y+R*U+D*Q+N*ee}}}function T(_,N,O,D,$,R,j,F){return function(I){var Y=1-I,U=3*Y*Y*(O-_)+6*Y*I*($-O)+3*I*I*(j-$),Q=3*Y*Y*(D-N)+6*Y*I*(R-D)+3*I*I*(F-R);return Math.atan2(Q,U)}}function E(_){return _*_}function P(_){return 2*_*(1-_)}function k(_){return(1-_)*(1-_)}function A(_,N,O,D,$,R){return function(j){var F=E(j),I=P(j),Y=k(j);return{x:$*F+O*I+_*Y,y:R*F+D*I+N*Y}}}function B(_,N,O,D,$,R){return function(j){var F=1-j,I=2*F*(O-_)+2*j*($-O),Y=2*F*(D-N)+2*j*(R-D);return Math.atan2(Y,I)}}function z(_,N,O){var D={x:N,y:O},$,R=0,j;for(j=1;j<=100;j+=1)$=_(j/100),R+=p(D.x,D.y,$.x,$.y),D=$;return R}function q(_,N){for(var O=0,D=0,$=_.iterator,R={x:_.x,y:_.y},j,F,I=.01,Y=_.angleFinder,U;D<N&&I>1e-4;)j=$(O),U=O,F=p(R.x,R.y,j.x,j.y),F+D>N?(O-=I,I/=2):(R=j,O+=I,D+=F);return j.angle=Y(U),j}function L(_){for(var N=0,O=_.length,D,$=0,R=0,j=0,F=0,I=[],Y,U,Q,ee=0;ee<O;ee++){switch(D=_[ee],U={x:$,y:R,command:D[0]},D[0]){case"M":U.length=0,j=$=D[1],F=R=D[2];break;case"L":U.length=p($,R,D[1],D[2]),$=D[1],R=D[2];break;case"C":Y=C($,R,D[1],D[2],D[3],D[4],D[5],D[6]),Q=T($,R,D[1],D[2],D[3],D[4],D[5],D[6]),U.iterator=Y,U.angleFinder=Q,U.length=z(Y,$,R),$=D[5],R=D[6];break;case"Q":Y=A($,R,D[1],D[2],D[3],D[4]),Q=B($,R,D[1],D[2],D[3],D[4]),U.iterator=Y,U.angleFinder=Q,U.length=z(Y,$,R),$=D[3],R=D[4];break;case"Z":case"z":U.destX=j,U.destY=F,U.length=p($,R,j,F),$=j,R=F;break}N+=U.length,I.push(U)}return I.push({length:N,x:$,y:R}),I}function W(_,N,O){O||(O=L(_));for(var D=0;N-O[D].length>0&&D<O.length-2;)N-=O[D].length,D++;var $=O[D],R=N/$.length,j=$.command,F=_[D],I;switch(j){case"M":return{x:$.x,y:$.y,angle:0};case"Z":case"z":return I=new t.Point($.x,$.y).lerp(new t.Point($.destX,$.destY),R),I.angle=Math.atan2($.destY-$.y,$.destX-$.x),I;case"L":return I=new t.Point($.x,$.y).lerp(new t.Point(F[1],F[2]),R),I.angle=Math.atan2(F[2]-$.y,F[1]-$.x),I;case"C":return q($,N);case"Q":return q($,N)}}function J(_){var N=[],O=[],D,$,R=t.rePathCommand,j="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",F="("+j+")"+t.commaWsp,I="([01])"+t.commaWsp+"?",Y=F+"?"+F+"?"+F+I+I+F+"?("+j+")",U=new RegExp(Y,"g"),Q,ee,te;if(!_||!_.match)return N;te=_.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var H=0,V,X=te.length;H<X;H++){D=te[H],ee=D.slice(1).trim(),O.length=0;var Z=D.charAt(0);if(V=[Z],Z.toLowerCase()==="a")for(var K;K=U.exec(ee);)for(var ne=1;ne<K.length;ne++)O.push(K[ne]);else for(;Q=R.exec(ee);)O.push(Q[0]);for(var ne=0,oe=O.length;ne<oe;ne++)$=parseFloat(O[ne]),isNaN($)||V.push($);var we=s[Z.toLowerCase()],pe=c[Z]||Z;if(V.length-1>we)for(var ie=1,ve=V.length;ie<ve;ie+=we)N.push([Z].concat(V.slice(ie,ie+we))),Z=pe;else N.push(V)}return N}function G(_,N){var O=[],D,$=new t.Point(_[0].x,_[0].y),R=new t.Point(_[1].x,_[1].y),j=_.length,F=1,I=0,Y=j>2;for(N=N||0,Y&&(F=_[2].x<R.x?-1:_[2].x===R.x?0:1,I=_[2].y<R.y?-1:_[2].y===R.y?0:1),O.push(["M",$.x-F*N,$.y-I*N]),D=1;D<j;D++){if(!$.eq(R)){var U=$.midPointFrom(R);O.push(["Q",$.x,$.y,U.x,U.y])}$=_[D],D+1<_.length&&(R=_[D+1])}return Y&&(F=$.x>_[D-2].x?1:$.x===_[D-2].x?0:-1,I=$.y>_[D-2].y?1:$.y===_[D-2].y?0:-1),O.push(["L",$.x+F*N,$.y+I*N]),O}function M(_,N,O){return O&&(N=t.util.multiplyTransformMatrices(N,[1,0,0,1,-O.x,-O.y])),_.map(function(D){for(var $=D.slice(0),R={},j=1;j<D.length-1;j+=2)R.x=D[j],R.y=D[j+1],R=t.util.transformPoint(R,N),$[j]=R.x,$[j+1]=R.y;return $})}t.util.joinPath=function(_){return _.map(function(N){return N.join(" ")}).join(" ")},t.util.parsePath=J,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=G,t.util.getPathSegmentsInfo=L,t.util.getBoundsOfCurve=d,t.util.getPointOnPath=W,t.util.transformPath=M}(),function(){var o=Array.prototype.slice;function s(d,m){for(var g=o.call(arguments,2),p=[],y=0,x=d.length;y<x;y++)p[y]=g.length?d[y][m].apply(d[y],g):d[y][m].call(d[y]);return p}function c(d,m){return u(d,m,function(g,p){return g>=p})}function f(d,m){return u(d,m,function(g,p){return g<p})}function l(d,m){for(var g=d.length;g--;)d[g]=m;return d}function u(d,m,g){if(!(!d||d.length===0)){var p=d.length-1,y=m?d[p][m]:d[p];if(m)for(;p--;)g(d[p][m],y)&&(y=d[p][m]);else for(;p--;)g(d[p],y)&&(y=d[p]);return y}}t.util.array={fill:l,invoke:s,min:f,max:c}}(),function(){function o(c,f,l){if(l)if(!t.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var u=0,d=f.length;u<d;u++)c[u]=o({},f[u],l)}else if(f&&typeof f=="object")for(var m in f)m==="canvas"||m==="group"?c[m]=null:f.hasOwnProperty(m)&&(c[m]=o({},f[m],l));else c=f;else for(var m in f)c[m]=f[m];return c}function s(c,f){return o({},c,f)}t.util.object={extend:o,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function o(u){return u.replace(/-+(.)?/g,function(d,m){return m?m.toUpperCase():""})}function s(u,d){return u.charAt(0).toUpperCase()+(d?u.slice(1):u.slice(1).toLowerCase())}function c(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(u){var d=0,m,g=[];for(d=0,m;d<u.length;d++)(m=l(u,d))!==!1&&g.push(m);return g}function l(u,d){var m=u.charCodeAt(d);if(isNaN(m))return"";if(m<55296||m>57343)return u.charAt(d);if(55296<=m&&m<=56319){if(u.length<=d+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(d+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(d)+u.charAt(d+1)}if(d===0)throw"Low surrogate without preceding high surrogate";var p=u.charCodeAt(d-1);if(55296>p||p>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:o,capitalize:s,escapeXml:c,graphemeSplit:f}}(),function(){var o=Array.prototype.slice,s=function(){},c=function(){for(var m in{toString:1})if(m==="toString")return!1;return!0}(),f=function(m,g,p){for(var y in g)y in m.prototype&&typeof m.prototype[y]=="function"&&(g[y]+"").indexOf("callSuper")>-1?m.prototype[y]=function(x){return function(){var b=this.constructor.superclass;this.constructor.superclass=p;var S=g[x].apply(this,arguments);if(this.constructor.superclass=b,x!=="initialize")return S}}(y):m.prototype[y]=g[y],c&&(g.toString!==Object.prototype.toString&&(m.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(m.prototype.valueOf=g.valueOf))};function l(){}function u(m){for(var g=null,p=this;p.constructor.superclass;){var y=p.constructor.superclass.prototype[m];if(p[m]!==y){g=y;break}p=p.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,o.call(arguments,1)):g.call(this):console.log("tried to callSuper "+m+", method not found in prototype chain",this)}function d(){var m=null,g=o.call(arguments,0);typeof g[0]=="function"&&(m=g.shift());function p(){this.initialize.apply(this,arguments)}p.superclass=m,p.subclasses=[],m&&(l.prototype=m.prototype,p.prototype=new l,m.subclasses.push(p));for(var y=0,x=g.length;y<x;y++)f(p,g[y],m);return p.prototype.initialize||(p.prototype.initialize=s),p.prototype.constructor=p,p.prototype.callSuper=u,p}t.util.createClass=d}(),function(){var o=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(f,l,u,d){f&&f.addEventListener(l,u,o?!1:d)},t.util.removeListener=function(f,l,u,d){f&&f.removeEventListener(l,u,o?!1:d)};function c(f){var l=f.changedTouches;return l&&l[0]?l[0]:f}t.util.getPointer=function(f){var l=f.target,u=t.util.getScrollLeftTop(l),d=c(f);return{x:d.clientX+u.left,y:d.clientY+u.top}},t.util.isTouchEvent=function(f){return s.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function o(d,m){var g=d.style;if(!g)return d;if(typeof m=="string")return d.style.cssText+=";"+m,m.indexOf("opacity")>-1?u(d,m.match(/opacity:\s*(\d?\.?\d*)/)[1]):d;for(var p in m)if(p==="opacity")u(d,m[p]);else{var y=p==="float"||p==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":p;g.setProperty(y,m[p])}return d}var s=t.document.createElement("div"),c=typeof s.style.opacity=="string",f=typeof s.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(d){return d};c?u=function(d,m){return d.style.opacity=m,d}:f&&(u=function(d,m){var g=d.style;return d.currentStyle&&!d.currentStyle.hasLayout&&(g.zoom=1),l.test(g.filter)?(m=m>=.9999?"":"alpha(opacity="+m*100+")",g.filter=g.filter.replace(l,m)):g.filter+=" alpha(opacity="+m*100+")",d}),t.util.setStyle=o}(),function(){var o=Array.prototype.slice;function s(S){return typeof S=="string"?t.document.getElementById(S):S}var c,f=function(S){return o.call(S,0)};try{c=f(t.document.childNodes)instanceof Array}catch{}c||(f=function(S){for(var C=new Array(S.length),T=S.length;T--;)C[T]=S[T];return C});function l(S,C){var T=t.document.createElement(S);for(var E in C)E==="class"?T.className=C[E]:E==="for"?T.htmlFor=C[E]:T.setAttribute(E,C[E]);return T}function u(S,C){S&&(" "+S.className+" ").indexOf(" "+C+" ")===-1&&(S.className+=(S.className?" ":"")+C)}function d(S,C,T){return typeof C=="string"&&(C=l(C,T)),S.parentNode&&S.parentNode.replaceChild(C,S),C.appendChild(S),C}function m(S){for(var C=0,T=0,E=t.document.documentElement,P=t.document.body||{scrollLeft:0,scrollTop:0};S&&(S.parentNode||S.host)&&(S=S.parentNode||S.host,S===t.document?(C=P.scrollLeft||E.scrollLeft||0,T=P.scrollTop||E.scrollTop||0):(C+=S.scrollLeft||0,T+=S.scrollTop||0),!(S.nodeType===1&&S.style.position==="fixed")););return{left:C,top:T}}function g(S){var C,T=S&&S.ownerDocument,E={left:0,top:0},P={left:0,top:0},k,A={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!T)return P;for(var B in A)P[A[B]]+=parseInt(p(S,B),10)||0;return C=T.documentElement,typeof S.getBoundingClientRect<"u"&&(E=S.getBoundingClientRect()),k=m(S),{left:E.left+k.left-(C.clientLeft||0)+P.left,top:E.top+k.top-(C.clientTop||0)+P.top}}var p;t.document.defaultView&&t.document.defaultView.getComputedStyle?p=function(S,C){var T=t.document.defaultView.getComputedStyle(S,null);return T?T[C]:void 0}:p=function(S,C){var T=S.style[C];return!T&&S.currentStyle&&(T=S.currentStyle[C]),T},function(){var S=t.document.documentElement.style,C="userSelect"in S?"userSelect":"MozUserSelect"in S?"MozUserSelect":"WebkitUserSelect"in S?"WebkitUserSelect":"KhtmlUserSelect"in S?"KhtmlUserSelect":"";function T(P){return typeof P.onselectstart<"u"&&(P.onselectstart=t.util.falseFunction),C?P.style[C]="none":typeof P.unselectable=="string"&&(P.unselectable="on"),P}function E(P){return typeof P.onselectstart<"u"&&(P.onselectstart=null),C?P.style[C]="":typeof P.unselectable=="string"&&(P.unselectable=""),P}t.util.makeElementUnselectable=T,t.util.makeElementSelectable=E}();function y(S){var C=t.jsdomImplForWrapper(S);return C._canvas||C._image}function x(S){if(t.isLikelyNode){var C=t.jsdomImplForWrapper(S);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(S,C){S.imageSmoothingEnabled=S.imageSmoothingEnabled||S.webkitImageSmoothingEnabled||S.mozImageSmoothingEnabled||S.msImageSmoothingEnabled||S.oImageSmoothingEnabled,S.imageSmoothingEnabled=C}t.util.setImageSmoothing=b,t.util.getById=s,t.util.toArray=f,t.util.addClass=u,t.util.makeElement=l,t.util.wrapElement=d,t.util.getScrollLeftTop=m,t.util.getElementOffset=g,t.util.getNodeCanvas=y,t.util.cleanUpJsdomNode=x}(),function(){function o(f,l){return f+(/\?/.test(f)?"&":"?")+l}function s(){}function c(f,l){l||(l={});var u=l.method?l.method.toUpperCase():"GET",d=l.onComplete||function(){},m=new t.window.XMLHttpRequest,g=l.body||l.parameters;return m.onreadystatechange=function(){m.readyState===4&&(d(m),m.onreadystatechange=s)},u==="GET"&&(g=null,typeof l.parameters=="string"&&(f=o(f,l.parameters))),m.open(u,f,!0),(u==="POST"||u==="PUT")&&m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.send(g),m}t.util.request=c}(),t.log=console.log,t.warn=console.warn,function(){var o=t.util.object.extend,s=t.util.object.clone,c=[];t.util.object.extend(c,{cancelAll:function(){var y=this.splice(0);return y.forEach(function(x){x.cancel()}),y},cancelByCanvas:function(y){if(!y)return[];var x=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===y});return x.forEach(function(b){b.cancel()}),x},cancelByTarget:function(y){var x=this.findAnimationsByTarget(y);return x.forEach(function(b){b.cancel()}),x},findAnimationIndex:function(y){return this.indexOf(this.findAnimation(y))},findAnimation:function(y){return this.find(function(x){return x.cancel===y})},findAnimationsByTarget:function(y){return y?this.filter(function(x){return x.target===y}):[]}});function f(){return!1}function l(y,x,b,S){return-b*Math.cos(y/S*(Math.PI/2))+b+x}function u(y){y||(y={});var x=!1,b,S=function(){var C=t.runningAnimations.indexOf(b);return C>-1&&t.runningAnimations.splice(C,1)[0]};return b=o(s(y),{cancel:function(){return x=!0,S()},currentValue:"startValue"in y?y.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),g(function(C){var T=C||+new Date,E=y.duration||500,P=T+E,k,A=y.onChange||f,B=y.abort||f,z=y.onComplete||f,q=y.easing||l,L="startValue"in y?y.startValue.length>0:!1,W="startValue"in y?y.startValue:0,J="endValue"in y?y.endValue:100,G=y.byValue||(L?W.map(function(M,_){return J[_]-W[_]}):J-W);y.onStart&&y.onStart(),function M(_){k=_||+new Date;var N=k>P?E:k-T,O=N/E,D=L?W.map(function(R,j){return q(N,W[j],G[j],E)}):q(N,W,G,E),$=Math.abs(L?(D[0]-W[0])/G[0]:(D-W)/G);if(b.currentValue=L?D.slice():D,b.completionRate=$,b.durationRate=O,!x){if(B(D,$,O)){S();return}if(k>P){b.currentValue=L?J.slice():J,b.completionRate=1,b.durationRate=1,A(L?J.slice():J,1,1),z(J,1,1),S();return}else A(D,$,O),g(M)}}(T)}),b.cancel}var d=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(y){return t.window.setTimeout(y,1e3/60)},m=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return d.apply(t.window,arguments)}function p(){return m.apply(t.window,arguments)}t.util.animate=u,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=p,t.runningAnimations=c}(),function(){function o(c,f,l){var u="rgba("+parseInt(c[0]+l*(f[0]-c[0]),10)+","+parseInt(c[1]+l*(f[1]-c[1]),10)+","+parseInt(c[2]+l*(f[2]-c[2]),10);return u+=","+(c&&f?parseFloat(c[3]+l*(f[3]-c[3])):1),u+=")",u}function s(c,f,l,u){var d=new t.Color(c).getSource(),m=new t.Color(f).getSource(),g=u.onComplete,p=u.onChange;return u=u||{},t.util.animate(t.util.object.extend(u,{duration:l||500,startValue:d,endValue:m,byValue:m,easing:function(y,x,b,S){var C=u.colorEasing?u.colorEasing(y,S):1-Math.cos(y/S*(Math.PI/2));return o(x,b,C)},onComplete:function(y,x,b){if(g)return g(o(m,m,0),x,b)},onChange:function(y,x,b){if(p){if(Array.isArray(y))return p(o(y,y,0),x,b);p(y,x,b)}}}))}t.util.animateColor=s}(),function(){function o(_,N,O,D){return _<Math.abs(N)?(_=N,D=O/4):N===0&&_===0?D=O/(2*Math.PI)*Math.asin(1):D=O/(2*Math.PI)*Math.asin(N/_),{a:_,c:N,p:O,s:D}}function s(_,N,O){return _.a*Math.pow(2,10*(N-=1))*Math.sin((N*O-_.s)*(2*Math.PI)/_.p)}function c(_,N,O,D){return O*((_=_/D-1)*_*_+1)+N}function f(_,N,O,D){return _/=D/2,_<1?O/2*_*_*_+N:O/2*((_-=2)*_*_+2)+N}function l(_,N,O,D){return O*(_/=D)*_*_*_+N}function u(_,N,O,D){return-O*((_=_/D-1)*_*_*_-1)+N}function d(_,N,O,D){return _/=D/2,_<1?O/2*_*_*_*_+N:-O/2*((_-=2)*_*_*_-2)+N}function m(_,N,O,D){return O*(_/=D)*_*_*_*_+N}function g(_,N,O,D){return O*((_=_/D-1)*_*_*_*_+1)+N}function p(_,N,O,D){return _/=D/2,_<1?O/2*_*_*_*_*_+N:O/2*((_-=2)*_*_*_*_+2)+N}function y(_,N,O,D){return-O*Math.cos(_/D*(Math.PI/2))+O+N}function x(_,N,O,D){return O*Math.sin(_/D*(Math.PI/2))+N}function b(_,N,O,D){return-O/2*(Math.cos(Math.PI*_/D)-1)+N}function S(_,N,O,D){return _===0?N:O*Math.pow(2,10*(_/D-1))+N}function C(_,N,O,D){return _===D?N+O:O*(-Math.pow(2,-10*_/D)+1)+N}function T(_,N,O,D){return _===0?N:_===D?N+O:(_/=D/2,_<1?O/2*Math.pow(2,10*(_-1))+N:O/2*(-Math.pow(2,-10*--_)+2)+N)}function E(_,N,O,D){return-O*(Math.sqrt(1-(_/=D)*_)-1)+N}function P(_,N,O,D){return O*Math.sqrt(1-(_=_/D-1)*_)+N}function k(_,N,O,D){return _/=D/2,_<1?-O/2*(Math.sqrt(1-_*_)-1)+N:O/2*(Math.sqrt(1-(_-=2)*_)+1)+N}function A(_,N,O,D){var $=1.70158,R=0,j=O;if(_===0)return N;if(_/=D,_===1)return N+O;R||(R=D*.3);var F=o(j,O,R,$);return-s(F,_,D)+N}function B(_,N,O,D){var $=1.70158,R=0,j=O;if(_===0)return N;if(_/=D,_===1)return N+O;R||(R=D*.3);var F=o(j,O,R,$);return F.a*Math.pow(2,-10*_)*Math.sin((_*D-F.s)*(2*Math.PI)/F.p)+F.c+N}function z(_,N,O,D){var $=1.70158,R=0,j=O;if(_===0)return N;if(_/=D/2,_===2)return N+O;R||(R=D*(.3*1.5));var F=o(j,O,R,$);return _<1?-.5*s(F,_,D)+N:F.a*Math.pow(2,-10*(_-=1))*Math.sin((_*D-F.s)*(2*Math.PI)/F.p)*.5+F.c+N}function q(_,N,O,D,$){return $===void 0&&($=1.70158),O*(_/=D)*_*(($+1)*_-$)+N}function L(_,N,O,D,$){return $===void 0&&($=1.70158),O*((_=_/D-1)*_*(($+1)*_+$)+1)+N}function W(_,N,O,D,$){return $===void 0&&($=1.70158),_/=D/2,_<1?O/2*(_*_*((($*=1.525)+1)*_-$))+N:O/2*((_-=2)*_*((($*=1.525)+1)*_+$)+2)+N}function J(_,N,O,D){return O-G(D-_,0,O,D)+N}function G(_,N,O,D){return(_/=D)<1/2.75?O*(7.5625*_*_)+N:_<2/2.75?O*(7.5625*(_-=1.5/2.75)*_+.75)+N:_<2.5/2.75?O*(7.5625*(_-=2.25/2.75)*_+.9375)+N:O*(7.5625*(_-=2.625/2.75)*_+.984375)+N}function M(_,N,O,D){return _<D/2?J(_*2,0,O,D)*.5+N:G(_*2-D,0,O,D)*.5+O*.5+N}t.util.ease={easeInQuad:function(_,N,O,D){return O*(_/=D)*_+N},easeOutQuad:function(_,N,O,D){return-O*(_/=D)*(_-2)+N},easeInOutQuad:function(_,N,O,D){return _/=D/2,_<1?O/2*_*_+N:-O/2*(--_*(_-2)-1)+N},easeInCubic:function(_,N,O,D){return O*(_/=D)*_*_+N},easeOutCubic:c,easeInOutCubic:f,easeInQuart:l,easeOutQuart:u,easeInOutQuart:d,easeInQuint:m,easeOutQuint:g,easeInOutQuint:p,easeInSine:y,easeOutSine:x,easeInOutSine:b,easeInExpo:S,easeOutExpo:C,easeInOutExpo:T,easeInCirc:E,easeOutCirc:P,easeInOutCirc:k,easeInElastic:A,easeOutElastic:B,easeInOutElastic:z,easeInBack:q,easeOutBack:L,easeInOutBack:W,easeInBounce:J,easeOutBounce:G,easeInOutBounce:M}}(),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l=s.util.toFixed,u=s.util.parseUnit,d=s.util.multiplyTransformMatrices,m=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],p=["pattern","defs","symbol","metadata","clipPath","mask","desc"],y=["symbol","g","a","svg","clipPath","defs"],x={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},S="font-size",C="clip-path";s.svgValidTagNamesRegEx=P(m),s.svgViewBoxElementsRegEx=P(g),s.svgInvalidAncestorsRegEx=P(p),s.svgValidParentsRegEx=P(y),s.cssRules={},s.gradientDefs={},s.clipPaths={};function T(R){return R in x?x[R]:R}function E(R,j,F,I){var Y=Array.isArray(j),U;if((R==="fill"||R==="stroke")&&j==="none")j="";else{if(R==="strokeUniform")return j==="non-scaling-stroke";if(R==="strokeDashArray")j==="none"?j=null:j=j.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")F&&F.transformMatrix?j=d(F.transformMatrix,s.parseTransformAttribute(j)):j=s.parseTransformAttribute(j);else if(R==="visible")j=j!=="none"&&j!=="hidden",F&&F.visible===!1&&(j=!1);else if(R==="opacity")j=parseFloat(j),F&&typeof F.opacity<"u"&&(j*=F.opacity);else if(R==="textAnchor")j=j==="start"?"left":j==="end"?"right":"center";else if(R==="charSpacing")U=u(j,I)/I*1e3;else if(R==="paintFirst"){var Q=j.indexOf("fill"),ee=j.indexOf("stroke"),j="fill";(Q>-1&&ee>-1&&ee<Q||Q===-1&&ee>-1)&&(j="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return j;if(R==="imageSmoothing")return j==="optimizeQuality";U=Y?j.map(u):u(j,I)}}return!Y&&isNaN(U)?j:U}function P(R){return new RegExp("^("+R.join("|")+")\\b","i")}function k(R){for(var j in b)if(!(typeof R[b[j]]>"u"||R[j]==="")){if(typeof R[j]>"u"){if(!s.Object.prototype[j])continue;R[j]=s.Object.prototype[j]}if(R[j].indexOf("url(")!==0){var F=new s.Color(R[j]);R[j]=F.setAlpha(l(F.getAlpha()*R[b[j]],2)).toRgba()}}return R}function A(R,j){var F,I=[],Y,U,Q;for(U=0,Q=j.length;U<Q;U++)F=j[U],Y=R.getElementsByTagName(F),I=I.concat(Array.prototype.slice.call(Y));return I}s.parseTransformAttribute=function(){function R(ie,ve){var Ce=s.util.cos(ve[0]),Pe=s.util.sin(ve[0]),$e=0,Me=0;ve.length===3&&($e=ve[1],Me=ve[2]),ie[0]=Ce,ie[1]=Pe,ie[2]=-Pe,ie[3]=Ce,ie[4]=$e-(Ce*$e-Pe*Me),ie[5]=Me-(Pe*$e+Ce*Me)}function j(ie,ve){var Ce=ve[0],Pe=ve.length===2?ve[1]:ve[0];ie[0]=Ce,ie[3]=Pe}function F(ie,ve,Ce){ie[Ce]=Math.tan(s.util.degreesToRadians(ve[0]))}function I(ie,ve){ie[4]=ve[0],ve.length===2&&(ie[5]=ve[1])}var Y=s.iMatrix,U=s.reNum,Q=s.commaWsp,ee="(?:(skewX)\\s*\\(\\s*("+U+")\\s*\\))",te="(?:(skewY)\\s*\\(\\s*("+U+")\\s*\\))",H="(?:(rotate)\\s*\\(\\s*("+U+")(?:"+Q+"("+U+")"+Q+"("+U+"))?\\s*\\))",V="(?:(scale)\\s*\\(\\s*("+U+")(?:"+Q+"("+U+"))?\\s*\\))",X="(?:(translate)\\s*\\(\\s*("+U+")(?:"+Q+"("+U+"))?\\s*\\))",Z="(?:(matrix)\\s*\\(\\s*("+U+")"+Q+"("+U+")"+Q+"("+U+")"+Q+"("+U+")"+Q+"("+U+")"+Q+"("+U+")\\s*\\))",K="(?:"+Z+"|"+X+"|"+V+"|"+H+"|"+ee+"|"+te+")",ne="(?:"+K+"(?:"+Q+"*"+K+")*)",oe="^\\s*(?:"+ne+"?)\\s*$",we=new RegExp(oe),pe=new RegExp(K,"g");return function(ie){var ve=Y.concat(),Ce=[];if(!ie||ie&&!we.test(ie))return ve;ie.replace(pe,function($e){var Me=new RegExp(K).exec($e).filter(function(Ai){return!!Ai}),Nt=Me[1],rt=Me.slice(2).map(parseFloat);switch(Nt){case"translate":I(ve,rt);break;case"rotate":rt[0]=s.util.degreesToRadians(rt[0]),R(ve,rt);break;case"scale":j(ve,rt);break;case"skewX":F(ve,rt,2);break;case"skewY":F(ve,rt,1);break;case"matrix":ve=rt;break}Ce.push(ve.concat()),ve=Y.concat()});for(var Pe=Ce[0];Ce.length>1;)Ce.shift(),Pe=s.util.multiplyTransformMatrices(Pe,Ce[0]);return Pe}}();function B(R,j){var F,I;R.replace(/;\s*$/,"").split(";").forEach(function(Y){var U=Y.split(":");F=U[0].trim().toLowerCase(),I=U[1].trim(),j[F]=I})}function z(R,j){var F,I;for(var Y in R)typeof R[Y]>"u"||(F=Y.toLowerCase(),I=R[Y],j[F]=I)}function q(R,j){var F={};for(var I in s.cssRules[j])if(L(R,I.split(" ")))for(var Y in s.cssRules[j][I])F[Y]=s.cssRules[j][I][Y];return F}function L(R,j){var F,I=!0;return F=J(R,j.pop()),F&&j.length&&(I=W(R,j)),F&&I&&j.length===0}function W(R,j){for(var F,I=!0;R.parentNode&&R.parentNode.nodeType===1&&j.length;)I&&(F=j.pop()),R=R.parentNode,I=J(R,F);return j.length===0}function J(R,j){var F=R.nodeName,I=R.getAttribute("class"),Y=R.getAttribute("id"),U,Q;if(U=new RegExp("^"+F,"i"),j=j.replace(U,""),Y&&j.length&&(U=new RegExp("#"+Y+"(?![a-zA-Z\\-]+)","i"),j=j.replace(U,"")),I&&j.length)for(I=I.split(" "),Q=I.length;Q--;)U=new RegExp("\\."+I[Q]+"(?![a-zA-Z\\-]+)","i"),j=j.replace(U,"");return j.length===0}function G(R,j){var F;if(R.getElementById&&(F=R.getElementById(j)),F)return F;var I,Y,U,Q=R.getElementsByTagName("*");for(Y=0,U=Q.length;Y<U;Y++)if(I=Q[Y],j===I.getAttribute("id"))return I}function M(R){for(var j=A(R,["use","svg:use"]),F=0;j.length&&F<j.length;){var I=j[F],Y=I.getAttribute("xlink:href")||I.getAttribute("href");if(Y===null)return;var U=Y.slice(1),Q=I.getAttribute("x")||0,ee=I.getAttribute("y")||0,te=G(R,U).cloneNode(!0),H=(te.getAttribute("transform")||"")+" translate("+Q+", "+ee+")",V,X=j.length,Z,K,ne,oe,we=s.svgNS;if(N(te),/^svg$/i.test(te.nodeName)){var pe=te.ownerDocument.createElementNS(we,"g");for(K=0,ne=te.attributes,oe=ne.length;K<oe;K++)Z=ne.item(K),pe.setAttributeNS(we,Z.nodeName,Z.nodeValue);for(;te.firstChild;)pe.appendChild(te.firstChild);te=pe}for(K=0,ne=I.attributes,oe=ne.length;K<oe;K++)Z=ne.item(K),!(Z.nodeName==="x"||Z.nodeName==="y"||Z.nodeName==="xlink:href"||Z.nodeName==="href")&&(Z.nodeName==="transform"?H=Z.nodeValue+" "+H:te.setAttribute(Z.nodeName,Z.nodeValue));te.setAttribute("transform",H),te.setAttribute("instantiated_by_use","1"),te.removeAttribute("id"),V=I.parentNode,V.replaceChild(te,I),j.length===X&&F++}}var _=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function N(R){if(!s.svgViewBoxElementsRegEx.test(R.nodeName))return{};var j=R.getAttribute("viewBox"),F=1,I=1,Y=0,U=0,Q,ee,te,H,V=R.getAttribute("width"),X=R.getAttribute("height"),Z=R.getAttribute("x")||0,K=R.getAttribute("y")||0,ne=R.getAttribute("preserveAspectRatio")||"",oe=!j||!(j=j.match(_)),we=!V||!X||V==="100%"||X==="100%",pe=oe&&we,ie={},ve="",Ce=0,Pe=0;if(ie.width=0,ie.height=0,ie.toBeParsed=pe,oe&&(Z||K)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(ve=" translate("+u(Z)+" "+u(K)+") ",te=(R.getAttribute("transform")||"")+ve,R.setAttribute("transform",te),R.removeAttribute("x"),R.removeAttribute("y")),pe)return ie;if(oe)return ie.width=u(V),ie.height=u(X),ie;if(Y=-parseFloat(j[1]),U=-parseFloat(j[2]),Q=parseFloat(j[3]),ee=parseFloat(j[4]),ie.minX=Y,ie.minY=U,ie.viewBoxWidth=Q,ie.viewBoxHeight=ee,we?(ie.width=Q,ie.height=ee):(ie.width=u(V),ie.height=u(X),F=ie.width/Q,I=ie.height/ee),ne=s.util.parsePreserveAspectRatioAttribute(ne),ne.alignX!=="none"&&(ne.meetOrSlice==="meet"&&(I=F=F>I?I:F),ne.meetOrSlice==="slice"&&(I=F=F>I?F:I),Ce=ie.width-Q*F,Pe=ie.height-ee*F,ne.alignX==="Mid"&&(Ce/=2),ne.alignY==="Mid"&&(Pe/=2),ne.alignX==="Min"&&(Ce=0),ne.alignY==="Min"&&(Pe=0)),F===1&&I===1&&Y===0&&U===0&&Z===0&&K===0)return ie;if((Z||K)&&R.parentNode.nodeName!=="#document"&&(ve=" translate("+u(Z)+" "+u(K)+") "),te=ve+" matrix("+F+" 0 0 "+I+" "+(Y*F+Ce)+" "+(U*I+Pe)+") ",R.nodeName==="svg"){for(H=R.ownerDocument.createElementNS(s.svgNS,"g");R.firstChild;)H.appendChild(R.firstChild);R.appendChild(H)}else H=R,H.removeAttribute("x"),H.removeAttribute("y"),te=H.getAttribute("transform")+te;return H.setAttribute("transform",te),ie}function O(R,j){for(;R&&(R=R.parentNode);)if(R.nodeName&&j.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(R,j,F,I){if(R){M(R);var Y=s.Object.__uid++,U,Q,ee=N(R),te=s.util.toArray(R.getElementsByTagName("*"));if(ee.crossOrigin=I&&I.crossOrigin,ee.svgUid=Y,te.length===0&&s.isLikelyNode){te=R.selectNodes('//*[name(.)!="svg"]');var H=[];for(U=0,Q=te.length;U<Q;U++)H[U]=te[U];te=H}var V=te.filter(function(Z){return N(Z),s.svgValidTagNamesRegEx.test(Z.nodeName.replace("svg:",""))&&!O(Z,s.svgInvalidAncestorsRegEx)});if(!V||V&&!V.length){j&&j([],{});return}var X={};te.filter(function(Z){return Z.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Z){var K=Z.getAttribute("id");X[K]=s.util.toArray(Z.getElementsByTagName("*")).filter(function(ne){return s.svgValidTagNamesRegEx.test(ne.nodeName.replace("svg:",""))})}),s.gradientDefs[Y]=s.getGradientDefs(R),s.cssRules[Y]=s.getCSSRules(R),s.clipPaths[Y]=X,s.parseElements(V,function(Z,K){j&&(j(Z,ee,K,te),delete s.gradientDefs[Y],delete s.cssRules[Y],delete s.clipPaths[Y])},f(ee),F,I)}};function D(R,j){var F=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],I="xlink:href",Y=j.getAttribute(I).slice(1),U=G(R,Y);if(U&&U.getAttribute(I)&&D(R,U),F.forEach(function(ee){U&&!j.hasAttribute(ee)&&U.hasAttribute(ee)&&j.setAttribute(ee,U.getAttribute(ee))}),!j.children.length)for(var Q=U.cloneNode(!0);Q.firstChild;)j.appendChild(Q.firstChild);j.removeAttribute(I)}var $=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");c(s,{parseFontDeclaration:function(R,j){var F=R.match($);if(F){var I=F[1],Y=F[3],U=F[4],Q=F[5],ee=F[6];I&&(j.fontStyle=I),Y&&(j.fontWeight=isNaN(parseFloat(Y))?Y:parseFloat(Y)),U&&(j.fontSize=u(U)),ee&&(j.fontFamily=ee),Q&&(j.lineHeight=Q==="normal"?1:Q)}},getGradientDefs:function(R){var j=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],F=A(R,j),I,Y=0,U={};for(Y=F.length;Y--;)I=F[Y],I.getAttribute("xlink:href")&&D(R,I),U[I.getAttribute("id")]=I;return U},parseAttributes:function(R,j,F){if(R){var I,Y={},U,Q;typeof F>"u"&&(F=R.getAttribute("svgUid")),R.parentNode&&s.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(Y=s.parseAttributes(R.parentNode,j,F));var ee=j.reduce(function(ne,oe){return I=R.getAttribute(oe),I&&(ne[oe]=I),ne},{}),te=c(q(R,F),s.parseStyleAttribute(R));ee=c(ee,te),te[C]&&R.setAttribute(C,te[C]),U=Q=Y.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,ee[S]&&(ee[S]=U=u(ee[S],Q));var H,V,X={};for(var Z in ee)H=T(Z),V=E(H,ee[Z],Y,U),X[H]=V;X&&X.font&&s.parseFontDeclaration(X.font,X);var K=c(Y,X);return s.svgValidParentsRegEx.test(R.nodeName)?K:k(K)}},parseElements:function(R,j,F,I,Y){new s.ElementsParser(R,j,F,I,Y).parse()},parseStyleAttribute:function(R){var j={},F=R.getAttribute("style");return F&&(typeof F=="string"?B(F,j):z(F,j)),j},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var j=[],F,I;for(F=0,I=R.length;F<I;F+=2)j.push({x:parseFloat(R[F]),y:parseFloat(R[F+1])});return j},getCSSRules:function(R){var j=R.getElementsByTagName("style"),F,I,Y={},U;for(F=0,I=j.length;F<I;F++){var Q=j[F].textContent;Q=Q.replace(/\/\*[\s\S]*?\*\//g,""),Q.trim()!==""&&(U=Q.split("}"),U=U.filter(function(ee){return ee.trim()}),U.forEach(function(ee){var te=ee.split("{"),H={},V=te[1].trim(),X=V.split(";").filter(function(oe){return oe.trim()});for(F=0,I=X.length;F<I;F++){var Z=X[F].split(":"),K=Z[0].trim(),ne=Z[1].trim();H[K]=ne}ee=te[0].trim(),ee.split(",").forEach(function(oe){oe=oe.replace(/^svg/i,"").trim(),oe!==""&&(Y[oe]?s.util.object.extend(Y[oe],H):Y[oe]=s.util.object.clone(H))})}))}return Y},loadSVGFromURL:function(R,j,F,I){R=R.replace(/^\n\s*/,"").trim(),new s.util.request(R,{method:"get",onComplete:Y});function Y(U){var Q=U.responseXML;if(!Q||!Q.documentElement)return j&&j(null),!1;s.parseSVGDocument(Q.documentElement,function(ee,te,H,V){j&&j(ee,te,H,V)},F,I)}},loadSVGFromString:function(R,j,F,I){var Y=new s.window.DOMParser,U=Y.parseFromString(R.trim(),"text/xml");s.parseSVGDocument(U.documentElement,function(Q,ee,te,H){j(Q,ee,te,H)},F,I)}})}(e),t.ElementsParser=function(o,s,c,f,l,u){this.elements=o,this.callback=s,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(o){o.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var s=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",s.svgUid),s.createObject(c,f)})},o.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},o.createObject=function(s,c){var f=this.findTag(s);if(f&&f.fromElement)try{f.fromElement(s,this.createCallback(c,s),this.options)}catch(l){t.log(l)}else this.checkIfDone()},o.createCallback=function(s,c){var f=this;return function(l){var u;f.resolveGradient(l,c,"fill"),f.resolveGradient(l,c,"stroke"),l instanceof t.Image&&l._originalElement&&(u=l.parsePreserveAspectRatioAttribute(c)),l._removeTransformMatrix(u),f.resolveClipPath(l,c),f.reviver&&f.reviver(c,l),f.instances[s]=l,f.checkIfDone()}},o.extractPropertyDefinition=function(s,c,f){var l=s[c],u=this.regexUrl;if(u.test(l)){u.lastIndex=0;var d=u.exec(l)[1];return u.lastIndex=0,t[f][this.svgUid][d]}},o.resolveGradient=function(s,c,f){var l=this.extractPropertyDefinition(s,f,"gradientDefs");if(l){var u=c.getAttribute(f+"-opacity"),d=t.Gradient.fromElement(l,s,u,this.options);s.set(f,d)}},o.createClipPathCallback=function(s,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},o.resolveClipPath=function(s,c){var f=this.extractPropertyDefinition(s,"clipPath","clipPaths"),l,u,d,m,g,p;if(f){m=[],d=t.util.invertTransform(s.calcTransformMatrix());for(var y=f[0].parentNode,x=c;x.parentNode&&x.getAttribute("clip-path")!==s.clipPath;)x=x.parentNode;x.parentNode.appendChild(y);for(var b=0;b<f.length;b++)l=f[b],u=this.findTag(l),u.fromElement(l,this.createClipPathCallback(s,m),this.options);m.length===1?f=m[0]:f=new t.Group(m),g=t.util.multiplyTransformMatrices(d,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,x);var p=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",p.scaleX),f.set("scaleY",p.scaleY),f.angle=p.angle,f.skewX=p.skewX,f.skewY=0,f.setPositionByOrigin({x:p.translateX,y:p.translateY},"center","center"),s.clipPath=f}else delete s.clipPath},o.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(o){var s=o.fabric||(o.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=c;function c(f,l){this.x=f,this.y=l}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new c(this.x+(f.x-this.x)*l,this.y+(f.y-this.y)*l)},distanceFrom:function(f){var l=this.x-f.x,u=this.y-f.y;return Math.sqrt(l*l+u*u)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,l){return this.x=f,this.y=l,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var l=this.x,u=this.y;this.x=f.x,this.y=f.y,f.x=l,f.y=u},clone:function(){return new c(this.x,this.y)}}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}s.Intersection=c,s.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},s.Intersection.intersectLineLine=function(f,l,u,d){var m,g=(d.x-u.x)*(f.y-u.y)-(d.y-u.y)*(f.x-u.x),p=(l.x-f.x)*(f.y-u.y)-(l.y-f.y)*(f.x-u.x),y=(d.y-u.y)*(l.x-f.x)-(d.x-u.x)*(l.y-f.y);if(y!==0){var x=g/y,b=p/y;0<=x&&x<=1&&0<=b&&b<=1?(m=new c("Intersection"),m.appendPoint(new s.Point(f.x+x*(l.x-f.x),f.y+x*(l.y-f.y)))):m=new c}else g===0||p===0?m=new c("Coincident"):m=new c("Parallel");return m},s.Intersection.intersectLinePolygon=function(f,l,u){var d=new c,m=u.length,g,p,y,x;for(x=0;x<m;x++)g=u[x],p=u[(x+1)%m],y=c.intersectLineLine(f,l,g,p),d.appendPoints(y.points);return d.points.length>0&&(d.status="Intersection"),d},s.Intersection.intersectPolygonPolygon=function(f,l){var u=new c,d=f.length,m;for(m=0;m<d;m++){var g=f[m],p=f[(m+1)%d],y=c.intersectLinePolygon(g,p,l);u.appendPoints(y.points)}return u.points.length>0&&(u.status="Intersection"),u},s.Intersection.intersectPolygonRectangle=function(f,l,u){var d=l.min(u),m=l.max(u),g=new s.Point(m.x,d.y),p=new s.Point(d.x,m.y),y=c.intersectLinePolygon(d,g,f),x=c.intersectLinePolygon(g,m,f),b=c.intersectLinePolygon(m,p,f),S=c.intersectLinePolygon(p,d,f),C=new c;return C.appendPoints(y.points),C.appendPoints(x.points),C.appendPoints(b.points),C.appendPoints(S.points),C.points.length>0&&(C.status="Intersection"),C}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function c(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}s.Color=c,s.Color.prototype={_tryParsingColor:function(l){var u;l in c.colorNameMap&&(l=c.colorNameMap[l]),l==="transparent"&&(u=[255,255,255,0]),u||(u=c.sourceFromHex(l)),u||(u=c.sourceFromRgb(l)),u||(u=c.sourceFromHsl(l)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(l,u,d){l/=255,u/=255,d/=255;var m,g,p,y=s.util.array.max([l,u,d]),x=s.util.array.min([l,u,d]);if(p=(y+x)/2,y===x)m=g=0;else{var b=y-x;switch(g=p>.5?b/(2-y-x):b/(y+x),y){case l:m=(u-d)/b+(u<d?6:0);break;case u:m=(d-l)/b+2;break;case d:m=(l-u)/b+4;break}m/=6}return[Math.round(m*360),Math.round(g*100),Math.round(p*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),u,d,m;return u=l[0].toString(16),u=u.length===1?"0"+u:u,d=l[1].toString(16),d=d.length===1?"0"+d:d,m=l[2].toString(16),m=m.length===1?"0"+m:m,u.toUpperCase()+d.toUpperCase()+m.toUpperCase()},toHexa:function(){var l=this.getSource(),u;return u=Math.round(l[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var u=this.getSource();return u[3]=l,this.setSource(u),this},toGrayscale:function(){var l=this.getSource(),u=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),d=l[3];return this.setSource([u,u,u,d]),this},toBlackWhite:function(l){var u=this.getSource(),d=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),m=u[3];return l=l||127,d=Number(d)<Number(l)?0:255,this.setSource([d,d,d,m]),this},overlayWith:function(l){l instanceof c||(l=new c(l));var u=[],d=this.getAlpha(),m=.5,g=this.getSource(),p=l.getSource(),y;for(y=0;y<3;y++)u.push(Math.round(g[y]*(1-m)+p[y]*m));return u[3]=d,this.setSource(u),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}s.Color.fromRgb=function(l){return c.fromSource(c.sourceFromRgb(l))},s.Color.sourceFromRgb=function(l){var u=l.match(c.reRGBa);if(u){var d=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),m=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(d,10),parseInt(m,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},s.Color.fromRgba=c.fromRgb,s.Color.fromHsl=function(l){return c.fromSource(c.sourceFromHsl(l))},s.Color.sourceFromHsl=function(l){var u=l.match(c.reHSLa);if(u){var d=(parseFloat(u[1])%360+360)%360/360,m=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1),p,y,x;if(m===0)p=y=x=g;else{var b=g<=.5?g*(m+1):g+m-g*m,S=g*2-b;p=f(S,b,d+1/3),y=f(S,b,d),x=f(S,b,d-1/3)}return[Math.round(p*255),Math.round(y*255),Math.round(x*255),u[4]?parseFloat(u[4]):1]}},s.Color.fromHsla=c.fromHsl,s.Color.fromHex=function(l){return c.fromSource(c.sourceFromHex(l))},s.Color.sourceFromHex=function(l){if(l.match(c.reHex)){var u=l.slice(l.indexOf("#")+1),d=u.length===3||u.length===4,m=u.length===8||u.length===4,g=d?u.charAt(0)+u.charAt(0):u.substring(0,2),p=d?u.charAt(1)+u.charAt(1):u.substring(2,4),y=d?u.charAt(2)+u.charAt(2):u.substring(4,6),x=m?d?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(p,16),parseInt(y,16),parseFloat((parseInt(x,16)/255).toFixed(2))]}},s.Color.fromSource=function(l){var u=new c;return u.setSource(l),u}}(e),function(o){var s=o.fabric||(o.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],l={},u="left",d="top",m="right",g="bottom",p="center",y={top:g,bottom:d,left:m,right:u,center:p},x=s.util.radiansToDegrees,b=Math.sign||function(H){return(H>0)-(H<0)||+H};function S(H,V){var X=H.angle+x(Math.atan2(V.y,V.x))+360;return Math.round(X%360/45)}function C(H,V){var X=V.transform.target,Z=X.canvas,K=s.util.object.clone(V);K.target=X,Z&&Z.fire("object:"+H,K),X.fire(H,V)}function T(H,V){var X=V.canvas,Z=X.uniScaleKey,K=H[Z];return X.uniformScaling&&!K||!X.uniformScaling&&K}function E(H){return H.originX===p&&H.originY===p}function P(H,V,X){var Z=H.lockScalingX,K=H.lockScalingY;return!!(Z&&K||!V&&(Z||K)&&X||Z&&V==="x"||K&&V==="y")}function k(H,V,X){var Z="not-allowed",K=T(H,X),ne="";if(V.x!==0&&V.y===0?ne="x":V.x===0&&V.y!==0&&(ne="y"),P(X,ne,K))return Z;var oe=S(X,V);return c[oe]+"-resize"}function A(H,V,X){var Z="not-allowed";if(V.x!==0&&X.lockSkewingY||V.y!==0&&X.lockSkewingX)return Z;var K=S(X,V)%4;return f[K]+"-resize"}function B(H,V,X){return H[X.canvas.altActionKey]?l.skewCursorStyleHandler(H,V,X):l.scaleCursorStyleHandler(H,V,X)}function z(H,V,X){var Z=H[X.canvas.altActionKey];if(V.x===0)return Z?"skewX":"scaleY";if(V.y===0)return Z?"skewY":"scaleX"}function q(H,V,X){return X.lockRotation?"not-allowed":V.cursorStyle}function L(H,V,X,Z){return{e:H,transform:V,pointer:{x:X,y:Z}}}function W(H){return function(V,X,Z,K){var ne=X.target,oe=ne.getCenterPoint(),we=ne.translateToOriginPoint(oe,X.originX,X.originY),pe=H(V,X,Z,K);return ne.setPositionByOrigin(we,X.originX,X.originY),pe}}function J(H,V){return function(X,Z,K,ne){var oe=V(X,Z,K,ne);return oe&&C(H,L(X,Z,K,ne)),oe}}function G(H,V,X,Z,K){var ne=H.target,oe=ne.controls[H.corner],we=ne.canvas.getZoom(),pe=ne.padding/we,ie=ne.toLocalPoint(new s.Point(Z,K),V,X);return ie.x>=pe&&(ie.x-=pe),ie.x<=-pe&&(ie.x+=pe),ie.y>=pe&&(ie.y-=pe),ie.y<=pe&&(ie.y+=pe),ie.x-=oe.offsetX,ie.y-=oe.offsetY,ie}function M(H){return H.flipX!==H.flipY}function _(H,V,X,Z,K){if(H[V]!==0){var ne=H._getTransformedDimensions()[Z],oe=K/ne*H[X];H.set(X,oe)}}function N(H,V,X,Z){var K=V.target,ne=K._getTransformedDimensions(0,K.skewY),oe=G(V,V.originX,V.originY,X,Z),we=Math.abs(oe.x*2)-ne.x,pe=K.skewX,ie;we<2?ie=0:(ie=x(Math.atan2(we/K.scaleX,ne.y/K.scaleY)),V.originX===u&&V.originY===g&&(ie=-ie),V.originX===m&&V.originY===d&&(ie=-ie),M(K)&&(ie=-ie));var ve=pe!==ie;if(ve){var Ce=K._getTransformedDimensions().y;K.set("skewX",ie),_(K,"skewY","scaleY","y",Ce)}return ve}function O(H,V,X,Z){var K=V.target,ne=K._getTransformedDimensions(K.skewX,0),oe=G(V,V.originX,V.originY,X,Z),we=Math.abs(oe.y*2)-ne.y,pe=K.skewY,ie;we<2?ie=0:(ie=x(Math.atan2(we/K.scaleY,ne.x/K.scaleX)),V.originX===u&&V.originY===g&&(ie=-ie),V.originX===m&&V.originY===d&&(ie=-ie),M(K)&&(ie=-ie));var ve=pe!==ie;if(ve){var Ce=K._getTransformedDimensions().x;K.set("skewY",ie),_(K,"skewX","scaleX","x",Ce)}return ve}function D(H,V,X,Z){var K=V.target,ne=K.skewX,oe,we=V.originY;if(K.lockSkewingX)return!1;if(ne===0){var pe=G(V,p,p,X,Z);pe.x>0?oe=u:oe=m}else ne>0&&(oe=we===d?u:m),ne<0&&(oe=we===d?m:u),M(K)&&(oe=oe===u?m:u);V.originX=oe;var ie=J("skewing",W(N));return ie(H,V,X,Z)}function $(H,V,X,Z){var K=V.target,ne=K.skewY,oe,we=V.originX;if(K.lockSkewingY)return!1;if(ne===0){var pe=G(V,p,p,X,Z);pe.y>0?oe=d:oe=g}else ne>0&&(oe=we===u?d:g),ne<0&&(oe=we===u?g:d),M(K)&&(oe=oe===d?g:d);V.originY=oe;var ie=J("skewing",W(O));return ie(H,V,X,Z)}function R(H,V,X,Z){var K=V,ne=K.target,oe=ne.translateToOriginPoint(ne.getCenterPoint(),K.originX,K.originY);if(ne.lockRotation)return!1;var we=Math.atan2(K.ey-oe.y,K.ex-oe.x),pe=Math.atan2(Z-oe.y,X-oe.x),ie=x(pe-we+K.theta),ve=!0;if(ne.snapAngle>0){var Ce=ne.snapAngle,Pe=ne.snapThreshold||Ce,$e=Math.ceil(ie/Ce)*Ce,Me=Math.floor(ie/Ce)*Ce;Math.abs(ie-Me)<Pe?ie=Me:Math.abs(ie-$e)<Pe&&(ie=$e)}return ie<0&&(ie=360+ie),ie%=360,ve=ne.angle!==ie,ne.angle=ie,ve}function j(H,V,X,Z,K){K=K||{};var ne=V.target,oe=ne.lockScalingX,we=ne.lockScalingY,pe=K.by,ie,ve,Ce,Pe,$e=T(H,ne),Me=P(ne,pe,$e),Nt,rt,Ai=V.gestureScale;if(Me)return!1;if(Ai)ve=V.scaleX*Ai,Ce=V.scaleY*Ai;else{if(ie=G(V,V.originX,V.originY,X,Z),Nt=pe!=="y"?b(ie.x):1,rt=pe!=="x"?b(ie.y):1,V.signX||(V.signX=Nt),V.signY||(V.signY=rt),ne.lockScalingFlip&&(V.signX!==Nt||V.signY!==rt))return!1;if(Pe=ne._getTransformedDimensions(),$e&&!pe){var ea=Math.abs(ie.x)+Math.abs(ie.y),Un=V.original,yD=Math.abs(Pe.x*Un.scaleX/ne.scaleX)+Math.abs(Pe.y*Un.scaleY/ne.scaleY),lx=ea/yD;ve=Un.scaleX*lx,Ce=Un.scaleY*lx}else ve=Math.abs(ie.x*ne.scaleX/Pe.x),Ce=Math.abs(ie.y*ne.scaleY/Pe.y);E(V)&&(ve*=2,Ce*=2),V.signX!==Nt&&pe!=="y"&&(V.originX=y[V.originX],ve*=-1,V.signX=Nt),V.signY!==rt&&pe!=="x"&&(V.originY=y[V.originY],Ce*=-1,V.signY=rt)}var xD=ne.scaleX,bD=ne.scaleY;return pe?(pe==="x"&&ne.set("scaleX",ve),pe==="y"&&ne.set("scaleY",Ce)):(!oe&&ne.set("scaleX",ve),!we&&ne.set("scaleY",Ce)),xD!==ne.scaleX||bD!==ne.scaleY}function F(H,V,X,Z){return j(H,V,X,Z)}function I(H,V,X,Z){return j(H,V,X,Z,{by:"x"})}function Y(H,V,X,Z){return j(H,V,X,Z,{by:"y"})}function U(H,V,X,Z){return H[V.target.canvas.altActionKey]?l.skewHandlerX(H,V,X,Z):l.scalingY(H,V,X,Z)}function Q(H,V,X,Z){return H[V.target.canvas.altActionKey]?l.skewHandlerY(H,V,X,Z):l.scalingX(H,V,X,Z)}function ee(H,V,X,Z){var K=V.target,ne=G(V,V.originX,V.originY,X,Z),oe=K.strokeWidth/(K.strokeUniform?K.scaleX:1),we=E(V)?2:1,pe=K.width,ie=Math.abs(ne.x*we/K.scaleX)-oe;return K.set("width",Math.max(ie,0)),pe!==ie}function te(H,V,X,Z){var K=V.target,ne=X-V.offsetX,oe=Z-V.offsetY,we=!K.get("lockMovementX")&&K.left!==ne,pe=!K.get("lockMovementY")&&K.top!==oe;return we&&K.set("left",ne),pe&&K.set("top",oe),(we||pe)&&C("moving",L(H,V,X,Z)),we||pe}l.scaleCursorStyleHandler=k,l.skewCursorStyleHandler=A,l.scaleSkewCursorStyleHandler=B,l.rotationWithSnapping=J("rotating",W(R)),l.scalingEqually=J("scaling",W(F)),l.scalingX=J("scaling",W(I)),l.scalingY=J("scaling",W(Y)),l.scalingYOrSkewingX=U,l.scalingXOrSkewingY=Q,l.changeWidth=J("resizing",W(ee)),l.skewHandlerX=D,l.skewHandlerY=$,l.dragHandler=te,l.scaleOrSkewActionName=z,l.rotationStyleHandler=q,l.fireEvent=C,l.wrapWithFixedAnchor=W,l.wrapWithFireEvent=J,l.getLocalPoint=G,s.controlsUtils=l}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.degreesToRadians,f=s.controlsUtils;function l(d,m,g,p,y){p=p||{};var x=this.sizeX||p.cornerSize||y.cornerSize,b=this.sizeY||p.cornerSize||y.cornerSize,S=typeof p.transparentCorners<"u"?p.transparentCorners:y.transparentCorners,C=S?"stroke":"fill",T=!S&&(p.cornerStrokeColor||y.cornerStrokeColor),E=m,P=g,k;d.save(),d.fillStyle=p.cornerColor||y.cornerColor,d.strokeStyle=p.cornerStrokeColor||y.cornerStrokeColor,x>b?(k=x,d.scale(1,b/x),P=g*x/b):b>x?(k=b,d.scale(x/b,1),E=m*b/x):k=x,d.lineWidth=1,d.beginPath(),d.arc(E,P,k/2,0,2*Math.PI,!1),d[C](),T&&d.stroke(),d.restore()}function u(d,m,g,p,y){p=p||{};var x=this.sizeX||p.cornerSize||y.cornerSize,b=this.sizeY||p.cornerSize||y.cornerSize,S=typeof p.transparentCorners<"u"?p.transparentCorners:y.transparentCorners,C=S?"stroke":"fill",T=!S&&(p.cornerStrokeColor||y.cornerStrokeColor),E=x/2,P=b/2;d.save(),d.fillStyle=p.cornerColor||y.cornerColor,d.strokeStyle=p.cornerStrokeColor||y.cornerStrokeColor,d.lineWidth=1,d.translate(m,g),d.rotate(c(y.angle)),d[C+"Rect"](-E,-P,x,b),T&&d.strokeRect(-E,-P,x,b),d.restore()}f.renderCircleControl=l,f.renderSquareControl=u}(e),function(o){var s=o.fabric||(o.fabric={});function c(f){for(var l in f)this[l]=f[l]}s.Control=c,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,l){return l.cursorStyle},getActionName:function(f,l){return l.actionName},getVisibility:function(f,l){var u=f._controlsVisibility;return u&&typeof u[l]<"u"?u[l]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,l){var u=s.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},l);return u},calcCornerCoords:function(f,l,u,d,m){var g,p,y,x,b=m?this.touchSizeX:this.sizeX,S=m?this.touchSizeY:this.sizeY;if(b&&S&&b!==S){var C=Math.atan2(S,b),T=Math.sqrt(b*b+S*S)/2,E=C-s.util.degreesToRadians(f),P=Math.PI/2-C-s.util.degreesToRadians(f);g=T*s.util.cos(E),p=T*s.util.sin(E),y=T*s.util.cos(P),x=T*s.util.sin(P)}else{var k=b&&S?b:l;T=k*.7071067812;var E=s.util.degreesToRadians(45-f);g=y=T*s.util.cos(E),p=x=T*s.util.sin(E)}return{tl:{x:u-x,y:d-y},tr:{x:u+g,y:d-p},bl:{x:u-g,y:d+p},br:{x:u+x,y:d+y}}},render:function(f,l,u,d,m){switch(d=d||{},d.cornerStyle||m.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,f,l,u,d,m);break;default:s.controlsUtils.renderSquareControl.call(this,f,l,u,d,m)}}}}(e),function(){function o(u,d){var m=u.getAttribute("style"),g=u.getAttribute("offset")||0,p,y,x,b;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,m){var S=m.split(/\s*;\s*/);for(S[S.length-1]===""&&S.pop(),b=S.length;b--;){var C=S[b].split(/\s*:\s*/),T=C[0].trim(),E=C[1].trim();T==="stop-color"?p=E:T==="stop-opacity"&&(x=E)}}return p||(p=u.getAttribute("stop-color")||"rgb(0,0,0)"),x||(x=u.getAttribute("stop-opacity")),p=new t.Color(p),y=p.getAlpha(),x=isNaN(parseFloat(x))?1:parseFloat(x),x*=y*d,{offset:g,color:p.toRgb(),opacity:x}}function s(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function c(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var d,m=this;Object.keys(u).forEach(function(g){m[g]=u[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,d={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(d.r1=u.coords.r1||0,d.r2=u.coords.r2||0),this.coords=d,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var d in u){var m=new t.Color(u[d]);this.colorStops.push({offset:parseFloat(d),color:m.toRgb(),opacity:m.getAlpha()})}return this},toObject:function(u){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,d,u),d},toSVG:function(u,y){var m=f(this.coords,!0),g,p,y=y||{},x,b,S=f(this.colorStops,!0),C=m.r1>m.r2,T=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),E=-this.offsetX,P=-this.offsetY,k=!!y.additionalTransform,A=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(S.sort(function(W,J){return W.offset-J.offset}),A==="objectBoundingBox"?(E/=u.width,P/=u.height):(E+=u.width/2,P+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(E-=u.pathOffset.x,P-=u.pathOffset.y),T[4]-=E,T[5]-=P,b='id="SVGID_'+this.id+'" gradientUnits="'+A+'"',b+=' gradientTransform="'+(k?y.additionalTransform+" ":"")+t.util.matrixToSVG(T)+'" ',this.type==="linear"?x=["<linearGradient ",b,' x1="',m.x1,'" y1="',m.y1,'" x2="',m.x2,'" y2="',m.y2,`">
`]:this.type==="radial"&&(x=["<radialGradient ",b,' cx="',C?m.x1:m.x2,'" cy="',C?m.y1:m.y2,'" r="',C?m.r1:m.r2,'" fx="',C?m.x2:m.x1,'" fy="',C?m.y2:m.y1,`">
`]),this.type==="radial"){if(C)for(S=S.concat(),S.reverse(),g=0,p=S.length;g<p;g++)S[g].offset=1-S[g].offset;var B=Math.min(m.r1,m.r2);if(B>0){var z=Math.max(m.r1,m.r2),q=B/z;for(g=0,p=S.length;g<p;g++)S[g].offset+=q*(1-S[g].offset)}}for(g=0,p=S.length;g<p;g++){var L=S[g];x.push("<stop ",'offset="',L.offset*100+"%",'" style="stop-color:',L.color,typeof L.opacity<"u"?";stop-opacity: "+L.opacity:";",`"/>
`)}return x.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),x.join("")},toLive:function(u){var d,m=t.util.object.clone(this.coords),g,p;if(this.type){for(this.type==="linear"?d=u.createLinearGradient(m.x1,m.y1,m.x2,m.y2):this.type==="radial"&&(d=u.createRadialGradient(m.x1,m.y1,m.r1,m.x2,m.y2,m.r2)),g=0,p=this.colorStops.length;g<p;g++){var y=this.colorStops[g].color,x=this.colorStops[g].opacity,b=this.colorStops[g].offset;typeof x<"u"&&(y=new t.Color(y).setAlpha(x).toRgba()),d.addColorStop(b,y)}return d}}}),t.util.object.extend(t.Gradient,{fromElement:function(u,d,m,g){var p=parseFloat(m)/(/%$/.test(m)?100:1);p=p<0?0:p>1?1:p,isNaN(p)&&(p=1);var y=u.getElementsByTagName("stop"),x,b=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",S=u.getAttribute("gradientTransform")||"",C=[],T,E,P=0,k=0,A;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(x="linear",T=s(u)):(x="radial",T=c(u)),E=y.length;E--;)C.push(o(y[E],p));A=t.parseTransformAttribute(S),l(d,T,g,b),b==="pixels"&&(P=-d.left,k=-d.top);var B=new t.Gradient({id:u.getAttribute("id"),type:x,coords:T,colorStops:C,gradientUnits:b,gradientTransform:A,offsetX:P,offsetY:k});return B}});function l(u,d,m,g){var p,y;Object.keys(d).forEach(function(x){p=d[x],p==="Infinity"?y=1:p==="-Infinity"?y=0:(y=parseFloat(d[x],10),typeof p=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(p)&&(y*=.01,g==="pixels"&&((x==="x1"||x==="x2"||x==="r2")&&(y*=m.viewBoxWidth||m.width),(x==="y1"||x==="y2")&&(y*=m.viewBoxHeight||m.height)))),d[x]=y})}}(),function(){var o=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,c){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){c&&c(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(l,u){f.source=l,c&&c(f,u)},null,this.crossOrigin)}},toObject:function(s){var c=t.Object.NUM_FRACTION_DIGITS,f,l;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),l={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:o(this.offsetX,c),offsetY:o(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,l,s),l},toSVG:function(s){var c=typeof this.source=="function"?this.source():this.source,f=c.width/s.width,l=c.height/s.height,u=this.offsetX/s.width,d=this.offsetY/s.height,m="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,d&&(l+=Math.abs(d))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,u&&(f+=Math.abs(u))),c.src?m=c.src:c.toDataURL&&(m=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+d+'" width="'+f+'" height="'+l+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+m+`"></image>
</pattern>
`},setOptions:function(s){for(var c in s)this[c]=s[c]},toLive:function(s){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":s.createPattern(c,this.repeat)}})}(),function(o){var s=o.fabric||(o.fabric={}),c=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var l in f)this[l]=f[l];this.id=s.Object.__uid++},_parseShadow:function(f){var l=f.trim(),u=s.Shadow.reOffsetsAndBlur.exec(l)||[],d=l.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:d.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var l=40,u=40,d=s.Object.NUM_FRACTION_DIGITS,m=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-f.angle)),g=20,p=new s.Color(this.color);return f.width&&f.height&&(l=c((Math.abs(m.x)+this.blur)/f.width,d)*100+g,u=c((Math.abs(m.y)+this.blur)/f.height,d)*100+g),f.flipX&&(m.x*=-1),f.flipY&&(m.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,d)+`"></feGaussianBlur>
	<feOffset dx="`+c(m.x,d)+'" dy="'+c(m.y,d)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+p.toRgb()+'" flood-opacity="'+p.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},l=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==l[u]&&(f[u]=this[u])},this),f}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var o=t.util.object.extend,s=t.util.getElementOffset,c=t.util.removeFromArray,f=t.util.toFixed,l=t.util.transformPoint,u=t.util.invertTransform,d=t.util.getNodeCanvas,m=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(p,y){y||(y={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(p,y)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(p,y){var x=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(p),this._initOptions(y),this.interactive||this._initRetinaScaling(),y.overlayImage&&this.setOverlayImage(y.overlayImage,x),y.backgroundImage&&this.setBackgroundImage(y.backgroundImage,x),y.backgroundColor&&this.setBackgroundColor(y.backgroundColor,x),y.overlayColor&&this.setOverlayColor(y.overlayColor,x),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var p=t.devicePixelRatio;this.__initRetinaScaling(p,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(p,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(p,y,x){y.setAttribute("width",this.width*p),y.setAttribute("height",this.height*p),x.scale(p,p)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(p,y,x){return this.__setBgOverlayImage("overlayImage",p,y,x)},setBackgroundImage:function(p,y,x){return this.__setBgOverlayImage("backgroundImage",p,y,x)},setOverlayColor:function(p,y){return this.__setBgOverlayColor("overlayColor",p,y)},setBackgroundColor:function(p,y){return this.__setBgOverlayColor("backgroundColor",p,y)},__setBgOverlayImage:function(p,y,x,b){return typeof y=="string"?t.util.loadImage(y,function(S,C){if(S){var T=new t.Image(S,b);this[p]=T,T.canvas=this}x&&x(S,C)},this,b&&b.crossOrigin):(b&&y.setOptions(b),this[p]=y,y&&(y.canvas=this),x&&x(y,!1)),this},__setBgOverlayColor:function(p,y,x){return this[p]=y,this._initGradient(y,p),this._initPattern(y,p,x),this},_createCanvasElement:function(){var p=m();if(!p||(p.style||(p.style={}),typeof p.getContext>"u"))throw g;return p},_initOptions:function(p){var y=this.lowerCanvasEl;this._setOptions(p),this.width=this.width||parseInt(y.width,10)||0,this.height=this.height||parseInt(y.height,10)||0,this.lowerCanvasEl.style&&(y.width=this.width,y.height=this.height,y.style.width=this.width+"px",y.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(p){p&&p.getContext?this.lowerCanvasEl=p:this.lowerCanvasEl=t.util.getById(p)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(p,y){return this.setDimensions({width:p},y)},setHeight:function(p,y){return this.setDimensions({height:p},y)},setDimensions:function(p,y){var x;y=y||{};for(var b in p)x=p[b],y.cssOnly||(this._setBackstoreDimension(b,p[b]),x+="px",this.hasLostContext=!0),y.backstoreOnly||this._setCssDimension(b,x);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),y.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(p,y){return this.lowerCanvasEl[p]=y,this.upperCanvasEl&&(this.upperCanvasEl[p]=y),this.cacheCanvasEl&&(this.cacheCanvasEl[p]=y),this[p]=y,this},_setCssDimension:function(p,y){return this.lowerCanvasEl.style[p]=y,this.upperCanvasEl&&(this.upperCanvasEl.style[p]=y),this.wrapperEl&&(this.wrapperEl.style[p]=y),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(p){var y=this._activeObject,x=this.backgroundImage,b=this.overlayImage,S,C,T;for(this.viewportTransform=p,C=0,T=this._objects.length;C<T;C++)S=this._objects[C],S.group||S.setCoords(!0);return y&&y.setCoords(),x&&x.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(p,y){var x=p,b=this.viewportTransform.slice(0);p=l(p,u(this.viewportTransform)),b[0]=y,b[3]=y;var S=l(p,b);return b[4]+=x.x-S.x,b[5]+=x.y-S.y,this.setViewportTransform(b)},setZoom:function(p){return this.zoomToPoint(new t.Point(0,0),p),this},absolutePan:function(p){var y=this.viewportTransform.slice(0);return y[4]=-p.x,y[5]=-p.y,this.setViewportTransform(y)},relativePan:function(p){return this.absolutePan(new t.Point(-p.x-this.viewportTransform[4],-p.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(p){this.stateful&&p.setupState(),p._set("canvas",this),p.setCoords(),this.fire("object:added",{target:p}),p.fire("added")},_onObjectRemoved:function(p){this.fire("object:removed",{target:p}),p.fire("removed"),delete p.canvas},clearContext:function(p){return p.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var p=this.contextContainer;return this.renderCanvas(p,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var p={},y=this.width,x=this.height,b=u(this.viewportTransform);return p.tl=l({x:0,y:0},b),p.br=l({x:y,y:x},b),p.tr=new t.Point(p.br.x,p.tl.y),p.bl=new t.Point(p.tl.x,p.br.y),this.vptCoords=p,p},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(p,y){var x=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(p),t.util.setImageSmoothing(p,this.imageSmoothingEnabled),this.fire("before:render",{ctx:p}),this._renderBackground(p),p.save(),p.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(p,y),p.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(p)),this._renderOverlay(p),this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),this.fire("after:render",{ctx:p})},drawClipPathOnCanvas:function(p){var y=this.viewportTransform,x=this.clipPath;p.save(),p.transform(y[0],y[1],y[2],y[3],y[4],y[5]),p.globalCompositeOperation="destination-in",x.transform(p),p.scale(1/x.zoomX,1/x.zoomY),p.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),p.restore()},_renderObjects:function(p,y){var x,b;for(x=0,b=y.length;x<b;++x)y[x]&&y[x].render(p)},_renderBackgroundOrOverlay:function(p,y){var x=this[y+"Color"],b=this[y+"Image"],S=this.viewportTransform,C=this[y+"Vpt"];if(!(!x&&!b)){if(x){p.save(),p.beginPath(),p.moveTo(0,0),p.lineTo(this.width,0),p.lineTo(this.width,this.height),p.lineTo(0,this.height),p.closePath(),p.fillStyle=x.toLive?x.toLive(p,this):x,C&&p.transform(S[0],S[1],S[2],S[3],S[4],S[5]),p.transform(1,0,0,1,x.offsetX||0,x.offsetY||0);var T=x.gradientTransform||x.patternTransform;T&&p.transform(T[0],T[1],T[2],T[3],T[4],T[5]),p.fill(),p.restore()}if(b){p.save();var E=this.skipOffscreen;this.skipOffscreen=C,C&&p.transform(S[0],S[1],S[2],S[3],S[4],S[5]),b.render(p),this.skipOffscreen=E,p.restore()}}},_renderBackground:function(p){this._renderBackgroundOrOverlay(p,"background")},_renderOverlay:function(p){this._renderBackgroundOrOverlay(p,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(p){return this._centerObject(p,new t.Point(this.getCenterPoint().x,p.getCenterPoint().y))},centerObjectV:function(p){return this._centerObject(p,new t.Point(p.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(p){var y=this.getCenterPoint();return this._centerObject(p,y)},viewportCenterObject:function(p){var y=this.getVpCenter();return this._centerObject(p,y)},viewportCenterObjectH:function(p){var y=this.getVpCenter();return this._centerObject(p,new t.Point(y.x,p.getCenterPoint().y)),this},viewportCenterObjectV:function(p){var y=this.getVpCenter();return this._centerObject(p,new t.Point(p.getCenterPoint().x,y.y))},getVpCenter:function(){var p=this.getCenterPoint(),y=u(this.viewportTransform);return l(p,y)},_centerObject:function(p,y){return p.setPositionByOrigin(y,"center","center"),p.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(p){return this.toDatalessObject(p)},toObject:function(p){return this._toObjectMethod("toObject",p)},toDatalessObject:function(p){return this._toObjectMethod("toDatalessObject",p)},_toObjectMethod:function(p,y){var x=this.clipPath,b={version:t.version,objects:this._toObjects(p,y)};return x&&!x.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,p,y)),o(b,this.__serializeBgOverlay(p,y)),t.util.populateWithProperties(this,b,y),b},_toObjects:function(p,y){return this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){return this._toObject(x,p,y)},this)},_toObject:function(p,y,x){var b;this.includeDefaultValues||(b=p.includeDefaultValues,p.includeDefaultValues=!1);var S=p[y](x);return this.includeDefaultValues||(p.includeDefaultValues=b),S},__serializeBgOverlay:function(p,y){var x={},b=this.backgroundImage,S=this.overlayImage,C=this.backgroundColor,T=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(x.background=C.toObject(y)):C&&(x.background=C),T&&T.toObject?T.excludeFromExport||(x.overlay=T.toObject(y)):T&&(x.overlay=T),b&&!b.excludeFromExport&&(x.backgroundImage=this._toObject(b,p,y)),S&&!S.excludeFromExport&&(x.overlayImage=this._toObject(S,p,y)),x},svgViewportTransformation:!0,toSVG:function(p,y){p||(p={}),p.reviver=y;var x=[];return this._setSVGPreamble(x,p),this._setSVGHeader(x,p),this.clipPath&&x.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(x,"background"),this._setSVGBgOverlayImage(x,"backgroundImage",y),this._setSVGObjects(x,y),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlay"),this._setSVGBgOverlayImage(x,"overlayImage",y),x.push("</svg>"),x.join("")},_setSVGPreamble:function(p,y){y.suppressPreamble||p.push('<?xml version="1.0" encoding="',y.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(p,y){var x=y.width||this.width,b=y.height||this.height,S,C='viewBox="0 0 '+this.width+" "+this.height+'" ',T=t.Object.NUM_FRACTION_DIGITS;y.viewBox?C='viewBox="'+y.viewBox.x+" "+y.viewBox.y+" "+y.viewBox.width+" "+y.viewBox.height+'" ':this.svgViewportTransformation&&(S=this.viewportTransform,C='viewBox="'+f(-S[4]/S[0],T)+" "+f(-S[5]/S[3],T)+" "+f(this.width/S[0],T)+" "+f(this.height/S[3],T)+'" '),p.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',x,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(y),`</defs>
`)},createSVGClipPathMarkup:function(p){var y=this.clipPath;return y?(y.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+y.clipPathId+`" >
`+this.clipPath.toClipPathSVG(p.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var p=this,y=["background","overlay"].map(function(x){var b=p[x+"Color"];if(b&&b.toLive){var S=p[x+"Vpt"],C=p.viewportTransform,T={width:p.width/(S?C[0]:1),height:p.height/(S?C[3]:1)};return b.toSVG(T,{additionalTransform:S?t.util.matrixToSVG(C):""})}});return y.join("")},createSVGFontFacesMarkup:function(){var p="",y={},x,b,S,C,T,E,P,k,A,B=t.fontPaths,z=[];for(this._objects.forEach(function L(W){z.push(W),W._objects&&W._objects.forEach(L)}),k=0,A=z.length;k<A;k++)if(x=z[k],b=x.fontFamily,!(x.type.indexOf("text")===-1||y[b]||!B[b])&&(y[b]=!0,!!x.styles)){S=x.styles;for(T in S){C=S[T];for(P in C)E=C[P],b=E.fontFamily,!y[b]&&B[b]&&(y[b]=!0)}}for(var q in y)p+=[`		@font-face {
`,"			font-family: '",q,`';
`,"			src: url('",B[q],`');
`,`		}
`].join("");return p&&(p=['	<style type="text/css">',`<![CDATA[
`,p,"]]>",`</style>
`].join("")),p},_setSVGObjects:function(p,y){var x,b,S,C=this._objects;for(b=0,S=C.length;b<S;b++)x=C[b],!x.excludeFromExport&&this._setSVGObject(p,x,y)},_setSVGObject:function(p,y,x){p.push(y.toSVG(x))},_setSVGBgOverlayImage:function(p,y,x){this[y]&&!this[y].excludeFromExport&&this[y].toSVG&&p.push(this[y].toSVG(x))},_setSVGBgOverlayColor:function(p,y){var x=this[y+"Color"],b=this.viewportTransform,S=this.width,C=this.height;if(x)if(x.toLive){var T=x.repeat,E=t.util.invertTransform(b),P=this[y+"Vpt"],k=P?t.util.matrixToSVG(E):"";p.push('<rect transform="'+k+" translate(",S/2,",",C/2,')"',' x="',x.offsetX-S/2,'" y="',x.offsetY-C/2,'" ','width="',T==="repeat-y"||T==="no-repeat"?x.source.width:S,'" height="',T==="repeat-x"||T==="no-repeat"?x.source.height:C,'" fill="url(#SVGID_'+x.id+')"',`></rect>
`)}else p.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',x,'"',`></rect>
`)},sendToBack:function(p){if(!p)return this;var y=this._activeObject,x,b,S;if(p===y&&p.type==="activeSelection")for(S=y._objects,x=S.length;x--;)b=S[x],c(this._objects,b),this._objects.unshift(b);else c(this._objects,p),this._objects.unshift(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(p){if(!p)return this;var y=this._activeObject,x,b,S;if(p===y&&p.type==="activeSelection")for(S=y._objects,x=0;x<S.length;x++)b=S[x],c(this._objects,b),this._objects.push(b);else c(this._objects,p),this._objects.push(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(p,y){if(!p)return this;var x=this._activeObject,b,S,C,T,E,P=0;if(p===x&&p.type==="activeSelection")for(E=x._objects,b=0;b<E.length;b++)S=E[b],C=this._objects.indexOf(S),C>0+P&&(T=C-1,c(this._objects,S),this._objects.splice(T,0,S)),P++;else C=this._objects.indexOf(p),C!==0&&(T=this._findNewLowerIndex(p,C,y),c(this._objects,p),this._objects.splice(T,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(p,y,x){var b,S;if(x)for(b=y,S=y-1;S>=0;--S){var C=p.intersectsWithObject(this._objects[S])||p.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(p);if(C){b=S;break}}else b=y-1;return b},bringForward:function(p,y){if(!p)return this;var x=this._activeObject,b,S,C,T,E,P=0;if(p===x&&p.type==="activeSelection")for(E=x._objects,b=E.length;b--;)S=E[b],C=this._objects.indexOf(S),C<this._objects.length-1-P&&(T=C+1,c(this._objects,S),this._objects.splice(T,0,S)),P++;else C=this._objects.indexOf(p),C!==this._objects.length-1&&(T=this._findNewUpperIndex(p,C,y),c(this._objects,p),this._objects.splice(T,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(p,y,x){var b,S,C;if(x)for(b=y,S=y+1,C=this._objects.length;S<C;++S){var T=p.intersectsWithObject(this._objects[S])||p.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(p);if(T){b=S;break}}else b=y+1;return b},moveTo:function(p,y){return c(this._objects,p),this._objects.splice(y,0,p),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(p){p.dispose&&p.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),o(t.StaticCanvas.prototype,t.Observable),o(t.StaticCanvas.prototype,t.Collection),o(t.StaticCanvas.prototype,t.DataURLExporter),o(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(p){var y=m();if(!y||!y.getContext)return null;var x=y.getContext("2d");if(!x)return null;switch(p){case"setLineDash":return typeof x.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var p=d(this.lowerCanvasEl);return p&&p.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(p){var y=d(this.lowerCanvasEl);return y&&y.createJPEGStream(p)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(o){o.strokeStyle=this.color,o.lineWidth=this.width,o.lineCap=this.strokeLineCap,o.miterLimit=this.strokeMiterLimit,o.lineJoin=this.strokeLineJoin,o.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(o){var s=this.canvas.viewportTransform;o.save(),o.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var o=this.canvas,s=this.shadow,c=o.contextTop,f=o.getZoom();o&&o._isRetinaScaling()&&(f*=t.devicePixelRatio),c.shadowColor=s.color,c.shadowBlur=s.blur*f,c.shadowOffsetX=s.offsetX*f,c.shadowOffsetY=s.offsetY*f}},needsFullRender:function(){var o=new t.Color(this.color);return o.getAlpha()<1||!!this.shadow},_resetShadow:function(){var o=this.canvas.contextTop;o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0},_isOutSideCanvas:function(o){return o.x<0||o.x>this.canvas.getWidth()||o.y<0||o.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(o){this.canvas=o,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(o,s,c){var f=s.midPointFrom(c);return o.quadraticCurveTo(s.x,s.y,f.x,f.y),f},onMouseDown:function(o,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(o),this._captureDrawingPath(o),this._render())},onMouseMove:function(o,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o))&&this._captureDrawingPath(o)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,c[f-2],c[f-1],!0),l.stroke(),l.restore()}},onMouseUp:function(o){return this.canvas._isMainEvent(o.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(o){var s=new t.Point(o.x,o.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(o){return this._points.length>1&&o.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(o),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(o){var s=new t.Point(o.x,o.y);return this._addPoint(s)},_render:function(o){var s,c,f=this._points[0],l=this._points[1];if(o=o||this.canvas.contextTop,this._saveAndTransform(o),o.beginPath(),this._points.length===2&&f.x===l.x&&f.y===l.y){var u=this.width/1e3;f=new t.Point(f.x,f.y),l=new t.Point(l.x,l.y),f.x-=u,l.x+=u}for(o.moveTo(f.x,f.y),s=1,c=this._points.length;s<c;s++)this._drawSegment(o,f,l),f=this._points[s],l=this._points[s+1];o.lineTo(f.x,f.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(o){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(o,s)},_isEmptySVGPath:function(o){var s=t.util.joinPath(o);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(o){var s=new t.Path(o,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(o,s){if(o.length<=2)return o;var c=this.canvas.getZoom(),f=Math.pow(s/c,2),l,u=o.length-1,d=o[0],m=[d],g;for(l=1;l<u-1;l++)g=Math.pow(d.x-o[l].x,2)+Math.pow(d.y-o[l].y,2),g>=f&&(d=o[l],m.push(d));return m.push(o[u]),m},_finalizeAndAddPath:function(){var o=this.canvas.contextTop;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var c=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(o){this.canvas=o,this.points=[]},drawDot:function(o){var s=this.addPoint(o),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,s),c.restore()},dot:function(o,s){o.fillStyle=s.fill,o.beginPath(),o.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),o.closePath(),o.fill()},onMouseDown:function(o){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(o)},_render:function(){var o=this.canvas.contextTop,s,c,f=this.points;for(this._saveAndTransform(o),s=0,c=f.length;s<c;s++)this.dot(o,f[s]);o.restore()},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(o),this._render()):this.drawDot(o))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove,s,c;this.canvas.renderOnAddRemove=!1;var f=[];for(s=0,c=this.points.length;s<c;s++){var l=this.points[s],u=new t.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(u.shadow=new t.Shadow(this.shadow)),f.push(u)}var d=new t.Group(f);d.canvas=this.canvas,this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},addPoint:function(o){var s=new t.Point(o.x,o.y),c=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=c,s.fill=f,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(o){this.canvas=o,this.sprayChunks=[]},onMouseDown:function(o){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(o),this.render(this.sprayChunkPoints)},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.addSprayChunk(o),this.render(this.sprayChunkPoints))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var l=this.sprayChunks[c],u=0,d=l.length;u<d;u++){var m=new t.Rect({width:l[u].width,height:l[u].width,left:l[u].x+1,top:l[u].y+1,originX:"center",originY:"center",fill:this.color});s.push(m)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var g=new t.Group(s);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},_getOptimizedRects:function(o){var s={},c,f,l;for(f=0,l=o.length;f<l;f++)c=o[f].left+""+o[f].top,s[c]||(s[c]=o[f]);var u=[];for(c in s)u.push(s[c]);return u},render:function(o){var s=this.canvas.contextTop,c,f;for(s.fillStyle=this.color,this._saveAndTransform(s),c=0,f=o.length;c<f;c++){var l=o[c];typeof l.opacity<"u"&&(s.globalAlpha=l.opacity),s.fillRect(l.x,l.y,l.width,l.width)}s.restore()},_render:function(){var o=this.canvas.contextTop,s,c;for(o.fillStyle=this.color,this._saveAndTransform(o),s=0,c=this.sprayChunks.length;s<c;s++)this.render(this.sprayChunks[s]);o.restore()},addSprayChunk:function(o){this.sprayChunkPoints=[];var s,c,f,l=this.width/2,u;for(u=0;u<this.density;u++){s=t.util.getRandomInt(o.x-l,o.x+l),c=t.util.getRandomInt(o.y-l,o.y+l),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var d=new t.Point(s,c);d.width=f,this.randomOpacity&&(d.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(d)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var o=20,s=5,c=t.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=o+s,f.fillStyle=this.color,f.beginPath(),f.arc(o/2,o/2,o/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(o){return o.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle=this.getPattern(o)},createPath:function(o){var s=this.callSuper("createPath",o),c=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),s}}),function(){var o=t.util.getPointer,s=t.util.degreesToRadians,c=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(l,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),u,d,m;if(l.length>0&&!this.preserveObjectStacking){d=[],m=[];for(var g=0,p=this._objects.length;g<p;g++)u=this._objects[g],l.indexOf(u)===-1?d.push(u):m.push(u);l.length>1&&(this._activeObject._objects=m),d.push.apply(d,m)}else d=this._objects;return d},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,u){var d=l.calcTransformMatrix(),m=t.util.invertTransform(d),g=this.restorePointerVpt(u);return t.util.transformPoint(g,m)},isTargetTransparent:function(l,u,d){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var m=this._normalizePointer(l,{x:u,y:d}),g=Math.max(l.cacheTranslationX+m.x*l.zoomX,0),p=Math.max(l.cacheTranslationY+m.y*l.zoomY,0),S=t.util.isTransparent(l._cacheContext,Math.round(g),Math.round(p),this.targetFindTolerance);return S}var y=this.contextCache,x=l.selectionBackgroundColor,b=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(y),y.save(),y.transform(b[0],b[1],b[2],b[3],b[4],b[5]),l.render(y),y.restore(),l.selectionBackgroundColor=x;var S=t.util.isTransparent(y,u,d,this.targetFindTolerance);return S},_isSelectionKeyPressed:function(l){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(d){return l[d]===!0}):u=l[this.selectionKey],u},_shouldClearSelection:function(l,u){var d=this.getActiveObjects(),m=this._activeObject;return!u||u&&m&&d.length>1&&d.indexOf(u)===-1&&m!==u&&!this._isSelectionKeyPressed(l)||u&&!u.evented||u&&!u.selectable&&m&&m!==u},_shouldCenterTransform:function(l,u,d){if(l){var m;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?m=this.centeredScaling||l.centeredScaling:u==="rotate"&&(m=this.centeredRotation||l.centeredRotation),m?!d:d}},_getOriginFromCorner:function(l,u){var d={x:l.originX,y:l.originY};return u==="ml"||u==="tl"||u==="bl"?d.x="right":(u==="mr"||u==="tr"||u==="br")&&(d.x="left"),u==="tl"||u==="mt"||u==="tr"?d.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(d.y="top"),d},_getActionFromCorner:function(l,u,d,m){if(!u||!l)return"drag";var g=m.controls[u];return g.getActionName(d,g,m)},_setupCurrentTransform:function(l,u,d){if(u){var m=this.getPointer(l),g=u.__corner,p=u.controls[g],y=d&&g?p.getActionHandler(l,u,p):t.controlsUtils.dragHandler,x=this._getActionFromCorner(d,g,l,u),b=this._getOriginFromCorner(u,g),S=l[this.centeredKey],C={target:u,action:x,actionHandler:y,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:m.x-u.left,offsetY:m.y-u.top,originX:b.x,originY:b.y,ex:m.x,ey:m.y,lastX:m.x,lastY:m.y,theta:s(u.angle),width:u.width*u.scaleX,shiftKey:l.shiftKey,altKey:S,original:t.util.saveObjectTransform(u)};this._shouldCenterTransform(u,x,S)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var u=this._groupSelector,d=new t.Point(u.ex,u.ey),m=t.util.transformPoint(d,this.viewportTransform),g=new t.Point(u.ex+u.left,u.ey+u.top),p=t.util.transformPoint(g,this.viewportTransform),y=Math.min(m.x,p.x),x=Math.min(m.y,p.y),b=Math.max(m.x,p.x),S=Math.max(m.y,p.y),C=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(y,x,b-y,S-x)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,y+=C,x+=C,b-=C,S-=C,t.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(y,x,b-y,S-x))},findTarget:function(l,u){if(!this.skipTargetFind){var d=!0,m=this.getPointer(l,d),g=this._activeObject,p=this.getActiveObjects(),y,x,b=c(l),S=p.length>1&&!u||p.length===1;if(this.targets=[],S&&g._findTargetCorner(m,b)||p.length>1&&!u&&g===this._searchPossibleTargets([g],m))return g;if(p.length===1&&g===this._searchPossibleTargets([g],m))if(this.preserveObjectStacking)y=g,x=this.targets,this.targets=[];else return g;var C=this._searchPossibleTargets(this._objects,m);return l[this.altSelectionKey]&&C&&y&&C!==y&&(C=y,this.targets=x),C}},_checkTarget:function(l,u,d){if(u&&u.visible&&u.evented&&u.containsPoint(l))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var m=this.isTargetTransparent(u,d.x,d.y);if(!m)return!0}else return!0},_searchPossibleTargets:function(l,u){for(var d,m=l.length,g;m--;){var p=l[m],y=p.group?this._normalizePointer(p.group,u):u;if(this._checkTarget(y,p,u)){d=l[m],d.subTargetCheck&&d instanceof t.Group&&(g=this._searchPossibleTargets(d._objects,u),g&&this.targets.push(g));break}}return d},restorePointerVpt:function(l){return t.util.transformPoint(l,t.util.invertTransform(this.viewportTransform))},getPointer:function(l,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var d=o(l),m=this.upperCanvasEl,g=m.getBoundingClientRect(),p=g.width||0,y=g.height||0,x;(!p||!y)&&("top"in g&&"bottom"in g&&(y=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(p=Math.abs(g.right-g.left))),this.calcOffset(),d.x=d.x-this._offset.left,d.y=d.y-this._offset.top,u||(d=this.restorePointerVpt(d));var b=this.getRetinaScaling();return b!==1&&(d.x/=b,d.y/=b),p===0||y===0?x={width:1,height:1}:x={width:m.width/p,height:m.height/y},{x:d.x*x.width,y:d.y*x.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,d=this.upperCanvasEl;d?d.className="":(d=this._createCanvasElement(),this.upperCanvasEl=d),t.util.addClass(d,"upper-canvas "+l),this.wrapperEl.appendChild(d),this._copyCanvasStyle(u,d),this._applyCanvasStyle(d),this.contextTop=d.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var u=this.width||l.width,d=this.height||l.height;t.util.setStyle(l,{position:"absolute",width:u+"px",height:d+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=u,l.height=d,t.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,u){u.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,u){var d=!1,m=this.getActiveObjects(),g=[],p=[];l.forEach(function(y){m.indexOf(y)===-1&&(d=!0,y.fire("deselected",{e:u,target:y}),p.push(y))}),m.forEach(function(y){l.indexOf(y)===-1&&(d=!0,y.fire("selected",{e:u,target:y}),g.push(y))}),l.length>0&&m.length>0?d&&this.fire("selection:updated",{e:u,selected:g,deselected:p}):m.length>0?this.fire("selection:created",{e:u,selected:g}):l.length>0&&this.fire("selection:cleared",{e:u,deselected:p})},setActiveObject:function(l,u){var d=this.getActiveObjects();return this._setActiveObject(l,u),this._fireSelectionEvents(d,u),this},_setActiveObject:function(l,u){return this._activeObject===l||!this._discardActiveObject(u,l)||l.onSelect({e:u})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,u){var d=this._activeObject;if(d){if(d.onDeselect({e:l,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var u=this.getActiveObjects(),d=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:d,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(u,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var u=this._activeObject;u&&u._renderControls(l)},_toObject:function(l,u,d){var m=this._realizeGroupTransformOnObject(l),g=this.callSuper("_toObject",l,u,d);return this._unwindGroupTransformOnObject(l,m),g},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],d={};return u.forEach(function(m){d[m]=l[m]}),t.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),d}else return null},_unwindGroupTransformOnObject:function(l,u){u&&l.set(u)},_setSVGObject:function(l,u,d){var m=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",l,u,d),this._unwindGroupTransformOnObject(u,m)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var o=t.util.addListener,s=t.util.removeListener,c=3,f=2,l=1,u={passive:!1};function d(m,g){return m.button&&m.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(o,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(m,g){var p=this.upperCanvasEl,y=this._getEventPrefix();m(t.window,"resize",this._onResize),m(p,y+"down",this._onMouseDown),m(p,y+"move",this._onMouseMove,u),m(p,y+"out",this._onMouseOut),m(p,y+"enter",this._onMouseEnter),m(p,"wheel",this._onMouseWheel),m(p,"contextmenu",this._onContextMenu),m(p,"dblclick",this._onDoubleClick),m(p,"dragover",this._onDragOver),m(p,"dragenter",this._onDragEnter),m(p,"dragleave",this._onDragLeave),m(p,"drop",this._onDrop),this.enablePointerEvents||m(p,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](p,"gesture",this._onGesture),eventjs[g](p,"drag",this._onDrag),eventjs[g](p,"orientation",this._onOrientationChange),eventjs[g](p,"shake",this._onShake),eventjs[g](p,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var m=this._getEventPrefix();s(t.document,m+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,u),s(t.document,m+"move",this._onMouseMove,u),s(t.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(m,g){this.__onTransformGesture&&this.__onTransformGesture(m,g)},_onDrag:function(m,g){this.__onDrag&&this.__onDrag(m,g)},_onMouseWheel:function(m){this.__onMouseWheel(m)},_onMouseOut:function(m){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:m}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:m});var p=this;this._hoveredTargets.forEach(function(y){p.fire("mouse:out",{target:y,e:m}),y&&y.fire("mouseout",{e:m})}),this._hoveredTargets=[]},_onMouseEnter:function(m){!this._currentTransform&&!this.findTarget(m)&&(this.fire("mouse:over",{target:null,e:m}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(m,g){this.__onOrientationChange&&this.__onOrientationChange(m,g)},_onShake:function(m,g){this.__onShake&&this.__onShake(m,g)},_onLongPress:function(m,g){this.__onLongPress&&this.__onLongPress(m,g)},_onDragOver:function(m){m.preventDefault();var g=this._simpleEventHandler("dragover",m);this._fireEnterLeaveEvents(g,m)},_onDrop:function(m){return this._simpleEventHandler("drop:before",m),this._simpleEventHandler("drop",m)},_onContextMenu:function(m){return this.stopContextMenu&&(m.stopPropagation(),m.preventDefault()),!1},_onDoubleClick:function(m){this._cacheTransformEventData(m),this._handleEvent(m,"dblclick"),this._resetTransformEventData(m)},getPointerId:function(m){var g=m.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?m.pointerId:-1},_isMainEvent:function(m){return m.isPrimary===!0?!0:m.isPrimary===!1?!1:m.type==="touchend"&&m.touches.length===0?!0:m.changedTouches?m.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(m){m.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(m)),this.__onMouseDown(m),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();o(t.document,"touchend",this._onTouchEnd,u),o(t.document,"touchmove",this._onMouseMove,u),s(g,p+"down",this._onMouseDown)},_onMouseDown:function(m){this.__onMouseDown(m),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();s(g,p+"move",this._onMouseMove,u),o(t.document,p+"up",this._onMouseUp),o(t.document,p+"move",this._onMouseMove,u)},_onTouchEnd:function(m){if(!(m.touches.length>0)){this.__onMouseUp(m),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,u),s(t.document,"touchmove",this._onMouseMove,u);var p=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){o(p.upperCanvasEl,g+"down",p._onMouseDown),p._willAddMouseDown=0},400)}},_onMouseUp:function(m){this.__onMouseUp(m),this._resetTransformEventData();var g=this.upperCanvasEl,p=this._getEventPrefix();this._isMainEvent(m)&&(s(t.document,p+"up",this._onMouseUp),s(t.document,p+"move",this._onMouseMove,u),o(g,p+"move",this._onMouseMove,u))},_onMouseMove:function(m){!this.allowTouchScrolling&&m.preventDefault&&m.preventDefault(),this.__onMouseMove(m)},_onResize:function(){this.calcOffset()},_shouldRender:function(m){var g=this._activeObject;return!!g!=!!m||g&&m&&g!==m?!0:(g&&g.isEditing,!1)},__onMouseUp:function(m){var g,p=this._currentTransform,y=this._groupSelector,x=!1,b=!y||y.left===0&&y.top===0;if(this._cacheTransformEventData(m),g=this._target,this._handleEvent(m,"up:before"),d(m,c)){this.fireRightClick&&this._handleEvent(m,"up",c,b);return}if(d(m,f)){this.fireMiddleClick&&this._handleEvent(m,"up",f,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(m);return}if(this._isMainEvent(m)){if(p&&(this._finalizeCurrentTransform(m),x=p.actionPerformed),!b){var S=g===this._activeObject;this._maybeGroupObjects(m),x||(x=this._shouldRender(g)||!S&&g===this._activeObject)}var C,T;if(g){if(C=g._findTargetCorner(this.getPointer(m,!0),t.util.isTouchEvent(m)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,m),x=!0;else{var E=g.controls[C],P=E&&E.getMouseUpHandler(m,g,E);P&&(T=this.getPointer(m),P(m,p,T.x,T.y))}g.isMoving=!1}if(p&&(p.target!==g||p.corner!==C)){var k=p.target&&p.target.controls[p.corner],A=k&&k.getMouseUpHandler(m,g,E);T=T||this.getPointer(m),A&&A(m,p,T.x,T.y)}this._setCursorFromEvent(m,g),this._handleEvent(m,"up",l,b),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),x?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(m,g){var p=this.findTarget(g),y=this.targets,x={e:g,target:p,subTargets:y};if(this.fire(m,x),p&&p.fire(m,x),!y)return p;for(var b=0;b<y.length;b++)y[b].fire(m,x);return p},_handleEvent:function(m,g,p,y){var x=this._target,b=this.targets||[],S={e:m,target:x,subTargets:b,button:p||l,isClick:y||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(S.currentTarget=this.findTarget(m),S.currentSubTargets=this.targets),this.fire("mouse:"+g,S),x&&x.fire("mouse"+g,S);for(var C=0;C<b.length;C++)b[C].fire("mouse"+g,S)},_finalizeCurrentTransform:function(m){var g=this._currentTransform,p=g.target,y={e:m,target:p,transform:g,action:g.action};p._scaling&&(p._scaling=!1),p.setCoords(),(g.actionPerformed||this.stateful&&p.hasStateChanged())&&this._fire("modified",y)},_onMouseDownInDrawingMode:function(m){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(m).requestRenderAll();var g=this.getPointer(m);this.freeDrawingBrush.onMouseDown(g,{e:m,pointer:g}),this._handleEvent(m,"down")},_onMouseMoveInDrawingMode:function(m){if(this._isCurrentlyDrawing){var g=this.getPointer(m);this.freeDrawingBrush.onMouseMove(g,{e:m,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(m,"move")},_onMouseUpInDrawingMode:function(m){var g=this.getPointer(m);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:m,pointer:g}),this._handleEvent(m,"up")},__onMouseDown:function(m){this._cacheTransformEventData(m),this._handleEvent(m,"down:before");var g=this._target;if(d(m,c)){this.fireRightClick&&this._handleEvent(m,"down",c);return}if(d(m,f)){this.fireMiddleClick&&this._handleEvent(m,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(m);return}if(this._isMainEvent(m)&&!this._currentTransform){var p=this._pointer;this._previousPointer=p;var y=this._shouldRender(g),x=this._shouldGroup(m,g);if(this._shouldClearSelection(m,g)?this.discardActiveObject(m):x&&(this._handleGrouping(m,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var b=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,m);var S=g._findTargetCorner(this.getPointer(m,!0),t.util.isTouchEvent(m));if(g.__corner=S,g===this._activeObject&&(S||!x)){this._setupCurrentTransform(m,g,b);var C=g.controls[S],p=this.getPointer(m),T=C&&C.getMouseDownHandler(m,g,C);T&&T(m,this._currentTransform,p.x,p.y)}}this._handleEvent(m,"down"),(y||x)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(m){this._resetTransformEventData(),this._pointer=this.getPointer(m,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(m)||null},_beforeTransform:function(m){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:m,transform:g})},__onMouseMove:function(m){this._handleEvent(m,"move:before"),this._cacheTransformEventData(m);var g,p;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(m);return}if(this._isMainEvent(m)){var y=this._groupSelector;y?(p=this._absolutePointer,y.left=p.x-y.ex,y.top=p.y-y.ey,this.renderTop()):this._currentTransform?this._transformObject(m):(g=this.findTarget(m)||null,this._setCursorFromEvent(m,g),this._fireOverOutEvents(g,m)),this._handleEvent(m,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(m,g){var p=this._hoveredTarget,y=this._hoveredTargets,x=this.targets,b=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(m,g,{oldTarget:p,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var S=0;S<b;S++)this.fireSyntheticInOutEvents(x[S],g,{oldTarget:y[S],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=m,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(m,g){var p=this._draggedoverTarget,y=this._hoveredTargets,x=this.targets,b=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(m,g,{oldTarget:p,evtOut:"dragleave",evtIn:"dragenter"});for(var S=0;S<b;S++)this.fireSyntheticInOutEvents(x[S],g,{oldTarget:y[S],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=m},fireSyntheticInOutEvents:function(m,g,p){var y,x,b=p.oldTarget,S,C,T=b!==m,E=p.canvasEvtIn,P=p.canvasEvtOut;T&&(y={e:g,target:m,previousTarget:b},x={e:g,target:b,nextTarget:m}),C=m&&T,S=b&&T,S&&(P&&this.fire(P,x),b.fire(p.evtOut,x)),C&&(E&&this.fire(E,y),m.fire(p.evtIn,y))},__onMouseWheel:function(m){this._cacheTransformEventData(m),this._handleEvent(m,"wheel"),this._resetTransformEventData()},_transformObject:function(m){var g=this.getPointer(m),p=this._currentTransform;p.reset=!1,p.shiftKey=m.shiftKey,p.altKey=m[this.centeredKey],this._performTransformAction(m,p,g),p.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(m,g,p){var y=p.x,x=p.y,b=g.action,S=!1,C=g.actionHandler;C&&(S=C(m,g,y,x)),b==="drag"&&S&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||S},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(m,g){if(!g)return this.setCursor(this.defaultCursor),!1;var p=g.hoverCursor||this.hoverCursor,y=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,x=(!y||!y.contains(g))&&g._findTargetCorner(this.getPointer(m,!0));x?this.setCursor(this.getCornerCursor(x,g,m)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(b){p=b.hoverCursor||p}),this.setCursor(p))},getCornerCursor:function(m,g,p){var y=g.controls[m];return y.cursorStyleHandler(p,y,g)}})}(),function(){var o=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(c,f){var l=this._activeObject;return l&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(l!==f||l.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var l=this._activeObject;l.__corner||f===l&&(f=this.findTarget(c,!0),!f||!f.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var l=this._activeObject,u=l._objects.slice(0);l.contains(c)?(l.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),f)):(l.addWithUpdate(c),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,f)},_createActiveSelection:function(c,f){var l=this.getActiveObjects(),u=this._createGroup(c);this._hoveredTarget=u,this._setActiveObject(u,f),this._fireSelectionEvents(l,f)},_createGroup:function(c){var f=this._objects,l=f.indexOf(this._activeObject)<f.indexOf(c),u=l?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),l;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(l=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(l,c))},_collectObjects:function(c){for(var f=[],l,u=this._groupSelector.ex,d=this._groupSelector.ey,m=u+this._groupSelector.left,g=d+this._groupSelector.top,p=new t.Point(o(u,m),o(d,g)),y=new t.Point(s(u,m),s(d,g)),x=!this.selectionFullyContained,b=u===m&&d===g,S=this._objects.length;S--&&(l=this._objects[S],!(!(!l||!l.selectable||!l.visible)&&(x&&l.intersectsWithRect(p,y,!0)||l.isContainedWithinRect(p,y,!0)||x&&l.containsPoint(p,null,!0)||x&&l.containsPoint(y,null,!0))&&(f.push(l),b))););return f.length>1&&(f=f.filter(function(C){return!C.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(o){o||(o={});var s=o.format||"png",c=o.quality||1,f=(o.multiplier||1)*(o.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(f,o);return t.util.toDataURL(l,s,c)},toCanvasElement:function(o,s){o=o||1,s=s||{};var c=(s.width||this.width)*o,f=(s.height||this.height)*o,l=this.getZoom(),u=this.width,d=this.height,m=l*o,g=this.viewportTransform,p=(g[4]-(s.left||0))*o,y=(g[5]-(s.top||0))*o,x=this.interactive,b=[m,0,0,m,p,y],S=this.enableRetinaScaling,C=t.util.createCanvasElement(),T=this.contextTop;return C.width=c,C.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=d,this.calcViewportBoundaries(),this.interactive=x,this.enableRetinaScaling=S,this.contextTop=T,C}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(o,s,c){if(o){var f=typeof o=="string"?JSON.parse(o):t.util.object.clone(o),l=this,u=f.clipPath,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(m){l.clear(),l._setBgOverlay(f,function(){u?l._enlivenObjects([u],function(g){l.clipPath=g[0],l.__setupCanvas.call(l,f,m,d,s)}):l.__setupCanvas.call(l,f,m,d,s)})},c),this}},__setupCanvas:function(o,s,c,f){var l=this;s.forEach(function(u,d){l.insertAt(u,d)}),this.renderOnAddRemove=c,delete o.objects,delete o.backgroundImage,delete o.overlayImage,delete o.background,delete o.overlay,this._setOptions(o),this.renderAll(),f&&f()},_setBgOverlay:function(o,s){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!o.backgroundImage&&!o.overlayImage&&!o.background&&!o.overlay){s&&s();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",o.backgroundImage,c,f),this.__setBgOverlay("overlayImage",o.overlayImage,c,f),this.__setBgOverlay("backgroundColor",o.background,c,f),this.__setBgOverlay("overlayColor",o.overlay,c,f)},__setBgOverlay:function(o,s,c,f){var l=this;if(!s){c[o]=!0,f&&f();return}o==="backgroundImage"||o==="overlayImage"?t.util.enlivenObjects([s],function(u){l[o]=u[0],c[o]=!0,f&&f()}):this["set"+t.util.string.capitalize(o,!0)](s,function(){c[o]=!0,f&&f()})},_enlivenObjects:function(o,s,c){if(!o||o.length===0){s&&s([]);return}t.util.enlivenObjects(o,function(f){s&&s(f)},null,c)},_toDataURL:function(o,s){this.clone(function(c){s(c.toDataURL(o))})},_toDataURLWithMultiplier:function(o,s,c){this.clone(function(f){c(f.toDataURLWithMultiplier(o,s))})},clone:function(o,s){var c=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){o&&o(f)})})},cloneWithoutData:function(o){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var c=new t.Canvas(s);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),o&&o(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):o&&o(c)}}),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l=s.util.toFixed,u=s.util.string.capitalize,d=s.util.degreesToRadians,m=!s.isLikelyNode,g=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:m,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(p){p&&this.setOptions(p)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(p){var y=s.perfLimitSizeTotal,x=p.width,b=p.height,S=s.maxCacheSideLimit,C=s.minCacheSideLimit;if(x<=S&&b<=S&&x*b<=y)return x<C&&(p.width=C),b<C&&(p.height=C),p;var T=x/b,E=s.util.limitDimsByArea(T,y),P=s.util.capValue,k=P(C,E.x,S),A=P(C,E.y,S);return x>k&&(p.zoomX/=x/k,p.width=k,p.capped=!0),b>A&&(p.zoomY/=b/A,p.height=A,p.capped=!0),p},_getCacheCanvasDimensions:function(){var p=this.getTotalObjectScaling(),y=this._getTransformedDimensions(0,0),x=y.x*p.scaleX/this.scaleX,b=y.y*p.scaleY/this.scaleY;return{width:Math.ceil(x+g),height:Math.ceil(b+g),zoomX:p.scaleX,zoomY:p.scaleY,x,y:b}},_updateCacheCanvas:function(){var p=this.canvas;if(this.noScaleCache&&p&&p._currentTransform){var y=p._currentTransform.target,x=p._currentTransform.action;if(this===y&&x.slice&&x.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,S=this._limitCacheSize(this._getCacheCanvasDimensions()),C=S.width,T=S.height,E,P,k=S.zoomX,A=S.zoomY,B=C!==this.cacheWidth||T!==this.cacheHeight,z=this.zoomX!==k||this.zoomY!==A,q=B||z;return q?(B?(b.width=C,b.height=T):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),E=S.x/2,P=S.y/2,this.cacheTranslationX=Math.round(b.width/2-E)+E,this.cacheTranslationY=Math.round(b.height/2-P)+P,this.cacheWidth=C,this.cacheHeight=T,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(k,A),this.zoomX=k,this.zoomY=A,!0):!1},setOptions:function(p){this._setOptions(p),this._initGradient(p.fill,"fill"),this._initGradient(p.stroke,"stroke"),this._initPattern(p.fill,"fill"),this._initPattern(p.stroke,"stroke")},transform:function(p){var y=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,x=this.calcTransformMatrix(!y);p.transform(x[0],x[1],x[2],x[3],x[4],x[5])},toObject:function(p){var y=s.Object.NUM_FRACTION_DIGITS,x={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:l(this.left,y),top:l(this.top,y),width:l(this.width,y),height:l(this.height,y),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,y),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,y),scaleX:l(this.scaleX,y),scaleY:l(this.scaleY,y),angle:l(this.angle,y),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,y),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,y),skewY:l(this.skewY,y)};return this.clipPath&&!this.clipPath.excludeFromExport&&(x.clipPath=this.clipPath.toObject(p),x.clipPath.inverted=this.clipPath.inverted,x.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,x,p),this.includeDefaultValues||(x=this._removeDefaultValues(x)),x},toDatalessObject:function(p){return this.toObject(p)},_removeDefaultValues:function(p){var y=s.util.getKlass(p.type).prototype,x=y.stateProperties;return x.forEach(function(b){b==="left"||b==="top"||(p[b]===y[b]&&delete p[b],Array.isArray(p[b])&&Array.isArray(y[b])&&p[b].length===0&&y[b].length===0&&delete p[b])}),p},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var p=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(p.scaleX),scaleY:Math.abs(p.scaleY)}},getTotalObjectScaling:function(){var p=this.getObjectScaling(),y=p.scaleX,x=p.scaleY;if(this.canvas){var b=this.canvas.getZoom(),S=this.canvas.getRetinaScaling();y*=b*S,x*=b*S}return{scaleX:y,scaleY:x}},getObjectOpacity:function(){var p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p},_set:function(p,y){var x=p==="scaleX"||p==="scaleY",b=this[p]!==y,S=!1;return x&&(y=this._constrainScale(y)),p==="scaleX"&&y<0?(this.flipX=!this.flipX,y*=-1):p==="scaleY"&&y<0?(this.flipY=!this.flipY,y*=-1):p==="shadow"&&y&&!(y instanceof s.Shadow)?y=new s.Shadow(y):p==="dirty"&&this.group&&this.group.set("dirty",y),this[p]=y,b&&(S=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(p)>-1?(this.dirty=!0,S&&this.group.set("dirty",!0)):S&&this.stateProperties.indexOf(p)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(p),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),p.restore())},renderCache:function(p){p=p||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,p.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(p,y){if(p.save(),y.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",y.absolutePositioned){var x=s.util.invertTransform(this.calcTransformMatrix());p.transform(x[0],x[1],x[2],x[3],x[4],x[5])}y.transform(p),p.scale(1/y.zoomX,1/y.zoomY),p.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),p.restore()},drawObject:function(p,y){var x=this.fill,b=this.stroke;y?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath),this.fill=x,this.stroke=b},_drawClipPath:function(p,y){y&&(y.canvas=this.canvas,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCache(p,y))},drawCacheOnCanvas:function(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(p){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!p&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!p){var y=this.cacheWidth/this.zoomX,x=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-x/2,y,x)}return!0}return!1},_renderBackground:function(p){if(this.backgroundColor){var y=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-y.x/2,-y.y/2,y.x,y.y),this._removeShadow(p)}},_setOpacity:function(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity},_setStrokeStyles:function(p,y){var x=y.stroke;x&&(p.lineWidth=y.strokeWidth,p.lineCap=y.strokeLineCap,p.lineDashOffset=y.strokeDashOffset,p.lineJoin=y.strokeLineJoin,p.miterLimit=y.strokeMiterLimit,x.toLive?x.gradientUnits==="percentage"||x.gradientTransform||x.patternTransform?this._applyPatternForTransformedGradient(p,x):(p.strokeStyle=x.toLive(p,this),this._applyPatternGradientTransform(p,x)):p.strokeStyle=y.stroke)},_setFillStyles:function(p,y){var x=y.fill;x&&(x.toLive?(p.fillStyle=x.toLive(p,this),this._applyPatternGradientTransform(p,y.fill)):p.fillStyle=x)},_setClippingProperties:function(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"},_setLineDash:function(p,y){!y||y.length===0||(1&y.length&&y.push.apply(y,y),p.setLineDash(y))},_renderControls:function(p,y){var x=this.getViewportTransform(),b=this.calcTransformMatrix(),S,C,T;y=y||{},C=typeof y.hasBorders<"u"?y.hasBorders:this.hasBorders,T=typeof y.hasControls<"u"?y.hasControls:this.hasControls,b=s.util.multiplyTransformMatrices(x,b),S=s.util.qrDecompose(b),p.save(),p.translate(S.translateX,S.translateY),p.lineWidth=1*this.borderScaleFactor,this.group||(p.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(S.angle-=180),p.rotate(d(this.group?S.angle:this.angle)),y.forActiveSelection||this.group?C&&this.drawBordersInGroup(p,S,y):C&&this.drawBorders(p,y),T&&this.drawControls(p,y),p.restore()},_setShadow:function(p){if(this.shadow){var y=this.shadow,x=this.canvas,b,S=x&&x.viewportTransform[0]||1,C=x&&x.viewportTransform[3]||1;y.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),x&&x._isRetinaScaling()&&(S*=s.devicePixelRatio,C*=s.devicePixelRatio),p.shadowColor=y.color,p.shadowBlur=y.blur*s.browserShadowBlurConstant*(S+C)*(b.scaleX+b.scaleY)/4,p.shadowOffsetX=y.offsetX*S*b.scaleX,p.shadowOffsetY=y.offsetY*C*b.scaleY}},_removeShadow:function(p){this.shadow&&(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)},_applyPatternGradientTransform:function(p,y){if(!y||!y.toLive)return{offsetX:0,offsetY:0};var x=y.gradientTransform||y.patternTransform,b=-this.width/2+y.offsetX||0,S=-this.height/2+y.offsetY||0;return y.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,b,S):p.transform(1,0,0,1,b,S),x&&p.transform(x[0],x[1],x[2],x[3],x[4],x[5]),{offsetX:b,offsetY:S}},_renderPaintInOrder:function(p){this.paintFirst==="stroke"?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))},_render:function(){},_renderFill:function(p){this.fill&&(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())},_renderStroke:function(p){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform&&this.group){var y=this.getObjectScaling();p.scale(1/y.scaleX,1/y.scaleY)}else this.strokeUniform&&p.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}},_applyPatternForTransformedGradient:function(p,y){var x=this._limitCacheSize(this._getCacheCanvasDimensions()),b=s.util.createCanvasElement(),S,C=this.canvas.getRetinaScaling(),T=x.x/this.scaleX/C,E=x.y/this.scaleY/C;b.width=Math.ceil(T),b.height=Math.ceil(E),S=b.getContext("2d"),S.beginPath(),S.moveTo(0,0),S.lineTo(T,0),S.lineTo(T,E),S.lineTo(0,E),S.closePath(),S.translate(T/2,E/2),S.scale(x.zoomX/this.scaleX/C,x.zoomY/this.scaleY/C),this._applyPatternGradientTransform(S,y),S.fillStyle=y.toLive(p),S.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(C*this.scaleX/x.zoomX,C*this.scaleY/x.zoomY),p.strokeStyle=S.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var p=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",p.scaleX),this.set("scaleY",p.scaleY),this.angle=p.angle,this.skewX=p.skewX,this.skewY=0}},_removeTransformMatrix:function(p){var y=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),y=s.util.transformPoint(y,this.transformMatrix)),this.transformMatrix=null,p&&(this.scaleX*=p.scaleX,this.scaleY*=p.scaleY,this.cropX=p.cropX,this.cropY=p.cropY,y.x+=p.offsetLeft,y.y+=p.offsetTop,this.width=p.width,this.height=p.height),this.setPositionByOrigin(y,"center","center")},clone:function(p,y){var x=this.toObject(y);this.constructor.fromObject?this.constructor.fromObject(x,p):s.Object._fromObject("Object",x,p)},cloneAsImage:function(p,y){var x=this.toCanvasElement(y);return p&&p(new s.Image(x)),this},toCanvasElement:function(p){p||(p={});var y=s.util,x=y.saveObjectTransform(this),b=this.group,S=this.shadow,C=Math.abs,T=(p.multiplier||1)*(p.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,p.withoutTransform&&y.resetObjectTransform(this),p.withoutShadow&&(this.shadow=null);var E=s.util.createCanvasElement(),P=this.getBoundingRect(!0,!0),k=this.shadow,A,B={x:0,y:0},z,q,L;k&&(z=k.blur,k.nonScaling?A={scaleX:1,scaleY:1}:A=this.getObjectScaling(),B.x=2*Math.round(C(k.offsetX)+z)*C(A.scaleX),B.y=2*Math.round(C(k.offsetY)+z)*C(A.scaleY)),q=P.width+B.x,L=P.height+B.y,E.width=Math.ceil(q),E.height=Math.ceil(L);var W=new s.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});p.format==="jpeg"&&(W.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(W.width/2,W.height/2),"center","center");var J=this.canvas;W.add(this);var G=W.toCanvasElement(T||1,p);return this.shadow=S,this.set("canvas",J),b&&(this.group=b),this.set(x).setCoords(),W._objects=[],W.dispose(),W=null,G},toDataURL:function(p){return p||(p={}),s.util.toDataURL(this.toCanvasElement(p),p.format||"png",p.quality||1)},isType:function(p){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===p},complexity:function(){return 1},toJSON:function(p){return this.toObject(p)},rotate:function(p){var y=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return y&&this._setOriginToCenter(),this.set("angle",p),y&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(p,y){y=y||this.canvas.getPointer(p);var x=new s.Point(y.x,y.y),b=this._getLeftTopCoords();return this.angle&&(x=s.util.rotatePoint(x,b,d(-this.angle))),{x:x.x-b.x,y:x.y-b.y}},_setupCompositeOperation:function(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),c(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(p,y,x,b){var S=s[p];y=f(y,!0),s.util.enlivenPatterns([y.fill,y.stroke],function(C){typeof C[0]<"u"&&(y.fill=C[0]),typeof C[1]<"u"&&(y.stroke=C[1]),s.util.enlivenObjectEnlivables(y,y,function(){var T=b?new S(y[b],y):new S(y);x&&x(T)})})},s.Object.__uid=0)}(e),function(){var o=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,l,u,d,m){var g=f.x,p=f.y,y,x,b;return typeof l=="string"?l=s[l]:l-=.5,typeof d=="string"?d=s[d]:d-=.5,y=d-l,typeof u=="string"?u=c[u]:u-=.5,typeof m=="string"?m=c[m]:m-=.5,x=m-u,(y||x)&&(b=this._getTransformedDimensions(),g=f.x+y*b.x,p=f.y+x*b.y),new t.Point(g,p)},translateToCenterPoint:function(f,l,u){var d=this.translateToGivenOrigin(f,l,u,"center","center");return this.angle?t.util.rotatePoint(d,f,o(this.angle)):d},translateToOriginPoint:function(f,l,u){var d=this.translateToGivenOrigin(f,"center","center",l,u);return this.angle?t.util.rotatePoint(d,f,o(this.angle)):d},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,l){var u=this.getCenterPoint();return this.translateToOriginPoint(u,f,l)},toLocalPoint:function(f,l,u){var d=this.getCenterPoint(),m,g;return typeof l<"u"&&typeof u<"u"?m=this.translateToGivenOrigin(d,"center","center",l,u):m=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,d,-o(this.angle))),g.subtractEquals(m)},setPositionByOrigin:function(f,l,u){var d=this.translateToCenterPoint(f,l,u),m=this.translateToOriginPoint(d,this.originX,this.originY);this.set("left",m.x),this.set("top",m.y)},adjustPosition:function(f){var l=o(this.angle),u=this.getScaledWidth(),d=t.util.cos(l)*u,m=t.util.sin(l)*u,g,p;typeof this.originX=="string"?g=s[this.originX]:g=this.originX-.5,typeof f=="string"?p=s[f]:p=f-.5,this.left+=d*(p-g),this.top+=m*(p-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function o(u){return[new t.Point(u.tl.x,u.tl.y),new t.Point(u.tr.x,u.tr.y),new t.Point(u.br.x,u.br.y),new t.Point(u.bl.x,u.bl.y)]}var s=t.util,c=s.degreesToRadians,f=s.multiplyTransformMatrices,l=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,d){return d?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,d){return o(this._getCoords(u,d))},intersectsWithRect:function(u,d,m,g){var p=this.getCoords(m,g),y=t.Intersection.intersectPolygonRectangle(p,u,d);return y.status==="Intersection"},intersectsWithObject:function(u,d,m){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(d,m),u.getCoords(d,m));return g.status==="Intersection"||u.isContainedWithinObject(this,d,m)||this.isContainedWithinObject(u,d,m)},isContainedWithinObject:function(u,d,m){for(var g=this.getCoords(d,m),p=d?u.aCoords:u.lineCoords,y=0,x=u._getImageLines(p);y<4;y++)if(!u.containsPoint(g[y],x))return!1;return!0},isContainedWithinRect:function(u,d,m,g){var p=this.getBoundingRect(m,g);return p.left>=u.x&&p.left+p.width<=d.x&&p.top>=u.y&&p.top+p.height<=d.y},containsPoint:function(u,y,m,g){var p=this._getCoords(m,g),y=y||this._getImageLines(p),x=this._findCrossPoints(u,y);return x!==0&&x%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,m=this.canvas.vptCoords.br,g=this.getCoords(!0,u);return g.some(function(p){return p.x<=m.x&&p.x>=d.x&&p.y<=m.y&&p.y>=d.y})||this.intersectsWithRect(d,m,!0,u)?!0:this._containsCenterOfCanvas(d,m,u)},_containsCenterOfCanvas:function(u,d,m){var g={x:(u.x+d.x)/2,y:(u.y+d.y)/2};return!!this.containsPoint(g,null,!0,m)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,m=this.canvas.vptCoords.br;if(this.intersectsWithRect(d,m,!0,u))return!0;var g=this.getCoords(!0,u).every(function(p){return(p.x>=m.x||p.x<=d.x)&&(p.y>=m.y||p.y<=d.y)});return g&&this._containsCenterOfCanvas(d,m,u)},_getImageLines:function(u){var d={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return d},_findCrossPoints:function(u,d){var m,g,p,y,x,b=0,S;for(var C in d)if(S=d[C],!(S.o.y<u.y&&S.d.y<u.y)&&!(S.o.y>=u.y&&S.d.y>=u.y)&&(S.o.x===S.d.x&&S.o.x>=u.x?x=S.o.x:(m=0,g=(S.d.y-S.o.y)/(S.d.x-S.o.x),p=u.y-m*u.x,y=S.o.y-g*S.o.x,x=-(p-y)/(m-g)),x>=u.x&&(b+=1),b===2))break;return b},getBoundingRect:function(u,d){var m=this.getCoords(u,d);return s.makeBoundingBoxFromPoints(m)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,d){var m=this.getBoundingRect(d).width/this.getScaledWidth();return this.scale(u/this.width/m)},scaleToHeight:function(u,d){var m=this.getBoundingRect(d).height/this.getScaledHeight();return this.scale(u/this.height/m)},calcLineCoords:function(){var u=this.getViewportTransform(),d=this.padding,m=c(this.angle),g=s.cos(m),p=s.sin(m),y=g*d,x=p*d,b=y+x,S=y-x,C=this.calcACoords(),T={tl:l(C.tl,u),tr:l(C.tr,u),bl:l(C.bl,u),br:l(C.br,u)};return d&&(T.tl.x-=S,T.tl.y-=b,T.tr.x+=b,T.tr.y-=S,T.bl.x-=b,T.bl.y+=S,T.br.x+=S,T.br.y+=b),T},calcOCoords:function(){var u=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),m=this.getViewportTransform(),g=f(m,d),p=f(g,u),p=f(p,[1/m[0],0,0,1/m[3],0,0]),y=this._calculateCurrentDimensions(),x={};return this.forEachControl(function(b,S,C){x[S]=b.positionHandler(y,p,C)}),x},calcACoords:function(){var u=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),m=f(d,u),g=this._getTransformedDimensions(),p=g.x/2,y=g.y/2;return{tl:l({x:-p,y:-y},m),tr:l({x:p,y:-y},m),bl:l({x:-p,y},m),br:l({x:p,y},m)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var d="_",m="";return!u&&this.group&&(m=this.group.transformMatrixKey(u)+d),m+this.top+d+this.left+d+this.scaleX+d+this.scaleY+d+this.skewX+d+this.skewY+d+this.angle+d+this.originX+d+this.originY+d+this.width+d+this.height+d+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var d=this.calcOwnMatrix();if(u||!this.group)return d;var m=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===m?g.value:(this.group&&(d=f(this.group.calcTransformMatrix(!1),d)),g.key=m,g.value=d,d)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),d=this.ownMatrixCache||(this.ownMatrixCache={});if(d.key===u)return d.value;var m=this._calcTranslateMatrix(),g={angle:this.angle,translateX:m[4],translateY:m[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return d.key=u,d.value=s.composeMatrix(g),d.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,d=this.width+u,m=this.height+u;return{x:d,y:m}},_getTransformedDimensions:function(u,d){typeof u>"u"&&(u=this.skewX),typeof d>"u"&&(d=this.skewY);var m,g,p,y=u===0&&d===0;if(this.strokeUniform?(g=this.width,p=this.height):(m=this._getNonTransformedDimensions(),g=m.x,p=m.y),y)return this._finalizeDimensions(g*this.scaleX,p*this.scaleY);var x=s.sizeAfterTransform(g,p,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:d});return this._finalizeDimensions(x.x,x.y)},_finalizeDimensions:function(u,d){return this.strokeUniform?{x:u+this.strokeWidth,y:d+this.strokeWidth}:{x:u,y:d}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),d=this._getTransformedDimensions(),m=l(d,u,!0);return m.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(o){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,o):this.canvas&&this.canvas.sendBackwards(this,o),this},bringForward:function(o){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,o):this.canvas&&this.canvas.bringForward(this,o),this},moveTo:function(o){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,o):this.canvas&&this.canvas.moveTo(this,o),this}}),function(){function o(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var l=new t.Color(f),u=c+": "+l.toRgb()+"; ",d=l.getAlpha();return d!==1&&(u+=c+"-opacity: "+d.toString()+"; "),u}else return c+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",d=this.strokeDashOffset?this.strokeDashOffset:"0",m=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",p=this.strokeMiterLimit?this.strokeMiterLimit:"4",y=typeof this.opacity<"u"?this.opacity:"1",x=this.visible?"":" visibility: hidden;",b=c?"":this.getSvgFilter(),S=o("fill",this.fill),C=o("stroke",this.stroke);return[C,"stroke-width: ",l,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",m,"; ","stroke-dashoffset: ",d,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",p,"; ",S,"fill-rule: ",f,"; ","opacity: ",y,";",b,x].join("")},getSvgSpanStyles:function(c,f){var l="; ",d=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+l:"",u=c.strokeWidth?"stroke-width: "+c.strokeWidth+l:"",d=d,m=c.fontSize?"font-size: "+c.fontSize+"px"+l:"",g=c.fontStyle?"font-style: "+c.fontStyle+l:"",p=c.fontWeight?"font-weight: "+c.fontWeight+l:"",y=c.fill?o("fill",c.fill):"",x=c.stroke?o("stroke",c.stroke):"",b=this.getSvgTextDecoration(c),S=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return b&&(b="text-decoration: "+b+l),[x,u,d,m,g,p,b,y,S,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var l=c?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+t.util.matrixToSVG(l);return u+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,f),'" y="',s(-this.height/2,f),'" width="',s(this.width,f),'" height="',s(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var l=f.reviver,u=f.additionalTransform||"",d=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),m=c.indexOf("COMMON_PARTS");return c[m]=d,l?l(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var l=f.noStyle,u=f.reviver,d=l?"":'style="'+this.getSvgStyles()+'" ',m=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,p=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",y=g&&g.absolutePositioned,x=this.stroke,b=this.fill,S=this.shadow,C,T=[],E,P=c.indexOf("COMMON_PARTS"),k=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(u)+`</clipPath>
`),y&&T.push("<g ",m,this.getSvgCommons(),` >
`),T.push("<g ",this.getSvgTransform(!1),y?"":m+this.getSvgCommons(),` >
`),C=[d,p,l?"":this.addPaintOrder()," ",k?'transform="'+k+'" ':""].join(""),c[P]=C,b&&b.toLive&&T.push(b.toSVG(this)),x&&x.toLive&&T.push(x.toSVG(this)),S&&T.push(S.toSVG(this)),g&&T.push(E),T.push(c.join("")),T.push(`</g>
`),y&&T.push(`</g>
`),u?u(T.join("")):T.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var o=t.util.object.extend,s="stateProperties";function c(l,u,d){var m={},g=!0;d.forEach(function(p){m[p]=l[p]}),o(l[u],m,g)}function f(l,u,d){if(l===u)return!0;if(Array.isArray(l)){if(!Array.isArray(u)||l.length!==u.length)return!1;for(var m=0,g=l.length;m<g;m++)if(!f(l[m],u[m]))return!1;return!0}else if(l&&typeof l=="object"){var p=Object.keys(l),y;if(!u||typeof u!="object"||!d&&p.length!==Object.keys(u).length)return!1;for(var m=0,g=p.length;m<g;m++)if(y=p[m],!(y==="canvas"||y==="group")&&!f(l[y],u[y]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(l){l=l||s;var u="_"+l;return Object.keys(this[u]).length<this[l].length?!0:!f(this[u],this,!0)},saveState:function(l){var u=l&&l.propertySet||s,d="_"+u;return this[d]?(c(this,d,this[u]),l&&l.stateProperties&&c(this,d,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var u=l.propertySet||s;return l.propertySet=u,this["_"+u]={},this.saveState(l),this}})}(),function(){var o=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=s.x,l=s.y,u,d,m=Object.keys(this.oCoords),g=m.length-1,p;for(this.__corner=0;g>=0;g--)if(p=m[g],!!this.isControlVisible(p)&&(d=this._getImageLines(c?this.oCoords[p].touchCorner:this.oCoords[p].corner),u=this._findCrossPoints({x:f,y:l},d),u!==0&&u%2===1))return this.__corner=p,p;return!1},forEachControl:function(s){for(var c in this.controls)s(this.controls[c],c,this)},_setCornerCoords:function(){var s=this.oCoords;for(var c in s){var f=this.controls[c];s[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,s[c].x,s[c].y,!1),s[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,s[c].x,s[c].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return s.translate(c.x,c.y),s.scale(1/l[0],1/l[3]),s.rotate(o(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-f.x/2,-f.y/2,f.x,f.y),s.restore(),this},drawBorders:function(s,c){c=c||{};var f=this._calculateCurrentDimensions(),l=this.borderScaleFactor,u=f.x+l,d=f.y+l,m=typeof c.hasControls<"u"?c.hasControls:this.hasControls,g=!1;return s.save(),s.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(s,c.borderDashArray||this.borderDashArray),s.strokeRect(-u/2,-d/2,u,d),m&&(s.beginPath(),this.forEachControl(function(p,y,x){p.withConnection&&p.getVisibility(x,y)&&(g=!0,s.moveTo(p.x*u,p.y*d),s.lineTo(p.x*u+p.offsetX,p.y*d+p.offsetY))}),g&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,c,f){f=f||{};var l=t.util.sizeAfterTransform(this.width,this.height,c),u=this.strokeWidth,d=this.strokeUniform,m=this.borderScaleFactor,g=l.x+u*(d?this.canvas.getZoom():c.scaleX)+m,p=l.y+u*(d?this.canvas.getZoom():c.scaleY)+m;return s.save(),this._setLineDash(s,f.borderDashArray||this.borderDashArray),s.strokeStyle=f.borderColor||this.borderColor,s.strokeRect(-g/2,-p/2,g,p),s.restore(),this},drawControls:function(s,c){c=c||{},s.save();var f=1,l,u;return this.canvas&&(f=this.canvas.getRetinaScaling()),s.setTransform(f,0,0,f,0,0),s.strokeStyle=s.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(d,m,g){u=g.oCoords[m],d.getVisibility(g,m)&&(l&&(u=t.util.transformPoint(u,l)),d.render(s,u.x,u.y,c,g))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=c,this},setControlsVisibility:function(s){s||(s={});for(var c in s)this.setControlVisible(c,s[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(o,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:o.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(d){o.set("left",d),u.requestRenderAll(),l()},onComplete:function(){o.setCoords(),f()}})},fxCenterObjectV:function(o,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:o.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(d){o.set("top",d),u.requestRenderAll(),l()},onComplete:function(){o.setCoords(),f()}})},fxRemove:function(o,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:o.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(d){o.set("opacity",d),u.requestRenderAll(),l()},onComplete:function(){u.remove(o),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var o=[],s,c,f=[];for(s in arguments[0])o.push(s);for(var l=0,u=o.length;l<u;l++)s=o[l],c=l!==u-1,f.push(this._animate(s,arguments[0][s],arguments[1],c));return f}else return this._animate.apply(this,arguments)},_animate:function(o,s,c,f){var l=this,u;s=s.toString(),c?c=t.util.object.clone(c):c={},~o.indexOf(".")&&(u=o.split("."));var d=l.colorProperties.indexOf(o)>-1||u&&l.colorProperties.indexOf(u[1])>-1,m=u?this.get(u[0])[u[1]]:this.get(o);"from"in c||(c.from=m),d||(~s.indexOf("=")?s=m+parseFloat(s.replace("=","")):s=parseFloat(s));var g={target:this,startValue:c.from,endValue:s,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(p,y,x){return c.abort.call(l,p,y,x)},onChange:function(p,y,x){u?l[u[0]][u[1]]=p:l.set(o,p),!f&&c.onChange&&c.onChange(p,y,x)},onComplete:function(p,y,x){f||(l.setCoords(),c.onComplete&&c.onComplete(p,y,x))}};return d?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(d,m){d||(d=[0,0,0,0]),this.callSuper("initialize",m),this.set("x1",d[0]),this.set("y1",d[1]),this.set("x2",d[2]),this.set("y2",d[3]),this._setWidthHeight(m)},_setWidthHeight:function(d){d||(d={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in d?d.left:this._getLeftToOriginX(),this.top="top"in d?d.top:this._getTopToOriginY()},_set:function(d,m){return this.callSuper("_set",d,m),typeof l[d]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(d){d.beginPath();var m=this.calcLinePoints();d.moveTo(m.x1,m.y1),d.lineTo(m.x2,m.y2),d.lineWidth=this.strokeWidth;var g=d.strokeStyle;d.strokeStyle=this.stroke||d.fillStyle,this.stroke&&this._renderStroke(d),d.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(d){return c(this.callSuper("toObject",d),this.calcLinePoints())},_getNonTransformedDimensions:function(){var d=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(d.y-=this.strokeWidth),this.height===0&&(d.x-=this.strokeWidth)),d},calcLinePoints:function(){var d=this.x1<=this.x2?-1:1,m=this.y1<=this.y2?-1:1,g=d*this.width*.5,p=m*this.height*.5,y=d*this.width*-.5,x=m*this.height*-.5;return{x1:g,x2:y,y1:p,y2:x}},_toSVG:function(){var d=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(d,m,g){g=g||{};var p=s.parseAttributes(d,s.Line.ATTRIBUTE_NAMES),y=[p.x1||0,p.y1||0,p.x2||0,p.y2||0];m(new s.Line(y,c(p,g)))},s.Line.fromObject=function(d,m){function g(y){delete y.points,m&&m(y)}var p=f(d,!0);p.points=[d.x1,d.y1,d.x2,d.y2],s.Object._fromObject("Line",p,g,"points")};function u(d,m){var g=d.origin,p=d.axis1,y=d.axis2,x=d.dimension,b=m.nearest,S=m.center,C=m.farthest;return function(){switch(this.get(g)){case b:return Math.min(this.get(p),this.get(y));case S:return Math.min(this.get(p),this.get(y))+.5*this.get(x);case C:return Math.max(this.get(p),this.get(y))}}}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,u){return this.callSuper("_set",l,u),l==="radius"&&this.setRadius(u),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,u=0,d=0,m=(this.endAngle-this.startAngle)%360;if(m===0)l=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+d+'" ','r="',this.radius,`" />
`];else{var g=c(this.startAngle),p=c(this.endAngle),y=this.radius,x=s.util.cos(g)*y,b=s.util.sin(g)*y,S=s.util.cos(p)*y,C=s.util.sin(p)*y,T=m>180?"1":"0";l=['<path d="M '+x+" "+b," A "+y+" "+y," 0 ",+T+" 1"," "+S+" "+C,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(l,u){var d=s.parseAttributes(l,s.Circle.ATTRIBUTE_NAMES);if(!f(d))throw new Error("value of `r` attribute is required and can not be negative");d.left=(d.left||0)-d.radius,d.top=(d.top||0)-d.radius,u(new s.Circle(d))};function f(l){return"radius"in l&&l.radius>=0}s.Circle.fromObject=function(l,u){s.Object._fromObject("Circle",l,u)}}(e),function(o){var s=o.fabric||(o.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,l),c.lineTo(0,-l),c.lineTo(f,l),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,l=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),s.Triangle.fromObject=function(c,f){return s.Object._fromObject("Triangle",c,f)}}(e),function(o){var s=o.fabric||(o.fabric={}),c=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,l){switch(this.callSuper("_set",f,l),f){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(f,l){var u=s.parseAttributes(f,s.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,l(new s.Ellipse(u))},s.Ellipse.fromObject=function(f,l){s.Object._fromObject("Ellipse",f,l)}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var l=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,d=this.width,m=this.height,g=-this.width/2,p=-this.height/2,y=l!==0||u!==0,x=1-.5522847498;f.beginPath(),f.moveTo(g+l,p),f.lineTo(g+d-l,p),y&&f.bezierCurveTo(g+d-x*l,p,g+d,p+x*u,g+d,p+u),f.lineTo(g+d,p+m-u),y&&f.bezierCurveTo(g+d,p+m-x*u,g+d-x*l,p+m,g+d-l,p+m),f.lineTo(g+l,p+m),y&&f.bezierCurveTo(g+x*l,p+m,g,p+m-x*u,g,p+m-u),f.lineTo(g,p+u),y&&f.bezierCurveTo(g,p+x*u,g+x*l,p,g+l,p),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(f,l,u){if(!f)return l(null);u=u||{};var d=s.parseAttributes(f,s.Rect.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0,d.height=d.height||0,d.width=d.width||0;var m=new s.Rect(c(u?s.util.object.clone(u):{},d));m.visible=m.visible&&m.width>0&&m.height>0,l(m)},s.Rect.fromObject=function(f,l){return s.Object._fromObject("Rect",f,l)}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.util.array.min,l=s.util.array.max,u=s.util.toFixed,d=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(m,g){g=g||{},this.points=m||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return d(this.points,this,!0)},_setPositionDimensions:function(m){var g=this._calcDimensions(m),p,y=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-y,this.height=g.height-y,m.fromSVG||(p=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+y/2,y:g.top-this.strokeWidth/2+y/2},"left","top",this.originX,this.originY)),typeof m.left>"u"&&(this.left=m.fromSVG?g.left:p.x),typeof m.top>"u"&&(this.top=m.fromSVG?g.top:p.y),this.pathOffset={x:g.left+this.width/2+y/2,y:g.top+this.height/2+y/2}},_calcDimensions:function(){var m=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(m,"x")||0,p=f(m,"y")||0,y=l(m,"x")||0,x=l(m,"y")||0,b=y-g,S=x-p;return{left:g,top:p,width:b,height:S}},toObject:function(m){return c(this.callSuper("toObject",m),{points:this.points.concat()})},_toSVG:function(){for(var m=[],g=this.pathOffset.x,p=this.pathOffset.y,y=s.Object.NUM_FRACTION_DIGITS,x=0,b=this.points.length;x<b;x++)m.push(u(this.points[x].x-g,y),",",u(this.points[x].y-p,y)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',m.join(""),`" />
`]},commonRender:function(m){var g,p=this.points.length,y=this.pathOffset.x,x=this.pathOffset.y;if(!p||isNaN(this.points[p-1].y))return!1;m.beginPath(),m.moveTo(this.points[0].x-y,this.points[0].y-x);for(var b=0;b<p;b++)g=this.points[b],m.lineTo(g.x-y,g.y-x);return!0},_render:function(m){this.commonRender(m)&&this._renderPaintInOrder(m)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(m){return function(g,p,y){if(!g)return p(null);y||(y={});var x=s.parsePointsAttribute(g.getAttribute("points")),b=s.parseAttributes(g,s[m].ATTRIBUTE_NAMES);b.fromSVG=!0,p(new s[m](x,c(b,y)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(m,g){return s.Object._fromObject("Polyline",m,g,"points")}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(f,l){s.Object._fromObject("Polygon",f,l,"points")}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.array.min,f=s.util.array.max,l=s.util.object.extend,u=s.util.object.clone,d=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(m,g){g=u(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(m||[],g)},_setPath:function(m,g){this.path=s.util.makePathSimpler(Array.isArray(m)?m:s.util.parsePath(m)),s.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(m){var g,p=0,y=0,x=0,b=0,S=0,C=0,T=-this.pathOffset.x,E=-this.pathOffset.y;m.beginPath();for(var P=0,k=this.path.length;P<k;++P)switch(g=this.path[P],g[0]){case"L":x=g[1],b=g[2],m.lineTo(x+T,b+E);break;case"M":x=g[1],b=g[2],p=x,y=b,m.moveTo(x+T,b+E);break;case"C":x=g[5],b=g[6],S=g[3],C=g[4],m.bezierCurveTo(g[1]+T,g[2]+E,S+T,C+E,x+T,b+E);break;case"Q":m.quadraticCurveTo(g[1]+T,g[2]+E,g[3]+T,g[4]+E),x=g[3],b=g[4],S=g[1],C=g[2];break;case"z":case"Z":x=p,b=y,m.closePath();break}},_render:function(m){this._renderPathCommands(m),this._renderPaintInOrder(m)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(m){return l(this.callSuper("toObject",m),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(m){var g=this.toObject(["sourcePath"].concat(m));return g.sourcePath&&delete g.path,g},_toSVG:function(){var m=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',m,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var m=s.Object.NUM_FRACTION_DIGITS;return" translate("+d(-this.pathOffset.x,m)+", "+d(-this.pathOffset.y,m)+")"},toClipPathSVG:function(m){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:m,additionalTransform:g})},toSVG:function(m){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:m,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var m=[],g=[],p,y=0,x=0,b=0,S=0,C,T=0,E=this.path.length;T<E;++T){switch(p=this.path[T],p[0]){case"L":b=p[1],S=p[2],C=[];break;case"M":b=p[1],S=p[2],y=b,x=S,C=[];break;case"C":C=s.util.getBoundsOfCurve(b,S,p[1],p[2],p[3],p[4],p[5],p[6]),b=p[5],S=p[6];break;case"Q":C=s.util.getBoundsOfCurve(b,S,p[1],p[2],p[1],p[2],p[3],p[4]),b=p[3],S=p[4];break;case"z":case"Z":b=y,S=x;break}C.forEach(function(L){m.push(L.x),g.push(L.y)}),m.push(b),g.push(S)}var P=c(m)||0,k=c(g)||0,A=f(m)||0,B=f(g)||0,z=A-P,q=B-k;return{left:P,top:k,width:z,height:q}}}),s.Path.fromObject=function(m,g){if(typeof m.sourcePath=="string"){var p=m.sourcePath;s.loadSVGFromURL(p,function(y){var x=y[0];x.setOptions(m),m.clipPath?s.util.enlivenObjects([m.clipPath],function(b){x.clipPath=b[0],g&&g(x)}):g&&g(x)})}else s.Object._fromObject("Path",m,g,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(m,g,p){var y=s.parseAttributes(m,s.Path.ATTRIBUTE_NAMES);y.fromSVG=!0,g(new s.Path(y.d,l(y,p)))}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.array.min,f=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,u,d){u=u||{},this._objects=[],d&&this.callSuper("initialize",u),this._objects=l||[];for(var m=this._objects.length;m--;)this._objects[m].group=this;if(d)this._updateObjectsACoords();else{var g=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,u=this._objects.length;u--;)this._objects[u].setCoords(l)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),d=this._objects.length;d--;)this._updateObjectCoords(this._objects[d],u)},_updateObjectCoords:function(l,u){var d=l.left,m=l.top,g=!0;l.set({left:d-u.x,top:m-u.y}),l.group=this,l.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var u=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),l&&(u&&s.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,u){var d=this._objects.length;if(this.useSetOnGroup)for(;d--;)this._objects[d].setOnGroup(l,u);if(l==="canvas")for(;d--;)this._objects[d]._set(l,u);s.Object.prototype._set.call(this,l,u)},toObject:function(l){var u=this.includeDefaultValues,d=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var p=g.includeDefaultValues;g.includeDefaultValues=u;var y=g.toObject(l);return g.includeDefaultValues=p,y}),m=s.Object.prototype.toObject.call(this,l);return m.objects=d,m},toDatalessObject:function(l){var u,d=this.sourcePath;if(d)u=d;else{var m=this.includeDefaultValues;u=this._objects.map(function(p){var y=p.includeDefaultValues;p.includeDefaultValues=m;var x=p.toDatalessObject(l);return p.includeDefaultValues=y,x})}var g=s.Object.prototype.toDatalessObject.call(this,l);return g.objects=u,g},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=s.Object.prototype.shouldCache.call(this);if(l){for(var u=0,d=this._objects.length;u<d;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,u=this._objects.length;l<u;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var u=0,d=this._objects.length;u<d;u++)this._objects[u].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var u=0,d=this._objects.length;u<d;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var m=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-g/2,m,g)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(u){s.util.addTransformToObject(u,l),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,u=this.canvas;this._objects=[];var d=this.toObject();delete d.objects;var m=new s.ActiveSelection([]);return m.set(d),m.type="activeSelection",u.remove(this),l.forEach(function(g){g.group=m,g.dirty=!0,u.add(g)}),m.canvas=u,m._objects=l,u._activeObject=m,m.setCoords(),m}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(u){u.setCoords(l)}),this},_calcBounds:function(l){for(var u=[],d=[],m,g,p,y=["tr","br","bl","tl"],x=0,b=this._objects.length,S,C=y.length;x<b;++x){for(m=this._objects[x],p=m.calcACoords(),S=0;S<C;S++)g=y[S],u.push(p[g].x),d.push(p[g].y);m.aCoords=p}this._getBounds(u,d,l)},_getBounds:function(l,u,d){var m=new s.Point(c(l),c(u)),g=new s.Point(f(l),f(u)),p=m.y||0,y=m.x||0,x=g.x-m.x||0,b=g.y-m.y||0;this.width=x,this.height=b,d||this.setPositionByOrigin({x:y,y:p},"left","top")},_toSVG:function(l){for(var u=["<g ","COMMON_PARTS",` >
`],d=0,m=this._objects.length;d<m;d++)u.push("		",this._objects[d].toSVG(l));return u.push(`</g>
`),u},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),u].join("")},toClipPathSVG:function(l){for(var u=[],d=0,m=this._objects.length;d<m;d++)u.push("	",this._objects[d].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(u,{reviver:l})}}),s.Group.fromObject=function(l,u){var d=l.objects,m=s.util.object.clone(l,!0);if(delete m.objects,typeof d=="string"){s.loadSVGFromURL(d,function(g){var p=s.util.groupSVGElements(g,l,d),y=m.clipPath;delete m.clipPath,p.set(m),y?s.util.enlivenObjects([y],function(x){p.clipPath=x[0],u&&u(p)}):u&&u(p)});return}s.util.enlivenObjects(d,function(g){s.util.enlivenObjectEnlivables(l,m,function(){u&&u(new s.Group(g,m,!0))})})})}(e),function(o){var s=o.fabric||(o.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=s.Object.prototype.toObject.call(this),l=new s.Group([]);if(delete f.type,l.set(f),c.forEach(function(d){d.canvas.remove(d),d.group=l}),l._objects=c,!this.canvas)return l;var u=this.canvas;return u.add(l),u._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,l){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var u=0,d=this._objects.length;u<d;u++)this._objects[u]._renderControls(c,l);this.callSuper("_renderControls",c,f),c.restore()}}),s.ActiveSelection.fromObject=function(c,f){s.util.enlivenObjects(c.objects,function(l){delete c.objects,f&&f(new s.ActiveSelection(l,c,!0))})})}(e),function(o){var s=t.util.object.extend;if(o.fabric||(o.fabric={}),o.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,-l),c.lineTo(f,-l),c.lineTo(f,l),c.lineTo(-f,l),c.lineTo(-f,-l),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(u){u&&f.push(u.toObject())});var l=s(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],l,u=this._element,d=-this.width/2,m=-this.height/2,g="",p="";if(!u)return[];if(this.hasCrop()){var y=t.Object.__uid++;c.push('<clipPath id="imageCrop_'+y+`">
`,'	<rect x="'+d+'" y="'+m+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+y+')" '}if(this.imageSmoothing||(p='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',d-this.cropX,'" y="',m-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,p,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var x=this.fill;this.fill=null,l=["	<rect ",'x="',d,'" y="',m,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=x}return this.paintFirst!=="fill"?c=c.concat(l,f):c=c.concat(f,l),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,l){return t.util.loadImage(c,function(u,d){this.setElement(u,l),this._setWidthHeight(),f&&f(this,d)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),u=l.scaleX,d=l.scaleY,m=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||u>f&&d>f){this._element=m,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=d;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),p=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,y=m.width,x=m.height;g.width=y,g.height=x,this._element=g,this._lastScaleX=c.scaleX=u,this._lastScaleY=c.scaleY=d,t.filterBackend.applyFilters([c],m,y,x,this._element,p),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(m){return m&&!m.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,l=f.naturalWidth||f.width,u=f.naturalHeight||f.height;if(this._element===this._originalElement){var d=t.util.createCanvasElement();d.width=l,d.height=u,this._element=d,this._filteredEl=d}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,u),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(c,this._originalElement,l,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var l=this._filterScalingX,u=this._filterScalingY,d=this.width,m=this.height,g=Math.min,p=Math.max,y=p(this.cropX,0),x=p(this.cropY,0),b=f.naturalWidth||f.width,S=f.naturalHeight||f.height,C=y*l,T=x*u,E=g(d*l,b-C),P=g(m*u,S-T),k=-d/2,A=-m/2,B=g(d,b/l-y),z=g(m,S/u-x);f&&c.drawImage(f,C,T,E,P,k,A,B,z)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(t.util.getById(c),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?t.util.enlivenObjects(c,function(l){f&&f(l)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,l=this._element.height,u=1,d=1,m=0,g=0,p=0,y=0,x,b=this.width,S=this.height,C={width:b,height:S};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(u=d=t.util.findScaleToFit(this._element,C),x=(b-f*u)/2,c.alignX==="Min"&&(m=-x),c.alignX==="Max"&&(m=x),x=(S-l*d)/2,c.alignY==="Min"&&(g=-x),c.alignY==="Max"&&(g=x)),c.meetOrSlice==="slice"&&(u=d=t.util.findScaleToCover(this._element,C),x=f-b/u,c.alignX==="Mid"&&(p=x/2),c.alignX==="Max"&&(p=x),x=l-S/d,c.alignY==="Mid"&&(y=x/2),c.alignY==="Max"&&(y=x),f=b/u,l=S/d)):(u=b/f,d=S/l),{width:f,height:l,scaleX:u,scaleY:d,offsetLeft:m,offsetTop:g,cropX:p,cropY:y}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(c,f){var l=t.util.object.clone(c);t.util.loadImage(l.src,function(u,d){if(d){f&&f(null,!0);return}t.Image.prototype._initFilters.call(l,l.filters,function(m){l.filters=m||[],t.Image.prototype._initFilters.call(l,[l.resizeFilter],function(g){l.resizeFilter=g[0],t.util.enlivenObjectEnlivables(l,l,function(){var p=new t.Image(u,l);f(p,!1)})})})},null,l.crossOrigin)},t.Image.fromURL=function(c,f,l){t.util.loadImage(c,function(u,d){f&&f(new t.Image(u,l),d)},null,l&&l.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(c,f,l){var u=t.parseAttributes(c,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(u["xlink:href"],f,s(l?t.util.object.clone(l):{},u))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var o=this.angle%360;return o>0?Math.round((o-1)/90)*90:Math.round(o/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(o){o=o||{};var s=function(){},c=o.onComplete||s,f=o.onChange||s,l=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){l.rotate(u),f()},onComplete:function(){l.setCoords(),c()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(o){return o.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(o){return o.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function o(c,f){var l="precision "+f+` float;
void main(){}`,u=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(u,l),c.compileShader(u),!!c.getShaderParameter(u,c.COMPILE_STATUS)}t.isWebglSupported=function(c){if(t.isLikelyNode)return!1;c=c||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),l=f.getContext("webgl")||f.getContext("experimental-webgl"),u=!1;if(l){t.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),u=t.maxTextureSize>=c;for(var d=["highp","mediump","lowp"],m=0;m<3;m++)if(o(l,d[m])){t.webGlPrecision=d[m];break}}return this.isSupported=u,u},t.WebglFilterBackend=s;function s(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var l=typeof window.performance<"u",u;try{new ImageData(1,1),u=!0}catch{u=!1}var d=typeof ArrayBuffer<"u",m=typeof Uint8ClampedArray<"u";if(l&&u&&d&&m){var g=t.util.createCanvasElement(),p=new ArrayBuffer(c*f*4);if(t.forceGLPutImageData){this.imageBuffer=p,this.copyGLTo2D=h;return}var y={imageBuffer:p,destinationWidth:c,destinationHeight:f,targetCanvas:g},x,b,S;g.width=c,g.height=f,x=window.performance.now(),a.call(y,this.gl,y),b=window.performance.now()-x,x=window.performance.now(),h.call(y,this.gl,y),S=window.performance.now()-x,b>S?(this.imageBuffer=p,this.copyGLTo2D=h):this.copyGLTo2D=a}},createWebGLCanvas:function(c,f){var l=t.util.createCanvasElement();l.width=c,l.height=f;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},d=l.getContext("webgl",u);d||(d=l.getContext("experimental-webgl",u)),d&&(d.clearColor(0,0,0,0),this.canvas=l,this.gl=d)},applyFilters:function(c,f,l,u,d,m){var g=this.gl,p;m&&(p=this.getCachedTexture(m,f));var y={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:l,sourceHeight:u,destinationWidth:l,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,l,u,!p&&f),targetTexture:this.createTexture(g,l,u),originalTexture:p||this.createTexture(g,l,u,!p&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:d},x=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,x),c.forEach(function(b){b&&b.applyTo(y)}),i(y),this.copyGLTo2D(g,y),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(y.sourceTexture),g.deleteTexture(y.targetTexture),g.deleteFramebuffer(x),d.getContext("2d").setTransform(1,0,0,1,0,0),y},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,l,u,d){var m=c.createTexture();return c.bindTexture(c.TEXTURE_2D,m),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,d||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,d||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),u?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,u):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,l,0,c.RGBA,c.UNSIGNED_BYTE,null),m},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var l=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=l,l},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var l=c.getExtension("WEBGL_debug_renderer_info");if(l){var u=c.getParameter(l.UNMASKED_RENDERER_WEBGL),d=c.getParameter(l.UNMASKED_VENDOR_WEBGL);u&&(f.renderer=u.toLowerCase()),d&&(f.vendor=d.toLowerCase())}return this.gpuInfo=f,f}}}();function i(o){var s=o.targetCanvas,c=s.width,f=s.height,l=o.destinationWidth,u=o.destinationHeight;(c!==l||f!==u)&&(s.width=l,s.height=u)}function a(o,s){var c=o.canvas,f=s.targetCanvas,l=f.getContext("2d");l.translate(0,f.height),l.scale(1,-1);var u=c.height-f.height;l.drawImage(c,0,u,f.width,f.height,0,0,f.width,f.height)}function h(o,s){var c=s.targetCanvas,f=c.getContext("2d"),l=s.destinationWidth,u=s.destinationHeight,d=l*u*4,m=new Uint8Array(this.imageBuffer,0,d),g=new Uint8ClampedArray(this.imageBuffer,0,d);o.readPixels(0,0,l,u,o.RGBA,o.UNSIGNED_BYTE,m);var p=new ImageData(g,l,u);f.putImageData(p,0,0)}(function(){var o=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:o,dispose:o,clearWebGLCaches:o,resources:{},applyFilters:function(c,f,l,u,d){var m=d.getContext("2d");m.drawImage(f,0,0,l,u);var g=m.getImageData(0,0,l,u),p=m.getImageData(0,0,l,u),y={sourceWidth:l,sourceHeight:u,imageData:g,originalEl:f,originalImageData:p,canvasEl:d,ctx:m,filterBackend:this};return c.forEach(function(x){x.applyTo(y)}),(y.imageData.width!==l||y.imageData.height!==u)&&(d.width=y.imageData.width,d.height=y.imageData.height),m.putImageData(y.imageData,0,0),y}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(o){o&&this.setOptions(o)},setOptions:function(o){for(var s in o)this[s]=o[s]},createProgram:function(o,s,c){s=s||this.fragmentSource,c=c||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(f,c),o.compileShader(f),!o.getShaderParameter(f,o.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+o.getShaderInfoLog(f));var l=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(l,s),o.compileShader(l),!o.getShaderParameter(l,o.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+o.getShaderInfoLog(l));var u=o.createProgram();if(o.attachShader(u,f),o.attachShader(u,l),o.linkProgram(u),!o.getProgramParameter(u,o.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+o.getProgramInfoLog(u));var d=this.getAttributeLocations(o,u),m=this.getUniformLocations(o,u)||{};return m.uStepW=o.getUniformLocation(u,"uStepW"),m.uStepH=o.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:d,uniformLocations:m}},getAttributeLocations:function(o,s){return{aPosition:o.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(o,s,c){var f=s.aPosition,l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.enableVertexAttribArray(f),o.vertexAttribPointer(f,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,c,o.STATIC_DRAW)},_setupFrameBuffer:function(o){var s=o.context,c,f;o.passes>1?(c=o.destinationWidth,f=o.destinationHeight,(o.sourceWidth!==c||o.sourceHeight!==f)&&(s.deleteTexture(o.targetTexture),o.targetTexture=o.filterBackend.createTexture(s,c,f)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(o){o.passes--,o.pass++;var s=o.targetTexture;o.targetTexture=o.sourceTexture,o.sourceTexture=s},isNeutralState:function(){var o=this.mainParameter,s=t.Image.filters[this.type].prototype;if(o)if(Array.isArray(s[o])){for(var c=s[o].length;c--;)if(this[o][c]!==s[o][c])return!1;return!0}else return s[o]===this[o];else return!1},applyTo:function(o){o.webgl?(this._setupFrameBuffer(o),this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},retrieveShader:function(o){return o.programCache.hasOwnProperty(this.type)||(o.programCache[this.type]=this.createProgram(o.context)),o.programCache[this.type]},applyToWebGL:function(o){var s=o.context,c=this.retrieveShader(o);o.pass===0&&o.originalTexture?s.bindTexture(s.TEXTURE_2D,o.originalTexture):s.bindTexture(s.TEXTURE_2D,o.sourceTexture),s.useProgram(c.program),this.sendAttributeData(s,c.attributeLocations,o.aPosition),s.uniform1f(c.uniformLocations.uStepW,1/o.sourceWidth),s.uniform1f(c.uniformLocations.uStepH,1/o.sourceHeight),this.sendUniformData(s,c.uniformLocations),s.viewport(0,0,o.destinationWidth,o.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(o,s,c){o.activeTexture(c),o.bindTexture(o.TEXTURE_2D,s),o.activeTexture(o.TEXTURE0)},unbindAdditionalTexture:function(o,s){o.activeTexture(s),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(o){this[this.mainParameter]=o},sendUniformData:function(){},createHelpLayer:function(o){if(!o.helpLayer){var s=document.createElement("canvas");s.width=o.sourceWidth,s.height=o.sourceHeight,o.helpLayer=s}},toObject:function(){var o={type:this.type},s=this.mainParameter;return s&&(o[s]=this[s]),o},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(o,s){var c=new t.Image.filters[o.type](o);return s&&s(c),c},function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var u=l.imageData,d=u.data,m=d.length,g=this.matrix,p,y,x,b,S,C=this.colorsOnly;for(S=0;S<m;S+=4)p=d[S],y=d[S+1],x=d[S+2],C?(d[S]=p*g[0]+y*g[1]+x*g[2]+g[4]*255,d[S+1]=p*g[5]+y*g[6]+x*g[7]+g[9]*255,d[S+2]=p*g[10]+y*g[11]+x*g[12]+g[14]*255):(b=d[S+3],d[S]=p*g[0]+y*g[1]+x*g[2]+b*g[3]+g[4]*255,d[S+1]=p*g[5]+y*g[6]+x*g[7]+b*g[8]+g[9]*255,d[S+2]=p*g[10]+y*g[11]+x*g[12]+b*g[13]+g[14]*255,d[S+3]=p*g[15]+y*g[16]+x*g[17]+b*g[18]+g[19]*255)},getUniformLocations:function(l,u){return{uColorMatrix:l.getUniformLocation(u,"uColorMatrix"),uConstants:l.getUniformLocation(u,"uConstants")}},sendUniformData:function(l,u){var d=this.matrix,m=[d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]],g=[d[4],d[9],d[14],d[19]];l.uniformMatrix4fv(u.uColorMatrix,!1,m),l.uniform4fv(u.uConstants,g)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var u=l.imageData,d=u.data,m,g=d.length,p=Math.round(this.brightness*255);for(m=0;m<g;m+=4)d[m]=d[m]+p,d[m+1]=d[m+1]+p,d[m+2]=d[m+2]+p}},getUniformLocations:function(l,u){return{uBrightness:l.getUniformLocation(u,"uBrightness")}},sendUniformData:function(l,u){l.uniform1f(u.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.Convolute=l(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var d=Math.sqrt(this.matrix.length),m=this.type+"_"+d+"_"+(this.opaque?1:0),g=this.fragmentSource[m];return u.programCache.hasOwnProperty(m)||(u.programCache[m]=this.createProgram(u.context,g)),u.programCache[m]},applyTo2d:function(u){var d=u.imageData,m=d.data,g=this.matrix,p=Math.round(Math.sqrt(g.length)),y=Math.floor(p/2),x=d.width,b=d.height,S=u.ctx.createImageData(x,b),C=S.data,T=this.opaque?1:0,E,P,k,A,B,z,q,L,W,J,G,M,_;for(G=0;G<b;G++)for(J=0;J<x;J++){for(B=(G*x+J)*4,E=0,P=0,k=0,A=0,_=0;_<p;_++)for(M=0;M<p;M++)q=G+_-y,z=J+M-y,!(q<0||q>=b||z<0||z>=x)&&(L=(q*x+z)*4,W=g[_*p+M],E+=m[L]*W,P+=m[L+1]*W,k+=m[L+2]*W,T||(A+=m[L+3]*W));C[B]=E,C[B+1]=P,C[B+2]=k,T?C[B+3]=m[B+3]:C[B+3]=A}u.imageData=S},getUniformLocations:function(u,d){return{uMatrix:u.getUniformLocation(d,"uMatrix"),uOpaque:u.getUniformLocation(d,"uOpaque"),uHalfSize:u.getUniformLocation(d,"uHalfSize"),uSize:u.getUniformLocation(d,"uSize")}},sendUniformData:function(u,d){u.uniform1fv(d.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var u=l.imageData,d=u.data,m,g=d.length,p,y=this.mode;for(m=0;m<g;m+=4)y==="average"?p=(d[m]+d[m+1]+d[m+2])/3:y==="lightness"?p=(Math.min(d[m],d[m+1],d[m+2])+Math.max(d[m],d[m+1],d[m+2]))/2:y==="luminosity"&&(p=.21*d[m]+.72*d[m+1]+.07*d[m+2]),d[m]=p,d[m+1]=p,d[m+2]=p},retrieveShader:function(l){var u=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(u)){var d=this.fragmentSource[this.mode];l.programCache[u]=this.createProgram(l.context,d)}return l.programCache[u]},getUniformLocations:function(l,u){return{uMode:l.getUniformLocation(u,"uMode")}},sendUniformData:function(l,u){var d=1;l.uniform1i(u.uMode,d)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var u=l.imageData,d=u.data,m,g=d.length;for(m=0;m<g;m+=4)d[m]=255-d[m],d[m+1]=255-d[m+1],d[m+2]=255-d[m+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,u){return{uInvert:l.getUniformLocation(u,"uInvert")}},sendUniformData:function(l,u){l.uniform1i(u.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.Noise=l(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var d=u.imageData,m=d.data,g,p=m.length,y=this.noise,x;for(g=0,p=m.length;g<p;g+=4)x=(.5-Math.random())*y,m[g]+=x,m[g+1]+=x,m[g+2]+=x}},getUniformLocations:function(u,d){return{uNoise:u.getUniformLocation(d,"uNoise"),uSeed:u.getUniformLocation(d,"uSeed")}},sendUniformData:function(u,d){u.uniform1f(d.uNoise,this.noise/255),u.uniform1f(d.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var u=l.imageData,d=u.data,m=u.height,g=u.width,p,y,x,b,S,C,T,E,P,k,A;for(y=0;y<m;y+=this.blocksize)for(x=0;x<g;x+=this.blocksize)for(p=y*4*g+x*4,b=d[p],S=d[p+1],C=d[p+2],T=d[p+3],k=Math.min(y+this.blocksize,m),A=Math.min(x+this.blocksize,g),E=y;E<k;E++)for(P=x;P<A;P++)p=E*4*g+P*4,d[p]=b,d[p+1]=S,d[p+2]=C,d[p+3]=T},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,u){return{uBlocksize:l.getUniformLocation(u,"uBlocksize"),uStepW:l.getUniformLocation(u,"uStepW"),uStepH:l.getUniformLocation(u,"uStepH")}},sendUniformData:function(l,u){l.uniform1f(u.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.RemoveColor=l(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var d=u.imageData,m=d.data,g,p=this.distance*255,y,x,b,S=new s.Color(this.color).getSource(),C=[S[0]-p,S[1]-p,S[2]-p],T=[S[0]+p,S[1]+p,S[2]+p];for(g=0;g<m.length;g+=4)y=m[g],x=m[g+1],b=m[g+2],y>C[0]&&x>C[1]&&b>C[2]&&y<T[0]&&x<T[1]&&b<T[2]&&(m[g+3]=0)},getUniformLocations:function(u,d){return{uLow:u.getUniformLocation(d,"uLow"),uHigh:u.getUniformLocation(d,"uHigh")}},sendUniformData:function(u,d){var m=new s.Color(this.color).getSource(),g=parseFloat(this.distance),p=[0+m[0]/255-g,0+m[1]/255-g,0+m[2]/255-g,1],y=[m[0]/255+g,m[1]/255+g,m[2]/255+g,1];u.uniform4fv(d.uLow,p),u.uniform4fv(d.uHigh,y)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in l)c[u]=f(c.ColorMatrix,{type:u,matrix:l[u],mainParameter:!1,colorsOnly:!0}),s.Image.filters[u].fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric,c=s.Image.filters,f=s.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,d;return l.programCache.hasOwnProperty(u)||(d=this.buildSource(this.mode),l.programCache[u]=this.createProgram(l.context,d)),l.programCache[u]},applyTo2d:function(l){var u=l.imageData,d=u.data,m=d.length,g,p,y,x,b,S,C,T=1-this.alpha;C=new s.Color(this.color).getSource(),g=C[0]*this.alpha,p=C[1]*this.alpha,y=C[2]*this.alpha;for(var E=0;E<m;E+=4)switch(x=d[E],b=d[E+1],S=d[E+2],this.mode){case"multiply":d[E]=x*g/255,d[E+1]=b*p/255,d[E+2]=S*y/255;break;case"screen":d[E]=255-(255-x)*(255-g)/255,d[E+1]=255-(255-b)*(255-p)/255,d[E+2]=255-(255-S)*(255-y)/255;break;case"add":d[E]=x+g,d[E+1]=b+p,d[E+2]=S+y;break;case"diff":case"difference":d[E]=Math.abs(x-g),d[E+1]=Math.abs(b-p),d[E+2]=Math.abs(S-y);break;case"subtract":d[E]=x-g,d[E+1]=b-p,d[E+2]=S-y;break;case"darken":d[E]=Math.min(x,g),d[E+1]=Math.min(b,p),d[E+2]=Math.min(S,y);break;case"lighten":d[E]=Math.max(x,g),d[E+1]=Math.max(b,p),d[E+2]=Math.max(S,y);break;case"overlay":d[E]=g<128?2*x*g/255:255-2*(255-x)*(255-g)/255,d[E+1]=p<128?2*b*p/255:255-2*(255-b)*(255-p)/255,d[E+2]=y<128?2*S*y/255:255-2*(255-S)*(255-y)/255;break;case"exclusion":d[E]=g+x-2*g*x/255,d[E+1]=p+b-2*p*b/255,d[E+2]=y+S-2*y*S/255;break;case"tint":d[E]=g+x*T,d[E+1]=p+b*T,d[E+2]=y+S*T}},getUniformLocations:function(l,u){return{uColor:l.getUniformLocation(u,"uColor")}},sendUniformData:function(l,u){var d=new s.Color(this.color).getSource();d[0]=this.alpha*d[0]/255,d[1]=this.alpha*d[1]/255,d[2]=this.alpha*d[2]/255,d[3]=this.alpha,l.uniform4fv(u.uColor,d)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric,c=s.Image.filters,f=s.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,d=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,d)),l.programCache[u]},applyToWebGL:function(l){var u=l.context,d=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(u,d,u.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(l,u){return l.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var l=this.image,u=l._element.width,d=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/u,-l.top/d,1]},applyTo2d:function(l){var u=l.imageData,d=l.filterBackend.resources,m=u.data,g=m.length,p=u.width,y=u.height,x,b,S,C,T,E,P,k,A,B,z=this.image,q;d.blendImage||(d.blendImage=s.util.createCanvasElement()),A=d.blendImage,B=A.getContext("2d"),A.width!==p||A.height!==y?(A.width=p,A.height=y):B.clearRect(0,0,p,y),B.setTransform(z.scaleX,0,0,z.scaleY,z.left,z.top),B.drawImage(z._element,0,0,p,y),q=B.getImageData(0,0,p,y).data;for(var L=0;L<g;L+=4)switch(T=m[L],E=m[L+1],P=m[L+2],k=m[L+3],x=q[L],b=q[L+1],S=q[L+2],C=q[L+3],this.mode){case"multiply":m[L]=T*x/255,m[L+1]=E*b/255,m[L+2]=P*S/255,m[L+3]=k*C/255;break;case"mask":m[L+3]=C;break}},getUniformLocations:function(l,u){return{uTransformMatrix:l.getUniformLocation(u,"uTransformMatrix"),uImage:l.getUniformLocation(u,"uImage")}},sendUniformData:function(l,u){var d=this.calculateMatrix();l.uniform1i(u.uImage,1),l.uniformMatrix3fv(u.uTransformMatrix,!1,d)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(l,u){s.Image.fromObject(l.image,function(d){var m=s.util.object.clone(l);m.image=d,u(new s.Image.filters.BlendImage(m))})}}(e),function(o){var s=o.fabric||(o.fabric={}),c=Math.pow,f=Math.floor,l=Math.sqrt,u=Math.abs,d=Math.round,m=Math.sin,g=Math.ceil,p=s.Image.filters,y=s.util.createClass;p.Resize=y(p.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(x,b){return{uDelta:x.getUniformLocation(b,"uDelta"),uTaps:x.getUniformLocation(b,"uTaps")}},sendUniformData:function(x,b){x.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(x){var b=this.getFilterWindow(),S=this.type+"_"+b;if(!x.programCache.hasOwnProperty(S)){var C=this.generateShader(b);x.programCache[S]=this.createProgram(x.context,C)}return x.programCache[S]},getFilterWindow:function(){var x=this.tempScale;return Math.ceil(this.lanczosLobes/x)},getTaps:function(){for(var x=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,S=this.getFilterWindow(),C=new Array(S),T=1;T<=S;T++)C[T-1]=x(T*b);return C},generateShader:function(C){for(var b=new Array(C),S=this.fragmentSourceTOP,C,T=1;T<=C;T++)b[T-1]=T+".0 * uDelta";return S+="uniform float uTaps["+C+`];
`,S+=`void main() {
`,S+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,S+=`  float sum = 1.0;
`,b.forEach(function(E,P){S+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+P+`];
`,S+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+P+`];
`,S+="  sum += 2.0 * uTaps["+P+`];
`}),S+=`  gl_FragColor = color / sum;
`,S+="}",S},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(x){x.webgl?(x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceHeight=x.destinationHeight):this.applyTo2d(x)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(x){return function(b){if(b>=x||b<=-x)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var S=b/x;return m(b)/b*m(S)/S}},applyTo2d:function(x){var b=x.imageData,S=this.scaleX,C=this.scaleY;this.rcpScaleX=1/S,this.rcpScaleY=1/C;var T=b.width,E=b.height,P=d(T*S),k=d(E*C),A;this.resizeType==="sliceHack"?A=this.sliceByTwo(x,T,E,P,k):this.resizeType==="hermite"?A=this.hermiteFastResize(x,T,E,P,k):this.resizeType==="bilinear"?A=this.bilinearFiltering(x,T,E,P,k):this.resizeType==="lanczos"&&(A=this.lanczosResize(x,T,E,P,k)),x.imageData=A},sliceByTwo:function(x,b,S,C,T){var E=x.imageData,P=.5,k=!1,A=!1,B=b*P,z=S*P,q=s.filterBackend.resources,L,W,J=0,G=0,M=b,_=0;for(q.sliceByTwo||(q.sliceByTwo=document.createElement("canvas")),L=q.sliceByTwo,(L.width<b*1.5||L.height<S)&&(L.width=b*1.5,L.height=S),W=L.getContext("2d"),W.clearRect(0,0,b*1.5,S),W.putImageData(E,0,0),C=f(C),T=f(T);!k||!A;)b=B,S=z,C<f(B*P)?B=f(B*P):(B=C,k=!0),T<f(z*P)?z=f(z*P):(z=T,A=!0),W.drawImage(L,J,G,b,S,M,_,B,z),J=M,G=_,_+=z;return W.getImageData(J,G,C,T)},lanczosResize:function(x,b,S,C,T){function E(O){var D,$,R,j,F,I,Y,U,Q,ee,te;for(_.x=(O+.5)*z,N.x=f(_.x),D=0;D<T;D++){for(_.y=(D+.5)*q,N.y=f(_.y),F=0,I=0,Y=0,U=0,Q=0,$=N.x-J;$<=N.x+J;$++)if(!($<0||$>=b)){ee=f(1e3*u($-_.x)),M[ee]||(M[ee]={});for(var H=N.y-G;H<=N.y+G;H++)H<0||H>=S||(te=f(1e3*u(H-_.y)),M[ee][te]||(M[ee][te]=B(l(c(ee*L,2)+c(te*W,2))/1e3)),R=M[ee][te],R>0&&(j=(H*b+$)*4,F+=R,I+=R*P[j],Y+=R*P[j+1],U+=R*P[j+2],Q+=R*P[j+3]))}j=(D*C+O)*4,A[j]=I/F,A[j+1]=Y/F,A[j+2]=U/F,A[j+3]=Q/F}return++O<C?E(O):k}var P=x.imageData.data,k=x.ctx.createImageData(C,T),A=k.data,B=this.lanczosCreate(this.lanczosLobes),z=this.rcpScaleX,q=this.rcpScaleY,L=2/this.rcpScaleX,W=2/this.rcpScaleY,J=g(z*this.lanczosLobes/2),G=g(q*this.lanczosLobes/2),M={},_={},N={};return E(0)},bilinearFiltering:function(x,b,S,C,T){var E,P,k,A,B,z,q,L,W,J,G,M,_=0,N,O=this.rcpScaleX,D=this.rcpScaleY,$=4*(b-1),R=x.imageData,j=R.data,F=x.ctx.createImageData(C,T),I=F.data;for(q=0;q<T;q++)for(L=0;L<C;L++)for(B=f(O*L),z=f(D*q),W=O*L-B,J=D*q-z,N=4*(z*b+B),G=0;G<4;G++)E=j[N+G],P=j[N+4+G],k=j[N+$+G],A=j[N+$+4+G],M=E*(1-W)*(1-J)+P*W*(1-J)+k*J*(1-W)+A*W*J,I[_++]=M;return F},hermiteFastResize:function(x,b,S,C,T){for(var E=this.rcpScaleX,P=this.rcpScaleY,k=g(E/2),A=g(P/2),B=x.imageData,z=B.data,q=x.ctx.createImageData(C,T),L=q.data,W=0;W<T;W++)for(var J=0;J<C;J++){for(var G=(J+W*C)*4,M=0,_=0,N=0,O=0,D=0,$=0,R=0,j=(W+.5)*P,F=f(W*P);F<(W+1)*P;F++)for(var I=u(j-(F+.5))/A,Y=(J+.5)*E,U=I*I,Q=f(J*E);Q<(J+1)*E;Q++){var ee=u(Y-(Q+.5))/k,te=l(U+ee*ee);te>1&&te<-1||(M=2*te*te*te-3*te*te+1,M>0&&(ee=4*(Q+F*b),R+=M*z[ee+3],N+=M,z[ee+3]<255&&(M=M*z[ee+3]/250),O+=M*z[ee],D+=M*z[ee+1],$+=M*z[ee+2],_+=M))}L[G]=O/_,L[G+1]=D/_,L[G+2]=$/_,L[G+3]=R/N}return q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var u=l.imageData,d,g,m=u.data,g=m.length,p=Math.floor(this.contrast*255),y=259*(p+255)/(255*(259-p));for(d=0;d<g;d+=4)m[d]=y*(m[d]-128)+128,m[d+1]=y*(m[d+1]-128)+128,m[d+2]=y*(m[d+2]-128)+128}},getUniformLocations:function(l,u){return{uContrast:l.getUniformLocation(u,"uContrast")}},sendUniformData:function(l,u){l.uniform1f(u.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var u=l.imageData,d=u.data,m=d.length,g=-this.saturation,p,y;for(p=0;p<m;p+=4)y=Math.max(d[p],d[p+1],d[p+2]),d[p]+=y!==d[p]?(y-d[p])*g:0,d[p+1]+=y!==d[p+1]?(y-d[p+1])*g:0,d[p+2]+=y!==d[p+2]?(y-d[p+2])*g:0}},getUniformLocations:function(l,u){return{uSaturation:l.getUniformLocation(u,"uSaturation")}},sendUniformData:function(l,u){l.uniform1f(u.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var u=l.imageData,d=u.data,m=d.length,g=-this.vibrance,p,y,x,b;for(p=0;p<m;p+=4)y=Math.max(d[p],d[p+1],d[p+2]),x=(d[p]+d[p+1]+d[p+2])/3,b=Math.abs(y-x)*2/255*g,d[p]+=y!==d[p]?(y-d[p])*b:0,d[p+1]+=y!==d[p+1]?(y-d[p+1])*b:0,d[p+2]+=y!==d[p+2]?(y-d[p+2])*b:0}},getUniformLocations:function(l,u){return{uVibrance:l.getUniformLocation(u,"uVibrance")}},sendUniformData:function(l,u){l.uniform1f(u.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var u=l.filterBackend.resources,d,m,g=l.imageData.width,p=l.imageData.height;u.blurLayer1||(u.blurLayer1=s.util.createCanvasElement(),u.blurLayer2=s.util.createCanvasElement()),d=u.blurLayer1,m=u.blurLayer2,(d.width!==g||d.height!==p)&&(m.width=d.width=g,m.height=d.height=p);var y=d.getContext("2d"),x=m.getContext("2d"),b=15,S,C,T,E,P=this.blur*.06*.5;for(y.putImageData(l.imageData,0,0),x.clearRect(0,0,g,p),E=-b;E<=b;E++)S=(Math.random()-.5)/4,C=E/b,T=P*C*g+S,x.globalAlpha=1-Math.abs(C),x.drawImage(d,T,S),y.drawImage(m,0,0),x.globalAlpha=1,x.clearRect(0,0,m.width,m.height);for(E=-b;E<=b;E++)S=(Math.random()-.5)/4,C=E/b,T=P*C*p+S,x.globalAlpha=1-Math.abs(C),x.drawImage(d,S,T),y.drawImage(m,0,0),x.globalAlpha=1,x.clearRect(0,0,m.width,m.height);l.ctx.drawImage(d,0,0);var k=l.ctx.getImageData(0,0,d.width,d.height);return y.globalAlpha=1,y.clearRect(0,0,d.width,d.height),k},getUniformLocations:function(l,u){return{delta:l.getUniformLocation(u,"uDelta")}},sendUniformData:function(l,u){var d=this.chooseRightDelta();l.uniform2fv(u.delta,d)},chooseRightDelta:function(){var l=1,u=[0,0],d;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),d=l*this.blur*.12,this.horizontal?u[0]=d:u[1]=d,u}}),c.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var u=l.imageData,d=u.data,m=this.gamma,g=d.length,p=1/m[0],y=1/m[1],x=1/m[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,g=256;b<g;b++)this.rVals[b]=Math.pow(b/255,p)*255,this.gVals[b]=Math.pow(b/255,y)*255,this.bVals[b]=Math.pow(b/255,x)*255;for(b=0,g=d.length;b<g;b+=4)d[b]=this.rVals[d[b]],d[b+1]=this.gVals[d[b+1]],d[b+2]=this.bVals[d[b+2]]},getUniformLocations:function(l,u){return{uGamma:l.getUniformLocation(u,"uGamma")}},sendUniformData:function(l,u){l.uniform3fv(u.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(l)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(l,u){var d=l.subFilters||[],m=d.map(function(p){return new s.Image.filters[p.type](p)}),g=new s.Image.filters.Composed({subFilters:m});return u&&u(g),g}}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,f=s.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,u=s.util.cos(l),d=s.util.sin(l),m=1/3,g=Math.sqrt(m)*d,p=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+p/3,this.matrix[1]=m*p-g,this.matrix[2]=m*p+g,this.matrix[5]=m*p+g,this.matrix[6]=u+m*p,this.matrix[7]=m*p-g,this.matrix[10]=m*p-g,this.matrix[11]=m*p+g,this.matrix[12]=u+m*p},isNeutralState:function(l){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,l)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(f),cacheProperties:s.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,u){this.styles=u?u.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=s.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var l=this.getHeightOfLine(0)*1.1;this.width=this.path.width+l,this.height=this.path.height+l}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var l,u,d,m,g,p,y,x=0,b=this._textLines.length;x<b;x++)if(!(this.textAlign!=="justify"&&(x===b-1||this.isEndOfWrapping(x)))&&(m=0,g=this._textLines[x],u=this.getLineWidth(x),u<this.width&&(y=this.textLines[x].match(this._reSpacesAndTabs)))){d=y.length,l=(this.width-u)/d;for(var S=0,C=g.length;S<=C;S++)p=this.__charBounds[x][S],this._reSpaceAndTab.test(g[S])?(p.width+=l,p.kernedWidth+=l,p.left+=m,m+=l):p.left+=m}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return l.width+=u*l.zoomX,l.height+=u*l.zoomY,l},_render:function(l){var u=this.path;u&&!u.isNotVisible()&&u._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,u,d){if(l.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(u,d)},calcTextWidth:function(){for(var l=this.getLineWidth(0),u=1,d=this._textLines.length;u<d;u++){var m=this.getLineWidth(u);m>l&&(l=m)}return l},_renderTextLine:function(l,u,d,m,g,p){this._renderChars(l,u,d,m,g,p)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,d,m=l.fillStyle,g,p,y=this._getLeftOffset(),x=this._getTopOffset(),b=0,S=0,C,T,E=this.path,P,k=0,A=this._textLines.length;k<A;k++){if(u=this.getHeightOfLine(k),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",k)){x+=u;continue}g=this._textLines[k],d=this._getLineLeftOffset(k),S=0,b=0,p=this.getValueOfPropertyAt(k,0,"textBackgroundColor");for(var B=0,z=g.length;B<z;B++)C=this.__charBounds[k][B],T=this.getValueOfPropertyAt(k,B,"textBackgroundColor"),E?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),l.fillStyle=T,T&&l.fillRect(-C.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),C.width,u/this.lineHeight),l.restore()):T!==p?(P=y+d+b,this.direction==="rtl"&&(P=this.width-P-S),l.fillStyle=p,p&&l.fillRect(P,x,S,u/this.lineHeight),b=C.left,S=C.width,p=T):S+=C.kernedWidth;T&&!E&&(P=y+d+b,this.direction==="rtl"&&(P=this.width-P-S),l.fillStyle=T,l.fillRect(P,x,S,u/this.lineHeight)),x+=u}l.fillStyle=m,this._removeShadow(l)}},getFontCache:function(l){var u=l.fontFamily.toLowerCase();s.charWidthsCache[u]||(s.charWidthsCache[u]={});var d=s.charWidthsCache[u],m=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return d[m]||(d[m]={}),d[m]},_measureChar:function(l,u,d,m){var g=this.getFontCache(u),p=this._getFontDeclaration(u),y=this._getFontDeclaration(m),x=d+l,b=p===y,S,C,T,E=u.fontSize/this.CACHE_FONT_SIZE,P;if(d&&g[d]!==void 0&&(T=g[d]),g[l]!==void 0&&(P=S=g[l]),b&&g[x]!==void 0&&(C=g[x],P=C-T),S===void 0||T===void 0||C===void 0){var k=this.getMeasuringContext();this._setTextStyles(k,u,!0)}return S===void 0&&(P=S=k.measureText(l).width,g[l]=S),T===void 0&&b&&d&&(T=k.measureText(d).width,g[d]=T),b&&C===void 0&&(C=k.measureText(x).width,g[x]=C,P=C-T),{width:S*E,kernedWidth:P*E}},getHeightOfChar:function(l,u){return this.getValueOfPropertyAt(l,u,"fontSize")},measureLine:function(l){var u=this._measureLine(l);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(l){var u=0,d,m,g=this._textLines[l],p,y,x=0,b=new Array(g.length),S=0,C,T,E=this.path,P=this.pathSide==="right";for(this.__charBounds[l]=b,d=0;d<g.length;d++)m=g[d],y=this._getGraphemeBox(m,l,d,p),b[d]=y,u+=y.kernedWidth,p=m;if(b[d]={left:y?y.left+y.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(T=E.segmentsInfo[E.segmentsInfo.length-1].length,C=s.util.getPointOnPath(E.path,0,E.segmentsInfo),C.x+=E.pathOffset.x,C.y+=E.pathOffset.y,this.textAlign){case"left":S=P?T-u:0;break;case"center":S=(T-u)/2;break;case"right":S=P?0:T-u;break}for(S+=this.pathStartOffset*(P?-1:1),d=P?g.length-1:0;P?d>=0:d<g.length;P?d--:d++)y=b[d],S>T?S%=T:S<0&&(S+=T),this._setGraphemeOnPath(S,y,C),S+=y.kernedWidth}return{width:u,numOfSpaces:x}},_setGraphemeOnPath:function(l,u,d){var m=l+u.kernedWidth/2,g=this.path,p=s.util.getPointOnPath(g.path,m,g.segmentsInfo);u.renderLeft=p.x-d.x,u.renderTop=p.y-d.y,u.angle=p.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,u,d,m,g){var p=this.getCompleteStyleDeclaration(u,d),y=m?this.getCompleteStyleDeclaration(u,d-1):{},x=this._measureChar(l,p,m,y),b=x.kernedWidth,S=x.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),S+=C,b+=C);var T={width:S,left:0,height:p.fontSize,kernedWidth:b,deltaY:p.deltaY};if(d>0&&!g){var E=this.__charBounds[u][d-1];T.left=E.left+E.width+x.kernedWidth-x.width}return T},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var u=this._textLines[l],d=this.getHeightOfChar(l,0),m=1,g=u.length;m<g;m++)d=Math.max(this.getHeightOfChar(l,m),d);return this.__lineHeights[l]=d*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,u=0,d=0,m=this._textLines.length;d<m;d++)l=this.getHeightOfLine(d),u+=d===m-1?l/this.lineHeight:l;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,u){l.save();for(var d=0,m=this._getLeftOffset(),g=this._getTopOffset(),p=0,y=this._textLines.length;p<y;p++){var x=this.getHeightOfLine(p),b=x/this.lineHeight,S=this._getLineLeftOffset(p);this._renderTextLine(u,l,this._textLines[p],m+S,g+d+b,p),d+=x}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,u,d,m,g,p){var y=this.getHeightOfLine(p),x=this.textAlign.indexOf("justify")!==-1,b,S,C="",T,E=0,P,k=this.path,A=!x&&this.charSpacing===0&&this.isEmptyStyles(p)&&!k,B=this.direction==="ltr",z=this.direction==="ltr"?1:-1,q,L=u.canvas.getAttribute("dir");if(u.save(),L!==this.direction&&(u.canvas.setAttribute("dir",B?"ltr":"rtl"),u.direction=B?"ltr":"rtl",u.textAlign=B?"left":"right"),g-=y*this._fontSizeFraction/this.lineHeight,A){this._renderChar(l,u,p,0,d.join(""),m,g,y),u.restore();return}for(var W=0,J=d.length-1;W<=J;W++)P=W===J||this.charSpacing||k,C+=d[W],T=this.__charBounds[p][W],E===0?(m+=z*(T.kernedWidth-T.width),E+=T.width):E+=T.kernedWidth,x&&!P&&this._reSpaceAndTab.test(d[W])&&(P=!0),P||(b=b||this.getCompleteStyleDeclaration(p,W),S=this.getCompleteStyleDeclaration(p,W+1),P=s.util.hasStyleChanged(b,S,!1)),P&&(k?(u.save(),u.translate(T.renderLeft,T.renderTop),u.rotate(T.angle),this._renderChar(l,u,p,W,C,-E/2,0,y),u.restore()):(q=m,this._renderChar(l,u,p,W,C,q,g,y)),C="",b=S,m+=z*E,E=0);u.restore()},_applyPatternGradientTransformText:function(l){var u=s.util.createCanvasElement(),d,m=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=m,u.height=g,d=u.getContext("2d"),d.beginPath(),d.moveTo(0,0),d.lineTo(m,0),d.lineTo(m,g),d.lineTo(0,g),d.closePath(),d.translate(m/2,g/2),d.fillStyle=l.toLive(d),this._applyPatternGradientTransform(d,l),d.fill(),d.createPattern(u,"no-repeat")},handleFiller:function(l,u,d){var m,g;return d.toLive?d.gradientUnits==="percentage"||d.gradientTransform||d.patternTransform?(m=-this.width/2,g=-this.height/2,l.translate(m,g),l[u]=this._applyPatternGradientTransformText(d),{offsetX:m,offsetY:g}):(l[u]=d.toLive(l,this),this._applyPatternGradientTransform(l,d)):(l[u]=d,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,u){return l.lineWidth=u.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",u.stroke)},_setFillStyles:function(l,u){return this.handleFiller(l,"fillStyle",u.fill)},_renderChar:function(l,u,d,m,g,p,y){var x=this._getStyleDeclaration(d,m),b=this.getCompleteStyleDeclaration(d,m),S=l==="fillText"&&b.fill,C=l==="strokeText"&&b.stroke&&b.strokeWidth,T,E;!C&&!S||(u.save(),S&&(T=this._setFillStyles(u,b)),C&&(E=this._setStrokeStyles(u,b)),u.font=this._getFontDeclaration(b),x&&x.textBackgroundColor&&this._removeShadow(u),x&&x.deltaY&&(y+=x.deltaY),S&&u.fillText(g,p-T.offsetX,y-T.offsetY),C&&u.strokeText(g,p-E.offsetX,y-E.offsetY),u.restore())},setSuperscript:function(l,u){return this._setScript(l,u,this.superscript)},setSubscript:function(l,u){return this._setScript(l,u,this.subscript)},_setScript:function(l,u,d){var m=this.get2DCursorLocation(l,!0),g=this.getValueOfPropertyAt(m.lineIndex,m.charIndex,"fontSize"),p=this.getValueOfPropertyAt(m.lineIndex,m.charIndex,"deltaY"),y={fontSize:g*d.size,deltaY:p+g*d.baseline};return this.setSelectionStyles(y,l,u),this},_getLineLeftOffset:function(l){var u=this.getLineWidth(l),d=this.width-u,m=this.textAlign,g=this.direction,y,p=0,y=this.isEndOfWrapping(l);return m==="justify"||m==="justify-center"&&!y||m==="justify-right"&&!y||m==="justify-left"&&!y?0:(m==="center"&&(p=d/2),m==="right"&&(p=d),m==="justify-center"&&(p=d/2),m==="justify-right"&&(p=d),g==="rtl"&&(p-=d),p)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var u=this.measureLine(l),d=u.width;return this.__lineWidths[l]=d,d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,u,d){var m=this._getStyleDeclaration(l,u);return m&&typeof m[d]<"u"?m[d]:this[d]},_renderTextDecoration:function(l,u){if(!(!this[u]&&!this.styleHas(u))){l.save(),(u==="overline"||u==="linethrough")&&this._removeShadow(l);for(var d,m,g,p,y,x,b,S,C=this._getLeftOffset(),T=this._getTopOffset(),E,P,k,A,B,z,q,L,W=this.path,J=this._getWidthOfCharSpacing(),G=this.offsets[u],M=0,_=this._textLines.length;M<_;M++){if(d=this.getHeightOfLine(M),!this[u]&&!this.styleHas(u,M)){T+=d;continue}b=this._textLines[M],z=d/this.lineHeight,p=this._getLineLeftOffset(M),P=0,k=0,S=this.getValueOfPropertyAt(M,0,u),L=this.getValueOfPropertyAt(M,0,"fill"),E=T+z*(1-this._fontSizeFraction),m=this.getHeightOfChar(M,0),y=this.getValueOfPropertyAt(M,0,"deltaY");for(var N=0,O=b.length;N<O;N++)if(A=this.__charBounds[M][N],B=this.getValueOfPropertyAt(M,N,u),q=this.getValueOfPropertyAt(M,N,"fill"),g=this.getHeightOfChar(M,N),x=this.getValueOfPropertyAt(M,N,"deltaY"),W&&B&&q)l.save(),l.fillStyle=L,l.translate(A.renderLeft,A.renderTop),l.rotate(A.angle),l.fillRect(-A.kernedWidth/2,G*g+x,A.kernedWidth,this.fontSize/15),l.restore();else if((B!==S||q!==L||g!==m||x!==y)&&k>0){var D=C+p+P;this.direction==="rtl"&&(D=this.width-D-k),S&&L&&(l.fillStyle=L,l.fillRect(D,E+G*m+y,k,this.fontSize/15)),P=A.left,k=A.width,S=B,L=q,m=g,y=x}else k+=A.kernedWidth;var D=C+p+P;this.direction==="rtl"&&(D=this.width-D-k),l.fillStyle=q,B&&q&&l.fillRect(D,E+G*m+y,k-J,this.fontSize/15),T+=d}l.restore()}},_getFontDeclaration:function(l,u){var d=l||this,m=this.fontFamily,g=s.Text.genericFonts.indexOf(m.toLowerCase())>-1,p=m===void 0||m.indexOf("'")>-1||m.indexOf(",")>-1||m.indexOf('"')>-1||g?d.fontFamily:'"'+d.fontFamily+'"';return[s.isLikelyNode?d.fontWeight:d.fontStyle,s.isLikelyNode?d.fontStyle:d.fontWeight,u?this.CACHE_FONT_SIZE+"px":d.fontSize+"px",p].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var u=l.split(this._reNewline),d=new Array(u.length),m=[`
`],g=[],p=0;p<u.length;p++)d[p]=s.util.string.graphemeSplit(u[p]),g=g.concat(d[p],m);return g.pop(),{_unwrappedLines:d,lines:u,graphemeText:g,graphemeLines:d}},toObject:function(l){var u=f.concat(l),d=this.callSuper("toObject",u);return d.styles=s.util.stylesToArray(this.styles,this.text),d.path&&(d.path=this.path.toObject()),d},set:function(l,u){this.callSuper("set",l,u);var d=!1,m=!1;if(typeof l=="object")for(var g in l)g==="path"&&this.setPathInfo(),d=d||this._dimensionAffectingProps.indexOf(g)!==-1,m=m||g==="path";else d=this._dimensionAffectingProps.indexOf(l)!==-1,m=l==="path";return m&&this.setPathInfo(),d&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(l,u,d){if(!l)return u(null);var m=s.parseAttributes(l,s.Text.ATTRIBUTE_NAMES),g=m.textAnchor||"left";if(d=s.util.object.extend(d?c(d):{},m),d.top=d.top||0,d.left=d.left||0,m.textDecoration){var p=m.textDecoration;p.indexOf("underline")!==-1&&(d.underline=!0),p.indexOf("overline")!==-1&&(d.overline=!0),p.indexOf("line-through")!==-1&&(d.linethrough=!0),delete d.textDecoration}"dx"in m&&(d.left+=m.dx),"dy"in m&&(d.top+=m.dy),"fontSize"in d||(d.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var y="";"textContent"in l?y=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(y=l.firstChild.data),y=y.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var x=d.strokeWidth;d.strokeWidth=0;var b=new s.Text(y,d),S=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,T=C*S,E=b.getScaledHeight()+T,P=0;g==="center"&&(P=b.getScaledWidth()/2),g==="right"&&(P=b.getScaledWidth()),b.set({left:b.left-P,top:b.top-(E-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof x<"u"?x:1}),u(b)},s.Text.fromObject=function(l,u){var d=c(l),m=l.path;return delete d.path,s.Object._fromObject("Text",d,function(g){g.styles=s.util.stylesFromArray(l.styles,l.text),m?s.Object._fromObject("Path",m,function(p){g.set("path",p),u(g)},"path"):u(g)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(o){if(!this.styles||typeof o<"u"&&!this.styles[o])return!0;var s=typeof o>"u"?this.styles:{line:this.styles[o]};for(var c in s)for(var f in s[c])for(var l in s[c][f])return!1;return!0},styleHas:function(o,s){if(!this.styles||!o||o===""||typeof s<"u"&&!this.styles[s])return!1;var c=typeof s>"u"?this.styles:{0:this.styles[s]};for(var f in c)for(var l in c[f])if(typeof c[f][l][o]<"u")return!0;return!1},cleanStyle:function(o){if(!this.styles||!o||o==="")return!1;var s=this.styles,c=0,f,l,u=!0,d=0,m;for(var g in s){f=0;for(var p in s[g]){var m=s[g][p],y=m.hasOwnProperty(o);c++,y?(l?m[o]!==l&&(u=!1):l=m[o],m[o]===this[o]&&delete m[o]):u=!1,Object.keys(m).length!==0?f++:delete s[g][p]}f===0&&delete s[g]}for(var x=0;x<this._textLines.length;x++)d+=this._textLines[x].length;u&&c===d&&(this[o]=l,this.removeStyle(o))},removeStyle:function(o){if(!(!this.styles||!o||o==="")){var s=this.styles,c,f,l;for(f in s){c=s[f];for(l in c)delete c[l][o],Object.keys(c[l]).length===0&&delete c[l];Object.keys(c).length===0&&delete s[f]}}},_extendStyles:function(o,s){var c=this.get2DCursorLocation(o);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),s)},get2DCursorLocation:function(o,s){typeof o>"u"&&(o=this.selectionStart);for(var c=s?this._unwrappedTextLines:this._textLines,f=c.length,l=0;l<f;l++){if(o<=c[l].length)return{lineIndex:l,charIndex:o};o-=c[l].length+this.missingNewlineOffset(l,s)}return{lineIndex:l-1,charIndex:c[l-1].length<o?c[l-1].length:o}},getSelectionStyles:function(o,s,c){typeof o>"u"&&(o=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||o);for(var f=[],l=o;l<s;l++)f.push(this.getStyleAtPosition(l,c));return f},getStyleAtPosition:function(o,s){var c=this.get2DCursorLocation(o),f=s?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(o,s,c){typeof s>"u"&&(s=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||s);for(var f=s;f<c;f++)this._extendStyles(f,o);return this._forceClearCache=!0,this},_getStyleDeclaration:function(o,s){var c=this.styles&&this.styles[o];return c?c[s]:null},getCompleteStyleDeclaration:function(o,s){for(var c=this._getStyleDeclaration(o,s)||{},f={},l,u=0;u<this._styleProperties.length;u++)l=this._styleProperties[u],f[l]=typeof c[l]>"u"?this[l]:c[l];return f},_setStyleDeclaration:function(o,s,c){this.styles[o][s]=c},_deleteStyleDeclaration:function(o,s){delete this.styles[o][s]},_getLineStyle:function(o){return!!this.styles[o]},_setLineStyle:function(o){this.styles[o]={}},_deleteLineStyle:function(o){delete this.styles[o]}})}(),function(){function o(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,c){this.callSuper("initialize",s,c),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,c){this[s]!==c&&(this._fireSelectionChanged(),this[s]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),s||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,c):this.renderSelection(s,c),c.restore()}},_clearTextArea:function(s){var c=this.width+4,f=this.height+4;s.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),l=this._getCursorBoundariesOffsets(s);return{left:c,top:f,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,l,u=0,d=0,m,g=this.get2DCursorLocation(s);l=g.charIndex,f=g.lineIndex;for(var p=0;p<f;p++)u+=this.getHeightOfLine(p);c=this._getLineLeftOffset(f);var y=this.__charBounds[f][l];return y&&(d=y.left),this.charSpacing!==0&&l===this._textLines[f].length&&(d-=this._getWidthOfCharSpacing()),m={top:u,left:c+(d>0?d:0)},this.direction==="rtl"&&(m.left*=-1),this.cursorOffsetCache=m,this.cursorOffsetCache},renderCursor:function(s,c){var f=this.get2DCursorLocation(),l=f.lineIndex,u=f.charIndex>0?f.charIndex-1:0,d=this.getValueOfPropertyAt(l,u,"fontSize"),m=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/m,p=s.topOffset,y=this.getValueOfPropertyAt(l,u,"deltaY");p+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-d*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,u,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(s.left+s.leftOffset-g/2,p+s.top+y,g,d)},renderSelection:function(s,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,d=this.get2DCursorLocation(f),m=this.get2DCursorLocation(l),g=d.lineIndex,p=m.lineIndex,y=d.charIndex<0?0:d.charIndex,x=m.charIndex<0?0:m.charIndex,b=g;b<=p;b++){var S=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),T=0,E=0,P=0;if(b===g&&(E=this.__charBounds[g][y].left),b>=g&&b<p)P=u&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===p)if(x===0)P=this.__charBounds[p][x].left;else{var k=this._getWidthOfCharSpacing();P=this.__charBounds[p][x-1].left+this.__charBounds[p][x-1].width-k}T=C,(this.lineHeight<1||b===p&&this.lineHeight>1)&&(C/=this.lineHeight);var A=s.left+S+E,B=P-E,z=C,q=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",z=1,q=C):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(A=this.width-A-B),c.fillRect(A,s.top+s.topOffset+q,B,z),s.topOffset+=T}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),c=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c}}}),t.IText.fromObject=function(s,c){var f=t.util.stylesFromArray(s.styles,s.text),l=Object.assign({},s,{styles:f});if(delete l.path,o(l),l.styles)for(var u in l.styles)for(var d in l.styles[u])o(l.styles[u][d]);t.Object._fromObject("IText",l,function(m){s.path?t.Object._fromObject("Path",s.path,function(g){m.set("path",g),c(m)},"path"):c(m)},"text")}}(),function(){var o=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var c=s.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,s._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var c=s.canvas;c&&(c._iTextInstances=c._iTextInstances||[],t.util.removeFromArray(c._iTextInstances,s),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,s._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,c,f,l){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){u.isAborted||s[l]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var c=this,f=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var c=0,f=s-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return s-c},findWordBoundaryRight:function(s){var c=0,f=s;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return s+c},findLineBoundaryLeft:function(s){for(var c=0,f=s-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return s-c},findLineBoundaryRight:function(s){for(var c=0,f=s;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return s+c},searchWordBoundary:function(s,c){for(var f=this._text,l=this._reSpace.test(f[s])?s-1:s,u=f[l],d=t.reNonWord;!d.test(u)&&l>0&&l<f.length;)l+=c,u=f[l];return d.test(u)&&(l+=c===1?0:1),l},selectWord:function(s){s=s||this.selectionStart;var c=this.searchWordBoundary(s,-1),f=this.searchWordBoundary(s,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var c=this.findLineBoundaryLeft(s),f=this.findLineBoundaryRight(s);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(s.e),f=this.selectionStart,l=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===l)&&(f===c||l===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,c,f){var l=f.slice(0,s),u=t.util.string.graphemeSplit(l).length;if(s===c)return{selectionStart:u,selectionEnd:u};var d=f.slice(s,c),m=t.util.string.graphemeSplit(d).length;return{selectionStart:u,selectionEnd:u+m}},fromGraphemeToStringSelection:function(s,c,f){var l=f.slice(0,s),u=l.join("").length;if(s===c)return{selectionStart:u,selectionEnd:u};var d=f.slice(s,c),m=d.join("").length;return{selectionStart:u,selectionEnd:u+m}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(s),f=this.get2DCursorLocation(s),l=f.lineIndex,u=f.charIndex,d=this.getValueOfPropertyAt(l,u,"fontSize")*this.lineHeight,m=c.leftOffset,g=this.calcTransformMatrix(),p={x:c.left+m,y:c.top+c.topOffset+d},y=this.canvas.getRetinaScaling(),x=this.canvas.upperCanvasEl,b=x.width/y,S=x.height/y,C=b-d,T=S-d,E=x.clientWidth/b,P=x.clientHeight/S;return p=t.util.transformPoint(p,g),p=t.util.transformPoint(p,this.canvas.viewportTransform),p.x*=E,p.y*=P,p.x<0&&(p.x=0),p.x>C&&(p.x=C),p.y<0&&(p.y=0),p.y>T&&(p.y=T),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:p.x+"px",top:p.y+"px",fontSize:d+"px",charHeight:d}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,c){var f=this.get2DCursorLocation(s,!0),l=this.get2DCursorLocation(c,!0),u=f.lineIndex,d=f.charIndex,m=l.lineIndex,g=l.charIndex,p,y;if(u!==m){if(this.styles[u])for(p=d;p<this._unwrappedTextLines[u].length;p++)delete this.styles[u][p];if(this.styles[m])for(p=g;p<this._unwrappedTextLines[m].length;p++)y=this.styles[m][p],y&&(this.styles[u]||(this.styles[u]={}),this.styles[u][d+p-g]=y);for(p=u+1;p<=m;p++)delete this.styles[p];this.shiftLineStyles(m,u-m)}else if(this.styles[u]){y=this.styles[u];var x=g-d,b,S;for(p=d;p<g;p++)delete y[p];for(S in this.styles[u])b=parseInt(S,10),b>=g&&(y[b-x]=y[S],delete y[S])}},shiftLineStyles:function(s,c){var f=o(this.styles);for(var l in this.styles){var u=parseInt(l,10);u>s&&(this.styles[u+c]=f[u],f[u-c]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,c,f,l){var u,d={},m=!1,g=this._unwrappedTextLines[s].length,p=g===c;f||(f=1),this.shiftLineStyles(s,f),this.styles[s]&&(u=this.styles[s][c===0?c:c-1]);for(var y in this.styles[s]){var x=parseInt(y,10);x>=c&&(m=!0,d[x-c]=this.styles[s][y],p&&c===0||delete this.styles[s][y])}var b=!1;for(m&&!p&&(this.styles[s+f]=d,b=!0),(b||g>c)&&f--;f>0;)l&&l[f-1]?this.styles[s+f]={0:o(l[f-1])}:u?this.styles[s+f]={0:o(u)}:delete this.styles[s+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(s,c,f,l){this.styles||(this.styles={});var u=this.styles[s],d=u?o(u):{};f||(f=1);for(var m in d){var g=parseInt(m,10);g>=c&&(u[g+f]=d[g],d[g-f]||delete u[g])}if(this._forceClearCache=!0,l){for(;f--;)Object.keys(l[f]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][c+f]=o(l[f]));return}if(u)for(var p=u[c?c-1:1];p&&f--;)this.styles[s][c+f]=o(p)},insertNewStyleBlock:function(s,c,f){for(var l=this.get2DCursorLocation(c,!0),u=[0],d=0,m=0;m<s.length;m++)s[m]===`
`?(d++,u[d]=0):u[d]++;u[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,u[0],f),f=f&&f.slice(u[0]+1)),d&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+u[0],d);for(var m=1;m<d;m++)u[m]>0?this.insertCharStyleObject(l.lineIndex+m,0,u[m],f):f&&this.styles[l.lineIndex+m]&&f[0]&&(this.styles[l.lineIndex+m][0]=f[0]),f=f&&f.slice(u[m]+1);u[m]>0&&this.insertCharStyleObject(l.lineIndex+m,0,u[m],f)},setSelectionStartEndWithShift:function(s,c,f){f<=s?(c===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=f):f>s&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(o){if(this.canvas){this.__newClickTime=+new Date;var s=o.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",o),this._stopEvent(o.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(o){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===o.x&&this.__lastPointer.y===o.y},_stopEvent:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(o){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(o.e))},tripleClickHandler:function(o){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(o.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(o.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(o){if(this.__isMousedown=!1,!(!this.editable||this.group||o.transform&&o.transform.actionPerformed||o.e.button&&o.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(o.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(o){var s=this.getSelectionStartFromPointer(o),c=this.selectionStart,f=this.selectionEnd;o.shiftKey?this.setSelectionStartEndWithShift(c,f,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(o){for(var s=this.getLocalPointer(o),c=0,f=0,l=0,u=0,d=0,m,g,p=0,y=this._textLines.length;p<y&&l<=s.y;p++)l+=this.getHeightOfLine(p)*this.scaleY,d=p,p>0&&(u+=this._textLines[p-1].length+this.missingNewlineOffset(p-1));m=this._getLineLeftOffset(d),f=m*this.scaleX,g=this._textLines[d],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+f);for(var x=0,b=g.length;x<b&&(c=f,f+=this.__charBounds[d][x].kernedWidth*this.scaleX,f<=s.x);x++)u++;return this._getNewSelectionStartFromOffset(s,c,f,u,b)},_getNewSelectionStartFromOffset:function(o,s,c,f,l){var u=o.x-s,d=c-o.x,m=d>u||d<0?0:1,g=f+m;return this.flipX&&(g=l-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var o=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+o.top+"; left: "+o.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+o.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(o){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(o.keyCode in s)this[s[o.keyCode]](o);else if(o.keyCode in this.ctrlKeysMapDown&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapDown[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),o.keyCode>=33&&o.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(o){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(o.keyCode in this.ctrlKeysMapUp&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapUp[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(o){var s=this.fromPaste;if(this.fromPaste=!1,o&&o.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,l=c.length,u,d,m=l-f,g=this.selectionStart,p=this.selectionEnd,y=g!==p,x,b,S;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),T=g>C.selectionStart;y?(u=this._text.slice(g,p),m+=p-g):l<f&&(T?u=this._text.slice(p+m,p):u=this._text.slice(g,g-m)),d=c.slice(C.selectionEnd-m,C.selectionEnd),u&&u.length&&(d.length&&(x=this.getSelectionStyles(g,g+1,!1),x=d.map(function(){return x[0]})),y?(b=g,S=p):T?(b=p-u.length,S=p):(b=p,S=p+u.length),this.removeStyleFromTo(b,S)),d.length&&(s&&d.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(x=t.copiedTextStyle),this.insertNewStyleBlock(d,g,x)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(o){this.compositionStart=o.target.selectionStart,this.compositionEnd=o.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(o){return o&&o.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(o,s){var c=this._getLineLeftOffset(o),f;return s>0&&(f=this.__charBounds[o][s-1],c+=f.left+f.width),c},getDownCursorOffset:function(o,s){var c=this._getSelectionForOffset(o,s),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===this._textLines.length-1||o.metaKey||o.keyCode===34)return this._text.length-c;var u=f.charIndex,d=this._getWidthBeforeCursor(l,u),m=this._getIndexOnLine(l+1,d),g=this._textLines[l].slice(u);return g.length+m+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(o,s){return o.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(o,s){var c=this._getSelectionForOffset(o,s),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===0||o.metaKey||o.keyCode===33)return-c;var u=f.charIndex,d=this._getWidthBeforeCursor(l,u),m=this._getIndexOnLine(l-1,d),g=this._textLines[l].slice(0,u),p=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+m-g.length+(1-p)},_getIndexOnLine:function(o,s){for(var c=this._textLines[o],f=this._getLineLeftOffset(o),l=f,u=0,d,m,g=0,p=c.length;g<p;g++)if(d=this.__charBounds[o][g].width,l+=d,l>s){m=!0;var y=l-d,x=l,b=Math.abs(y-s),S=Math.abs(x-s);u=S<b?g:g-1;break}return m||(u=c.length-1),u},moveCursorDown:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",o)},moveCursorUp:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",o)},_moveCursorUpOrDown:function(o,s){var c="get"+o+"CursorOffset",f=this[c](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(o){var s=this._selectionDirection==="left"?this.selectionStart+o:this.selectionEnd+o;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),o!==0},moveCursorWithoutShift:function(o){return o<0?(this.selectionStart+=o,this.selectionEnd=this.selectionStart):(this.selectionEnd+=o,this.selectionStart=this.selectionEnd),o!==0},moveCursorLeft:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",o)},_move:function(o,s,c){var f;if(o.altKey)f=this["findWordBoundary"+c](this[s]);else if(o.metaKey||o.keyCode===35||o.keyCode===36)f=this["findLineBoundary"+c](this[s]);else return this[s]+=c==="Left"?-1:1,!0;if(typeof f<"u"&&this[s]!==f)return this[s]=f,!0},_moveLeft:function(o,s){return this._move(o,s,"Left")},_moveRight:function(o,s){return this._move(o,s,"Right")},moveCursorLeftWithoutShift:function(o){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(o,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(o){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(o,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(o,"selectionStart")},moveCursorRight:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",o)},_moveCursorLeftOrRight:function(o,s){var c="moveCursor"+o+"With";this._currentCursorOpacity=1,s.shiftKey?c+="Shift":c+="outShift",this[c](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(o){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(o,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(o,"selectionEnd")},moveCursorRightWithoutShift:function(o){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(o,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(o,s){typeof s>"u"&&(s=o+1),this.removeStyleFromTo(o,s),this._text.splice(o,s-o),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(o,s,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var l=t.util.string.graphemeSplit(o);this.insertNewStyleBlock(l,c,s),this._text=[].concat(this._text.slice(0,c),l,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var o=t.util.toFixed,s=t.util.radiansToDegrees,c=t.util.calcRotateMatrix,f=t.util.transformPoint,l=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(u){var d=this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0}),m=this.path;return m?d+m._createBaseSVGMarkup(m._toSVG(),{reviver:u,withShadow:!0}):d},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var d=!0,m=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",m?'text-decoration="'+m+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,d){var m=[],g=[],p=u,y;this._setSVGBg(g);for(var x=0,b=this._textLines.length;x<b;x++)y=this._getLineLeftOffset(x),(this.textBackgroundColor||this.styleHas("textBackgroundColor",x))&&this._setSVGTextLineBg(g,x,d+y,p),this._setSVGTextLineText(m,x,d+y,p),p+=this.getHeightOfLine(x);return{textSpans:m,textBgRects:g}},_createTextCharSpan:function(u,d,m,g,p){var y=u!==u.trim()||u.match(l),x=this.getSvgSpanStyles(d,y),b=x?'style="'+x+'"':"",S=d.deltaY,C="",T=t.Object.NUM_FRACTION_DIGITS,E="";if(S&&(C=' dy="'+o(S,T)+'" '),p.renderLeft!==void 0){var P=p.angle;E=' rotate="'+o(s(P),t.Object.NUM_FRACTION_DIGITS)+'" ';var k=p.width/2,A=c({angle:s(P)});A[4]=p.renderLeft,A[5]=p.renderTop;var B=f({x:-k,y:0},A);m=B.x,g=B.y}return['<tspan x="',o(m,T),'" y="',o(g,T),'" ',C,b,E,">",t.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,d,m,g){var p=this.getHeightOfLine(d),y=this.textAlign.indexOf("justify")!==-1,x,b,S="",C,T,E=0,P=this._textLines[d],k;g+=p*(1-this._fontSizeFraction)/this.lineHeight;for(var A=0,B=P.length-1;A<=B;A++)k=A===B||this.charSpacing||this.path,S+=P[A],C=this.__charBounds[d][A],E===0?(m+=C.kernedWidth-C.width,E+=C.width):E+=C.kernedWidth,y&&!k&&this._reSpaceAndTab.test(P[A])&&(k=!0),k||(x=x||this.getCompleteStyleDeclaration(d,A),b=this.getCompleteStyleDeclaration(d,A+1),k=t.util.hasStyleChanged(x,b,!0)),k&&(T=this._getStyleDeclaration(d,A)||{},u.push(this._createTextCharSpan(S,T,m,g,C)),S="",x=b,m+=E,E=0)},_pushTextBgRect:function(u,d,m,g,p,y){var x=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(d),' x="',o(m,x),'" y="',o(g,x),'" width="',o(p,x),'" height="',o(y,x),`"></rect>
`)},_setSVGTextLineBg:function(u,d,m,g){for(var p=this._textLines[d],y=this.getHeightOfLine(d)/this.lineHeight,x=0,b=0,S,C,T=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),E=0,P=p.length;E<P;E++)S=this.__charBounds[d][E],C=this.getValueOfPropertyAt(d,E,"textBackgroundColor"),C!==T?(T&&this._pushTextBgRect(u,T,m+b,g,x,y),b=S.left,x=S.width,T=C):x+=S.kernedWidth;C&&this._pushTextBgRect(u,C,m+b,g,x,y)},_getFillAttributes:function(u){var d=u&&typeof u=="string"?new t.Color(u):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+u+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var d=0,m=0,g=0;g<u;g++)d+=this.getHeightOfLine(g);return m=this.getHeightOfLine(g),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*m/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var d=t.Object.prototype.getSvgStyles.call(this,u);return d+" white-space: pre;"}})}(),function(o){var s=o.fabric||(o.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,l=0,u=0,d={},m=0;m<c.graphemeLines.length;m++)c.graphemeText[u]===`
`&&m>0?(l=0,u++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[u])&&m>0&&(l++,u++),d[m]={line:f,offset:l},u+=c.graphemeLines[m].length,l+=c.graphemeLines[m].length;return d},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[f];l&&(f=l.line)}return s.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,l=c+1,u,d,m=!1,g=this._styleMap[c],p=this._styleMap[c+1];g&&(c=g.line,f=g.offset),p&&(l=p.line,m=l===c,u=p.offset),d=typeof c>"u"?this.styles:{line:this.styles[c]};for(var y in d)for(var x in d[y])if(x>=f&&(!m||x<u))for(var b in d[y][x])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[c];if(!l)return null;c=l.line,f=l.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,l){var u=this._styleMap[c];c=u.line,f=u.offset+f,this.styles[c][f]=l},_deleteStyleDeclaration:function(c,f){var l=this._styleMap[c];c=l.line,f=l.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var l=[],u;for(this.isWrapping=!0,u=0;u<c.length;u++)l=l.concat(this._wrapLine(c[u],u,f));return this.isWrapping=!1,l},_measureWord:function(c,f,l){var u=0,d,m=!0;l=l||0;for(var g=0,p=c.length;g<p;g++){var y=this._getGraphemeBox(c[g],f,g+l,d,m);u+=y.kernedWidth,d=c[g]}return u},_wrapLine:function(c,f,l,A){var d=0,m=this.splitByGrapheme,g=[],p=[],y=m?s.util.string.graphemeSplit(c):c.split(this._wordJoiners),x="",b=0,S=m?"":" ",C=0,T=0,E=0,P=!0,k=this._getWidthOfCharSpacing(),A=A||0;y.length===0&&y.push([]),l-=A;for(var B=0;B<y.length;B++)x=m?y[B]:s.util.string.graphemeSplit(y[B]),C=this._measureWord(x,f,b),b+=x.length,d+=T+C-k,d>l&&!P?(g.push(p),p=[],d=C,P=!0):d+=k,!P&&!m&&p.push(S),p=p.concat(x),T=m?0:this._measureWord([S],f,b),b++,P=!1,C>E&&(E=C);return B&&g.push(p),E+A>this.dynamicMinWidth&&(this.dynamicMinWidth=E-k+A),g},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c,f){return this.splitByGrapheme&&!f?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=s.Text.prototype._splitTextIntoLines.call(this,c),l=this._wrapText(f.lines,this.width),u=new Array(l.length),d=0;d<l.length;d++)u[d]=l[d].join("");return f.lines=u,f.graphemeLines=l,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),s.Textbox.fromObject=function(c,f){var l=s.util.stylesFromArray(c.styles,c.text),u=Object.assign({},c,{styles:l});return delete u.path,s.Object._fromObject("Textbox",u,function(d){c.path?s.Object._fromObject("Path",c.path,function(m){d.set("path",m),f(d)},"path"):f(d)},"text")}}(e),function(){var o=t.controlsUtils,s=o.scaleSkewCursorStyleHandler,c=o.scaleCursorStyleHandler,f=o.scalingEqually,l=o.scalingYOrSkewingX,u=o.scalingXOrSkewingY,d=o.scaleOrSkewActionName,m=t.Object.prototype.controls;if(m.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:u,getActionName:d}),m.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:u,getActionName:d}),m.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:l,getActionName:d}),m.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:l,getActionName:d}),m.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),m.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),m.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),m.br=new t.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),m.mtr=new t.Control({x:0,y:-.5,actionHandler:o.rotationWithSnapping,cursorStyleHandler:o.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=m.mtr,g.tr=m.tr,g.br=m.br,g.tl=m.tl,g.bl=m.bl,g.mt=m.mt,g.mb=m.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(js);var jY=Symbol.for("react.lazy"),od=ps[" use ".trim().toString()];function OY(e){return typeof e=="object"&&e!==null&&"then"in e}function dO(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===jY&&"_payload"in e&&OY(e._payload)}function AY(e){const t=DY(e),n=w.forwardRef((r,i)=>{let{children:a,...h}=r;dO(a)&&typeof od=="function"&&(a=od(a._payload));const o=w.Children.toArray(a),s=o.find(RY);if(s){const c=s.props.children,f=o.map(l=>l===s?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:l);return v.jsx(t,{...h,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return v.jsx(t,{...h,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function DY(e){const t=w.forwardRef((n,r)=>{let{children:i,...a}=n;if(dO(i)&&typeof od=="function"&&(i=od(i._payload)),w.isValidElement(i)){const h=IY(i),o=MY(a,i.props);return i.type!==w.Fragment&&(o.ref=r?Ei(r,h):h),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kY=Symbol("radix.slottable");function RY(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kY}function MY(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function IY(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FY=LY.reduce((e,t)=>{const n=AY(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:h,...o}=i,s=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(s,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),BY="Separator",Xw="horizontal",VY=["horizontal","vertical"],fO=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=Xw,...i}=e,a=zY(r)?r:Xw,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return v.jsx(FY.div,{"data-orientation":a,...o,...i,ref:t})});fO.displayName=BY;function zY(e){return VY.includes(e)}var hO=fO;const It=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>v.jsx(hO,{ref:i,decorative:n,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));It.displayName=hO.displayName;const pO=w.forwardRef((e,t)=>{const n=w.useRef(null),r=w.useRef(null),i=w.useRef(null),a=w.useRef(null),[h,o]=w.useState("pencil"),[s,c]=w.useState("#800000"),[f,l]=w.useState(3);w.useImperativeHandle(t,()=>({getData:()=>r.current?{json:JSON.stringify(r.current.toJSON()),image:r.current.toDataURL({format:"png",quality:.8})}:null})),w.useEffect(()=>{if(!n.current||!i.current)return;const y=new js.fabric.Canvas(n.current,{width:i.current.offsetWidth,height:i.current.offsetHeight,backgroundColor:"#ffffff",isDrawingMode:!0});r.current=y,y.freeDrawingBrush.color=s,y.freeDrawingBrush.width=f;const x=()=>{i.current&&r.current&&r.current.setDimensions({width:i.current.offsetWidth,height:i.current.offsetHeight})};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),y.dispose()}},[]),w.useEffect(()=>{if(!r.current)return;const y=r.current;y.isDrawingMode=h==="pencil",y.freeDrawingBrush&&(y.freeDrawingBrush.color=s,y.freeDrawingBrush.width=f),y.defaultCursor=h==="select"?"default":"crosshair"},[h,s,f]);const u=()=>{var x;const y=new js.fabric.Rect({left:100,top:100,fill:"transparent",stroke:s,strokeWidth:f,width:150,height:100,rx:4,ry:4});(x=r.current)==null||x.add(y),o("select")},d=()=>{var x;const y=new js.fabric.Circle({left:100,top:100,fill:"transparent",stroke:s,strokeWidth:f,radius:50});(x=r.current)==null||x.add(y),o("select")},m=()=>{var x,b;const y=new js.fabric.IText("Anotao tcnica...",{left:100,top:100,fontFamily:"Inter",fontSize:20,fill:s});(x=r.current)==null||x.add(y),(b=r.current)==null||b.setActiveObject(y),y.enterEditing(),y.selectAll(),o("select")},g=y=>{var S;const x=(S=y.target.files)==null?void 0:S[0];if(!x||!r.current)return;const b=new FileReader;b.onload=C=>{var E;const T=(E=C.target)==null?void 0:E.result;js.fabric.Image.fromURL(T,P=>{var k,A,B,z;P.scaleToWidth(200),(k=r.current)==null||k.add(P),(A=r.current)==null||A.centerObject(P),(B=r.current)==null||B.setActiveObject(P),(z=r.current)==null||z.renderAll()})},b.readAsDataURL(x),o("select")},p=()=>{const y=r.current;y&&y._objects.length>0&&y.remove(y._objects[y._objects.length-1])};return v.jsxs("div",{className:"flex flex-col h-full bg-background border-r",children:[v.jsxs("div",{className:"flex items-center gap-1 p-3 bg-secondary/20 border-b",children:[v.jsx(de,{variant:h==="select"?"default":"ghost",size:"icon",onClick:()=>o("select"),className:"h-10 w-10 rounded-xl",children:v.jsx(fI,{size:20})}),v.jsx(de,{variant:h==="pencil"?"default":"ghost",size:"icon",onClick:()=>o("pencil"),className:"h-10 w-10 rounded-xl",children:v.jsx(mI,{size:20})}),v.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),v.jsx(de,{variant:"ghost",size:"icon",onClick:u,className:"h-10 w-10 rounded-xl",children:v.jsx(SI,{size:20})}),v.jsx(de,{variant:"ghost",size:"icon",onClick:d,className:"h-10 w-10 rounded-xl",children:v.jsx(FT,{size:20})}),v.jsx(de,{variant:"ghost",size:"icon",onClick:m,className:"h-10 w-10 rounded-xl",children:v.jsx(tm,{size:20})}),v.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{var y;return(y=a.current)==null?void 0:y.click()},className:"h-10 w-10 rounded-xl",children:v.jsx(rI,{size:20})}),v.jsx("input",{type:"file",ref:a,className:"hidden",accept:"image/*",onChange:g}),v.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),v.jsx("div",{className:"flex items-center gap-2 px-2",children:["#800000","#000000","#2563eb","#16a34a","#d97706"].map(y=>v.jsx("button",{onClick:()=>c(y),className:se("w-6 h-6 rounded-full border-2 border-white shadow-sm transition-all",s===y?"scale-125 ring-2 ring-primary/20":"hover:scale-110"),style:{backgroundColor:y}},y))}),v.jsx(It,{orientation:"vertical",className:"h-6 mx-2"}),v.jsx(de,{variant:"ghost",size:"icon",onClick:p,className:"h-10 w-10 rounded-xl",children:v.jsx(TI,{size:20})}),v.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{var y;return(y=r.current)==null?void 0:y.clear()},className:"h-10 w-10 rounded-xl text-destructive hover:bg-destructive/10 ms-auto",children:v.jsx(av,{size:20})})]}),v.jsx("div",{ref:i,className:"flex-1 bg-white relative overflow-hidden",children:v.jsx("canvas",{ref:n})})]})});pO.displayName="SketchCanvas";function mO({isOpen:e,onClose:t,onSuccess:n,parentRecord:r}){var q;const[i,a]=w.useState([]),[h,o]=w.useState([]),[s,c]=w.useState((r==null?void 0:r.projectId)||""),[f,l]=w.useState((r==null?void 0:r.clientId)||""),[u,d]=w.useState((r==null?void 0:r.natureza)||"TECNICO"),[m,g]=w.useState("MEDIA"),[p,y]=w.useState([]),[x,b]=w.useState(!1),[S,C]=w.useState(null),T=w.useRef(null);w.useEffect(()=>{e&&E()},[e,r]);const E=async()=>{try{const[L,W]=await Promise.all([fetch(Rt("/api/projects")),fetch(Rt("/api/clients"))]);L.ok&&a(await L.ok?await L.json():[]),W.ok&&o(await W.ok?await W.json():[])}catch(L){console.error("Error fetching data for RegistroModal",L)}},P=L=>{const W={id:Math.random().toString(36).substr(2,9),type:L,content:""};y([...p,W]),C(p.length)},k=L=>{const W=[...p];W.splice(L,1),y(W),S===L&&C(null)},A=(L,W)=>{const J=[...p];J[L].content=W,y(J)},B=()=>{if(T.current&&S!==null){const L=T.current.getData();if(L){const W=[...p];W[S].content=L.image,W[S].sketchData=L.json,y(W),C(null),De.success("Esboo capturado com sucesso")}}},z=async()=>{if(!s&&!f){De.error("Selecione uma Obra ou Cliente");return}if(p.length===0){De.error("Adicione pelo menos um item ao registro");return}b(!0);try{const W={authorId:"clt0000000000000000000000",projectId:s||null,clientId:f||null,natureza:u,prioridade:m,parentId:(r==null?void 0:r.id)||null,items:p.map(G=>({type:G.type,content:G.type==="ESBOCO"?G.sketchData:G.content}))};(await fetch(Rt("/api/records"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).ok?(De.success("Registro criado com sucesso"),y([]),n==null||n(),t()):De.error("Erro ao salvar registro")}catch{De.error("Erro de conexo com o servidor")}finally{b(!1)}};return v.jsx(Pi,{open:e,onOpenChange:t,children:v.jsxs(Dr,{className:"max-w-4xl h-[90vh] flex flex-col p-0 overflow-hidden bg-background border-none shadow-2xl",children:[v.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-secondary/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-primary/10 p-2 rounded-xl",children:v.jsx(Bn,{className:"text-primary",size:24})}),v.jsxs("div",{children:[v.jsx(kr,{className:"text-xl font-bold",children:"Novo Registro Tcnico"}),r&&v.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[v.jsx(ol,{size:12}),v.jsxs("span",{children:["Reviso do Registro ",v.jsx("strong",{children:r.refCodigo})]})]})]})]}),v.jsx(de,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",children:v.jsx(Fd,{size:20})})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("div",{className:"w-1/3 border-r bg-muted/20 flex flex-col",children:[v.jsx(lO,{className:"flex-1 p-6",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx(qt,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Contexto"}),v.jsxs(Oo,{value:s,onValueChange:c,children:[v.jsx(ds,{className:"rounded-xl border-none bg-background shadow-sm",children:v.jsx(Ao,{placeholder:"Selecionar Obra"})}),v.jsx(fs,{children:i.map(L=>v.jsx(pn,{value:L.id,children:L.nome},L.id))})]}),v.jsxs(Oo,{value:u,onValueChange:d,children:[v.jsx(ds,{className:"rounded-xl border-none bg-background shadow-sm",children:v.jsx(Ao,{placeholder:"Natureza"})}),v.jsx(fs,{children:["TECNICO","ORCAMENTO","FINANCEIRO","VISTORIA","RECLAMACAO"].map(L=>v.jsx(pn,{value:L,children:L},L))})]})]}),v.jsx(It,{}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs(qt,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:["Contedo (",p.length,")"]})}),p.length===0?v.jsxs("div",{className:"text-center py-8 px-4 border-2 border-dashed rounded-2xl bg-background/50",children:[v.jsx(sI,{className:"mx-auto mb-2 text-muted-foreground",size:24}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione itens usando os botes abaixo para compor o registro."})]}):v.jsx("div",{className:"space-y-2",children:p.map((L,W)=>v.jsxs("div",{className:se("group p-3 rounded-xl border transition-all cursor-pointer",S===W?"border-primary bg-primary/5 shadow-md":"bg-background hover:border-muted-foreground/30"),onClick:()=>C(W),children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[L.type==="TEXTO"&&v.jsx(tm,{size:14,className:"text-blue-500"}),L.type==="ESBOCO"&&v.jsx(ui,{size:14,className:"text-purple-500"}),L.type==="FOTO"&&v.jsx(lh,{size:14,className:"text-orange-500"}),v.jsx("span",{className:"text-xs font-medium",children:L.type})]}),v.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:J=>{J.stopPropagation(),k(W)},children:v.jsx(av,{size:12})})]}),v.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 italic",children:L.content||"Sem contedo..."})]},L.id))})]})]})}),v.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("TEXTO"),className:"rounded-xl gap-2 text-xs",children:[v.jsx(tm,{size:14})," Texto"]}),v.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("ESBOCO"),className:"rounded-xl gap-2 text-xs",children:[v.jsx(ui,{size:14})," Esboo"]}),v.jsxs(de,{variant:"outline",size:"sm",onClick:()=>P("FOTO"),className:"rounded-xl gap-2 text-xs",children:[v.jsx(lh,{size:14})," Foto"]})]})})]}),v.jsx("div",{className:"flex-1 bg-background relative flex flex-col shadow-inner",children:S!==null?v.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Le,{variant:"outline",className:"px-3 py-1 rounded-lg",children:["Item #",S+1,": ",p[S].type]}),p[S].type==="ESBOCO"&&v.jsxs(de,{size:"sm",onClick:B,className:"gap-2 rounded-xl",children:[v.jsx(yI,{size:16})," Capturar Esboo"]})]}),v.jsxs("div",{className:"flex-1 overflow-hidden rounded-2xl border shadow-sm",children:[p[S].type==="TEXTO"&&v.jsx(uO,{placeholder:"Descreva aqui os detalhes tcnicos...",className:"h-full w-full border-none resize-none p-6 text-lg focus-visible:ring-0",value:p[S].content,onChange:L=>A(S,L.target.value)}),p[S].type==="ESBOCO"&&v.jsx(pO,{ref:T}),p[S].type==="FOTO"&&v.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-muted/10",children:v.jsxs("div",{className:"w-full max-w-sm aspect-video border-2 border-dashed rounded-3xl flex flex-col items-center justify-center gap-4 bg-background",children:[v.jsx("div",{className:"bg-primary/5 p-6 rounded-full",children:v.jsx(lh,{className:"text-primary/40",size:48})}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"font-medium",children:"Webcam or File"}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Integrao com cmera de campo"})]}),v.jsx(Ze,{placeholder:"URL da imagem (simulao)",className:"max-w-[250px] mt-4",value:p[S].content,onChange:L=>A(S,L.target.value)})]})})]})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center",children:[v.jsx("div",{className:"w-24 h-24 bg-primary/5 rounded-full flex items-center justify-center mb-6",children:v.jsx(ol,{className:"text-primary/20",size:48})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Composio do Registro"}),v.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Selecione um item da lista lateral para editar ou adicione um novo elemento para compor seu relatrio tcnico de campo."})]})})]}),v.jsxs("div",{className:"p-6 border-t flex items-center justify-between bg-background",children:[v.jsx("div",{className:"flex items-center gap-6",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-bold",children:"Obra Selecionada"}),v.jsx("span",{className:"text-sm font-medium",children:((q=i.find(L=>L.id===s))==null?void 0:q.nome)||"Nenhuma selecionada"})]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx(de,{variant:"ghost",onClick:t,className:"rounded-xl",children:"Cancelar"}),v.jsx(de,{onClick:z,disabled:x||p.length===0,className:"rounded-xl px-8 shadow-lg shadow-primary/20",children:x?"Salvando...":"Finalizar Registro"})]})]})]})})}function Kw(){const{user:e}=xs(),{registros:t,fetchRegistros:n}=yN(),[r,i]=w.useState(!1),[a,h]=w.useState(null);w.useEffect(()=>{n()},[]);const o=t.slice(0,5);return v.jsxs("div",{className:"flex flex-col h-[calc(100vh-64px)] bg-secondary/20 overflow-y-auto",children:[v.jsx("div",{className:"max-w-4xl mx-auto w-full px-6 pt-12 pb-8 text-center",children:v.jsxs(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-background rounded-[40px] p-12 shadow-2xl shadow-black/5 border border-border/50 relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 blur-3xl -mr-20 -mt-20 group-hover:bg-primary/10 transition-colors"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("h1",{className:"text-4xl font-extrabold tracking-tighter mb-4 text-foreground/90",children:"O que vamos capturar hoje?"}),v.jsx("p",{className:"text-muted-foreground text-lg mb-10 max-w-lg mx-auto leading-relaxed",children:"Transforme observaes de campo em registros estruturados e esboos tcnicos timbrados em segundos."}),v.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:v.jsxs(de,{onClick:()=>{h(null),i(!0)},className:"h-16 px-10 rounded-2xl bg-primary hover:bg-primary/90 text-lg font-bold gap-3 shadow-xl shadow-primary/20 active:scale-95 transition-all w-full sm:w-auto",children:[v.jsx(Bn,{className:"w-6 h-6"}),"Novo Registro de Campo"]})})]})]})}),v.jsxs("div",{className:"max-w-4xl mx-auto w-full px-6 grid grid-cols-1 sm:grid-cols-3 gap-6 mb-12",children:[v.jsx(xe,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:v.jsxs(be,{className:"p-6 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:v.jsx(Fn,{size:22})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Em Triagem"}),v.jsx("p",{className:"text-xl font-bold tracking-tighter",children:t.filter(s=>s.status==="TRIAGEM").length})]})]})}),v.jsx(xe,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:v.jsxs(be,{className:"p-6 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center text-blue-500",children:v.jsx(Id,{size:22})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Produtividade"}),v.jsx("p",{className:"text-xl font-bold tracking-tighter",children:"85%"})]})]})}),v.jsx(xe,{className:"rounded-[2.5rem] border-border/40 shadow-xl shadow-black/5 bg-background/60 backdrop-blur-md",children:v.jsxs(be,{className:"p-6 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:v.jsx(zl,{size:22})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Pendncias"}),v.jsx("p",{className:"text-xl font-bold tracking-tighter",children:"04"})]})]})})]}),v.jsxs("div",{className:"max-w-4xl mx-auto w-full px-6 pb-20",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-bold tracking-tighter",children:"Registros Recentes"}),v.jsxs(de,{variant:"ghost",size:"sm",className:"text-xs font-bold gap-1 text-primary hover:text-primary hover:bg-primary/5",children:["Ver Todos ",v.jsx(So,{size:14})]})]}),v.jsx("div",{className:"space-y-4",children:o.map((s,c)=>{var f;return v.jsxs(nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.05},className:"bg-background rounded-3xl p-5 border border-border/40 shadow-lg shadow-black/5 flex items-center justify-between group hover:border-primary/30 transition-all cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:se("w-12 h-12 rounded-2xl flex items-center justify-center",s.type==="ESBOCO"?"bg-primary/10 text-primary":"bg-secondary text-muted-foreground"),children:s.type==="ESBOCO"?v.jsx(ui,{size:20}):v.jsx(UT,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold tracking-tight text-foreground/80 line-clamp-1",children:s.texto||"Sem descrio"}),v.jsxs("p",{className:"text-xs text-muted-foreground font-medium flex items-center gap-2",children:[s.criadoEm&&!isNaN(new Date(s.criadoEm).getTime())?bi(new Date(s.criadoEm),"dd 'de' MMM, HH:mm",{locale:jo}):"Data indisponvel",v.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),(f=s.author)==null?void 0:f.nome]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(de,{variant:"ghost",size:"sm",className:"text-[10px] h-8 rounded-lg gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:l=>{l.stopPropagation(),h(s),i(!0)},children:[v.jsx(ol,{size:14})," Reviso"]}),v.jsx(Le,{variant:"outline",className:"text-[10px] font-bold h-6 rounded-lg bg-secondary/50 border-none uppercase tracking-tighter",children:s.status}),v.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:v.jsx(So,{size:16,className:"text-muted-foreground"})})]})]},s.id)})})]}),v.jsx(mO,{isOpen:r,onClose:()=>i(!1),onSuccess:n,parentRecord:a})]})}function WY({record:e,isOpen:t,onClose:n}){var r,i,a;return e?v.jsx(Pi,{open:t,onOpenChange:n,children:v.jsxs(Dr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[v.jsx(Ni,{children:v.jsxs(kr,{className:"flex items-center gap-3",children:[e.type==="ESBOCO"?v.jsx(ui,{className:"w-5 h-5 text-purple-500"}):v.jsx(Fn,{className:"w-5 h-5 text-blue-500"}),"Detalhes do Registro"]})}),v.jsxs("div",{className:"space-y-6 py-4",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Le,{variant:"outline",className:"font-mono text-xs",children:["#",e.id.slice(-8).toUpperCase()]}),v.jsx(Le,{className:e.prioridade==="CRITICA"?"bg-red-500":e.prioridade==="ALTA"?"bg-orange-500":e.prioridade==="MEDIA"?"bg-yellow-500":"bg-blue-500",children:e.prioridade}),v.jsx(Le,{variant:"secondary",children:e.type})]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:bi(new Date(e.criadoEm),"dd 'de' MMMM 'de' yyyy 's' HH:mm",{locale:jo})})]}),v.jsx(Le,{className:e.status==="RASCUNHO"?"bg-slate-500":e.status==="EM_TRIAGEM"?"bg-yellow-500":e.status==="CLASSIFICADO"?"bg-blue-500":e.status==="PRIORIZADO"?"bg-purple-500":e.status==="CONVERTIDO"?"bg-green-500":"bg-gray-500",children:e.status})]}),v.jsx(It,{}),v.jsx(xe,{children:v.jsxs(be,{className:"pt-6",children:[v.jsx("h4",{className:"font-bold mb-2",children:"Contedo"}),v.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.texto||"Sem texto descritivo"})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:v.jsx(Ld,{className:"w-5 h-5 text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Autor"}),v.jsx("p",{className:"font-semibold",children:(r=e.author)==null?void 0:r.nome})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:v.jsx(Er,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Obra"}),v.jsx("p",{className:"font-semibold",children:((i=e.project)==null?void 0:i.nome)||"No vinculado"})]})]})})})]}),e.sketch&&v.jsxs(v.Fragment,{children:[v.jsx(It,{}),v.jsx(xe,{children:v.jsxs(be,{className:"pt-6",children:[v.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[v.jsx(ui,{size:16}),"Esboo Tcnico"]}),e.sketch.imageUrl&&e.sketch.imageUrl!=="data:image/png;base64,placeholder"?v.jsx("img",{src:e.sketch.imageUrl,alt:"Preview do esboo",className:"w-full rounded-lg border"}):v.jsxs("div",{className:"bg-secondary/20 rounded-lg p-8 text-center",children:[v.jsx(ui,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dados do canvas salvos  ",((a=JSON.parse(e.sketch.dataJson).objects)==null?void 0:a.length)||0," objetos"]})]})]})})]}),e.documents&&e.documents.length>0&&v.jsxs(v.Fragment,{children:[v.jsx(It,{}),v.jsx(xe,{children:v.jsxs(be,{className:"pt-6",children:[v.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[v.jsx(Fn,{size:16}),"Documentos Gerados (",e.documents.length,")"]}),v.jsx("div",{className:"space-y-2",children:e.documents.map(h=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-sm",children:h.tipo}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Verso ",h.versao,"  ",bi(new Date(h.criadoEm),"dd/MM/yyyy HH:mm",{locale:jo})]})]}),v.jsx(Le,{variant:"secondary",children:h.status})]},h.id))})]})})]})]}),v.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:v.jsx(de,{variant:"outline",onClick:n,children:"Fechar"})})]})}):null}const Ns=[{id:"REGISTRO",title:"Registro",icon:zl,color:"bg-slate-500/10 text-slate-600",borderColor:"border-slate-300"},{id:"TRIAGEM",title:"Triagem",icon:_r,color:"bg-yellow-500/10 text-yellow-600",borderColor:"border-yellow-300"},{id:"CLASSIFICACAO",title:"Classificao",icon:lI,color:"bg-blue-500/10 text-blue-600",borderColor:"border-blue-300"},{id:"ORDENACAO",title:"Ordenao",icon:Id,color:"bg-purple-500/10 text-purple-600",borderColor:"border-purple-300"},{id:"VALIDACAO",title:"Validao",icon:bI,color:"bg-orange-500/10 text-orange-600",borderColor:"border-orange-300"},{id:"DISTRIBUICAO",title:"Distribuio",icon:lv,color:"bg-green-500/10 text-green-600",borderColor:"border-green-300"}];function UY(){const{registros:e,fetchRegistros:t,updateRegistroStatus:n}=yN(),[r,i]=w.useState(null),[a,h]=w.useState(!1),[o,s]=w.useState(!1),[c,f]=w.useState(null),[l,u]=w.useState([]),[d,m]=w.useState([]),[g,p]=w.useState(null),[y,x]=w.useState("forward"),[b,S]=w.useState(!1),[C,T]=w.useState(null),[E,P]=w.useState([{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}]);w.useEffect(()=>{t(),k()},[]);const k=async()=>{try{const[_,N]=await Promise.all([fetch(Rt("/api/professionals")),fetch(Rt("/api/projects"))]);_.ok&&u(await _.json()),N.ok&&m(await N.json())}catch(_){console.error("Context data error",_)}},A=e.map(_=>({..._,revisionsCount:e.filter(N=>N.parentId===_.id).length})),B=_=>{T(_),P([{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}]),S(!0)},z=_=>{i(_),h(!0)},q=_=>Ns.findIndex(N=>N.id===_),L=async(_,N)=>{const O=q(_.status),D=N==="forward"?O+1:O-1;if(D<0||D>=Ns.length)return;const $=Ns[D].id;x(N),p(_.id),await new Promise(R=>setTimeout(R,100)),await n(_.id,$),setTimeout(()=>{p(null),De.success(` ${Ns[D].title}`)},150)},W=()=>{P([...E,{titulo:"",descricao:"",professionalId:"",valorPrevisto:"",category:""}])},J=_=>{P(E.filter((N,O)=>O!==_))},G=(_,N,O)=>{const D=[...E];D[_]={...D[_],[N]:O},P(D)},M=async()=>{if(C)try{const _=E.filter(N=>N.titulo&&N.professionalId&&N.valorPrevisto);if(_.length===0){De.error("Add at least one valid activity");return}for(const N of _)await fetch(Rt(`/api/records/${C.id}/convert`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:N.titulo,descricao:N.descricao||`Derived from ${C.refCodigo}`,projectId:C.projectId,professionalId:N.professionalId,valorPrevisto:parseFloat(N.valorPrevisto)})});De.success(`${_.length} activities created!`),S(!1),t()}catch{De.error("Error creating activities")}};return v.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-secondary/5 to-background overflow-hidden",children:[v.jsxs("div",{className:"p-4 lg:p-6 border-b bg-background/95 backdrop-blur-sm shrink-0 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Workspace Profissional"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Fluxo de Triagem, Validao e Distribuio"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(de,{variant:"outline",className:"rounded-xl gap-2 shadow-sm",children:[v.jsx(XM,{size:16})," Arquivo"]}),v.jsxs(de,{className:"rounded-xl gap-2 shadow-lg shadow-primary/10",children:[v.jsx(Bn,{size:16})," Novo Registro"]})]})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("aside",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b bg-background/50",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[v.jsx(ol,{size:14})," Revises & Verses"]}),v.jsx(Le,{className:"bg-primary/10 text-primary border-none",children:"LIVE"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(_r,{size:14,className:"absolute left-3 top-2.5 text-muted-foreground"}),v.jsx(Ze,{placeholder:"Buscar por Cdigo...",className:"pl-9 h-9 rounded-xl border-none shadow-sm bg-background"})]})]}),v.jsx(Vh,{className:"flex-1 p-4",children:v.jsx("div",{className:"space-y-3",children:A.filter(_=>_.isInicial).map(_=>v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:se("p-3 rounded-2xl bg-background border shadow-sm cursor-pointer hover:border-primary/30 transition-all",(r==null?void 0:r.id)===_.id?"border-primary/50 ring-1 ring-primary/50":""),onClick:()=>z(_),children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("span",{className:"text-[10px] font-mono font-bold",children:_.refCodigo}),_.revisionsCount>0&&v.jsxs(Le,{variant:"secondary",className:"text-[8px] h-4 px-1",children:["+",_.revisionsCount," REVS"]})]}),v.jsx("p",{className:"text-xs font-medium line-clamp-1",children:_.texto||"Registro de Campo"}),v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsx(Le,{variant:"outline",className:"text-[8px] px-1 h-4",children:_.natureza}),v.jsx("span",{className:"text-[9px] text-muted-foreground",children:new Date(_.criadoEm).toLocaleDateString()})]})]}),e.filter(N=>N.parentId===_.id).map(N=>v.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-primary/20 flex items-center gap-2 py-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30"}),v.jsxs("div",{className:"flex-1 p-2 rounded-xl bg-background/50 border border-muted text-[10px] cursor-pointer hover:bg-background",onClick:()=>z(N),children:[v.jsx("span",{className:"font-bold",children:N.refCodigo})," - ",N.status]})]},N.id))]},_.id))})})]}),v.jsx("main",{className:"flex-1 overflow-x-auto p-4 lg:p-6 bg-secondary/5 h-full",children:v.jsx("div",{className:"flex gap-4 h-full min-h-[600px]",children:Ns.map(_=>{const N=e.filter(D=>D.status===_.id),O=_.icon;return v.jsxs("div",{className:"flex-shrink-0 w-72 flex flex-col h-full bg-background/40 rounded-3xl border border-dashed border-muted-foreground/20 p-3 shadow-inner",children:[v.jsxs("div",{className:se("rounded-2xl p-3 mb-4 flex items-center justify-between shadow-sm",_.color),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-xl bg-background/50 backdrop-blur-sm",children:v.jsx(O,{size:18})}),v.jsx("h3",{className:"font-extrabold text-xs uppercase tracking-tighter",children:_.title})]}),v.jsx(Le,{variant:"secondary",className:"rounded-lg h-6 px-2",children:N.length})]}),v.jsx(Vh,{className:"flex-1",children:v.jsx(Gl,{mode:"popLayout",children:N.map(D=>{var $,R,j;return v.jsx(nt.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"mb-3",children:v.jsxs(xe,{className:se("rounded-2xl hover:shadow-xl transition-all border-none shadow-md cursor-pointer group relative overflow-hidden",(r==null?void 0:r.id)===D.id?"ring-2 ring-primary":""),onClick:()=>z(D),children:[v.jsx("div",{className:se("absolute top-0 left-0 bottom-0 w-1",D.prioridade==="CRITICA"?"bg-red-500":D.prioridade==="ALTA"?"bg-orange-500":"bg-primary/20")}),v.jsxs(be,{className:"p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-[10px] font-mono font-black text-primary bg-primary/5 px-2 py-0.5 rounded-lg",children:D.refCodigo}),!D.isInicial&&v.jsx(Le,{className:"text-[8px] h-4 bg-purple-500/20 text-purple-600 border-none",children:"REVISO"})]}),v.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 rounded-lg hover:bg-secondary",disabled:q(D.status)===0,onClick:F=>{F.stopPropagation(),L(D,"backward")},children:v.jsx(LT,{size:14})}),v.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 rounded-lg hover:bg-secondary",disabled:q(D.status)===Ns.length-1,onClick:F=>{F.stopPropagation(),L(D,"forward")},children:v.jsx(So,{size:14})})]})]}),v.jsx("h4",{className:"font-bold text-sm tracking-tight mb-2 line-clamp-2",children:D.texto||"Anlise Tcnica de Campo"}),v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"flex -space-x-2",children:v.jsx("div",{className:"w-6 h-6 rounded-full bg-muted border-2 border-background flex items-center justify-center overflow-hidden",children:v.jsx(EI,{size:10})})}),v.jsx("span",{className:"text-[10px] font-medium text-muted-foreground truncate max-w-[80px]",children:($=D.author)==null?void 0:$.nome}),v.jsxs("div",{className:"ml-auto flex items-center gap-1 text-[9px] font-bold text-muted-foreground",children:[v.jsx(Er,{size:10}),v.jsx("span",{className:"truncate max-w-[60px]",children:(R=D.project)==null?void 0:R.nome})]})]}),v.jsx(It,{className:"mb-3 opacity-50"}),v.jsxs("div",{className:"flex items-center justify-between pt-1",children:[v.jsx(Le,{variant:"outline",className:"text-[9px] h-5 rounded-md border-muted-foreground/20",children:D.natureza||"GERAL"}),D.status==="DISTRIBUICAO"&&v.jsxs(de,{size:"sm",className:"h-6 rounded-lg text-[9px] gap-1 px-3 shadow-lg shadow-primary/20",onClick:F=>{F.stopPropagation(),B(D)},children:["Distribuir ",v.jsx(RT,{size:10})]}),D.status!=="DISTRIBUICAO"&&((j=D.documents)!=null&&j.length)?v.jsxs(de,{variant:"ghost",size:"sm",className:"h-6 rounded-lg text-[9px] gap-1",onClick:F=>{F.stopPropagation(),window.open(Rt(`/api/records/${D.id}/pdf-view`),"_blank")},children:[v.jsx(Fn,{size:10})," PDF"]}):null]})]})]})},D.id)})})})]},_.id)})})})]}),v.jsx(WY,{record:r,isOpen:a,onClose:()=>h(!1)}),v.jsx(mO,{isOpen:o,onClose:()=>s(!1),parentRecord:c,onSuccess:t}),v.jsx(Pi,{open:b,onOpenChange:S,children:v.jsxs(Dr,{className:"max-w-4xl h-[85vh] flex flex-col p-0 overflow-hidden bg-background border-none shadow-2xl",children:[v.jsx(Ni,{className:"p-6 border-b bg-secondary/5",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:v.jsx(lv,{className:"text-primary",size:24})}),v.jsxs("div",{children:[v.jsx(kr,{className:"text-xl font-bold",children:"Distribuio Profissional"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original: ",C==null?void 0:C.refCodigo," - ",C==null?void 0:C.natureza]})]})]})}),v.jsx(Vh,{className:"flex-1 p-6 bg-muted/10",children:v.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[v.jsxs($Y,{className:"bg-primary/5 border-primary/20 rounded-2xl",children:[v.jsx(GM,{className:"h-4 w-4 text-primary"}),v.jsx(HY,{className:"text-xs text-primary/80",children:"Converta este registro em atividades executveis. Profissionais so filtrados por categoria de servio."})]}),E.map((_,N)=>v.jsxs(xe,{className:"rounded-3xl border-none shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"p-4 bg-background border-b flex justify-between items-center",children:[v.jsxs("span",{className:"font-bold text-sm",children:["Escopo #",N+1]}),E.length>1&&v.jsx(de,{size:"icon",variant:"ghost",onClick:()=>J(N),className:"h-8 w-8 text-destructive",children:v.jsx(av,{size:16})})]}),v.jsxs(be,{className:"p-6 space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"O que ser feito?"}),v.jsx(Ze,{placeholder:"Ex: Instalao de pontos eltricos conforme esboo",value:_.titulo,onChange:O=>G(N,"titulo",O.target.value),className:"rounded-xl"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Profissional Especializado"}),v.jsxs(Oo,{value:_.professionalId,onValueChange:O=>G(N,"professionalId",O),children:[v.jsx(ds,{className:"rounded-xl",children:v.jsx(Ao,{placeholder:"Selecionar"})}),v.jsx(fs,{children:l.map(O=>v.jsx(pn,{value:O.id,children:O.nome},O.id))})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Verba Prevista (R$)"}),v.jsx(Ze,{type:"number",value:_.valorPrevisto,onChange:O=>G(N,"valorPrevisto",O.target.value),className:"rounded-xl"})]})]})]})]},N)),v.jsxs(de,{variant:"outline",className:"w-full h-12 rounded-2xl border-dashed border-2 gap-2",onClick:W,children:[v.jsx(Bn,{size:16})," Adicionar Novo Desdobramento (Sub-Atividade)"]})]})}),v.jsxs(Ko,{className:"p-6 border-t bg-background",children:[v.jsx(de,{variant:"ghost",onClick:()=>S(!1),className:"rounded-xl",children:"Cancelar"}),v.jsx(de,{onClick:M,className:"rounded-xl px-10 shadow-lg shadow-primary/20",children:"Confirmar Distribuio & Gerar Atividades"})]})]})})]})}function $Y({children:e,className:t,...n}){return v.jsx("div",{role:"alert",className:se("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",t),...n,children:e})}function HY({children:e,className:t,...n}){return v.jsx("div",{className:se("text-sm [&_p]:leading-relaxed",t),...n,children:e})}function Vh({children:e,className:t}){return v.jsx("div",{className:se("overflow-y-auto scrollbar-thin scrollbar-thumb-primary/10",t),children:e})}function GY({data:e,columns:t,viewModes:n=["table","grid","kanban"],defaultView:r="table",searchPlaceholder:i="Buscar...",onItemClick:a,onAddClick:h,isLoading:o,kanbanProperty:s,kanbanColumns:c}){const[f,l]=w.useState(r),[u,d]=w.useState(""),m=e.filter(g=>JSON.stringify(g).toLowerCase().includes(u.toLowerCase()));return v.jsxs("div",{className:"flex flex-col h-full bg-background",children:[v.jsxs("div",{className:"p-4 border-b border-border flex flex-wrap items-center justify-between gap-4 bg-background/50 backdrop-blur-sm sticky top-0 z-10",children:[v.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-[300px]",children:[v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),v.jsx(Ze,{value:u,onChange:g=>d(g.target.value),placeholder:i,className:"pl-10 h-10 bg-secondary/30 border-none focus-visible:ring-primary"})]}),v.jsx(de,{variant:"outline",size:"icon",className:"h-10 w-10 shrink-0",children:v.jsx(BT,{size:18})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg mr-2",children:[n.includes("table")&&v.jsx(de,{variant:f==="table"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l("table"),children:v.jsx(zT,{size:16})}),n.includes("grid")&&v.jsx(de,{variant:f==="grid"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l("grid"),children:v.jsx(VT,{size:16})}),n.includes("kanban")&&v.jsx(de,{variant:f==="kanban"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l("kanban"),children:v.jsx(oI,{size:16})})]}),h&&v.jsxs(de,{onClick:h,className:"h-10 gap-2",children:[v.jsx(Bn,{size:18}),v.jsx("span",{className:"hidden sm:inline",children:"Adicionar"})]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto p-4 content-scrollbar",children:o?v.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),v.jsx("p",{className:"text-muted-foreground animate-pulse",children:"Carregando dados..."})]}):m.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground gap-2",children:[v.jsx(_r,{size:48,className:"opacity-20"}),v.jsx("p",{children:"Nenhum item encontrado"})]}):v.jsxs(Gl,{mode:"wait",children:[f==="table"&&v.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"min-w-full overflow-x-auto rounded-xl border border-border",children:v.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-secondary/30",children:[t.map(g=>v.jsx("th",{className:"px-4 py-3 font-semibold text-muted-foreground first:rounded-tl-xl last:rounded-tr-xl",children:g.header},g.key)),v.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),v.jsx("tbody",{children:m.map(g=>v.jsxs("tr",{onClick:()=>a==null?void 0:a(g),className:"border-b border-border hover:bg-secondary/20 cursor-pointer transition-colors",children:[t.map(p=>{var y;return v.jsx("td",{className:"px-4 py-4 truncate",style:{width:p.width},children:p.render?p.render(g):(y=g[p.key])==null?void 0:y.toString()},p.key)}),v.jsx("td",{className:"px-4 py-4 text-right",children:v.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-secondary",children:v.jsx(em,{size:16})})})]},g.id))})]})},"table"),f==="grid"&&v.jsx(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:m.map(g=>{var p;return v.jsxs("div",{onClick:()=>a==null?void 0:a(g),className:"group bg-card hover:bg-secondary/20 border border-border rounded-xl p-4 cursor-pointer transition-all hover:shadow-lg hover:-translate-y-1",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t[0].render?t[0].render(g):v.jsx("h3",{className:"font-bold text-lg line-clamp-1",children:(p=g[t[0].key])==null?void 0:p.toString()}),v.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(em,{size:16})})]}),v.jsx("div",{className:"space-y-3",children:t.slice(1).map(y=>{var x;return v.jsxs("div",{className:"text-sm flex justify-between items-center",children:[v.jsx("span",{className:"text-muted-foreground",children:y.header}),v.jsx("span",{className:"font-medium truncate max-w-[150px]",children:y.render?y.render(g):(x=g[y.key])==null?void 0:x.toString()})]},y.key)})})]},g.id)})},"grid"),f==="kanban"&&s&&c&&v.jsx(nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex gap-6 overflow-x-auto pb-4 h-[calc(100vh-250px)]",children:c.map(g=>{const p=m.filter(y=>y[s]===g.value);return v.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex items-center justify-between px-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color||"var(--primary)"}}),v.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:g.label}),v.jsx("span",{className:"text-xs bg-secondary px-2 py-0.5 rounded-full font-bold",children:p.length})]}),v.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:v.jsx(Bn,{size:16})})]}),v.jsx("div",{className:"flex-1 flex flex-col gap-3 overflow-y-auto pr-2 custom-scrollbar",children:p.map(y=>{var x;return v.jsxs("div",{onClick:()=>a==null?void 0:a(y),className:"bg-card border border-border hover:border-primary/50 rounded-xl p-4 shadow-sm cursor-pointer transition-all hover:shadow-md",children:[v.jsx("h4",{className:"font-bold text-sm mb-3 line-clamp-2",children:(x=y[t[0].key])==null?void 0:x.toString()}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.slice(1,4).map(b=>{var S;return v.jsx("div",{className:"text-[10px] bg-secondary/50 px-2 py-1 rounded-md text-muted-foreground uppercase font-bold",children:b.render?b.render(y):(S=y[b.key])==null?void 0:S.toString()},b.key)})})]},y.id)})})]},g.value)})},"kanban")]})})]})}function YY({activities:e,onActivityClick:t}){const[n,r]=w.useState(new Date),i=rH(n),a=tH(n),h=nH({start:i,end:a}),o=i.getDay(),c=[...Array(o).fill(null),...h],f=m=>e.filter(g=>g.dataFim?SN(new Date(g.dataFim),m):!1),l=()=>r(iG(n)),u=()=>r(xN(n,1)),d=()=>r(new Date);return v.jsxs("div",{className:"h-full flex flex-col bg-background",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-secondary/20",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(iv,{className:"w-5 h-5 text-primary"}),v.jsx("h2",{className:"text-xl font-bold",children:bi(n,"MMMM yyyy",{locale:jo})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(de,{variant:"outline",size:"sm",onClick:d,className:"gap-2",children:[v.jsx(zl,{size:14}),"Hoje"]}),v.jsx(de,{variant:"outline",size:"icon",onClick:l,children:v.jsx(LT,{size:16})}),v.jsx(de,{variant:"outline",size:"icon",onClick:u,children:v.jsx(So,{size:16})})]})]}),v.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[v.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(m=>v.jsx("div",{className:"text-center text-xs font-bold text-muted-foreground py-2",children:m},m))}),v.jsx("div",{className:"grid grid-cols-7 gap-2",children:c.map((m,g)=>{if(!m)return v.jsx("div",{className:"aspect-square"},`empty-${g}`);const p=f(m),y=nG(m,n),x=rG(m);return v.jsx(xe,{className:se("aspect-square overflow-hidden transition-all hover:shadow-lg cursor-pointer",!y&&"opacity-40",x&&"ring-2 ring-primary"),children:v.jsxs(be,{className:"p-2 h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("span",{className:se("text-sm font-bold",x&&"text-primary"),children:bi(m,"d")}),p.length>0&&v.jsx(Le,{variant:"secondary",className:"h-4 px-1 text-[9px]",children:p.length})]}),v.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar",children:[p.slice(0,3).map(b=>v.jsx("div",{onClick:()=>t==null?void 0:t(b),className:se("text-[9px] px-1.5 py-0.5 rounded truncate font-medium",b.status==="PLANEJADO"&&"bg-blue-500/20 text-blue-700",b.status==="EM_EXECUCAO"&&"bg-yellow-500/20 text-yellow-700",b.status==="CONCLUIDO"&&"bg-green-500/20 text-green-700",b.status==="BLOQUEADO"&&"bg-red-500/20 text-red-700"),children:b.titulo},b.id)),p.length>3&&v.jsxs("div",{className:"text-[8px] text-muted-foreground text-center",children:["+",p.length-3," mais"]})]})]})},m.toISOString())})})]})]})}function XY(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[i,a]=w.useState("kanban");w.useEffect(()=>{h()},[]);const h=async()=>{r(!0);try{const l=await fetch(Rt("/api/activities"));if(l.ok){const u=await l.json();t(u)}}catch(l){console.error(l)}finally{r(!1)}},o=[{key:"titulo",header:"Atividade",render:l=>{var u;return v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-sm tracking-tight",children:l.titulo}),v.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider",children:((u=l.project)==null?void 0:u.nome)||"Sem Obra"})]})}},{key:"assignments",header:"Responsvel",render:l=>{var d,m;const u=(m=(d=l.assignments)==null?void 0:d[0])==null?void 0:m.professional;return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:v.jsx(Ld,{size:12})}),v.jsx("span",{className:"text-xs font-semibold",children:(u==null?void 0:u.nome)||"No designado"})]})}},{key:"dataFim",header:"Prazo",render:l=>v.jsx("span",{className:"text-xs font-medium",children:l.dataFim?bi(new Date(l.dataFim),"dd MMM yyyy",{locale:jo}):"-"})},{key:"valor",header:"Investimento",render:l=>{var u,d;return v.jsxs("span",{className:"text-xs font-bold text-primary",children:["R$ ",(((d=(u=l.assignments)==null?void 0:u[0])==null?void 0:d.valorPrevisto)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}},{key:"status",header:"Status",render:l=>{const u={PLANEJADO:"bg-blue-500/10 text-blue-600",EM_EXECUCAO:"bg-yellow-500/10 text-yellow-600",CONCLUIDO:"bg-green-500/10 text-green-600",BLOQUEADO:"bg-red-500/10 text-red-600"};return v.jsx(Le,{className:KY("border-none shadow-none text-[9px] h-5 tracking-tight uppercase font-bold",u[l.status]||"bg-secondary"),children:l.status})}}],s=[{value:"PLANEJADO",label:"Planejado",color:"#3B82F6"},{value:"EM_EXECUCAO",label:"Em Execuo",color:"#F59E0B"},{value:"CONCLUIDO",label:"Concludo",color:"#10B981"},{value:"BLOQUEADO",label:"Bloqueado",color:"#EF4444"}],c=e.reduce((l,u)=>{var d,m;return l+(((m=(d=u.assignments)==null?void 0:d[0])==null?void 0:m.valorPrevisto)||0)},0),f=e.filter(l=>l.status==="EM_EXECUCAO").length;return v.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-secondary/10",children:[v.jsxs("div",{className:"p-4 lg:p-6 grid grid-cols-1 md:grid-cols-3 gap-4 shrink-0",children:[v.jsxs(xe,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent group-hover:opacity-100 transition-opacity"}),v.jsx(be,{className:"pt-6 relative",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:v.jsx(zl,{size:24})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Previsto (Investimento)"}),v.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:["R$ ",c.toLocaleString("pt-BR")]})]})]})})]}),v.jsxs(xe,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-transparent group-hover:opacity-100 transition-opacity"}),v.jsx(be,{className:"pt-6 relative",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:v.jsx(zo,{size:24})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Atividades em Curso"}),v.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:[f," Tarefas"]})]})]})})]}),v.jsxs(xe,{className:"bg-background/80 backdrop-blur-md border-border/50 shadow-sm rounded-3xl overflow-hidden relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-transparent group-hover:opacity-100 transition-opacity"}),v.jsx(be,{className:"pt-6 relative",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-green-500/10 flex items-center justify-center text-green-500",children:v.jsx(eo,{size:24})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"SLA de Entrega"}),v.jsxs("p",{className:"text-2xl font-bold tracking-tighter",children:["94% ",v.jsx("span",{className:"text-[10px] text-muted-foreground font-normal",children:"Sazonal"})]})]})]})})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 bg-background rounded-t-[40px] border-t border-border/50 shadow-2xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-secondary/10",children:[v.jsx("h3",{className:"font-bold",children:"Visualizao"}),v.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[v.jsxs(de,{variant:i==="kanban"?"secondary":"ghost",size:"sm",onClick:()=>a("kanban"),className:"gap-2",children:[v.jsx(VT,{size:14}),"Kanban"]}),v.jsxs(de,{variant:i==="dataview"?"secondary":"ghost",size:"sm",onClick:()=>a("dataview"),className:"gap-2",children:[v.jsx(zT,{size:14}),"Lista"]}),v.jsxs(de,{variant:i==="calendar"?"secondary":"ghost",size:"sm",onClick:()=>a("calendar"),className:"gap-2",children:[v.jsx(iv,{size:14}),"Calendrio"]})]})]}),v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:i==="calendar"?v.jsx(YY,{activities:e,onActivityClick:l=>console.log("Activity clicked",l)}):v.jsx(GY,{data:e,columns:o,kanbanProperty:"status",kanbanColumns:s,isLoading:n,searchPlaceholder:"Buscar por atividade, profissional ou projeto...",onAddClick:()=>console.log("Adicionar Atividade"),onItemClick:l=>console.log("Click item",l),defaultView:i==="kanban"?"kanban":"table",viewModes:["table","grid","kanban"]})})]})]})}function KY(...e){return e.filter(Boolean).join(" ")}function qY(e,t=[]){let n=[];function r(a,h){const o=w.createContext(h);o.displayName=a+"Context";const s=n.length;n=[...n,h];const c=l=>{var y;const{scope:u,children:d,...m}=l,g=((y=u==null?void 0:u[e])==null?void 0:y[s])||o,p=w.useMemo(()=>m,Object.values(m));return v.jsx(g.Provider,{value:p,children:d})};c.displayName=a+"Provider";function f(l,u){var g;const d=((g=u==null?void 0:u[e])==null?void 0:g[s])||o,m=w.useContext(d);if(m)return m;if(h!==void 0)return h;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[c,f]}const i=()=>{const a=n.map(h=>w.createContext(h));return function(o){const s=(o==null?void 0:o[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:s}}),[o,s])}};return i.scopeName=e,[r,QY(i,...t)]}function QY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const h=r.reduce((o,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...o,...l}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var JY=Symbol.for("react.lazy"),ad=ps[" use ".trim().toString()];function ZY(e){return typeof e=="object"&&e!==null&&"then"in e}function gO(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===JY&&"_payload"in e&&ZY(e._payload)}function eX(e){const t=tX(e),n=w.forwardRef((r,i)=>{let{children:a,...h}=r;gO(a)&&typeof ad=="function"&&(a=ad(a._payload));const o=w.Children.toArray(a),s=o.find(rX);if(s){const c=s.props.children,f=o.map(l=>l===s?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:l);return v.jsx(t,{...h,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return v.jsx(t,{...h,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function tX(e){const t=w.forwardRef((n,r)=>{let{children:i,...a}=n;if(gO(i)&&typeof ad=="function"&&(i=ad(i._payload)),w.isValidElement(i)){const h=sX(i),o=iX(a,i.props);return i.type!==w.Fragment&&(o.ref=r?Ei(r,h):h),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nX=Symbol("radix.slottable");function rX(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nX}function iX(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function sX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vO=oX.reduce((e,t)=>{const n=eX(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:h,...o}=i,s=h?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(s,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Ly="Progress",Fy=100,[aX]=qY(Ly),[lX,cX]=aX(Ly),yO=w.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=uX,...h}=e;(i||i===0)&&!qw(i)&&console.error(dX(`${i}`,"Progress"));const o=qw(i)?i:Fy;r!==null&&!Qw(r,o)&&console.error(fX(`${r}`,"Progress"));const s=Qw(r,o)?r:null,c=ld(s)?a(s,o):void 0;return v.jsx(lX,{scope:n,value:s,max:o,children:v.jsx(vO.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":ld(s)?s:void 0,"aria-valuetext":c,role:"progressbar","data-state":wO(s,o),"data-value":s??void 0,"data-max":o,...h,ref:t})})});yO.displayName=Ly;var xO="ProgressIndicator",bO=w.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=cX(xO,n);return v.jsx(vO.div,{"data-state":wO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});bO.displayName=xO;function uX(e,t){return`${Math.round(e/t*100)}%`}function wO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ld(e){return typeof e=="number"}function qw(e){return ld(e)&&!isNaN(e)&&e>0}function Qw(e,t){return ld(e)&&!isNaN(e)&&e<=t&&e>=0}function dX(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fy}\`.`}function fX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SO=yO,hX=bO;const Ys=w.forwardRef(({className:e,value:t,...n},r)=>v.jsx(SO,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:v.jsx(hX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ys.displayName=SO.displayName;function pX(){const[e,t]=w.useState(null),[n,r]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{const h=await fetch(Rt("/api/dashboard/ceo"));h.ok&&t(await h.json())}catch(h){console.error("Dashboard error:",h)}finally{r(!1)}};if(n)return v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})});const a={totalInvestment:458750,activeProjects:5,teamMembers:12,tasksCompleted:87,tasksTotal:120,documentsGenerated:34,criticalIssues:3,pendingApprovals:7,efficiency:94,slaCompliance:96,budgetUtilization:78,clientSatisfaction:4.8};return v.jsxs("div",{className:"h-full overflow-y-auto bg-gradient-to-br from-secondary/5 via-background to-primary/5",children:[v.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b p-4 lg:p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Dashboard Executivo"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Viso estratgica completa do sistema"})]}),v.jsx(Le,{variant:"outline",className:"text-xs",children:"Atualizado agora"})]})}),v.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:v.jsx(xe,{className:"border-l-4 border-l-blue-500 hover:shadow-xl transition-all",children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Investimento Total"}),v.jsxs("p",{className:"text-3xl font-bold tracking-tighter",children:["R$ ",a.totalInvestment.toLocaleString("pt-BR")]}),v.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[v.jsx(Id,{size:12}),v.jsx("span",{children:"+12% vs ms anterior"})]})]}),v.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center",children:v.jsx(Iu,{className:"w-6 h-6 text-blue-600"})})]})})})}),v.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:v.jsx(xe,{className:"border-l-4 border-l-green-500 hover:shadow-xl transition-all",children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Obras Ativas"}),v.jsx("p",{className:"text-3xl font-bold tracking-tighter",children:a.activeProjects}),v.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[v.jsx(eo,{size:12}),v.jsx("span",{children:"100% operacionais"})]})]}),v.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/10 flex items-center justify-center",children:v.jsx(Er,{className:"w-6 h-6 text-green-600"})})]})})})}),v.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:v.jsx(xe,{className:"border-l-4 border-l-purple-500 hover:shadow-xl transition-all",children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Equipe Total"}),v.jsx("p",{className:"text-3xl font-bold tracking-tighter",children:a.teamMembers}),v.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[v.jsx(gn,{size:12}),v.jsx("span",{children:"8 internos + 4 externos"})]})]}),v.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center",children:v.jsx(gn,{className:"w-6 h-6 text-purple-600"})})]})})})}),v.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:v.jsx(xe,{className:"border-l-4 border-l-orange-500 hover:shadow-xl transition-all",children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:"Taxa de Concluso"}),v.jsxs("p",{className:"text-3xl font-bold tracking-tighter",children:[Math.round(a.tasksCompleted/a.tasksTotal*100),"%"]}),v.jsx(Ys,{value:a.tasksCompleted/a.tasksTotal*100,className:"h-1.5"})]}),v.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:v.jsx(CI,{className:"w-6 h-6 text-orange-600"})})]})})})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(Fn,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),v.jsx("p",{className:"text-2xl font-bold",children:a.documentsGenerated}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Documentos"})]})}),v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(_0,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),v.jsx("p",{className:"text-2xl font-bold",children:a.criticalIssues}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Crticos"})]})}),v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(zl,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),v.jsx("p",{className:"text-2xl font-bold",children:a.pendingApprovals}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pendentes"})]})}),v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(GT,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),v.jsxs("p",{className:"text-2xl font-bold",children:[a.efficiency,"%"]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Eficincia"})]})}),v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(eo,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),v.jsxs("p",{className:"text-2xl font-bold",children:[a.slaCompliance,"%"]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"SLA"})]})}),v.jsx(xe,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(be,{className:"pt-6 text-center",children:[v.jsx(Zp,{className:"w-8 h-8 mx-auto mb-2 text-indigo-500"}),v.jsxs("p",{className:"text-2xl font-bold",children:[a.budgetUtilization,"%"]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Budget"})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center gap-2",children:[v.jsx(zo,{size:16}),"Progresso de Tarefas"]})}),v.jsxs(be,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-xs text-muted-foreground",children:"Concludas"}),v.jsxs("span",{className:"text-sm font-bold",children:[a.tasksCompleted,"/",a.tasksTotal]})]}),v.jsx(Ys,{value:a.tasksCompleted/a.tasksTotal*100,className:"h-2"})]}),v.jsx(It,{}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:" Em dia"}),v.jsx("span",{className:"text-xs font-bold",children:"78"})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:" Atrasadas"}),v.jsx("span",{className:"text-xs font-bold",children:"9"})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:" Crticas"}),v.jsx("span",{className:"text-xs font-bold",children:a.criticalIssues})]})]})]})]}),v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center gap-2",children:[v.jsx(Iu,{size:16}),"Status Oramentrio"]})}),v.jsxs(be,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-xs text-muted-foreground",children:"Utilizado"}),v.jsxs("span",{className:"text-sm font-bold",children:["R$ ",(a.totalInvestment*.78).toLocaleString("pt-BR")]})]}),v.jsx(Ys,{value:a.budgetUtilization,className:"h-2"})]}),v.jsx(It,{}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:"Previsto Total"}),v.jsxs("span",{className:"text-xs font-bold",children:["R$ ",a.totalInvestment.toLocaleString("pt-BR")]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:"Disponvel"}),v.jsxs("span",{className:"text-xs font-bold text-green-600",children:["R$ ",(a.totalInvestment*.22).toLocaleString("pt-BR")]})]})]})]})]}),v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center gap-2",children:[v.jsx(gn,{size:16}),"Satisfao Cliente"]})}),v.jsxs(be,{className:"space-y-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-5xl font-bold text-primary",children:a.clientSatisfaction}),v.jsx("div",{className:"flex items-center justify-center gap-0.5 mt-2",children:[...Array(5)].map((h,o)=>v.jsx("span",{className:o<Math.floor(a.clientSatisfaction)?"text-yellow-500":"text-gray-300",children:""},o))}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mdia geral"})]}),v.jsx(It,{}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:"Reviews positivos"}),v.jsx("span",{className:"text-xs font-bold text-green-600",children:"96%"})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs",children:"NPS Score"}),v.jsx("span",{className:"text-xs font-bold",children:"+72"})]})]})]})]})]}),v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center justify-between",children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(Jp,{size:16}),"Atividades Recentes"]}),v.jsx(Le,{variant:"secondary",className:"text-xs",children:"ltimas 24h"})]})}),v.jsx(be,{children:v.jsx("div",{className:"space-y-3",children:[{action:"Documento gerado",item:"Plano de Prioridades #1234",time:"2h atrs",icon:Fn,color:"text-blue-500"},{action:"Atividade concluda",item:"Impermeabilizao Laje 12",time:"4h atrs",icon:eo,color:"text-green-500"},{action:"Novo registro",item:"Esboo fachada frontal",time:"6h atrs",icon:_0,color:"text-yellow-500"},{action:"Profissional designado",item:"Joo Silva  Atividade #567",time:"8h atrs",icon:gn,color:"text-purple-500"}].map((h,o)=>{const s=h.icon;return v.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[v.jsx("div",{className:`w-8 h-8 rounded-lg bg-secondary/50 flex items-center justify-center shrink-0 ${h.color}`,children:v.jsx(s,{size:16})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-semibold truncate",children:h.action}),v.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.item})]}),v.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:h.time})]},o)})})})]}),(e==null?void 0:e.topProjects)&&e.topProjects.length>0&&v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center gap-2",children:[v.jsx(Er,{size:16}),"Top Projetos por Atividade"]})}),v.jsx(be,{children:v.jsx("div",{className:"space-y-3",children:e.topProjects.map((h,o)=>{var s;return v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Le,{className:"w-6 h-6 flex items-center justify-center shrink-0",children:o+1}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-sm font-semibold",children:h.nome}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx(Ys,{value:Math.random()*100,className:"h-1.5 flex-1"}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:[((s=h._count)==null?void 0:s.activities)||0," atividades"]})]})]})]},h.id)})})})]})]})]})}function mX(){const[e,t]=w.useState("ALL"),[n,r]=w.useState([]),[i,a]=w.useState(!1),[h,o]=w.useState(!1),[s,c]=w.useState({nome:"",tipo:"INTERNO",documento:"",contatos:""});w.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await fetch("http://localhost:4000/api/professionals");d.ok&&r(await d.json())}catch(d){console.error(d)}},l=async()=>{if(!s.nome){De.error("O nome  obrigatrio");return}o(!0);try{(await fetch("http://localhost:4000/api/professionals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(De.success("Profissional cadastrado com sucesso!"),a(!1),c({nome:"",tipo:"INTERNO",documento:"",contatos:""}),f())}catch{De.error("Erro ao salvar profissional")}finally{o(!1)}},u=n.filter(d=>e==="ALL"||d.tipo===e);return v.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Equipe & Profissionais"}),v.jsx("p",{className:"text-muted-foreground font-medium",children:"Gesto de colaboradores internos e prestadores externos"})]}),v.jsxs(de,{onClick:()=>a(!0),className:"rounded-2xl h-12 px-6 gap-2 font-bold shadow-lg shadow-primary/20",children:[v.jsx(Bn,{size:20})," Adicionar Profissional"]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-8",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),v.jsx(Ze,{placeholder:"Buscar por nome, especialidade ou documento...",className:"pl-12 h-12 rounded-2xl bg-background shadow-sm border-border/50"})]}),v.jsxs("div",{className:"flex p-1 bg-secondary/50 rounded-2xl border",children:[v.jsx("button",{onClick:()=>t("ALL"),className:se("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="ALL"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Todos"}),v.jsx("button",{onClick:()=>t("INTERNO"),className:se("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="INTERNO"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Internos"}),v.jsx("button",{onClick:()=>t("EXTERNO"),className:se("px-4 py-2 text-xs font-bold rounded-xl transition-all",e==="EXTERNO"?"bg-background shadow-sm text-primary":"text-muted-foreground"),children:"Externos"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map((d,m)=>v.jsx(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:m*.05},children:v.jsx(xe,{className:"rounded-3xl border-border/50 shadow-xl shadow-black/5 bg-background hover:border-primary/30 transition-all group",children:v.jsxs(be,{className:"p-6",children:[v.jsxs("div",{className:"flex items-start justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(tf,{className:"w-14 h-14 border-2 border-primary/10 rounded-2xl",children:v.jsx(nf,{className:"bg-primary/5 text-primary text-lg font-bold",children:d.nome.charAt(0)})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold tracking-tight",children:d.nome}),v.jsxs("p",{className:"text-xs text-muted-foreground font-semibold flex items-center gap-1",children:[v.jsx(zo,{size:12})," ",d.tipo==="INTERNO"?"Equipe VERC":"Prestador Externo"]})]})]}),v.jsx(Le,{className:se("border-none uppercase text-[9px] font-bold",d.tipo==="INTERNO"?"bg-blue-500/10 text-blue-600":"bg-orange-500/10 text-orange-600"),children:d.tipo})]}),v.jsxs("div",{className:"space-y-3 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(WT,{size:14,className:"opacity-60"}),v.jsx("span",{className:"font-medium truncate",children:d.contatos||"Sem contato"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(HT,{size:14,className:"opacity-60"}),v.jsx("span",{className:"font-medium",children:d.documento||"Sem registro"})]})]}),v.jsxs("div",{className:"pt-4 border-t border-border flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Tarefas Ativas"}),v.jsx("p",{className:"font-bold",children:(d.assignments||[]).length.toString().padStart(2,"0")})]}),v.jsx(de,{variant:"ghost",size:"sm",className:"rounded-xl text-primary font-bold",children:"Ver Perfil"})]})]})})},d.id))}),v.jsx(Pi,{open:i,onOpenChange:a,children:v.jsxs(Dr,{className:"rounded-[2rem] max-w-lg p-8",children:[v.jsx(Ni,{children:v.jsx(kr,{className:"text-2xl font-bold tracking-tighter",children:"Novo Profissional"})}),v.jsxs("div",{className:"space-y-6 py-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Nome Completo"}),v.jsx(Ze,{placeholder:"Ex: Joo da Silva",className:"h-12 rounded-2xl",value:s.nome,onChange:d=>c({...s,nome:d.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Tipo"}),v.jsxs(Oo,{value:s.tipo,onValueChange:d=>c({...s,tipo:d}),children:[v.jsx(ds,{className:"h-12 rounded-2xl",children:v.jsx(Ao,{})}),v.jsxs(fs,{className:"rounded-xl",children:[v.jsx(pn,{value:"INTERNO",children:"Interno"}),v.jsx(pn,{value:"EXTERNO",children:"Externo"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Documento (CPF/CNPJ)"}),v.jsx(Ze,{placeholder:"000.000.000-00",className:"h-12 rounded-2xl",value:s.documento,onChange:d=>c({...s,documento:d.target.value})})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Contatos (Email/Tel)"}),v.jsx(Ze,{placeholder:"email@exemplo.com",className:"h-12 rounded-2xl",value:s.contatos,onChange:d=>c({...s,contatos:d.target.value})})]})]}),v.jsxs(Ko,{className:"pt-4",children:[v.jsx(de,{variant:"ghost",onClick:()=>a(!1),className:"rounded-2xl h-12 font-bold",children:"Cancelar"}),v.jsx(de,{disabled:h,onClick:l,className:"rounded-2xl h-12 px-8 font-bold shadow-lg shadow-primary/20",children:h?"Salvando...":"Cadastrar Profissional"})]})]})})]})}var zh="rovingFocusGroup.onEntryFocus",gX={bubbles:!1,cancelable:!0},nc="RovingFocusGroup",[Ym,CO,vX]=Ll(nc),[yX,TO]=Bt(nc,[vX]),[xX,bX]=yX(nc),EO=w.forwardRef((e,t)=>v.jsx(Ym.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(Ym.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(wX,{...e,ref:t})})}));EO.displayName=nc;var wX=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:h,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:s,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...l}=e,u=w.useRef(null),d=ge(t,u),m=Xo(a),[g,p]=sr({prop:h,defaultProp:o??null,onChange:s,caller:nc}),[y,x]=w.useState(!1),b=Oe(c),S=CO(n),C=w.useRef(!1),[T,E]=w.useState(0);return w.useEffect(()=>{const P=u.current;if(P)return P.addEventListener(zh,b),()=>P.removeEventListener(zh,b)},[b]),v.jsx(xX,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(P=>p(P),[p]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>E(P=>P-1),[]),children:v.jsx(he.div,{tabIndex:y||T===0?-1:0,"data-orientation":r,...l,ref:d,style:{outline:"none",...e.style},onMouseDown:ft(e.onMouseDown,()=>{C.current=!0}),onFocus:ft(e.onFocus,P=>{const k=!C.current;if(P.target===P.currentTarget&&k&&!y){const A=new CustomEvent(zh,gX);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const B=S().filter(J=>J.focusable),z=B.find(J=>J.active),q=B.find(J=>J.id===g),W=[z,q,...B].filter(Boolean).map(J=>J.ref.current);NO(W,f)}}C.current=!1}),onBlur:ft(e.onBlur,()=>x(!1))})})}),_O="RovingFocusGroupItem",PO=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:h,...o}=e,s=xn(),c=a||s,f=bX(_O,n),l=f.currentTabStopId===c,u=CO(n),{onFocusableItemAdd:d,onFocusableItemRemove:m,currentTabStopId:g}=f;return w.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),v.jsx(Ym.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(he.span,{tabIndex:l?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:ft(e.onMouseDown,p=>{r?f.onItemFocus(c):p.preventDefault()}),onFocus:ft(e.onFocus,()=>f.onItemFocus(c)),onKeyDown:ft(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){f.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=TX(p,f.orientation,f.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=u().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const S=b.indexOf(p.currentTarget);b=f.loop?EX(b,S+1):b.slice(S+1)}setTimeout(()=>NO(b))}}),children:typeof h=="function"?h({isCurrentTabStop:l,hasTabStop:g!=null}):h})})});PO.displayName=_O;var SX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TX(e,t,n){const r=CX(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return SX[r]}function NO(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function EX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _X=EO,PX=PO,Sf="Tabs",[NX]=Bt(Sf,[TO]),jO=TO(),[jX,By]=NX(Sf),OO=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:h="horizontal",dir:o,activationMode:s="automatic",...c}=e,f=Xo(o),[l,u]=sr({prop:r,onChange:i,defaultProp:a??"",caller:Sf});return v.jsx(jX,{scope:n,baseId:xn(),value:l,onValueChange:u,orientation:h,dir:f,activationMode:s,children:v.jsx(he.div,{dir:f,"data-orientation":h,...c,ref:t})})});OO.displayName=Sf;var AO="TabsList",DO=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=By(AO,n),h=jO(n);return v.jsx(_X,{asChild:!0,...h,orientation:a.orientation,dir:a.dir,loop:r,children:v.jsx(he.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});DO.displayName=AO;var kO="TabsTrigger",RO=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,h=By(kO,n),o=jO(n),s=LO(h.baseId,r),c=FO(h.baseId,r),f=r===h.value;return v.jsx(PX,{asChild:!0,...o,focusable:!i,active:f,children:v.jsx(he.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:s,...a,ref:t,onMouseDown:ft(e.onMouseDown,l=>{!i&&l.button===0&&l.ctrlKey===!1?h.onValueChange(r):l.preventDefault()}),onKeyDown:ft(e.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&h.onValueChange(r)}),onFocus:ft(e.onFocus,()=>{const l=h.activationMode!=="manual";!f&&!i&&l&&h.onValueChange(r)})})})});RO.displayName=kO;var MO="TabsContent",IO=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...h}=e,o=By(MO,n),s=LO(o.baseId,r),c=FO(o.baseId,r),f=r===o.value,l=w.useRef(f);return w.useEffect(()=>{const u=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(u)},[]),v.jsx(jv,{present:i||f,children:({present:u})=>v.jsx(he.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":s,hidden:!u,id:c,tabIndex:0,...h,ref:t,style:{...e.style,animationDuration:l.current?"0s":void 0},children:u&&a})})});IO.displayName=MO;function LO(e,t){return`${e}-trigger-${t}`}function FO(e,t){return`${e}-content-${t}`}var OX=OO,BO=DO,VO=RO,zO=IO;const AX=OX,WO=w.forwardRef(({className:e,...t},n)=>v.jsx(BO,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));WO.displayName=BO.displayName;const cu=w.forwardRef(({className:e,...t},n)=>v.jsx(VO,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));cu.displayName=VO.displayName;const uu=w.forwardRef(({className:e,...t},n)=>v.jsx(zO,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));uu.displayName=zO.displayName;function DX({project:e,isOpen:t,onClose:n}){var y;const[r,i]=w.useState(null),[a,h]=w.useState(!1);w.useEffect(()=>{t&&e&&o()},[t,e]);const o=async()=>{if(e){h(!0);try{const[x,b]=await Promise.all([fetch(Rt(`/api/activities?projectId=${e.id}`)),fetch(Rt(`/api/records?projectId=${e.id}`))]),S=x.ok?await x.json():[],C=b.ok?await b.json():[];i({...e,activities:S.filter(T=>T.projectId===e.id),records:C.filter(T=>T.projectId===e.id)})}catch(x){console.error("Error fetching project details:",x)}finally{h(!1)}}};if(!e)return null;const s=(r==null?void 0:r.activities)||[],c=(r==null?void 0:r.records)||[],f=s.length,l=s.filter(x=>x.status==="CONCLUIDO").length,u=s.filter(x=>x.status==="EM_EXECUCAO").length,d=f>0?l/f*100:0,m=s.reduce((x,b)=>{var S,C;return x+(((C=(S=b.assignments)==null?void 0:S[0])==null?void 0:C.valorPrevisto)||0)},0),g=c.filter(x=>x.type==="ESBOCO"),p=c.reduce((x,b)=>{var S;return x+(((S=b.documents)==null?void 0:S.length)||0)},0);return v.jsx(Pi,{open:t,onOpenChange:n,children:v.jsxs(Dr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[v.jsx(Ni,{children:v.jsxs(kr,{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:v.jsx(Er,{className:"w-5 h-5 text-primary"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold",children:e.nome}),v.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:e.endereco||"Endereo no informado"})]})]})}),a?v.jsx("div",{className:"flex items-center justify-center py-12",children:v.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})}):v.jsxs("div",{className:"space-y-6 py-4",children:[v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[v.jsx(xe,{children:v.jsx(be,{className:"pt-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-md bg-green-500/10 flex items-center justify-center shrink-0",children:v.jsx(eo,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Progresso"}),v.jsxs("p",{className:"text-lg font-bold",children:[Math.round(d),"%"]})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-md bg-blue-500/10 flex items-center justify-center shrink-0",children:v.jsx(Jp,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Atividades"}),v.jsx("p",{className:"text-lg font-bold",children:f})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-md bg-purple-500/10 flex items-center justify-center shrink-0",children:v.jsx(Iu,{className:"w-5 h-5 text-purple-600"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Investimento"}),v.jsxs("p",{className:"text-lg font-bold truncate",children:["R$ ",m.toLocaleString("pt-BR")]})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-md bg-orange-500/10 flex items-center justify-center shrink-0",children:v.jsx(ui,{className:"w-5 h-5 text-orange-600"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Esboos"}),v.jsx("p",{className:"text-lg font-bold",children:g.length})]})]})})})]}),v.jsxs(xe,{children:[v.jsx(Hr,{children:v.jsxs(Gr,{className:"text-sm flex items-center gap-2",children:[v.jsx(Id,{size:16}),"Viso Geral do Progresso"]})}),v.jsxs(be,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm font-semibold",children:"Status da Obra"}),v.jsx(Le,{children:e.status})]}),v.jsx(Ys,{value:d,className:"h-2"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Concludas"}),v.jsx("p",{className:"text-2xl font-bold text-green-600",children:l})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Em Execuo"}),v.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Planejadas"}),v.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f-l-u})]})]})]})]}),v.jsxs(AX,{defaultValue:"activities",className:"w-full",children:[v.jsxs(WO,{className:"grid w-full grid-cols-3",children:[v.jsxs(cu,{value:"activities",children:["Atividades (",f,")"]}),v.jsxs(cu,{value:"records",children:["Registros (",c.length,")"]}),v.jsx(cu,{value:"info",children:"Informaes"})]}),v.jsx(uu,{value:"activities",className:"space-y-2 mt-4",children:s.length===0?v.jsx(xe,{className:"border-dashed",children:v.jsxs(be,{className:"flex flex-col items-center justify-center py-8",children:[v.jsx(Jp,{size:32,className:"opacity-20 mb-2"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma atividade cadastrada"})]})}):v.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto",children:s.map(x=>{var b,S,C;return v.jsx(xe,{className:"hover:shadow-md transition-shadow",children:v.jsxs(be,{className:"p-3",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"font-semibold text-sm truncate",children:x.titulo}),v.jsx("p",{className:"text-xs text-muted-foreground truncate",children:x.descricao||"Sem descrio"})]}),v.jsx(Le,{className:`text-[9px] h-5 shrink-0 ${x.status==="CONCLUIDO"?"bg-green-500":x.status==="EM_EXECUCAO"?"bg-yellow-500":x.status==="BLOQUEADO"?"bg-red-500":"bg-blue-500"}`,children:x.status})]}),v.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[v.jsxs("span",{children:[" R$ ",((C=(S=(b=x.assignments)==null?void 0:b[0])==null?void 0:S.valorPrevisto)==null?void 0:C.toLocaleString("pt-BR"))||"0"]}),x.dataFim&&v.jsxs("span",{children:[" ",bi(new Date(x.dataFim),"dd/MM/yyyy")]})]})]})},x.id)})})}),v.jsx(uu,{value:"records",className:"space-y-2 mt-4",children:c.length===0?v.jsx(xe,{className:"border-dashed",children:v.jsxs(be,{className:"flex flex-col items-center justify-center py-8",children:[v.jsx(Fn,{size:32,className:"opacity-20 mb-2"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum registro encontrado"})]})}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:c.map(x=>v.jsx(xe,{className:"hover:shadow-md transition-shadow",children:v.jsx(be,{className:"p-3",children:v.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[x.type==="ESBOCO"?v.jsx(ui,{className:"w-4 h-4 text-purple-500 shrink-0"}):v.jsx(Fn,{className:"w-4 h-4 text-blue-500 shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-xs font-semibold line-clamp-2",children:x.texto}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx(Le,{variant:"outline",className:"text-[8px] h-4",children:x.type}),v.jsx(Le,{className:"text-[8px] h-4",children:x.prioridade})]})]})]})})},x.id))})}),v.jsx(uu,{value:"info",className:"mt-4",children:v.jsx(xe,{children:v.jsxs(be,{className:"pt-6 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Cliente"}),v.jsx("p",{className:"font-semibold",children:((y=e.client)==null?void 0:y.nome)||"No vinculado"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),v.jsx(Le,{children:e.status})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Data de Criao"}),v.jsx("p",{className:"font-semibold",children:bi(new Date(e.criadoEm),"dd 'de' MMMM 'de' yyyy",{locale:jo})})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Documentos Gerados"}),v.jsxs("p",{className:"font-semibold",children:[p," arquivo(s)"]})]})]}),v.jsx(It,{}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Resumo Financeiro"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"p-3 bg-secondary/20 rounded-md",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Investimento Previsto"}),v.jsxs("p",{className:"text-xl font-bold",children:["R$ ",m.toLocaleString("pt-BR")]})]}),v.jsxs("div",{className:"p-3 bg-secondary/20 rounded-md",children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Custo mdio/atividade"}),v.jsxs("p",{className:"text-xl font-bold",children:["R$ ",f>0?Math.round(m/f).toLocaleString("pt-BR"):"0"]})]})]})]})]})})})]})]})]})})}function kX(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,a]=w.useState(!1),[h,o]=w.useState(null),[s,c]=w.useState(!1),[f,l]=w.useState({nome:"",endereco:"",clientId:""}),[u,d]=w.useState(!1);w.useEffect(()=>{m()},[]);const m=async()=>{try{const[y,x]=await Promise.all([fetch(Rt("/api/projects")),fetch(Rt("/api/clients"))]);y.ok&&t(await y.json()),x.ok&&r(await x.json())}catch{De.error("Erro ao carregar dados")}},g=async y=>{y.preventDefault(),d(!0);try{if(!(await fetch(Rt("/api/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,status:"ATIVA"})})).ok)throw new Error("Erro ao criar obra");De.success("Obra criada com sucesso!"),a(!1),l({nome:"",endereco:"",clientId:""}),m()}catch(x){De.error(x.message)}finally{d(!1)}},p=y=>{o(y),c(!0)};return v.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-secondary/5 to-background",children:[v.jsx("div",{className:"p-4 lg:p-6 border-b bg-background/95 backdrop-blur-sm shrink-0",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Obras"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gerencie todos os projetos ativos"})]}),v.jsxs(de,{onClick:()=>a(!0),className:"gap-2",children:[v.jsx(Bn,{size:16}),"Nova Obra"]})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 flex items-center justify-center",children:v.jsx(Er,{className:"w-6 h-6 text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Obras"}),v.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-green-500/10 flex items-center justify-center",children:v.jsx(eo,{className:"w-6 h-6 text-green-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Ativas"}),v.jsx("p",{className:"text-2xl font-bold",children:e.filter(y=>y.status==="ATIVA").length})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-blue-500/10 flex items-center justify-center",children:v.jsx(gn,{className:"w-6 h-6 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes"}),v.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})}),v.jsx(xe,{children:v.jsx(be,{className:"pt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 rounded-md bg-purple-500/10 flex items-center justify-center",children:v.jsx(Zp,{className:"w-6 h-6 text-purple-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Em Execuo"}),v.jsx("p",{className:"text-2xl font-bold",children:e.filter(y=>y.status==="ATIVA").length})]})]})})})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.jsx(Gl,{mode:"popLayout",children:e.map((y,x)=>{var b;return v.jsx(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:x*.03},children:v.jsx(xe,{className:"hover:shadow-lg transition-all cursor-pointer group",children:v.jsxs(be,{className:"p-4 space-y-3",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-bold text-lg truncate",children:y.nome}),v.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[v.jsx(cI,{size:10}),y.endereco||"Endereo no informado"]})]}),v.jsx(Le,{variant:"secondary",children:y.status})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(gn,{size:12}),v.jsx("span",{children:((b=y.client)==null?void 0:b.nome)||"Sem cliente"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(iv,{size:12}),v.jsxs("span",{children:["Criado em ",new Date(y.criadoEm).toLocaleDateString("pt-BR")]})]}),v.jsxs(de,{className:"w-full gap-2 mt-2",variant:"outline",onClick:()=>p(y),children:[v.jsx(Zp,{size:14}),"Gerenciar"]})]})})},y.id)})})})]}),v.jsx(Pi,{open:i,onOpenChange:a,children:v.jsxs(Dr,{children:[v.jsx(Ni,{children:v.jsx(kr,{children:"Nova Obra"})}),v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Nome da Obra *"}),v.jsx(Ze,{value:f.nome,onChange:y=>l({...f,nome:y.target.value}),placeholder:"Ex: Edifcio Horizonte",required:!0,className:"mt-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Endereo"}),v.jsx(Ze,{value:f.endereco,onChange:y=>l({...f,endereco:y.target.value}),placeholder:"Ex: Av. Paulista, 1000",className:"mt-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Cliente *"}),v.jsxs(Oo,{value:f.clientId,onValueChange:y=>l({...f,clientId:y}),children:[v.jsx(ds,{className:"mt-1",children:v.jsx(Ao,{placeholder:"Selecione um cliente"})}),v.jsx(fs,{children:n.map(y=>v.jsx(pn,{value:y.id,children:y.nome},y.id))})]})]}),v.jsxs(Ko,{children:[v.jsx(de,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),v.jsx(de,{type:"submit",disabled:u,children:u?"Salvando...":"Criar Obra"})]})]})]})}),v.jsx(DX,{project:h,isOpen:s,onClose:()=>c(!1)})]})}function RX(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var Cf="Switch",[MX]=Bt(Cf),[IX,LX]=MX(Cf),UO=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:h,disabled:o,value:s="on",onCheckedChange:c,form:f,...l}=e,[u,d]=w.useState(null),m=ge(t,b=>d(b)),g=w.useRef(!1),p=u?f||!!u.closest("form"):!0,[y,x]=sr({prop:i,defaultProp:a??!1,onChange:c,caller:Cf});return v.jsxs(IX,{scope:n,checked:y,disabled:o,children:[v.jsx(he.button,{type:"button",role:"switch","aria-checked":y,"aria-required":h,"data-state":YO(y),"data-disabled":o?"":void 0,disabled:o,value:s,...l,ref:m,onClick:RX(e.onClick,b=>{x(S=>!S),p&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),p&&v.jsx(GO,{control:u,bubbles:!g.current,name:r,value:s,checked:y,required:h,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});UO.displayName=Cf;var $O="SwitchThumb",HO=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=LX($O,n);return v.jsx(he.span,{"data-state":YO(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});HO.displayName=$O;var FX="SwitchBubbleInput",GO=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const h=w.useRef(null),o=ge(h,a),s=dj(n),c=Wd(t);return w.useEffect(()=>{const f=h.current;if(!f)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&d){const m=new Event("click",{bubbles:r});d.call(f,n),f.dispatchEvent(m)}},[s,n,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GO.displayName=FX;function YO(e){return e?"checked":"unchecked"}var XO=UO,BX=HO;const KO=w.forwardRef(({className:e,...t},n)=>v.jsx(XO,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:v.jsx(BX,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));KO.displayName=XO.displayName;function VX(){const{user:e,logout:t}=xs(),[n,r]=w.useState([]),[i,a]=w.useState(!1),[h,o]=w.useState(!1),[s,c]=w.useState({nome:"",email:"",role:"USUARIO_PADRAO",senhaHash:"123456"});w.useEffect(()=>{((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="CEO")&&f()},[e]);const f=async()=>{try{const m=await fetch("http://localhost:4000/api/users");m.ok&&r(await m.json())}catch(m){console.error(m)}},l=async()=>{if(!s.nome||!s.email)return De.error("Nome e Email so obrigatrios");o(!0);try{(await fetch("http://localhost:4000/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(De.success("Usurio criado com sucesso!"),a(!1),c({nome:"",email:"",role:"USUARIO_PADRAO",senhaHash:"123456"}),f())}catch{De.error("Erro ao criar usurio")}finally{o(!1)}},d=[{title:"Conta & Perfil",icon:Ld,items:[{label:"Informaes Pessoais",description:(e==null?void 0:e.nome)||"Carregando...",action:"Editar"},{label:"Segurana & Autenticao",description:"Senha e chaves de acesso",action:"Gerenciar"}]},{title:"Administrao do Sistema",icon:HT,isAdmin:!0,items:[{label:"Gesto de Usurios",description:`${n.length} usurios cadastrados no VERCFLOW`,action:"Ver Lista",onClick:()=>a(!0)},{label:"Logs de Atividade",description:"Auditoria de alteraes globais",action:"Acessar"}]},{title:"Sistema & Visual",icon:YM,items:[{label:"Tema Dark Mode",description:"Exclusivo VERCFLOW Glass",type:"toggle",value:!0},{label:"Notificaes Push",description:"Alertas de obra em tempo real",type:"toggle",value:!0}]}].filter(m=>!m.isAdmin||(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="CEO");return v.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto custom-scrollbar",children:[v.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[v.jsxs("div",{className:"mb-10 text-center lg:text-left flex flex-col lg:flex-row justify-between items-end gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Configuraes"}),v.jsx("p",{className:"text-muted-foreground font-medium",children:"Controle total da sua experincia e do ecossistema VERCFLOW"})]}),v.jsxs(Le,{variant:"outline",className:"rounded-full px-4 py-1.5 border-primary/20 bg-primary/5 text-primary font-bold",children:["Sesso como: ",e==null?void 0:e.role]})]}),v.jsxs("div",{className:"space-y-8",children:[d.map((m,g)=>v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2",children:[v.jsx(m.icon,{size:18,className:"text-primary"}),v.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest opacity-50",children:m.title})]}),v.jsxs(xe,{className:"rounded-[2rem] border-border/50 shadow-xl shadow-black/5 bg-background overflow-hidden relative isolate",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-50 -z-10"}),v.jsx(be,{className:"p-0",children:m.items.map((p,y)=>v.jsxs(ae.Fragment,{children:[v.jsxs("div",{onClick:p.onClick,className:"p-6 flex items-center justify-between hover:bg-secondary/20 transition-colors group cursor-pointer",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-bold tracking-tight",children:p.label}),v.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),p.type==="toggle"?v.jsx(KO,{defaultChecked:p.value}):v.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[p.action,v.jsx(So,{size:16})]})]}),y<m.items.length-1&&v.jsx(It,{className:"opacity-50"})]},y))})]})]},g)),v.jsx("div",{className:"pt-6 pb-20",children:v.jsxs(de,{onClick:t,variant:"destructive",className:"w-full h-14 rounded-2xl font-bold gap-2 shadow-lg shadow-destructive/20 hover:scale-[1.01] transition-transform",children:[v.jsx(ov,{size:20})," Encerrar Sesso"]})})]})]}),v.jsx(Pi,{open:i,onOpenChange:a,children:v.jsxs(Dr,{className:"rounded-[2.5rem] max-w-2xl p-0 overflow-hidden border-none shadow-2xl",children:[v.jsx("div",{className:"bg-primary/5 p-8 border-b",children:v.jsx(Ni,{children:v.jsxs(kr,{className:"text-2xl font-bold tracking-tighter flex items-center gap-2",children:[v.jsx(gn,{className:"text-primary"})," Gesto de Usurios"]})})}),v.jsxs("div",{className:"p-8 space-y-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[v.jsxs("div",{className:"space-y-6 bg-secondary/20 p-6 rounded-3xl border border-border/50",children:[v.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Cadastrar Novo Usurio"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx(Wh,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Nome"}),v.jsx(Ze,{placeholder:"Nome do usurio",className:"rounded-xl h-11",value:s.nome,onChange:m=>c({...s,nome:m.target.value})})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx(Wh,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Email"}),v.jsx(Ze,{placeholder:"email@vercflow.com",className:"rounded-xl h-11",value:s.email,onChange:m=>c({...s,email:m.target.value})})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx(Wh,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Papel (Role)"}),v.jsxs(Oo,{value:s.role,onValueChange:m=>c({...s,role:m}),children:[v.jsx(ds,{className:"rounded-xl h-11",children:v.jsx(Ao,{})}),v.jsxs(fs,{className:"rounded-xl",children:[v.jsx(pn,{value:"CEO",children:"CEO / Proprietrio"}),v.jsx(pn,{value:"ADMIN",children:"Administrador"}),v.jsx(pn,{value:"GESTOR",children:"Gestor de Obras"}),v.jsx(pn,{value:"USUARIO_CAMPO",children:"Equipe de Campo"}),v.jsx(pn,{value:"EXTERNO",children:"Colaborador Externo"})]})]})]}),v.jsx("div",{className:"flex items-end",children:v.jsxs(de,{onClick:l,disabled:h,className:"w-full h-11 rounded-xl font-bold gap-2",children:[v.jsx(Bn,{size:18})," Criar Usurio"]})})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest opacity-60",children:"Usurios Ativos"}),v.jsx("div",{className:"space-y-3",children:n.map(m=>{var g;return v.jsxs("div",{className:"p-4 bg-background border rounded-2xl flex items-center justify-between group hover:border-primary/30 transition-all",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary",children:(g=m.nome)==null?void 0:g.charAt(0)}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-sm",children:m.nome}),v.jsx("p",{className:"text-xs text-muted-foreground",children:m.email})]})]}),v.jsx(Le,{className:"bg-secondary text-foreground border-none font-bold text-[10px]",children:m.role})]},m.id)})})]})]}),v.jsx(Ko,{className:"p-6 bg-secondary/10 border-t",children:v.jsx(de,{variant:"ghost",className:"rounded-xl",onClick:()=>a(!1),children:"Fechar Gerenciador"})})]})})]})}const Wh=({children:e,className:t})=>v.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t}`,children:e});function zX(){const[e,t]=w.useState([]),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[h,o]=w.useState({nome:"",documento:"",contatos:""});w.useEffect(()=>{s()},[]);const s=async()=>{try{const f=await fetch("http://localhost:4000/api/clients");f.ok&&t(await f.json())}catch(f){console.error(f)}},c=async()=>{if(!h.nome)return De.error("O nome do cliente  obrigatrio");a(!0);try{(await fetch("http://localhost:4000/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok&&(De.success("Cliente cadastrado com sucesso!"),r(!1),o({nome:"",documento:"",contatos:""}),s())}catch{De.error("Erro ao salvar cliente")}finally{a(!1)}};return v.jsxs("div",{className:"p-4 lg:p-10 h-[calc(100vh-64px)] flex flex-col bg-secondary/10 overflow-y-auto custom-scrollbar",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tighter",children:"Gesto de Clientes"}),v.jsx("p",{className:"text-muted-foreground font-medium",children:"Base de contratantes e parceiros comerciais"})]}),v.jsxs(de,{onClick:()=>r(!0),className:"rounded-2xl h-12 px-6 gap-2 font-bold shadow-lg shadow-primary/20",children:[v.jsx(Bn,{size:20})," Novo Cliente"]})]}),v.jsxs("div",{className:"relative max-w-xl mb-8",children:[v.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),v.jsx(Ze,{placeholder:"Buscar cliente por nome ou CNPJ...",className:"pl-12 h-14 rounded-2xl bg-background border-border/50 shadow-xl shadow-black/5"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-20",children:e.map((f,l)=>v.jsx(nt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.05},children:v.jsx(xe,{className:"rounded-3xl border-border/50 shadow-xl shadow-black/5 bg-background hover:border-primary/30 transition-all group overflow-hidden",children:v.jsxs(be,{className:"p-6",children:[v.jsxs("div",{className:"flex items-start justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary font-bold text-xl",children:f.nome.charAt(0)}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold tracking-tight",children:f.nome}),v.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:f.documento||"CNPJ NO INFORMADO"})]})]}),v.jsx(de,{variant:"ghost",size:"icon",className:"rounded-xl",children:v.jsx(dI,{size:18})})]}),v.jsxs("div",{className:"space-y-3 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(WT,{size:14,className:"opacity-60"}),v.jsx("span",{className:"font-medium truncate",children:f.contatos||"Sem e-mail cadastrado"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(Er,{size:14,className:"opacity-60"}),v.jsx("span",{className:"font-medium",children:"Ativo no VERCFLOW"})]})]}),v.jsx(de,{className:"w-full h-11 rounded-xl bg-secondary hover:bg-primary hover:text-white font-bold transition-all",children:"Ver Portflio de Obras"})]})})},f.id))}),v.jsx(Pi,{open:n,onOpenChange:r,children:v.jsxs(Dr,{className:"rounded-[2rem] max-w-md p-8",children:[v.jsx(Ni,{children:v.jsx(kr,{className:"text-2xl font-bold tracking-tighter",children:"Cadastrar Cliente"})}),v.jsxs("div",{className:"space-y-6 py-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Razo Social / Nome"}),v.jsx(Ze,{placeholder:"Ex: Construtora Horizonte S.A",value:h.nome,onChange:f=>o({...h,nome:f.target.value}),className:"h-12 rounded-xl"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"CNPJ / CPF"}),v.jsx(Ze,{placeholder:"00.000.000/0001-00",value:h.documento,onChange:f=>o({...h,documento:f.target.value}),className:"h-12 rounded-xl"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{className:"text-[10px] font-bold uppercase tracking-widest ml-1",children:"Contatos Corporativos"}),v.jsx(Ze,{placeholder:"email@cliente.com.br",value:h.contatos,onChange:f=>o({...h,contatos:f.target.value}),className:"h-12 rounded-xl"})]})]}),v.jsxs(Ko,{className:"gap-3",children:[v.jsx(de,{variant:"ghost",onClick:()=>r(!1),className:"rounded-xl h-12",children:"Cancelar"}),v.jsx(de,{onClick:c,disabled:i,className:"rounded-xl h-12 px-8 font-bold shadow-lg shadow-primary/20",children:i?"Salvando...":"Salvar Cliente"})]})]})})]})}const WX=()=>{const[e,t]=w.useState("captura"),n=()=>{switch(e){case"captura":return v.jsx(Kw,{});case"triagem":return v.jsx(UY,{});case"atividades":return v.jsx(XY,{});case"dashboard":return v.jsx(pX,{});case"equipe":return v.jsx(mX,{});case"obras":return v.jsx(kX,{});case"clientes":return v.jsx(zX,{});case"config":return v.jsx(VX,{});default:return v.jsx(Kw,{})}};return v.jsx($6,{activeTab:e,onTabChange:t,children:n()})};function UX(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,a]=w.useState(!1),{login:h}=xs(),o=async s=>{s.preventDefault(),a(!0);try{await h(e,n),De.success("Bem-vindo ao VERCFLOW!")}catch(c){De.error(c.message||"Erro ao entrar")}finally{a(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary/30 p-4",children:v.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:v.jsxs(xe,{className:"w-full max-w-md shadow-xl border-border/50 bg-background/80 backdrop-blur-md",children:[v.jsxs(Hr,{className:"text-center space-y-2",children:[v.jsx("div",{className:"mx-auto w-12 h-12 bg-primary rounded-xl flex items-center justify-center shadow-lg shadow-primary/20",children:v.jsx("span",{className:"text-white font-bold text-2xl tracking-tighter",children:"V"})}),v.jsx(Gr,{className:"text-2xl font-bold tracking-tight",children:"VERCFLOW"}),v.jsx(_N,{children:"Acesso restrito a usurios da construtora"})]}),v.jsx(be,{children:v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"E-mail"}),v.jsx(Ze,{type:"email",placeholder:"usuario@vercflow.com",value:e,onChange:s=>t(s.target.value),className:"bg-secondary/50 border-border/50 h-12 rounded-xl",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"Senha"}),v.jsx(Ze,{type:"password",placeholder:"",value:n,onChange:s=>r(s.target.value),className:"bg-secondary/50 border-border/50 h-12 rounded-xl",required:!0})]}),v.jsx(de,{type:"submit",className:"w-full h-12 text-lg font-semibold rounded-xl bg-primary hover:bg-primary/90 transition-all",disabled:i,children:i?"Entrando...":"Entrar"})]})})]})})})}const $X=()=>{const e=Hl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),v.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),v.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Uh=768;function HX(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Uh-1}px)`),r=()=>{t(window.innerWidth<Uh)};return n.addEventListener("change",r),t(window.innerWidth<Uh),()=>n.removeEventListener("change",r)},[]),!!e}const GX=HN,YX=GN,qO=w.forwardRef(({className:e,...t},n)=>v.jsx(hf,{className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));qO.displayName=hf.displayName;const XX=Vo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),QO=w.forwardRef(({side:e="right",className:t,children:n,...r},i)=>v.jsxs(YX,{children:[v.jsx(qO,{}),v.jsxs(pf,{ref:i,className:se(XX({side:e}),t),...r,children:[n,v.jsxs(YN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[v.jsx(Fd,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QO.displayName=pf.displayName;const KX=w.forwardRef(({className:e,...t},n)=>v.jsx(mf,{ref:n,className:se("text-lg font-semibold text-foreground",e),...t}));KX.displayName=mf.displayName;const qX=w.forwardRef(({className:e,...t},n)=>v.jsx(gf,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));qX.displayName=gf.displayName;function Jw({className:e,...t}){return v.jsx("div",{className:se("animate-pulse rounded-md bg-muted",e),...t})}const QX="sidebar:state",JX=60*60*24*7,ZX="16rem",e9="18rem",t9="3rem",n9="b",JO=w.createContext(null);function Tf(){const e=w.useContext(JO);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ZO=w.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:a,...h},o)=>{const s=HX(),[c,f]=w.useState(!1),[l,u]=w.useState(e),d=t??l,m=w.useCallback(x=>{const b=typeof x=="function"?x(d):x;n?n(b):u(b),document.cookie=`${QX}=${b}; path=/; max-age=${JX}`},[n,d]),g=w.useCallback(()=>s?f(x=>!x):m(x=>!x),[s,m,f]);w.useEffect(()=>{const x=b=>{b.key===n9&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const p=d?"expanded":"collapsed",y=w.useMemo(()=>({state:p,open:d,setOpen:m,isMobile:s,openMobile:c,setOpenMobile:f,toggleSidebar:g}),[p,d,m,s,c,f,g]);return v.jsx(JO.Provider,{value:y,children:v.jsx(LE,{delayDuration:0,children:v.jsx("div",{style:{"--sidebar-width":ZX,"--sidebar-width-icon":t9,...i},className:se("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...h,children:a})})})});ZO.displayName="SidebarProvider";const eA=w.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...a},h)=>{const{isMobile:o,state:s,openMobile:c,setOpenMobile:f}=Tf();return n==="none"?v.jsx("div",{className:se("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:h,...a,children:i}):o?v.jsx(GX,{open:c,onOpenChange:f,...a,children:v.jsx(QO,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":e9},side:e,children:v.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):v.jsxs("div",{ref:h,className:"group peer hidden text-sidebar-foreground md:block","data-state":s,"data-collapsible":s==="collapsed"?n:"","data-variant":t,"data-side":e,children:[v.jsx("div",{className:se("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),v.jsx("div",{className:se("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:v.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});eA.displayName="Sidebar";const tA=w.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:i}=Tf();return v.jsxs(de,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:se("h-7 w-7",e),onClick:a=>{t==null||t(a),i()},...n,children:[v.jsx(hI,{}),v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});tA.displayName="SidebarTrigger";const r9=w.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Tf();return v.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:se("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});r9.displayName="SidebarRail";const i9=w.forwardRef(({className:e,...t},n)=>v.jsx("main",{ref:n,className:se("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));i9.displayName="SidebarInset";const s9=w.forwardRef(({className:e,...t},n)=>v.jsx(Ze,{ref:n,"data-sidebar":"input",className:se("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));s9.displayName="SidebarInput";const nA=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"header",className:se("flex flex-col gap-2 p-2",e),...t}));nA.displayName="SidebarHeader";const rA=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"footer",className:se("flex flex-col gap-2 p-2",e),...t}));rA.displayName="SidebarFooter";const o9=w.forwardRef(({className:e,...t},n)=>v.jsx(It,{ref:n,"data-sidebar":"separator",className:se("mx-2 w-auto bg-sidebar-border",e),...t}));o9.displayName="SidebarSeparator";const iA=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"content",className:se("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));iA.displayName="SidebarContent";const sA=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"group",className:se("relative flex w-full min-w-0 flex-col p-2",e),...t}));sA.displayName="SidebarGroup";const oA=w.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const i=t?Bo:"div";return v.jsx(i,{ref:r,"data-sidebar":"group-label",className:se("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});oA.displayName="SidebarGroupLabel";const a9=w.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const i=t?Bo:"button";return v.jsx(i,{ref:r,"data-sidebar":"group-action",className:se("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});a9.displayName="SidebarGroupAction";const aA=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"group-content",className:se("w-full text-sm",e),...t}));aA.displayName="SidebarGroupContent";const Xm=w.forwardRef(({className:e,...t},n)=>v.jsx("ul",{ref:n,"data-sidebar":"menu",className:se("flex w-full min-w-0 flex-col gap-1",e),...t}));Xm.displayName="SidebarMenu";const Km=w.forwardRef(({className:e,...t},n)=>v.jsx("li",{ref:n,"data-sidebar":"menu-item",className:se("group/menu-item relative",e),...t}));Km.displayName="SidebarMenuItem";const l9=Vo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),qm=w.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:a,...h},o)=>{const s=e?Bo:"button",{isMobile:c,state:f}=Tf(),l=v.jsx(s,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:se(l9({variant:n,size:r}),a),...h});return i?(typeof i=="string"&&(i={children:i}),v.jsxs(yB,{children:[v.jsx(xB,{asChild:!0,children:l}),v.jsx(FE,{side:"right",align:"center",hidden:f!=="collapsed"||c,...i})]})):l});qm.displayName="SidebarMenuButton";const c9=w.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},i)=>{const a=t?Bo:"button";return v.jsx(a,{ref:i,"data-sidebar":"menu-action",className:se("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});c9.displayName="SidebarMenuAction";const u9=w.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:se("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));u9.displayName="SidebarMenuBadge";const d9=w.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const i=w.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return v.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:se("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&v.jsx(Jw,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),v.jsx(Jw,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});d9.displayName="SidebarMenuSkeleton";const f9=w.forwardRef(({className:e,...t},n)=>v.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:se("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));f9.displayName="SidebarMenuSub";const h9=w.forwardRef(({...e},t)=>v.jsx("li",{ref:t,...e}));h9.displayName="SidebarMenuSubItem";const p9=w.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...i},a)=>{const h=e?Bo:"a";return v.jsx(h,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:se("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});p9.displayName="SidebarMenuSubButton";const m9=[{title:"Comercial",id:"1.0",url:"/comercial",icon:zo},{title:"Engenharia",id:"2.0",url:"/engenharia",icon:eI},{title:"Aprovaes",id:"3.0",url:"/aprovacoes",icon:tI},{title:"Planejamento",id:"4.0",url:"/planejamento",icon:qM},{title:"Compras",id:"5.0",url:"/compras",icon:wI},{title:"Logstica",id:"6.0",url:"/logistica",icon:lv},{title:"RH",id:"7.0",url:"/rh",icon:gn},{title:"DP",id:"8.0",url:"/dp",icon:Fn},{title:"Financeiro",id:"9.0",url:"/financeiro",icon:Iu},{title:"DST",id:"10.0",url:"/dst",icon:xI},{title:"TI",id:"11.0",url:"/ti",icon:uI}];function g9(){const e=Hl(),t=t_(),{logout:n}=xs();return v.jsxs(eA,{className:"border-r border-white/10 bg-sidebar/50 backdrop-blur-xl",children:[v.jsxs(nA,{className:"p-4 border-b border-white/5",children:[v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"VERCFLOW"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Sistema Unificado"})]}),v.jsx(iA,{children:v.jsxs(sA,{children:[v.jsx(oA,{className:"text-muted-foreground/60 uppercase tracking-wider text-[10px] font-bold",children:"Departamentos"}),v.jsx(aA,{children:v.jsx(Xm,{children:m9.map(r=>v.jsx(Km,{children:v.jsx(qm,{asChild:!0,isActive:e.pathname.startsWith(r.url),className:se("transition-all duration-200 hover:translate-x-1",e.pathname.startsWith(r.url)?"bg-primary/20 text-primary-foreground font-semibold shadow-[0_0_15px_rgba(var(--primary),0.3)]":"text-muted-foreground hover:text-foreground"),onClick:()=>t(r.url),children:v.jsxs("button",{className:"flex items-center gap-3 w-full",children:[v.jsx(r.icon,{className:"h-4 w-4"}),v.jsx("span",{children:r.title}),v.jsx("span",{className:"ml-auto text-[10px] opacity-40 font-mono",children:r.id})]})})},r.title))})})]})}),v.jsx(rA,{className:"border-t border-white/5 p-4",children:v.jsx(Xm,{children:v.jsx(Km,{children:v.jsxs(qm,{onClick:()=>n(),className:"text-red-400 hover:text-red-300 hover:bg-red-950/20",children:[v.jsx(ov,{className:"h-4 w-4"}),v.jsx("span",{children:"Sair do Sistema"})]})})})})]})}function Zw({children:e}){return v.jsx(ZO,{children:v.jsxs("div",{className:"flex min-h-screen w-full bg-background selection:bg-primary/20",children:[v.jsx(g9,{}),v.jsx("main",{className:"flex-1 overflow-hidden transition-all duration-300 ease-in-out",children:v.jsxs("div",{className:"h-full w-full p-4 md:p-8 overflow-y-auto",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx(tA,{}),v.jsx("div",{className:"h-6 w-px bg-white/10"}),v.jsx("span",{className:"text-sm text-muted-foreground",children:"Bem-vindo ao VERCFLOW"})]}),e]})})]})})}function Ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v9=typeof Symbol=="function"&&Symbol.observable||"@@observable",eS=v9,tS=()=>Math.random().toString(36).substring(7).split("").join("."),y9={INIT:`@@redux/INIT${tS()}`,REPLACE:`@@redux/REPLACE${tS()}`},nS=y9;function x9(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lA(e,t,n){if(typeof e!="function")throw new Error(Ot(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ot(1));return n(lA)(e,t)}let r=e,i=t,a=new Map,h=a,o=0,s=!1;function c(){h===a&&(h=new Map,a.forEach((p,y)=>{h.set(y,p)}))}function f(){if(s)throw new Error(Ot(3));return i}function l(p){if(typeof p!="function")throw new Error(Ot(4));if(s)throw new Error(Ot(5));let y=!0;c();const x=o++;return h.set(x,p),function(){if(y){if(s)throw new Error(Ot(6));y=!1,c(),h.delete(x),a=null}}}function u(p){if(!x9(p))throw new Error(Ot(7));if(typeof p.type>"u")throw new Error(Ot(8));if(typeof p.type!="string")throw new Error(Ot(17));if(s)throw new Error(Ot(9));try{s=!0,i=r(i,p)}finally{s=!1}return(a=h).forEach(x=>{x()}),p}function d(p){if(typeof p!="function")throw new Error(Ot(10));r=p,u({type:nS.REPLACE})}function m(){const p=l;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ot(11));function x(){const S=y;S.next&&S.next(f())}return x(),{unsubscribe:p(x)}},[eS](){return this}}}return u({type:nS.INIT}),{dispatch:u,subscribe:l,getState:f,replaceReducer:d,[eS]:m}}function rS(e,t){return function(...n){return t(e.apply(this,n))}}function iS(e,t){if(typeof e=="function")return rS(e,t);if(typeof e!="object"||e===null)throw new Error(Ot(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=rS(i,t))}return n}function cA(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function b9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Ot(15))};const h={getState:i.getState,dispatch:(s,...c)=>a(s,...c)},o=e.map(s=>s(h));return a=cA(...o)(i.dispatch),{...i,dispatch:a}}}var w9={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=w;function S9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C9=typeof Object.is=="function"?Object.is:S9,T9=rc.useSyncExternalStore,E9=rc.useRef,_9=rc.useEffect,P9=rc.useMemo,N9=rc.useDebugValue;w9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=E9(null);if(a.current===null){var h={hasValue:!1,value:null};a.current=h}else h=a.current;a=P9(function(){function s(d){if(!c){if(c=!0,f=d,d=r(d),i!==void 0&&h.hasValue){var m=h.value;if(i(m,d))return l=m}return l=d}if(m=l,C9(f,d))return m;var g=r(d);return i!==void 0&&i(m,g)?(f=d,m):(f=d,l=g)}var c=!1,f,l,u=n===void 0?null:n;return[function(){return s(t())},u===null?void 0:function(){return s(u())}]},[t,n,r,i]);var o=T9(e,a[0],a[1]);return _9(function(){h.hasValue=!0,h.value=o},[o]),N9(o),o};var j9=w.version.startsWith("19"),O9=Symbol.for(j9?"react.transitional.element":"react.element"),A9=Symbol.for("react.portal"),D9=Symbol.for("react.fragment"),k9=Symbol.for("react.strict_mode"),R9=Symbol.for("react.profiler"),M9=Symbol.for("react.consumer"),I9=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),L9=Symbol.for("react.suspense"),F9=Symbol.for("react.suspense_list"),Vy=Symbol.for("react.memo"),B9=Symbol.for("react.lazy"),V9=uA,z9=Vy;function W9(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case O9:switch(e=e.type,e){case D9:case R9:case k9:case L9:case F9:return e;default:switch(e=e&&e.$$typeof,e){case I9:case uA:case B9:case Vy:return e;case M9:return e;default:return t}}case A9:return t}}}function U9(e){return W9(e)===Vy}function $9(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:h}){let o=!1,s,c,f,l,u;function d(x,b){return s=x,c=b,f=e(s,c),l=t(r,c),u=n(f,l,c),o=!0,u}function m(){return f=e(s,c),t.dependsOnOwnProps&&(l=t(r,c)),u=n(f,l,c),u}function g(){return e.dependsOnOwnProps&&(f=e(s,c)),t.dependsOnOwnProps&&(l=t(r,c)),u=n(f,l,c),u}function p(){const x=e(s,c),b=!h(x,f);return f=x,b&&(u=n(f,l,c)),u}function y(x,b){const S=!a(b,c),C=!i(x,s,b,c);return s=x,c=b,S&&C?m():S?g():C?p():u}return function(b,S){return o?y(b,S):d(b,S)}}function H9(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),h=n(e,i),o=r(e,i);return $9(a,h,o,e,i)}function G9(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Qm(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function sS(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function dA(e,t){return function(r,{displayName:i}){const a=function(o,s){return a.dependsOnOwnProps?a.mapToProps(o,s):a.mapToProps(o,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(o,s){a.mapToProps=e,a.dependsOnOwnProps=sS(e);let c=a(o,s);return typeof c=="function"&&(a.mapToProps=c,a.dependsOnOwnProps=sS(c),c=a(o,s)),c},a}}function zy(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Y9(e){return e&&typeof e=="object"?Qm(t=>G9(e,t)):e?typeof e=="function"?dA(e):zy(e,"mapDispatchToProps"):Qm(t=>({dispatch:t}))}function X9(e){return e?typeof e=="function"?dA(e):zy(e,"mapStateToProps"):Qm(()=>({}))}function K9(e,t,n){return{...n,...e,...t}}function q9(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,h;return function(s,c,f){const l=e(s,c,f);return a?i(l,h)||(h=l):(a=!0,h=l),h}}}function Q9(e){return e?typeof e=="function"?q9(e):zy(e,"mergeProps"):()=>K9}function J9(e){e()}function Z9(){let e=null,t=null;return{clear(){e=null,t=null},notify(){J9(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oS={notify(){},get:()=>[]};function fA(e,t){let n,r=oS,i=0,a=!1;function h(g){f();const p=r.subscribe(g);let y=!1;return()=>{y||(y=!0,p(),l())}}function o(){r.notify()}function s(){m.onStateChange&&m.onStateChange()}function c(){return a}function f(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=Z9())}function l(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oS)}function u(){a||(a=!0,f())}function d(){a&&(a=!1,l())}const m={addNestedSub:h,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:c,trySubscribe:u,tryUnsubscribe:d,getListeners:()=>r};return m}var e7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t7=e7(),n7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r7=n7(),i7=()=>t7||r7?w.useLayoutEffect:w.useEffect,cd=i7();function aS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function $h(e,t){if(aS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!aS(e[n[i]],t[n[i]]))return!1;return!0}var s7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l7={[V9]:a7,[z9]:hA};function lS(e){return U9(e)?hA:l7[e.$$typeof]||s7}var c7=Object.defineProperty,u7=Object.getOwnPropertyNames,cS=Object.getOwnPropertySymbols,d7=Object.getOwnPropertyDescriptor,f7=Object.getPrototypeOf,uS=Object.prototype;function Jm(e,t){if(typeof t!="string"){if(uS){const a=f7(t);a&&a!==uS&&Jm(e,a)}let n=u7(t);cS&&(n=n.concat(cS(t)));const r=lS(e),i=lS(t);for(let a=0;a<n.length;++a){const h=n[a];if(!o7[h]&&!(i&&i[h])&&!(r&&r[h])){const o=d7(t,h);try{c7(e,h,o)}catch{}}}}return e}var Hh=Symbol.for("react-redux-context"),Gh=typeof globalThis<"u"?globalThis:{};function h7(){if(!w.createContext)return{};const e=Gh[Hh]??(Gh[Hh]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var pA=h7(),p7=[null,null];function m7(e,t,n){cd(()=>e(...t),n)}function g7(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function v7(e,t,n,r,i,a,h,o,s,c,f){if(!e)return()=>{};let l=!1,u=null;const d=()=>{if(l||!o.current)return;const g=t.getState();let p,y;try{p=r(g,i.current)}catch(x){y=x,u=x}y||(u=null),p===a.current?h.current||c():(a.current=p,s.current=p,h.current=!0,f())};return n.onStateChange=d,n.trySubscribe(),d(),()=>{if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}function y7(e,t){return e===t}function x7(e,t,n,{pure:r,areStatesEqual:i=y7,areOwnPropsEqual:a=$h,areStatePropsEqual:h=$h,areMergedPropsEqual:o=$h,forwardRef:s=!1,context:c=pA}={}){const f=c,l=X9(e),u=Y9(t),d=Q9(n),m=!!e;return p=>{const y=p.displayName||p.name||"Component",x=`Connect(${y})`,b={shouldHandleStateChanges:m,displayName:x,wrappedComponentName:y,WrappedComponent:p,initMapStateToProps:l,initMapDispatchToProps:u,initMergeProps:d,areStatesEqual:i,areStatePropsEqual:h,areOwnPropsEqual:a,areMergedPropsEqual:o};function S(E){const[P,k,A]=w.useMemo(()=>{const{reactReduxForwardedRef:te,...H}=E;return[E.context,te,H]},[E]),B=w.useMemo(()=>{let te=f;return P!=null&&P.Consumer,te},[P,f]),z=w.useContext(B),q=!!E.store&&!!E.store.getState&&!!E.store.dispatch,L=!!z&&!!z.store,W=q?E.store:z.store,J=L?z.getServerState:W.getState,G=w.useMemo(()=>H9(W.dispatch,b),[W]),[M,_]=w.useMemo(()=>{if(!m)return p7;const te=fA(W,q?void 0:z.subscription),H=te.notifyNestedSubs.bind(te);return[te,H]},[W,q,z]),N=w.useMemo(()=>q?z:{...z,subscription:M},[q,z,M]),O=w.useRef(void 0),D=w.useRef(A),$=w.useRef(void 0),R=w.useRef(!1),j=w.useRef(!1),F=w.useRef(void 0);cd(()=>(j.current=!0,()=>{j.current=!1}),[]);const I=w.useMemo(()=>()=>$.current&&A===D.current?$.current:G(W.getState(),A),[W,A]),Y=w.useMemo(()=>H=>M?v7(m,W,M,G,D,O,R,j,$,_,H):()=>{},[M]);m7(g7,[D,O,R,A,$,_]);let U;try{U=w.useSyncExternalStore(Y,I,J?()=>G(J(),A):I)}catch(te){throw F.current&&(te.message+=`
The error may be correlated with this previous error:
${F.current.stack}

`),te}cd(()=>{F.current=void 0,$.current=void 0,O.current=U});const Q=w.useMemo(()=>w.createElement(p,{...U,ref:k}),[k,p,U]);return w.useMemo(()=>m?w.createElement(B.Provider,{value:N},Q):Q,[B,Q,N])}const T=w.memo(S);if(T.WrappedComponent=p,T.displayName=S.displayName=x,s){const P=w.forwardRef(function(A,B){return w.createElement(T,{...A,reactReduxForwardedRef:B})});return P.displayName=x,P.WrappedComponent=p,Jm(P,p)}return Jm(T,p)}}var mA=x7;function b7(e){const{children:t,context:n,serverState:r,store:i}=e,a=w.useMemo(()=>{const s=fA(i);return{store:i,subscription:s,getServerState:r?()=>r:void 0}},[i,r]),h=w.useMemo(()=>i.getState(),[i]);cd(()=>{const{subscription:s}=a;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),h!==i.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[a,h]);const o=n||pA;return w.createElement(o.Provider,{value:a},t)}var w7=b7,S7="Invariant failed";function C7(e,t){throw new Error(S7)}var Rn=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,h=r-a,o=i-n,s={top:n,right:r,bottom:i,left:a,width:h,height:o,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return s},Wy=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},dS=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},T7=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Yh={top:0,right:0,bottom:0,left:0},Uy=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Yh:r,a=t.border,h=a===void 0?Yh:a,o=t.padding,s=o===void 0?Yh:o,c=Rn(Wy(n,i)),f=Rn(dS(n,h)),l=Rn(dS(f,s));return{marginBox:c,borderBox:Rn(n),paddingBox:f,contentBox:l,margin:i,border:h,padding:s}},cn=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&C7(),i},E7=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ud=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,h=t.padding,o=T7(r,n);return Uy({borderBox:o,border:i,margin:a,padding:h})},dd=function(t,n){return n===void 0&&(n=E7()),ud(t,n)},gA=function(t,n){var r={top:cn(n.marginTop),right:cn(n.marginRight),bottom:cn(n.marginBottom),left:cn(n.marginLeft)},i={top:cn(n.paddingTop),right:cn(n.paddingRight),bottom:cn(n.paddingBottom),left:cn(n.paddingLeft)},a={top:cn(n.borderTopWidth),right:cn(n.borderRightWidth),bottom:cn(n.borderBottomWidth),left:cn(n.borderLeftWidth)};return Uy({borderBox:t,margin:r,padding:i,border:a})},vA=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return gA(n,r)},Sl=function(t){var n=[],r=null,i=function(){for(var h=arguments.length,o=new Array(h),s=0;s<h;s++)o[s]=arguments[s];n=o,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(null,arguments)}function yA(e,t){}yA.bind(null,"warn");yA.bind(null,"error");function fi(){}function _7(e,t){return{...e,...t}}function vn(e,t,n){const r=t.map(i=>{const a=_7(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const P7="Invariant failed";class hd extends Error{}hd.prototype.toString=function(){return this.message};function ce(e,t){throw new hd(P7)}class N7 extends ae.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=fi,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof hd&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=vn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof hd){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const j7=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pd=e=>e+1,O7=e=>`
  You have lifted an item in position ${pd(e.source.index)}
`,xA=(e,t)=>{const n=e.droppableId===t.droppableId,r=pd(e.index),i=pd(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},bA=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,A7=e=>{const t=e.destination;if(t)return xA(e.source,t);const n=e.combine;return n?bA(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},fS=e=>`
  The item has returned to its starting position
  of ${pd(e.index)}
`,D7=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${fS(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${xA(e.source,t)}
    `:n?`
      You have dropped the item.
      ${bA(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${fS(e.source)}
  `},du={dragHandleUsageInstructions:j7,onDragStart:O7,onDragUpdate:A7,onDragEnd:D7};function k7(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function wA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!k7(e[n],t[n]))return!1;return!0}function Ne(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),h=r.current||!!(t&&i.current.inputs&&wA(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=h},[h]),h.result}function me(e,t){return Ne(()=>e,t)}const mt={x:0,y:0},yt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Qt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),hi=(e,t)=>e.x===t.x&&e.y===t.y,Qo=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),hs=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Cl=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),hS=(e,t)=>Math.min(...t.map(n=>Cl(e,n))),SA=e=>t=>({x:e(t.x),y:e(t.y)});var R7=(e,t)=>{const n=Rn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ic=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),pS=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],M7={top:0,right:0,bottom:0,left:0},I7=(e,t)=>t?ic(e,t.scroll.diff.displacement):e,L7=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,F7=(e,t)=>t&&t.shouldClipSubject?R7(t.pageMarginBox,e):Rn(e);var ko=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=I7(e.marginBox,r),a=L7(i,n,t),h=F7(a,r);return{page:e,withPlaceholder:t,active:h}},$y=(e,t)=>{e.frame||ce();const n=e.frame,r=Qt(t,n.scroll.initial),i=Qo(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},h=ko({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:h}};function pt(e,t=wA){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const CA=pt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),TA=pt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Ef=pt(e=>Object.values(e)),B7=pt(e=>Object.values(e));var Jo=pt((e,t)=>B7(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Hy(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function _f(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Pf=pt((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),V7=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Hy(i))return null;function h(d){const m={type:"COMBINE",combine:{draggableId:d,droppableId:n.descriptor.id}};return{...i,at:m}}const o=i.displaced.all,s=o.length?o[0]:null;if(e)return s?h(s):null;const c=Pf(t,r);if(!s){if(!c.length)return null;const d=c[c.length-1];return h(d.descriptor.id)}const f=c.findIndex(d=>d.descriptor.id===s);f===-1&&ce();const l=f-1;if(l<0)return null;const u=c[l];return h(u.descriptor.id)},Zo=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const EA={point:mt,value:0},Tl={invisible:{},visible:{},all:[]},z7={displaced:Tl,displacedBy:EA,at:null};var wn=(e,t)=>n=>e<=n&&n<=t,_A=e=>{const t=wn(e.top,e.bottom),n=wn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),h=n(r.left)||n(r.right);if(a&&h)return!0;const s=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return s&&c?!0:s&&h||c&&a}},W7=e=>{const t=wn(e.top,e.bottom),n=wn(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Gy={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},PA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var U7=e=>t=>{const n=wn(t.top,t.bottom),r=wn(t.left,t.right);return i=>e===Gy?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const $7=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:mt;return ic(e,n)},H7=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,G7=(e,t,n)=>n(t)(e),Yy=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?$7(e,t):e;return H7(a,t,i)&&G7(a,n,i)},Y7=e=>Yy({...e,isVisibleThroughFrameFn:_A}),NA=e=>Yy({...e,isVisibleThroughFrameFn:W7}),X7=e=>Yy({...e,isVisibleThroughFrameFn:U7(e.destination.axis)}),K7=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function q7(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Rn(Wy(n,r))}function El({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(o,s){const c=q7(s,n),f=s.descriptor.id;if(o.all.push(f),!Y7({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return o.invisible[s.descriptor.id]=!0,o;const u=K7(f,a,i),d={draggableId:f,shouldAnimate:u};return o.visible[f]=d,o},{all:[],visible:{},invisible:{}})}function Q7(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function mS({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=Q7(e,{inHomeList:t});return{displaced:Tl,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function md({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:h,forceShouldAnimate:o}){const s=Zo(e,n);if(h==null)return mS({insideDestination:t,inHomeList:s,displacedBy:i,destination:n});const c=t.find(m=>m.descriptor.index===h);if(!c)return mS({insideDestination:t,inHomeList:s,displacedBy:i,destination:n});const f=Pf(e,t),l=t.indexOf(c),u=f.slice(l);return{displaced:El({afterDragging:u,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:o}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:h}}}}function wi(e,t){return!!t.effected[e]}var J7=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,o=n[a].descriptor.index;return wi(a,i)?e?o:o-1:e?o+1:o},Z7=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,h=n[0].descriptor.index,o=n[n.length-1].descriptor.index,s=t?o:o+1;return a<h||a>s?null:a},eK=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:h,viewport:o,afterCritical:s})=>{const c=h.at;if(c||ce(),c.type==="REORDER"){const l=Z7({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return l==null?null:md({draggable:n,insideDestination:a,destination:i,viewport:o,last:h.displaced,displacedBy:h.displacedBy,index:l})}const f=J7({isMovingForward:e,destination:i,displaced:h.displaced,draggables:r,combine:c.combine,afterCritical:s});return f==null?null:md({draggable:n,insideDestination:a,destination:i,viewport:o,last:h.displaced,displacedBy:h.displacedBy,index:f})},tK=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return wi(n,t)?i?mt:Qo(r.point):i?r.point:mt},nK=({afterCritical:e,impact:t,draggables:n})=>{const r=_f(t);r||ce();const i=r.draggableId,a=n[i].page.borderBox.center,h=tK({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return yt(a,h)};const jA=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,rK=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Xy=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,gS=({axis:e,moveRelativeTo:t,isMoving:n})=>hs(e.line,t.marginBox[e.end]+jA(e,n),Xy(e,t.marginBox,n)),vS=({axis:e,moveRelativeTo:t,isMoving:n})=>hs(e.line,t.marginBox[e.start]-rK(e,n),Xy(e,t.marginBox,n)),iK=({axis:e,moveInto:t,isMoving:n})=>hs(e.line,t.contentBox[e.start]+jA(e,n),Xy(e,t.contentBox,n));var sK=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Jo(r.descriptor.id,n),h=t.page,o=r.axis;if(!a.length)return iK({axis:o,moveInto:r.page,isMoving:h});const{displaced:s,displacedBy:c}=e,f=s.all[0];if(f){const u=n[f];if(wi(f,i))return vS({axis:o,moveRelativeTo:u.page,isMoving:h});const d=ud(u.page,c.point);return vS({axis:o,moveRelativeTo:d,isMoving:h})}const l=a[a.length-1];if(l.descriptor.id===t.descriptor.id)return h.borderBox.center;if(wi(l.descriptor.id,i)){const u=ud(l.page,Qo(i.displacedBy.point));return gS({axis:o,moveRelativeTo:u,isMoving:h})}return gS({axis:o,moveRelativeTo:l.page,isMoving:h})},Zm=(e,t)=>{const n=e.frame;return n?yt(t,n.scroll.diff.displacement):t};const oK=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,h=e.at;return!n||!h?a:h.type==="REORDER"?sK({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):nK({impact:e,draggables:r,afterCritical:i})};var Nf=e=>{const t=oK(e),n=e.droppable;return n?Zm(n,t):t},OA=(e,t)=>{const n=Qt(t,e.scroll.initial),r=Qo(n);return{frame:Rn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function yS(e,t){return e.map(n=>t[n])}function aK(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var lK=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=OA(t,yt(t.scroll.current,i)),h=n.frame?$y(n,yt(n.frame.scroll.current,i)):n,o=e.displaced,s=El({afterDragging:yS(o.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:o,forceShouldAnimate:!1}),c=El({afterDragging:yS(o.all,r),destination:h,displacedBy:e.displacedBy,viewport:t.frame,last:o,forceShouldAnimate:!1}),f={},l={},u=[o,s,c];return o.all.forEach(m=>{const g=aK(m,u);if(g){l[m]=g;return}f[m]=!0}),{...e,displaced:{all:o.all,invisible:f,visible:l}}},cK=(e,t)=>yt(e.scroll.diff.displacement,t),Ky=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=cK(n,e),i=Qt(r,t.page.borderBox.center);return yt(t.client.borderBox.center,i)},AA=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const h=Qt(n,e.page.borderBox.center),s={target:ic(e.page.borderBox,h),destination:t,withDroppableDisplacement:i,viewport:r};return a?X7(s):NA(s)},uK=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:h,previousClientSelection:o,afterCritical:s})=>{if(!n.isEnabled)return null;const c=Jo(n.descriptor.id,r),f=Zo(t,n),l=V7({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||eK({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:a,afterCritical:s});if(!l)return null;const u=Nf({impact:l,draggable:t,droppable:n,draggables:r,afterCritical:s});if(AA({draggable:t,destination:n,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ky({pageBorderBoxCenter:u,draggable:t,viewport:a}),impact:l,scrollJumpRequest:null};const m=Qt(u,h),g=lK({impact:l,viewport:a,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:o,impact:g,scrollJumpRequest:m}};const jt=e=>{const t=e.subject.active;return t||ce(),t};var dK=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const h=n.axis,o=wn(a[h.start],a[h.end]),s=Ef(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>_A(i.frame)(jt(f))).filter(f=>{const l=jt(f);return e?a[h.crossAxisEnd]<l[h.crossAxisEnd]:l[h.crossAxisStart]<a[h.crossAxisStart]}).filter(f=>{const l=jt(f),u=wn(l[h.start],l[h.end]);return o(l[h.start])||o(l[h.end])||u(a[h.start])||u(a[h.end])}).sort((f,l)=>{const u=jt(f)[h.crossAxisStart],d=jt(l)[h.crossAxisStart];return e?u-d:d-u}).filter((f,l,u)=>jt(f)[h.crossAxisStart]===jt(u[0])[h.crossAxisStart]);if(!s.length)return null;if(s.length===1)return s[0];const c=s.filter(f=>wn(jt(f)[h.start],jt(f)[h.end])(t[h.line]));return c.length===1?c[0]:c.length>1?c.sort((f,l)=>jt(f)[h.start]-jt(l)[h.start])[0]:s.sort((f,l)=>{const u=hS(t,pS(jt(f))),d=hS(t,pS(jt(l)));return u!==d?u-d:jt(f)[h.start]-jt(l)[h.start]})[0]};const xS=(e,t)=>{const n=e.page.borderBox.center;return wi(e.descriptor.id,t)?Qt(n,t.displacedBy.point):n},fK=(e,t)=>{const n=e.page.borderBox;return wi(e.descriptor.id,t)?ic(n,Qo(t.displacedBy.point)):n};var hK=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(h=>NA({target:fK(h,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((h,o)=>{const s=Cl(e,Zm(n,xS(h,i))),c=Cl(e,Zm(n,xS(o,i)));return s<c?-1:c<s?1:h.descriptor.index-o.descriptor.index})[0]||null,sc=pt(function(t,n){const r=n[t.line];return{value:r,point:hs(t.line,r)}});const pK=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return hs(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],s=Jo(e.descriptor.id,n).reduce((c,f)=>c+f.client.marginBox[r.size],0)+t[r.line]-i;return s<=0?null:hs(r.line,s)},DA=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),kA=(e,t,n)=>{const r=e.frame;Zo(t,e)&&ce(),e.subject.withPlaceholder&&ce();const i=sc(e.axis,t.displaceBy).point,a=pK(e,i,n),h={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=ko({page:e.subject.page,withPlaceholder:h,axis:e.axis,frame:e.frame});return{...e,subject:f}}const o=a?yt(r.scroll.max,a):r.scroll.max,s=DA(r,o),c=ko({page:e.subject.page,withPlaceholder:h,axis:e.axis,frame:s});return{...e,subject:c,frame:s}},mK=e=>{const t=e.subject.withPlaceholder;t||ce();const n=e.frame;if(!n){const h=ko({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:h}}const r=t.oldFrameMaxScroll;r||ce();const i=DA(n,r),a=ko({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var gK=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:h,afterCritical:o})=>{if(!t){if(n.length)return null;const l={displaced:Tl,displacedBy:EA,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Nf({impact:l,draggable:r,droppable:a,draggables:i,afterCritical:o}),d=Zo(r,a)?a:kA(a,r,i);return AA({draggable:r,destination:d,newPageBorderBoxCenter:u,viewport:h.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}const s=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],c=(()=>{const l=t.descriptor.index;return t.descriptor.id===r.descriptor.id||s?l:l+1})(),f=sc(a.axis,r.displaceBy);return md({draggable:r,insideDestination:n,destination:a,viewport:h,displacedBy:f,last:Tl,index:c})},vK=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:h,afterCritical:o})=>{const s=dK({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:h});if(!s)return null;const c=Jo(s.descriptor.id,i),f=hK({pageBorderBoxCenter:t,viewport:h,destination:s,insideDestination:c,afterCritical:o}),l=gK({previousPageBorderBoxCenter:t,destination:s,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:c,viewport:h,afterCritical:o});if(!l)return null;const u=Nf({impact:l,draggable:n,droppable:s,draggables:i,afterCritical:o});return{clientSelection:Ky({pageBorderBoxCenter:u,draggable:n,viewport:h}),impact:l,scrollJumpRequest:null}},tn=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const yK=(e,t)=>{const n=tn(e);return n?t[n]:null};var xK=({state:e,type:t})=>{const n=yK(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,h=a.axis.direction,o=h==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||h==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(o&&!r)return null;const s=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:l,droppables:u}=e.dimensions;return o?uK({isMovingForward:s,previousPageBorderBoxCenter:f,draggable:c,destination:a,draggables:l,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):vK({isMovingForward:s,previousPageBorderBoxCenter:f,draggable:c,isOver:a,draggables:l,droppables:u,viewport:e.viewport,afterCritical:e.afterCritical})};function Bi(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function RA(e){const t=wn(e.top,e.bottom),n=wn(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function bK(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function wK({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const h=a.axis,o=hs(a.axis.line,e.center[h.line],a.page.borderBox.center[h.crossAxisLine]);return{id:a.descriptor.id,distance:Cl(r,o)}}).sort((a,h)=>h.distance-a.distance);return i[0]?i[0].id:null}function SK({pageBorderBox:e,draggable:t,droppables:n}){const r=Ef(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!bK(e,a))return!1;if(RA(a)(e.center))return!0;const h=i.axis,o=a.center[h.crossAxisLine],s=e[h.crossAxisStart],c=e[h.crossAxisEnd],f=wn(a[h.crossAxisStart],a[h.crossAxisEnd]),l=f(s),u=f(c);return!l&&!u?!0:l?s<o:c>o});return r.length?r.length===1?r[0].descriptor.id:wK({pageBorderBox:e,draggable:t,candidates:r}):null}const MA=(e,t)=>Rn(ic(e,t));var CK=(e,t)=>{const n=e.frame;return n?MA(t,n.scroll.diff.value):t};function IA({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function TK({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var EK=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:h})=>{const o=n.axis,s=sc(n.axis,t.displaceBy),c=s.value,f=e[o.start],l=e[o.end],d=Pf(t,r).find(g=>{const p=g.descriptor.id,y=g.page.borderBox.center[o.line],x=wi(p,h),b=IA({displaced:i,id:p});return x?b?l<=y:f<y-c:b?l<=y+c:f<y})||null,m=TK({draggable:t,closest:d,inHomeList:Zo(t,n)});return md({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:s,index:m})};const _K=4;var PK=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const h=r.axis,o=sc(r.axis,e.displaceBy),s=o.value,c=t[h.start],f=t[h.end],u=Pf(e,i).find(m=>{const g=m.descriptor.id,p=m.page.borderBox,x=p[h.size]/_K,b=wi(g,a),S=IA({displaced:n.displaced,id:g});return b?S?f>p[h.start]+x&&f<p[h.end]-x:c>p[h.start]-s+x&&c<p[h.end]-s-x:S?f>p[h.start]+s+x&&f<p[h.end]+s-x:c>p[h.start]+x&&c<p[h.end]-x});return u?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:r.descriptor.id}}}:null},LA=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:h})=>{const o=MA(t.page.borderBox,e),s=SK({pageBorderBox:o,draggable:t,droppables:r});if(!s)return z7;const c=r[s],f=Jo(c.descriptor.id,n),l=CK(c,o);return PK({pageBorderBoxWithDroppableScroll:l,draggable:t,previousImpact:i,destination:c,insideDestination:f,afterCritical:h})||EK({pageBorderBoxWithDroppableScroll:l,draggable:t,destination:c,insideDestination:f,last:i.displaced,viewport:a,afterCritical:h})},qy=(e,t)=>({...e,[t.descriptor.id]:t});const NK=({previousImpact:e,impact:t,droppables:n})=>{const r=tn(e),i=tn(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const h=mK(a);return qy(n,h)};var jK=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=NK({previousImpact:r,impact:i,droppables:n}),h=tn(i);if(!h)return a;const o=n[h];if(Zo(e,o)||o.subject.withPlaceholder)return a;const s=kA(o,e,t);return qy(a,s)},za=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const h=r||e.viewport,o=n||e.dimensions,s=t||e.current.client.selection,c=Qt(s,e.initial.client.selection),f={offset:c,selection:s,borderBoxCenter:yt(e.initial.client.borderBoxCenter,c)},l={selection:yt(f.selection,h.scroll.current),borderBoxCenter:yt(f.borderBoxCenter,h.scroll.current),offset:yt(f.offset,h.scroll.diff.value)},u={client:f,page:l};if(e.phase==="COLLECTING")return{...e,dimensions:o,viewport:h,current:u};const d=o.draggables[e.critical.draggable.id],m=i||LA({pageOffset:l.offset,draggable:d,draggables:o.draggables,droppables:o.droppables,previousImpact:e.impact,viewport:h,afterCritical:e.afterCritical}),g=jK({draggable:d,impact:m,previousImpact:e.impact,draggables:o.draggables,droppables:o.droppables});return{...e,current:u,dimensions:{draggables:o.draggables,droppables:g},impact:m,viewport:h,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function OK(e,t){return e.map(n=>t[n])}var FA=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,h=OK(a.all,n),o=El({afterDragging:h,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:o}},BA=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const h=Nf({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return Ky({pageBorderBoxCenter:h,draggable:t,viewport:i})},VA=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&ce();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:h,droppables:o}=a,s=h[e.critical.draggable.id],c=tn(r);c||ce();const f=o[c],l=FA({impact:r,viewport:i,destination:f,draggables:h}),u=BA({impact:l,draggable:s,droppable:f,draggables:h,viewport:i,afterCritical:e.afterCritical});return za({impact:l,clientSelection:u,state:e,dimensions:a,viewport:i})},AK=e=>({index:e.index,droppableId:e.droppableId}),zA=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=sc(t.axis,e.displaceBy),a=Jo(t.descriptor.id,n),h=a.indexOf(e);h===-1&&ce();const o=a.slice(h+1),s=o.reduce((u,d)=>(u[d.descriptor.id]=!0,u),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:s};return{impact:{displaced:El({afterDragging:o,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:AK(e.descriptor)}},afterCritical:c}},DK=(e,t)=>({draggables:e.draggables,droppables:qy(e.droppables,t)}),kK=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=ud(e.client,t),i=dd(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},RK=e=>{const t=e.frame;return t||ce(),t},MK=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,h=t[a],s=RK(h).scroll.diff.value,c=yt(r,s);return kK({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},IK=({state:e,published:t})=>{const n=t.modified.map(y=>{const x=e.dimensions.droppables[y.droppableId];return $y(x,y.scroll)}),r={...e.dimensions.droppables,...CA(n)},i=TA(MK({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(y=>{delete a[y]});const h={droppables:r,draggables:a},o=tn(e.impact),s=o?h.droppables[o]:null,c=h.draggables[e.critical.draggable.id],f=h.droppables[e.critical.droppable.id],{impact:l,afterCritical:u}=zA({draggable:c,home:f,draggables:a,viewport:e.viewport}),d=s&&s.isCombineEnabled?e.impact:l,m=LA({pageOffset:e.current.page.offset,draggable:h.draggables[e.critical.draggable.id],draggables:h.draggables,droppables:h.droppables,previousImpact:d,viewport:e.viewport,afterCritical:u}),g={...e,phase:"DRAGGING",impact:m,onLiftImpact:l,dimensions:h,afterCritical:u,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const eg=e=>e.movementMode==="SNAP",Xh=(e,t,n)=>{const r=DK(e.dimensions,t);return!eg(e)||n?za({state:e,dimensions:r}):VA({state:e,dimensions:r})};function Kh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const bS={phase:"IDLE",completed:null,shouldFlush:!1};var LK=(e=bS,t)=>{if(t.type==="FLUSH")return{...bS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ce();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:h}=t.payload,o=a.draggables[n.draggable.id],s=a.droppables[n.droppable.id],c={selection:r,borderBoxCenter:o.client.borderBox.center,offset:mt},f={client:c,page:{selection:yt(c.selection,i.scroll.initial),borderBoxCenter:yt(c.selection,i.scroll.initial),offset:yt(c.selection,i.scroll.diff.value)}},l=Ef(a.droppables).every(g=>!g.isFixedOnPage),{impact:u,afterCritical:d}=zA({draggable:o,home:s,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:h,dimensions:a,initial:f,current:f,isWindowScrollAllowed:l,impact:u,afterCritical:d,onLiftImpact:u,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&ce(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ce(),IK({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Bi(e)||ce();const{client:n}=t.payload;return hi(n,e.current.client.selection)?e:za({state:e,clientSelection:n,impact:eg(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Kh(e);Bi(e)||ce();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=$y(i,r);return Xh(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bi(e)||ce();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ce(),i.isEnabled===r&&ce();const a={...i,isEnabled:r};return Xh(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bi(e)||ce();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ce(),i.isCombineEnabled===r&&ce();const a={...i,isCombineEnabled:r};return Xh(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Bi(e)||ce(),e.isWindowScrollAllowed||ce();const n=t.payload.newScroll;if(hi(e.viewport.scroll.current,n))return Kh(e);const r=OA(e.viewport,n);return eg(e)?VA({state:e,viewport:r}):za({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bi(e))return e;const n=t.payload.maxScroll;if(hi(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce();const n=xK({state:e,type:t.type});return n?za({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&ce(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ce(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Re(e,t){return e instanceof Object&&"type"in e&&e.type===t}const FK=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),BK=e=>({type:"LIFT",payload:e}),VK=e=>({type:"INITIAL_PUBLISH",payload:e}),zK=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),WK=()=>({type:"COLLECTION_STARTING",payload:null}),UK=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),$K=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),HK=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),WA=e=>({type:"MOVE",payload:e}),GK=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),YK=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),XK=()=>({type:"MOVE_UP",payload:null}),KK=()=>({type:"MOVE_DOWN",payload:null}),qK=()=>({type:"MOVE_RIGHT",payload:null}),QK=()=>({type:"MOVE_LEFT",payload:null}),Qy=()=>({type:"FLUSH",payload:null}),JK=e=>({type:"DROP_ANIMATE",payload:e}),Jy=e=>({type:"DROP_COMPLETE",payload:e}),UA=e=>({type:"DROP",payload:e}),ZK=e=>({type:"DROP_PENDING",payload:e}),$A=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var eq=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Re(i,"LIFT")){r(i);return}const{id:a,clientSelection:h,movementMode:o}=i.payload,s=t();s.phase==="DROP_ANIMATING"&&n(Jy({completed:s.completed})),t().phase!=="IDLE"&&ce(),n(Qy()),n(FK({draggableId:a,movementMode:o}));const f={draggableId:a,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:l,dimensions:u,viewport:d}=e.startPublishing(f);n(VK({critical:l,dimensions:u,clientSelection:h,movementMode:o,viewport:d}))},tq=e=>()=>t=>n=>{Re(n,"INITIAL_PUBLISH")&&e.dragging(),Re(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Re(n,"FLUSH")||Re(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Zy={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_l={opacity:{drop:0,combining:.7},scale:{drop:.75}},HA={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ki=`${HA.outOfTheWay}s ${Zy.outOfTheWay}`,Wa={fluid:`opacity ${ki}`,snap:`transform ${ki}, opacity ${ki}`,drop:e=>{const t=`${e}s ${Zy.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ki}`,placeholder:`height ${ki}, width ${ki}, margin ${ki}`},wS=e=>hi(e,mt)?void 0:`translate(${e.x}px, ${e.y}px)`,tg={moveTo:wS,drop:(e,t)=>{const n=wS(e);if(n)return t?`${n} scale(${_l.scale.drop})`:n}},{minDropTime:ng,maxDropTime:GA}=HA,nq=GA-ng,SS=1500,rq=.6;var iq=({current:e,destination:t,reason:n})=>{const r=Cl(e,t);if(r<=0)return ng;if(r>=SS)return GA;const i=r/SS,a=ng+nq*i,h=n==="CANCEL"?a*rq:a;return Number(h.toFixed(2))},sq=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:h}=n,o=tn(e),s=o?h[o]:null,c=h[t.descriptor.droppableId],f=BA({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:s||c,viewport:r});return Qt(f,t.client.borderBox.center)},oq=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:FA({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Tl},didDropInsideDroppable:!0};const aq=({getState:e,dispatch:t})=>n=>r=>{if(!Re(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(ZK({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ce(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ce();const o=i.critical,s=i.dimensions,c=s.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:l}=oq({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=l?Hy(f):null,d=l?_f(f):null,m={index:o.draggable.index,droppableId:o.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:a,mode:i.movementMode,destination:u,combine:d},p=sq({impact:f,draggable:c,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:f};if(!(!hi(i.current.client.offset,p)||!!g.combine)){t(Jy({completed:y}));return}const b=iq({current:i.current.client.offset,destination:p,reason:a});t(JK({newHomeClientOffset:p,dropDuration:b,completed:y}))};var YA=()=>({x:window.pageXOffset,y:window.pageYOffset});function lq(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function cq({onWindowScroll:e}){function t(){e(YA())}const n=Sl(t),r=lq(n);let i=fi;function a(){return i!==fi}function h(){a()&&ce(),i=vn(window,[r])}function o(){a()||ce(),n.cancel(),i(),i=fi}return{start:h,stop:o,isActive:a}}const uq=e=>Re(e,"DROP_COMPLETE")||Re(e,"DROP_ANIMATE")||Re(e,"FLUSH"),dq=e=>{const t=cq({onWindowScroll:n=>{e.dispatch(GK({newScroll:n}))}});return n=>r=>{!t.isActive()&&Re(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&uq(r)&&t.stop(),n(r)}};var fq=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},hq=()=>{const e=[],t=i=>{const a=e.findIndex(o=>o.timerId===i);a===-1&&ce();const[h]=e.splice(a,1);h.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),h={timerId:a,callback:i};e.push(h)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const pq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,mq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,gq=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},pa=(e,t)=>{t()},Vc=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function qh(e,t,n,r){if(!e){n(r(t));return}const i=fq(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var vq=(e,t)=>{const n=hq();let r=null;const i=(l,u)=>{r&&ce(),pa("onBeforeCapture",()=>{const d=e().onBeforeCapture;d&&d({draggableId:l,mode:u})})},a=(l,u)=>{r&&ce(),pa("onBeforeDragStart",()=>{const d=e().onBeforeDragStart;d&&d(Vc(l,u))})},h=(l,u)=>{r&&ce();const d=Vc(l,u);r={mode:u,lastCritical:l,lastLocation:d.source,lastCombine:null},n.add(()=>{pa("onDragStart",()=>qh(e().onDragStart,d,t,du.onDragStart))})},o=(l,u)=>{const d=Hy(u),m=_f(u);r||ce();const g=!gq(l,r.lastCritical);g&&(r.lastCritical=l);const p=!pq(r.lastLocation,d);p&&(r.lastLocation=d);const y=!mq(r.lastCombine,m);if(y&&(r.lastCombine=m),!g&&!p&&!y)return;const x={...Vc(l,r.mode),combine:m,destination:d};n.add(()=>{pa("onDragUpdate",()=>qh(e().onDragUpdate,x,t,du.onDragUpdate))})},s=()=>{r||ce(),n.flush()},c=l=>{r||ce(),r=null,pa("onDragEnd",()=>qh(e().onDragEnd,l,t,du.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:h,update:o,flush:s,drop:c,abort:()=>{if(!r)return;const l={...Vc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(l)}}},yq=(e,t)=>{const n=vq(e,t);return r=>i=>a=>{if(Re(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Re(a,"INITIAL_PUBLISH")){const o=a.payload.critical;n.beforeStart(o,a.payload.movementMode),i(a),n.start(o,a.payload.movementMode);return}if(Re(a,"DROP_COMPLETE")){const o=a.payload.completed.result;n.flush(),i(a),n.drop(o);return}if(i(a),Re(a,"FLUSH")){n.abort();return}const h=r.getState();h.phase==="DRAGGING"&&n.update(h.critical,h.impact)}};const xq=e=>t=>n=>{if(!Re(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&ce(),e.dispatch(Jy({completed:r.completed}))},bq=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Re(a,"FLUSH")||Re(a,"DROP_COMPLETE")||Re(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Re(a,"DROP_ANIMATE"))return;const h={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch($A())}};n=requestAnimationFrame(()=>{n=null,t=vn(window,[h])})}};var wq=e=>()=>t=>n=>{(Re(n,"DROP_COMPLETE")||Re(n,"FLUSH")||Re(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Sq=e=>{let t=!1;return()=>n=>r=>{if(Re(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Re(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Re(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Cq=e=>Re(e,"DROP_COMPLETE")||Re(e,"DROP_ANIMATE")||Re(e,"FLUSH");var Tq=e=>t=>n=>r=>{if(Cq(r)){e.stop(),n(r);return}if(Re(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&ce(),e.start(i);return}n(r),e.scroll(t.getState())};const Eq=e=>t=>n=>{if(t(n),!Re(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(UA({reason:r.reason})))},_q=cA;var Pq=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>lA(LK,_q(b9(tq(n),wq(e),eq(e),aq,xq,bq,Eq,Tq(a),dq,Sq(t),yq(r,i))));const Qh=()=>({additions:{},removals:{},modified:{}});function Nq({registry:e,callbacks:t}){let n=Qh(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:s,removals:c,modified:f}=n,l=Object.keys(s).map(m=>e.draggable.getById(m).getDimension(mt)).sort((m,g)=>m.descriptor.index-g.descriptor.index),u=Object.keys(f).map(m=>{const p=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:p}}),d={additions:l,removals:Object.keys(c),modified:u};n=Qh(),t.publish(d)}))};return{add:s=>{const c=s.descriptor.id;n.additions[c]=s,n.modified[s.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:s=>{const c=s.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Qh())}}}var XA=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Qt({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},KA=()=>{const e=document.documentElement;return e||ce(),e},qA=()=>{const e=KA();return XA({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},jq=()=>{const e=YA(),t=qA(),n=e.y,r=e.x,i=KA(),a=i.clientWidth,h=i.clientHeight,o=r+a,s=n+h;return{frame:Rn({top:n,left:r,right:o,bottom:s}),scroll:{initial:e,current:e,max:t,diff:{value:mt,displacement:mt}}}},Oq=({critical:e,scrollOptions:t,registry:n})=>{const r=jq(),i=r.scroll.current,a=e.droppable,h=n.droppable.getAllByType(a.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),o=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:TA(o),droppables:CA(h)},critical:e,viewport:r}};function CS(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Aq=(e,t)=>{let n=null;const r=Nq({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(u,d)=>{e.droppable.exists(u)||ce(),n&&t.updateDroppableIsEnabled({id:u,isEnabled:d})},a=(u,d)=>{n&&(e.droppable.exists(u)||ce(),t.updateDroppableIsCombineEnabled({id:u,isCombineEnabled:d}))},h=(u,d)=>{n&&(e.droppable.exists(u)||ce(),t.updateDroppableScroll({id:u,newScroll:d}))},o=(u,d)=>{n&&e.droppable.getById(u).callbacks.scroll(d)},s=()=>{if(!n)return;r.stop();const u=n.critical.droppable;e.droppable.getAllByType(u.type).forEach(d=>d.callbacks.dragStopped()),n.unsubscribe(),n=null},c=u=>{n||ce();const d=n.critical.draggable;u.type==="ADDITION"&&CS(e,d,u.value)&&r.add(u.value),u.type==="REMOVAL"&&CS(e,d,u.value)&&r.remove(u.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:o,updateDroppableScroll:h,startPublishing:u=>{n&&ce();const d=e.draggable.getById(u.draggableId),m=e.droppable.getById(d.descriptor.droppableId),g={draggable:d.descriptor,droppable:m.descriptor},p=e.subscribe(c);return n={critical:g,unsubscribe:p},Oq({critical:g,registry:e,scrollOptions:u.scrollOptions})},stopPublishing:s}},QA=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Dq=e=>{window.scrollBy(e.x,e.y)};const kq=pt(e=>Ef(e).filter(t=>!(!t.isEnabled||!t.frame))),Rq=(e,t)=>kq(t).find(r=>(r.frame||ce(),RA(r.frame.pageMarginBox)(e)))||null;var Mq=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Rq(e,n)};const Pl={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Iq=(e,t,n=()=>Pl)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},JA=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},ex=1,Lq=(e,t,n=()=>Pl)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return ex;const a=1-JA({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),h=r.maxPixelScroll*r.ease(a);return Math.ceil(h)},Fq=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,h=t,o=a,c=Date.now()-h;if(c>=a)return e;if(c<i)return ex;const f=JA({startOfRange:i,endOfRange:o,current:c}),l=e*r.ease(f);return Math.ceil(l)},TS=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=Lq(e,t,i);return a===0?0:r?Math.max(Fq(a,n,i),ex):a},ES=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const h=Iq(e,r,a);return t[r.end]<t[r.start]?TS({distanceToEdge:t[r.end],thresholds:h,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*TS({distanceToEdge:t[r.start],thresholds:h,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},Bq=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Vq=SA(e=>e===0?0:e);var ZA=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const h={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},o=ES({container:t,distanceToEdges:h,dragStartTime:e,axis:Gy,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),s=ES({container:t,distanceToEdges:h,dragStartTime:e,axis:PA,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=Vq({x:s,y:o});if(hi(c,mt))return null;const f=Bq({container:t,subject:n,proposedScroll:c});return f?hi(f,mt)?null:f:null};const zq=SA(e=>e===0?0:e>0?1:-1),tx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=yt(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return hi(a,mt)?null:a}})(),eD=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=zq(n),a=tx({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},nx=(e,t)=>eD({current:e.scroll.current,max:e.scroll.max,change:t}),Wq=(e,t)=>{if(!nx(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return tx({current:r,max:n,change:t})},rx=(e,t)=>{const n=e.frame;return n?eD({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Uq=(e,t)=>{const n=e.frame;return!n||!rx(e,t)?null:tx({current:n.scroll.current,max:n.scroll.max,change:t})};var $q=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const h=ZA({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return h&&nx(e,h)?h:null},Hq=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const h=e.frame;if(!h)return null;const o=ZA({dragStartTime:r,container:h.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&rx(e,o)?o:null},_S=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const h=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const l=e.viewport,u=$q({dragStartTime:t,viewport:l,subject:s,center:h,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(u){r(u);return}}const c=Mq({center:h,destination:tn(e.impact),droppables:e.dimensions.droppables});if(!c)return;const f=Hq({dragStartTime:t,droppable:c,subject:s,center:h,shouldUseTimeDampening:n,getAutoScrollerOptions:a});f&&i(c.descriptor.id,f)},Gq=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Pl})=>{const r=Sl(e),i=Sl(t);let a=null;const h=c=>{a||ce();const{shouldUseTimeDampening:f,dragStartTime:l}=a;_S({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:l,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:c=>{a&&ce();const f=Date.now();let l=!1;const u=()=>{l=!0};_S({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:u,scrollDroppable:u,getAutoScrollerOptions:n}),a={dragStartTime:f,shouldUseTimeDampening:l},l&&h(c)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:h}},Yq=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(o,s)=>{const c=yt(o.current.client.selection,s);e({client:c})},i=(o,s)=>{if(!rx(o,s))return s;const c=Uq(o,s);if(!c)return t(o.descriptor.id,s),null;const f=Qt(s,c);return t(o.descriptor.id,f),Qt(s,f)},a=(o,s,c)=>{if(!o||!nx(s,c))return c;const f=Wq(s,c);if(!f)return n(c),null;const l=Qt(c,f);return n(l),Qt(c,l)};return o=>{const s=o.scrollJumpRequest;if(!s)return;const c=tn(o.impact);c||ce();const f=i(o.dimensions.droppables[c],s);if(!f)return;const l=o.viewport,u=a(o.isWindowScrollAllowed,l,f);u&&r(o,u)}},Xq=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Gq({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Yq({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:s=>{if(!(r().disabled||s.phase!=="DRAGGING")){if(s.movementMode==="FLUID"){i.scroll(s);return}s.scrollJumpRequest&&a(s)}},start:i.start,stop:i.stop}};const Ro="data-rfd",Mo=(()=>{const e=`${Ro}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),rg=(()=>{const e=`${Ro}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Kq=(()=>{const e=`${Ro}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),PS={contextId:`${Ro}-scroll-container-context-id`},qq=e=>t=>`[${t}="${e}"]`,ma=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Qq="pointer-events: none;";var Jq=e=>{const t=qq(e),n=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Qq,dropAnimating:o}}})(),r=(()=>{const o=`
      transition: ${Wa.outOfTheWay};
    `;return{selector:t(rg.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),i={selector:t(Kq.contextId),styles:{always:"overflow-anchor: none;"}},h=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ma(h,"always"),resting:ma(h,"resting"),dragging:ma(h,"dragging"),dropAnimating:ma(h,"dropAnimating"),userCancel:ma(h,"userCancel")}};const nn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Jh=()=>{const e=document.querySelector("head");return e||ce(),e},NS=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Zq(e,t){const n=Ne(()=>Jq(e),[e]),r=w.useRef(null),i=w.useRef(null),a=me(pt(l=>{const u=i.current;u||ce(),u.textContent=l}),[]),h=me(l=>{const u=r.current;u||ce(),u.textContent=l},[]);nn(()=>{!r.current&&!i.current||ce();const l=NS(t),u=NS(t);return r.current=l,i.current=u,l.setAttribute(`${Ro}-always`,e),u.setAttribute(`${Ro}-dynamic`,e),Jh().appendChild(l),Jh().appendChild(u),h(n.always),a(n.resting),()=>{const d=m=>{const g=m.current;g||ce(),Jh().removeChild(g),m.current=null};d(r),d(i)}},[t,h,a,n.always,n.resting,e]);const o=me(()=>a(n.dragging),[a,n.dragging]),s=me(l=>{if(l==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),c=me(()=>{i.current&&a(n.resting)},[a,n.resting]);return Ne(()=>({dragging:o,dropping:s,resting:c}),[o,s,c])}function tD(e,t){return Array.from(e.querySelectorAll(t))}var nD=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function jf(e){return e instanceof nD(e).HTMLElement}function eQ(e,t){const n=`[${Mo.contextId}="${e}"]`,r=tD(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Mo.draggableId)===t);return!i||!jf(i)?null:i}function tQ(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),a=me(function(u,d){const m={id:u,focus:d};return t.current[u]=m,function(){const p=t.current;p[u]!==m&&delete p[u]}},[]),h=me(function(u){const d=eQ(e,u);d&&d!==document.activeElement&&d.focus()},[e]),o=me(function(u,d){n.current===u&&(n.current=d)},[]),s=me(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const u=n.current;u&&h(u)}))},[h]),c=me(function(u){n.current=null;const d=document.activeElement;d&&d.getAttribute(Mo.draggableId)===u&&(n.current=u)},[]);return nn(()=>(i.current=!0,function(){i.current=!1;const u=r.current;u&&cancelAnimationFrame(u)}),[]),Ne(()=>({register:a,tryRecordFocus:c,tryRestoreFocusRecorded:s,tryShiftRecord:o}),[a,c,s,o])}function nQ(){const e={draggables:{},droppables:{}},t=[];function n(l){return t.push(l),function(){const d=t.indexOf(l);d!==-1&&t.splice(d,1)}}function r(l){t.length&&t.forEach(u=>u(l))}function i(l){return e.draggables[l]||null}function a(l){const u=i(l);return u||ce(),u}const h={register:l=>{e.draggables[l.descriptor.id]=l,r({type:"ADDITION",value:l})},update:(l,u)=>{const d=e.draggables[u.descriptor.id];d&&d.uniqueId===l.uniqueId&&(delete e.draggables[u.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:l=>{const u=l.descriptor.id,d=i(u);d&&l.uniqueId===d.uniqueId&&(delete e.draggables[u],e.droppables[l.descriptor.droppableId]&&r({type:"REMOVAL",value:l}))},getById:a,findById:i,exists:l=>!!i(l),getAllByType:l=>Object.values(e.draggables).filter(u=>u.descriptor.type===l)};function o(l){return e.droppables[l]||null}function s(l){const u=o(l);return u||ce(),u}const c={register:l=>{e.droppables[l.descriptor.id]=l},unregister:l=>{const u=o(l.descriptor.id);u&&l.uniqueId===u.uniqueId&&delete e.droppables[l.descriptor.id]},getById:s,findById:o,exists:l=>!!o(l),getAllByType:l=>Object.values(e.droppables).filter(u=>u.descriptor.type===l)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:h,droppable:c,subscribe:n,clean:f}}function rQ(){const e=Ne(nQ,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var ix=ae.createContext(null),gd=()=>{const e=document.body;return e||ce(),e};const iQ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},sQ=e=>`rfd-announcement-${e}`;function oQ(e){const t=Ne(()=>sQ(e),[e]),n=w.useRef(null);return w.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),fd(a.style,iQ),gd().appendChild(a),function(){setTimeout(function(){const s=gd();s.contains(a)&&s.removeChild(a),a===n.current&&(n.current=null)})}},[t]),me(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const aQ={separator:"::"};function sx(e,t=aQ){const n=ae.useId();return Ne(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function lQ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function cQ({contextId:e,text:t}){const n=sx("hidden-text",{separator:"-"}),r=Ne(()=>lQ({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",gd().appendChild(a),function(){const o=gd();o.contains(a)&&o.removeChild(a)}},[r,t]),r}var Of=ae.createContext(null);function rD(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function uQ(){let e=null;function t(){return!!e}function n(h){return h===e}function r(h){e&&ce();const o={abandon:h};return e=o,o}function i(){e||ce(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Nl(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const dQ=9,fQ=13,ox=27,iD=32,hQ=33,pQ=34,mQ=35,gQ=36,vQ=37,yQ=38,xQ=39,bQ=40,wQ={[fQ]:!0,[dQ]:!0};var sD=e=>{wQ[e.keyCode]&&e.preventDefault()};const Af=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),oD=0,jS=5;function SQ(e,t){return Math.abs(t.x-e.x)>=jS||Math.abs(t.y-e.y)>=jS}const OS={type:"IDLE"};function CQ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:h,clientY:o}=i;if(a!==oD)return;const s={x:h,y:o},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(s);return}c.type!=="PENDING"&&ce();const f=c.point;if(!SQ(f,s))return;i.preventDefault();const l=c.actions.fluidLift(s);r({type:"DRAGGING",actions:l})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===ox){i.preventDefault(),e();return}sD(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&ce(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Af,fn:e}]}function TQ(e){const t=w.useRef(OS),n=w.useRef(fi),r=Ne(()=>({eventName:"mousedown",fn:function(l){if(l.defaultPrevented||l.button!==oD||l.ctrlKey||l.metaKey||l.shiftKey||l.altKey)return;const u=e.findClosestDraggableId(l);if(!u)return;const d=e.tryGetLock(u,h,{sourceEvent:l});if(!d)return;l.preventDefault();const m={x:l.clientX,y:l.clientY};n.current(),c(d,m)}}),[e]),i=Ne(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const l=e.findClosestDraggableId(f);if(!l)return;const u=e.findOptionsForDraggable(l);u&&(u.shouldRespectForcePress||e.canGetLock(l)&&f.preventDefault())}}),[e]),a=me(function(){const l={passive:!1,capture:!0};n.current=vn(window,[i,r],l)},[i,r]),h=me(()=>{t.current.type!=="IDLE"&&(t.current=OS,n.current(),a())},[a]),o=me(()=>{const f=t.current;h(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[h]),s=me(function(){const l={capture:!0,passive:!1},u=CQ({cancel:o,completed:h,getPhase:()=>t.current,setPhase:d=>{t.current=d}});n.current=vn(window,u,l)},[o,h]),c=me(function(l,u){t.current.type!=="IDLE"&&ce(),t.current={type:"PENDING",point:u,actions:l},s()},[s]);nn(function(){return a(),function(){n.current()}},[a])}function EQ(){}const _Q={[pQ]:!0,[hQ]:!0,[gQ]:!0,[mQ]:!0};function PQ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ox){i.preventDefault(),n();return}if(i.keyCode===iD){i.preventDefault(),r();return}if(i.keyCode===bQ){i.preventDefault(),e.moveDown();return}if(i.keyCode===yQ){i.preventDefault(),e.moveUp();return}if(i.keyCode===xQ){i.preventDefault(),e.moveRight();return}if(i.keyCode===vQ){i.preventDefault(),e.moveLeft();return}if(_Q[i.keyCode]){i.preventDefault();return}sD(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Af,fn:n}]}function NQ(e){const t=w.useRef(EQ),n=Ne(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==iD)return;const h=e.findClosestDraggableId(a);if(!h)return;const o=e.tryGetLock(h,f,{sourceEvent:a});if(!o)return;a.preventDefault();let s=!0;const c=o.snapLift();t.current();function f(){s||ce(),s=!1,t.current(),r()}t.current=vn(window,PQ(c,f),{capture:!0,passive:!1})}}),[e]),r=me(function(){const a={passive:!1,capture:!0};t.current=vn(window,[n],a)},[n]);nn(function(){return r(),function(){t.current()}},[r])}const Zh={type:"IDLE"},jQ=120,OQ=.15;function AQ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ox&&n.preventDefault(),e()}},{eventName:Af,fn:e}]}function DQ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:h}=r.touches[0],o={x:a,y:h};r.preventDefault(),i.actions.move(o)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ce();const a=r.touches[0];if(!a||!(a.force>=OQ))return;const o=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){o&&e();return}if(o){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Af,fn:e}]}function kQ(e){const t=w.useRef(Zh),n=w.useRef(fi),r=me(function(){return t.current},[]),i=me(function(d){t.current=d},[]),a=Ne(()=>({eventName:"touchstart",fn:function(d){if(d.defaultPrevented)return;const m=e.findClosestDraggableId(d);if(!m)return;const g=e.tryGetLock(m,o,{sourceEvent:d});if(!g)return;const p=d.touches[0],{clientX:y,clientY:x}=p,b={x:y,y:x};n.current(),l(g,b)}}),[e]),h=me(function(){const d={capture:!0,passive:!1};n.current=vn(window,[a],d)},[a]),o=me(()=>{const u=t.current;u.type!=="IDLE"&&(u.type==="PENDING"&&clearTimeout(u.longPressTimerId),i(Zh),n.current(),h())},[h,i]),s=me(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=me(function(){const d={capture:!0,passive:!1},m={cancel:s,completed:o,getPhase:r},g=vn(window,DQ(m),d),p=vn(window,AQ(m),d);n.current=function(){g(),p()}},[s,r,o]),f=me(function(){const d=r();d.type!=="PENDING"&&ce();const m=d.actions.fluidLift(d.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),l=me(function(d,m){r().type!=="IDLE"&&ce();const g=setTimeout(f,jQ);i({type:"PENDING",point:m,actions:d,longPressTimerId:g}),c()},[c,r,i,f]);nn(function(){return h(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(Zh))}},[r,h,i]),nn(function(){return vn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const RQ=["input","button","textarea","select","option","optgroup","video","audio"];function aD(e,t){if(t==null)return!1;if(RQ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:aD(e,t.parentElement)}function MQ(e,t){const n=t.target;return jf(n)?aD(e,n):!1}var IQ=e=>Rn(e.getBoundingClientRect()).center;function LQ(e){return e instanceof nD(e).Element}const FQ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function lD(e,t){return e==null?null:e[FQ](t)?e:lD(e.parentElement,t)}function BQ(e,t){return e.closest?e.closest(t):lD(e,t)}function VQ(e){return`[${Mo.contextId}="${e}"]`}function zQ(e,t){const n=t.target;if(!LQ(n))return null;const r=VQ(e),i=BQ(n,r);return!i||!jf(i)?null:i}function WQ(e,t){const n=zQ(e,t);return n?n.getAttribute(Mo.draggableId):null}function UQ(e,t){const n=`[${rg.contextId}="${e}"]`,i=tD(document,n).find(a=>a.getAttribute(rg.id)===t);return!i||!jf(i)?null:i}function $Q(e){e.preventDefault()}function zc({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function cD({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!QA(t.getState(),r))}function HQ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:h}){if(!cD({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const s=r.draggable.getById(i),c=UQ(t,s.descriptor.id);if(!c||h&&!s.options.canDragInteractiveElements&&MQ(c,h))return null;const f=e.claim(a||fi);let l="PRE_DRAG";function u(){return s.options.shouldRespectForcePress}function d(){return e.isActive(f)}function m(C,T){zc({expected:C,phase:l,isLockActive:d,shouldWarn:!0})&&n.dispatch(T())}const g=m.bind(null,"DRAGGING");function p(C){function T(){e.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(T(),ce()),n.dispatch(BK(C.liftActionArgs)),l="DRAGGING";function E(P,k={shouldBlockNextClick:!1}){if(C.cleanup(),k.shouldBlockNextClick){const A=vn(window,[{eventName:"click",fn:$Q,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}T(),n.dispatch(UA({reason:P}))}return{isActive:()=>zc({expected:"DRAGGING",phase:l,isLockActive:d,shouldWarn:!1}),shouldRespectForcePress:u,drop:P=>E("DROP",P),cancel:P=>E("CANCEL",P),...C.actions}}function y(C){const T=Sl(P=>{g(()=>WA({client:P}))});return{...p({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function x(){const C={moveUp:()=>g(XK),moveRight:()=>g(qK),moveDown:()=>g(KK),moveLeft:()=>g(QK)};return p({liftActionArgs:{id:i,clientSelection:IQ(c),movementMode:"SNAP"},cleanup:fi,actions:C})}function b(){zc({expected:"PRE_DRAG",phase:l,isLockActive:d,shouldWarn:!0})&&e.release()}return{isActive:()=>zc({expected:"PRE_DRAG",phase:l,isLockActive:d,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:y,snapLift:x,abort:b}}const GQ=[TQ,NQ,kQ];function YQ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?GQ:[],...r||[]],h=w.useState(()=>uQ())[0],o=me(function(p,y){Nl(p)&&!Nl(y)&&h.tryAbandon()},[h]);nn(function(){let p=t.getState();return t.subscribe(()=>{const x=t.getState();o(p,x),p=x})},[h,t,o]),nn(()=>h.tryAbandon,[h.tryAbandon]);const s=me(g=>cD({lockAPI:h,registry:n,store:t,draggableId:g}),[h,n,t]),c=me((g,p,y)=>HQ({lockAPI:h,registry:n,contextId:e,store:t,draggableId:g,forceSensorStop:p||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,h,n,t]),f=me(g=>WQ(e,g),[e]),l=me(g=>{const p=n.draggable.findById(g);return p?p.options:null},[n.draggable]),u=me(function(){h.isClaimed()&&(h.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Qy()))},[h,t]),d=me(()=>h.isClaimed(),[h]),m=Ne(()=>({canGetLock:s,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:l,tryReleaseLock:u,isLockClaimed:d}),[s,c,f,l,u,d]);for(let g=0;g<a.length;g++)a[g](m)}const XQ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ar.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),KQ=e=>({...Pl,...e.autoScrollerOptions,durationDampening:{...Pl.durationDampening,...e.autoScrollerOptions}});function ga(e){return e.current||ce(),e.current}function qQ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,h=w.useRef(null),o=rD(e),s=me(()=>XQ(o.current),[o]),c=me(()=>KQ(o.current),[o]),f=oQ(t),l=cQ({contextId:t,text:a}),u=Zq(t,i),d=me(A=>{ga(h).dispatch(A)},[]),m=Ne(()=>iS({publishWhileDragging:zK,updateDroppableScroll:UK,updateDroppableIsEnabled:$K,updateDroppableIsCombineEnabled:HK,collectionStarting:WK},d),[d]),g=rQ(),p=Ne(()=>Aq(g,m),[g,m]),y=Ne(()=>Xq({scrollWindow:Dq,scrollDroppable:p.scrollDroppable,getAutoScrollerOptions:c,...iS({move:WA},d)}),[p.scrollDroppable,d,c]),x=tQ(t),b=Ne(()=>Pq({announce:f,autoScroller:y,dimensionMarshal:p,focusMarshal:x,getResponders:s,styleMarshal:u}),[f,y,p,x,s,u]);h.current=b;const S=me(()=>{const A=ga(h);A.getState().phase!=="IDLE"&&A.dispatch(Qy())},[]),C=me(()=>{const A=ga(h).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),T=Ne(()=>({isDragging:C,tryAbort:S}),[C,S]);n(T);const E=me(A=>QA(ga(h).getState(),A),[]),P=me(()=>Bi(ga(h).getState()),[]),k=Ne(()=>({marshal:p,focus:x,contextId:t,canLift:E,isMovementAllowed:P,dragHandleUsageInstructionsId:l,registry:g}),[t,p,l,x,E,P,g]);return YQ({contextId:t,store:b,registry:g,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>S,[S]),ae.createElement(Of.Provider,{value:k},ae.createElement(w7,{context:ix,store:b},e.children))}function QQ(){return ae.useId()}function JQ(e){const t=QQ(),n=e.dragHandleUsageInstructions||du.dragHandleUsageInstructions;return ae.createElement(N7,null,r=>ae.createElement(qQ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const AS={dragging:5e3,dropAnimating:4500},ZQ=(e,t)=>t?Wa.drop(t.duration):e?Wa.snap:Wa.fluid,eJ=(e,t)=>{if(e)return t?_l.opacity.drop:_l.opacity.combining},tJ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function nJ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,h=!!i,o=tJ(e),s=!!a,c=s?tg.drop(r,h):tg.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ZQ(o,a),transform:c,opacity:eJ(h,s),zIndex:s?AS.dropAnimating:AS.dragging,pointerEvents:"none"}}function rJ(e){return{transform:tg.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function iJ(e){return e.type==="DRAGGING"?nJ(e):rJ(e)}function sJ(e,t,n=mt){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=gA(i,r),h=dd(a,n),o={client:a,tagName:t.tagName.toLowerCase(),display:r.display},s={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:o,displaceBy:s,client:a,page:h}}function oJ(e){const t=sx("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:h,isEnabled:o}=e,s=Ne(()=>({canDragInteractiveElements:a,shouldRespectForcePress:h,isEnabled:o}),[a,o,h]),c=me(d=>{const m=i();return m||ce(),sJ(n,m,d)},[n,i]),f=Ne(()=>({uniqueId:t,descriptor:n,options:s,getDimension:c}),[n,c,s,t]),l=w.useRef(f),u=w.useRef(!0);nn(()=>(r.draggable.register(l.current),()=>r.draggable.unregister(l.current)),[r.draggable]),nn(()=>{if(u.current){u.current=!1;return}const d=l.current;l.current=f,r.draggable.update(f,d)},[f,r.draggable])}var ax=ae.createContext(null);function vd(e){const t=w.useContext(e);return t||ce(),t}function aJ(e){e.preventDefault()}const lJ=e=>{const t=w.useRef(null),n=me((T=null)=>{t.current=T},[]),r=me(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:h}=vd(Of),{type:o,droppableId:s}=vd(ax),c=Ne(()=>({id:e.draggableId,index:e.index,type:o,droppableId:s}),[e.draggableId,e.index,o,s]),{children:f,draggableId:l,isEnabled:u,shouldRespectForcePress:d,canDragInteractiveElements:m,isClone:g,mapped:p,dropAnimationFinished:y}=e;if(!g){const T=Ne(()=>({descriptor:c,registry:h,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:d,isEnabled:u}),[c,h,r,m,d,u]);oJ(T)}const x=Ne(()=>u?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":l,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:aJ}:null,[i,a,l,u]),b=me(T=>{p.type==="DRAGGING"&&p.dropping&&T.propertyName==="transform"&&Ar.flushSync(y)},[y,p]),S=Ne(()=>{const T=iJ(p),E=p.type==="DRAGGING"&&p.dropping?b:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":l,style:T,onTransitionEnd:E},dragHandleProps:x}},[i,x,l,p,b,n]),C=Ne(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ae.createElement(ae.Fragment,null,f(S,p.snapshot,C))};var uD=(e,t)=>e===t,dD=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const cJ=e=>e.combine?e.combine.draggableId:null,uJ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function dJ(){const e=pt((i,a)=>({x:i,y:a})),t=pt((i,a,h=null,o=null,s=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!s,dropAnimation:s,mode:i,draggingOver:h,combineWith:o,combineTargetFor:null})),n=pt((i,a,h,o,s=null,c=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:c,mode:a,offset:i,dimension:h,forceShouldAnimate:f,snapshot:t(a,o,s,c,null)}}));return(i,a)=>{if(Nl(i)){if(i.critical.draggable.id!==a.draggableId)return null;const h=i.current.client.offset,o=i.dimensions.draggables[a.draggableId],s=tn(i.impact),c=uJ(i.impact),f=i.forceShouldAnimate;return n(e(h.x,h.y),i.movementMode,o,a.isClone,s,c,f)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(h.result.draggableId!==a.draggableId)return null;const o=a.isClone,s=i.dimensions.draggables[a.draggableId],c=h.result,f=c.mode,l=dD(c),u=cJ(c),m={duration:i.dropDuration,curve:Zy.drop,moveTo:i.newHomeClientOffset,opacity:u?_l.opacity.drop:null,scale:u?_l.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:s,dropping:m,draggingOver:l,combineWith:u,mode:f,forceShouldAnimate:null,snapshot:t(f,o,l,u,m)}}}return null}}function fD(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const fJ={mapped:{type:"SECONDARY",offset:mt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fD(null)}};function hJ(){const e=pt((h,o)=>({x:h,y:o})),t=pt(fD),n=pt((h,o=null,s)=>({mapped:{type:"SECONDARY",offset:h,combineTargetFor:o,shouldAnimateDisplacement:s,snapshot:t(o)}})),r=h=>h?n(mt,h,!0):null,i=(h,o,s,c)=>{const f=s.displaced.visible[h],l=!!(c.inVirtualList&&c.effected[h]),u=_f(s),d=u&&u.draggableId===h?o:null;if(!f){if(!l)return r(d);if(s.displaced.invisible[h])return null;const p=Qo(c.displacedBy.point),y=e(p.x,p.y);return n(y,d,!0)}if(l)return r(d);const m=s.displacedBy.point,g=e(m.x,m.y);return n(g,d,f.shouldAnimate)};return(h,o)=>{if(Nl(h))return h.critical.draggable.id===o.draggableId?null:i(o.draggableId,h.critical.draggable.id,h.impact,h.afterCritical);if(h.phase==="DROP_ANIMATING"){const s=h.completed;return s.result.draggableId===o.draggableId?null:i(o.draggableId,s.result.draggableId,s.impact,s.afterCritical)}return null}}const pJ=()=>{const e=dJ(),t=hJ();return(r,i)=>e(r,i)||t(r,i)||fJ},mJ={dropAnimationFinished:$A},gJ=mA(pJ,mJ,null,{context:ix,areStatePropsEqual:uD})(lJ);function hD(e){return vd(ax).isUsingCloneFor===e.draggableId&&!e.isClone?null:ae.createElement(gJ,e)}function vJ(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ae.createElement(hD,fd({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const pD=e=>t=>e===t,yJ=pD("scroll"),xJ=pD("auto"),DS=(e,t)=>t(e.overflowX)||t(e.overflowY),bJ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return DS(n,yJ)||DS(n,xJ)},wJ=()=>!1,mD=e=>e==null?null:e===document.body?wJ()?e:null:e===document.documentElement?null:bJ(e)?e:mD(e.parentElement);var ig=e=>({x:e.scrollLeft,y:e.scrollTop});const gD=e=>e?window.getComputedStyle(e).position==="fixed"?!0:gD(e.parentElement):!1;var SJ=e=>{const t=mD(e),n=gD(e);return{closestScrollable:t,isFixedOnPage:n}},CJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:h,closest:o})=>{const s=(()=>{if(!o)return null;const{scrollSize:u,client:d}=o,m=XA({scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth,height:d.paddingBox.height,width:d.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:d,scrollSize:u,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:m,diff:{value:mt,displacement:mt}}}})(),c=i==="vertical"?Gy:PA,f=ko({page:h,withPlaceholder:null,axis:c,frame:s});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:a,page:h,frame:s,subject:f}};const TJ=(e,t)=>{const n=vA(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,h=i+t.scrollWidth,s=Wy({top:r,right:h,bottom:a,left:i},n.border);return Uy({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})};var EJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:h,shouldClipSubject:o})=>{const s=n.closestScrollable,c=TJ(e,s),f=dd(c,r),l=(()=>{if(!s)return null;const d=vA(s),m={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:d,page:dd(d,r),scroll:ig(s),scrollSize:m,shouldClipSubject:o}})();return CJ({descriptor:t,isEnabled:!a,isCombineEnabled:h,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:f,closest:l})};const _J={passive:!1},PJ={passive:!0};var kS=e=>e.shouldPublishImmediately?_J:PJ;const Wc=e=>e&&e.env.closestScrollable||null;function NJ(e){const t=w.useRef(null),n=vd(Of),r=sx("droppable"),{registry:i,marshal:a}=n,h=rD(e),o=Ne(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),s=w.useRef(o),c=Ne(()=>pt((S,C)=>{t.current||ce();const T={x:S,y:C};a.updateDroppableScroll(o.id,T)}),[o.id,a]),f=me(()=>{const S=t.current;return!S||!S.env.closestScrollable?mt:ig(S.env.closestScrollable)},[]),l=me(()=>{const S=f();c(S.x,S.y)},[f,c]),u=Ne(()=>Sl(l),[l]),d=me(()=>{const S=t.current,C=Wc(S);if(S&&C||ce(),S.scrollOptions.shouldPublishImmediately){l();return}u()},[u,l]),m=me((S,C)=>{t.current&&ce();const T=h.current,E=T.getDroppableRef();E||ce();const P=SJ(E),k={ref:E,descriptor:o,env:P,scrollOptions:C};t.current=k;const A=EJ({ref:E,descriptor:o,env:P,windowScroll:S,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),B=P.closestScrollable;return B&&(B.setAttribute(PS.contextId,n.contextId),B.addEventListener("scroll",d,kS(k.scrollOptions))),A},[n.contextId,o,d,h]),g=me(()=>{const S=t.current,C=Wc(S);return S&&C||ce(),ig(C)},[]),p=me(()=>{const S=t.current;S||ce();const C=Wc(S);t.current=null,C&&(u.cancel(),C.removeAttribute(PS.contextId),C.removeEventListener("scroll",d,kS(S.scrollOptions)))},[d,u]),y=me(S=>{const C=t.current;C||ce();const T=Wc(C);T||ce(),T.scrollTop+=S.y,T.scrollLeft+=S.x},[]),x=Ne(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:p,scroll:y}),[p,m,g,y]),b=Ne(()=>({uniqueId:r,descriptor:o,callbacks:x}),[x,o,r]);nn(()=>(s.current=b.descriptor,i.droppable.register(b),()=>{t.current&&p(),i.droppable.unregister(b)}),[x,o,p,b,a,i.droppable]),nn(()=>{t.current&&a.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),nn(()=>{t.current&&a.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function ep(){}const RS={width:0,height:0,margin:M7},jJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?RS:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},OJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=jJ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Wa.placeholder:null}},AJ=e=>{const t=w.useRef(null),n=me(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:h}=e,[o,s]=w.useState(e.animate==="open");w.useEffect(()=>o?r!=="open"?(n(),s(!1),ep):t.current?ep:(t.current=setTimeout(()=>{t.current=null,s(!1)}),n):ep,[r,o,n]);const c=me(l=>{l.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),f=OJ({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return ae.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":h,onTransitionEnd:c,ref:e.innerRef})};var DJ=ae.memo(AJ);class kJ extends ae.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const RJ=e=>{const t=w.useContext(Of);t||ce();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),a=w.useRef(null),{children:h,droppableId:o,type:s,mode:c,direction:f,ignoreContainerClipping:l,isDropDisabled:u,isCombineEnabled:d,snapshot:m,useClone:g,updateViewportMaxScroll:p,getContainerForClone:y}=e,x=me(()=>i.current,[]),b=me((B=null)=>{i.current=B},[]);me(()=>a.current,[]);const S=me((B=null)=>{a.current=B},[]),C=me(()=>{r()&&p({maxScroll:qA()})},[r,p]);NJ({droppableId:o,type:s,mode:c,direction:f,isDropDisabled:u,isCombineEnabled:d,ignoreContainerClipping:l,getDroppableRef:x});const T=Ne(()=>ae.createElement(kJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:B,data:z,animate:q})=>ae.createElement(DJ,{placeholder:z,onClose:B,innerRef:S,animate:q,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,S]),E=Ne(()=>({innerRef:b,placeholder:T,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}}),[n,o,T,b]),P=g?g.dragging.draggableId:null,k=Ne(()=>({droppableId:o,type:s,isUsingCloneFor:P}),[o,P,s]);function A(){if(!g)return null;const{dragging:B,render:z}=g,q=ae.createElement(hD,{draggableId:B.draggableId,index:B.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(L,W)=>z(L,W,B));return ev.createPortal(q,y())}return ae.createElement(ax.Provider,{value:k},h(E,m),A())};function MJ(){return document.body||ce(),document.body}const MS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:MJ},vD=e=>{let t={...e},n;for(n in MS)e[n]===void 0&&(t={...t,[n]:MS[n]});return t},tp=(e,t)=>e===t.droppable.type,IS=(e,t)=>t.draggables[e.draggable.id],IJ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=pt(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=pt((a,h,o,s,c,f)=>{const l=c.descriptor.id;if(c.descriptor.droppableId===a){const m=f?{render:f,dragging:n(c.descriptor)}:null,g={isDraggingOver:o,draggingOverWith:o?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!h)return t;if(!s)return e;const d={isDraggingOver:o,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}});return(a,h)=>{const o=vD(h),s=o.droppableId,c=o.type,f=!o.isDropDisabled,l=o.renderClone;if(Nl(a)){const u=a.critical;if(!tp(c,u))return t;const d=IS(u,a.dimensions),m=tn(a.impact)===s;return r(s,f,m,m,d,l)}if(a.phase==="DROP_ANIMATING"){const u=a.completed;if(!tp(c,u.critical))return t;const d=IS(u.critical,a.dimensions);return r(s,f,dD(u.result)===s,tn(u.impact)===s,d,l)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const u=a.completed;if(!tp(c,u.critical))return t;const d=tn(u.impact)===s,m=!!(u.impact.at&&u.impact.at.type==="COMBINE"),g=u.critical.droppable.id===s;return d?m?e:t:g?e:t}return t}},LJ={updateViewportMaxScroll:YK},FJ=mA(IJ,LJ,(e,t,n)=>({...vD(n),...e,...t}),{context:ix,areStatePropsEqual:uD})(RJ),BJ={novo:{id:"novo",title:"1.1.1 Entrada de Lead",color:"bg-blue-500",items:[{id:"lead-1",name:"Residencial Alphaville - Joo Silva",origin:"Indicao",time:"2h atrs"},{id:"lead-2",name:"Reforma Comercial - TechSolutions",origin:"Instagram",time:"5h atrs"}]},qualificacao:{id:"qualificacao",title:"1.1.2 Deciso: Captao",color:"bg-purple-500",items:[{id:"lead-3",name:"Galpo Industrial - Modulo 4",origin:"Site",time:"1d atrs"}]},briefing:{id:"briefing",title:"1.2 Briefing de Projeto",color:"bg-orange-500",items:[{id:"lead-4",name:"Casa de Campo - Sra. Maria",origin:"Antigo Cliente",time:"2d atrs"}]},proposta:{id:"proposta",title:"1.3 Proposta Comercial",color:"bg-yellow-500",items:[]},contrato:{id:"contrato",title:"1.5 Contratao",color:"bg-green-500",items:[{id:"lead-5",name:"Reforma Recepo",origin:"Indicao",time:"3d atrs"}]}};function VJ(){const[e,t]=w.useState(BJ),n=r=>{if(!r.destination)return;const{source:i,destination:a}=r,h=e[i.droppableId],o=e[a.droppableId],s=[...h.items],c=[...o.items],[f]=s.splice(i.index,1);i.droppableId===a.droppableId?(s.splice(a.index,0,f),t({...e,[i.droppableId]:{...h,items:s}})):(c.splice(a.index,0,f),t({...e,[i.droppableId]:{...h,items:s},[a.droppableId]:{...o,items:c}}))};return v.jsxs("div",{className:"flex flex-col h-full gap-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 fade-in",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gradient",children:"Comercial"}),v.jsx("p",{className:"text-muted-foreground",children:"Gesto de Captao e Propostas (Fluxo 1.0)"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(_r,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),v.jsx(Ze,{placeholder:"Buscar leads...",className:"pl-9 w-[200px] glass"})]}),v.jsxs(de,{variant:"outline",className:"glass",children:[v.jsx(BT,{className:"mr-2 h-4 w-4"})," Filtros"]}),v.jsxs(de,{className:"shadow-glow transition-all hover:scale-105",children:[v.jsx(Bn,{className:"mr-2 h-4 w-4"})," Novo Lead"]})]})]}),v.jsx(JQ,{onDragEnd:n,children:v.jsx("div",{className:"flex flex-1 gap-6 overflow-x-auto pb-4 h-full",children:Object.values(e).map(r=>v.jsxs("div",{className:"flex flex-col min-w-[300px] gap-4",children:[v.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5 border border-white/10 backdrop-blur-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`h-2 w-2 rounded-full ${r.color}`}),v.jsx("span",{className:"font-semibold text-sm",children:r.title})]}),v.jsx(Le,{variant:"secondary",className:"glass text-xs",children:r.items.length})]}),v.jsx(FJ,{droppableId:r.id,children:(i,a)=>v.jsxs("div",{...i.droppableProps,ref:i.innerRef,className:`flex flex-col gap-3 flex-1 rounded-xl transition-colors ${a.isDraggingOver?"bg-primary/5 ring-2 ring-primary/20":""}`,children:[r.items.map((h,o)=>v.jsx(vJ,{draggableId:h.id,index:o,children:(s,c)=>v.jsx(xe,{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,className:`glass-card cursor-grab active:cursor-grabbing border-l-4 group hover:border-primary/50 transition-all duration-200 ${c.isDragging?"rotate-2 scale-105 shadow-glow z-50":""}`,style:{...s.draggableProps.style,borderLeftColor:r.color.replace("bg-","var(--")},children:v.jsxs(be,{className:"p-4 flex flex-col gap-3",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("span",{className:"font-medium text-sm line-clamp-2",children:h.name}),v.jsxs(mN,{children:[v.jsx(gN,{asChild:!0,children:v.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-2 -mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(em,{className:"h-4 w-4"})})}),v.jsxs(_y,{children:[v.jsx(io,{children:"Ver Detalhes"}),v.jsx(io,{children:"Editar"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(Le,{variant:"outline",className:"text-[10px] h-5 px-1",children:h.origin}),v.jsxs("span",{children:[" ",h.time]})]}),v.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/5",children:[v.jsx("div",{className:"flex -space-x-2",children:v.jsxs(tf,{className:"h-6 w-6 border-2 border-background",children:[v.jsx(YP,{src:`https://api.dicebear.com/7.x/notionists/svg?seed=${h.id}`}),v.jsx(nf,{children:"U"})]})}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-green-500/20 hover:text-green-500",children:v.jsx(gI,{className:"h-3 w-3"})}),v.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-blue-500/20 hover:text-blue-500",children:v.jsx(Fn,{className:"h-3 w-3"})})]})]})]})})},h.id)),i.placeholder]})})]},r.id))})})]})}const zJ=new GB,WJ=()=>{const{isAuthenticated:e}=xs();return v.jsx(XB,{client:zJ,children:v.jsx(U5,{children:v.jsxs(LE,{children:[v.jsx(aL,{}),v.jsx(NL,{}),v.jsx(z5,{children:v.jsxs(F5,{children:[v.jsx(wa,{path:"/login",element:e?v.jsx(hh,{to:"/"}):v.jsx(UX,{})}),v.jsx(wa,{path:"/",element:e?v.jsx(Zw,{children:v.jsx(WX,{})}):v.jsx(hh,{to:"/login"})}),v.jsx(wa,{path:"/comercial",element:e?v.jsx(Zw,{children:v.jsx(VJ,{})}):v.jsx(hh,{to:"/login"})}),v.jsx(wa,{path:"*",element:v.jsx($X,{})})]})})]})})})};sT(document.getElementById("root")).render(v.jsx(WJ,{}));
